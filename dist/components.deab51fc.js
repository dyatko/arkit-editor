parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {function nc(a){return a&&a.__esModule?{d:a.default}:{d:a}}function KJ(dest,source){Object.keys(source).forEach(function(key){if(key==="default"||key==="__esModule"){return}Object.defineProperty(dest,key,{enumerable:true,get:function get(){return source[key]}})});return dest}var nd=this;var dh={};var zv,Av,LJ,MJ,NJ=false;function OJ(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function PJ(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(r){return e[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}function Bv(){if(NJ)return;NJ=true;zv={};Av=Object.getOwnPropertySymbols;LJ=Object.prototype.hasOwnProperty;MJ=Object.prototype.propertyIsEnumerable;zv=PJ()?Object.assign:function(r,e){for(var t,n,o=OJ(r),a=1;a<arguments.length;a++){for(var $ in t=Object(arguments[a]))LJ.call(t,$)&&(o[$]=t[$]);if(Av){n=Av(t);for(var s=0;s<n.length;s++)MJ.call(t,n[s])&&(o[n[s]]=t[n[s]])}}return o}}var QJ,pn,Gb,eh,RJ,SJ,TJ,UJ,VJ,WJ,XJ,YJ,ZJ,$J,_J,Cv,Dv,Ev,qn,Fv,rn,Gv,Hv,Iv,ij,Jv,Kv,Lv,aK=false;function bK($,r,a,e,t,n,i,o){if(!$){if($=void 0,void 0===r)$=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[a,e,t,n,i,o],v=0;($=Error(r.replace(/%s/g,function(){return u[v++]}))).name="Invariant Violation"}throw $.framesToPop=1,$}}function fh($){for(var r=arguments.length-1,a="https://reactjs.org/docs/error-decoder.html?invariant="+$,e=0;e<r;e++)a+="&args[]="+encodeURIComponent(arguments[e+1]);bK(!1,"Minified React error #"+$+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",a)}function sf($,r,a){this.props=$,this.context=r,this.refs=Ev,this.updater=a||Dv}function Mv(){}function sn($,r,a){this.props=$,this.context=r,this.refs=Ev,this.updater=a||Dv}function Nv($,r,a){var e=void 0,t={},n=null,i=null;if(null!=r)for(e in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(n=""+r.key),r)Gv.call(r,e)&&!Hv.hasOwnProperty(e)&&(t[e]=r[e]);var o=arguments.length-2;if(1===o)t.children=a;else if(1<o){for(var u=Array(o),v=0;v<o;v++)u[v]=arguments[v+2];t.children=u}if($&&$.defaultProps)for(e in o=$.defaultProps)void 0===t[e]&&(t[e]=o[e]);return{$$typeof:eh,type:$,key:n,ref:i,props:t,_owner:rn.current}}function cK($,r){return{$$typeof:eh,type:$.type,key:r,ref:$.ref,props:$.props,_owner:$._owner}}function tn($){return"object"==typeof $&&null!==$&&$.$$typeof===eh}function dK($){var r={"=":"=0",":":"=2"};return"$"+(""+$).replace(/[=:]/g,function($){return r[$]})}function Ov($,r,a,e){if(ij.length){var t=ij.pop();return t.result=$,t.keyPrefix=r,t.func=a,t.context=e,t.count=0,t}return{result:$,keyPrefix:r,func:a,context:e,count:0}}function Pv($){$.result=null,$.keyPrefix=null,$.func=null,$.context=null,$.count=0,10>ij.length&&ij.push($)}function un($,r,a,e){var t=typeof $;"undefined"!==t&&"boolean"!==t||($=null);var n=!1;if(null===$)n=!0;else switch(t){case"string":case"number":n=!0;break;case"object":switch($.$$typeof){case eh:case RJ:n=!0;}}if(n)return a(e,$,""===r?"."+wn($,0):r),1;if(n=0,r=""===r?".":r+":",Array.isArray($))for(var i=0;i<$.length;i++){var o=r+wn(t=$[i],i);n+=un(t,o,a,e)}else if(null===$||"object"!=typeof $?o=null:o="function"==typeof(o=Cv&&$[Cv]||$["@@iterator"])?o:null,"function"==typeof o)for($=o.call($),i=0;!(t=$.next()).done;)n+=un(t=t.value,o=r+wn(t,i++),a,e);else"object"===t&&fh("31","[object Object]"===(a=""+$)?"object with keys {"+Object.keys($).join(", ")+"}":a,"");return n}function vn($,r,a){return null==$?0:un($,"",r,a)}function wn($,r){return"object"==typeof $&&null!==$&&null!=$.key?dK($.key):r.toString(36)}function eK($,r){$.func.call($.context,r,$.count++)}function fK($,r,a){var e=$.result,t=$.keyPrefix;$=$.func.call($.context,r,$.count++),Array.isArray($)?xn($,e,a,function($){return $}):null!=$&&(tn($)&&($=cK($,t+(!$.key||r&&r.key===$.key?"":(""+$.key).replace(Iv,"$&/")+"/")+a)),e.push($))}function xn($,r,a,e,t){var n="";null!=a&&(n=(""+a).replace(Iv,"$&/")+"/"),vn($,fK,r=Ov(r,n,e,t)),Pv(r)}function Jc(){var $=Fv.current;return null===$&&fh("307"),$}function gK(){if(aK)return;aK=true;QJ={};pn=(Bv(),zv);Gb="function"==typeof Symbol&&Symbol.for;eh=Gb?Symbol.for("react.element"):60103;RJ=Gb?Symbol.for("react.portal"):60106;SJ=Gb?Symbol.for("react.fragment"):60107;TJ=Gb?Symbol.for("react.strict_mode"):60108;UJ=Gb?Symbol.for("react.profiler"):60114;VJ=Gb?Symbol.for("react.provider"):60109;WJ=Gb?Symbol.for("react.context"):60110;XJ=Gb?Symbol.for("react.concurrent_mode"):60111;YJ=Gb?Symbol.for("react.forward_ref"):60112;ZJ=Gb?Symbol.for("react.suspense"):60113;$J=Gb?Symbol.for("react.memo"):60115;_J=Gb?Symbol.for("react.lazy"):60116;Cv="function"==typeof Symbol&&Symbol.iterator;Dv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};Ev={};sf.prototype.isReactComponent={},sf.prototype.setState=function($,r){"object"!=typeof $&&"function"!=typeof $&&null!=$&&fh("85"),this.updater.enqueueSetState(this,$,r,"setState")},sf.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")},Mv.prototype=sf.prototype;qn=sn.prototype=new Mv;qn.constructor=sn,pn(qn,sf.prototype),qn.isPureReactComponent=!0;Fv={current:null};rn={current:null};Gv=Object.prototype.hasOwnProperty;Hv={key:!0,ref:!0,__self:!0,__source:!0};Iv=/\/+/g;ij=[];Jv={Children:{map:function($,r,a){if(null==$)return $;var e=[];return xn($,e,null,r,a),e},forEach:function($,r,a){if(null==$)return $;vn($,eK,r=Ov(null,null,r,a)),Pv(r)},count:function($){return vn($,function(){return null},null)},toArray:function($){var r=[];return xn($,r,null,function($){return $}),r},only:function($){return tn($)||fh("143"),$}},createRef:function(){return{current:null}},Component:sf,PureComponent:sn,createContext:function($,r){return void 0===r&&(r=null),($={$$typeof:WJ,_calculateChangedBits:r,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:VJ,_context:$},$.Consumer=$},forwardRef:function($){return{$$typeof:YJ,render:$}},lazy:function($){return{$$typeof:_J,_ctor:$,_status:-1,_result:null}},memo:function($,r){return{$$typeof:$J,type:$,compare:void 0===r?null:r}},useCallback:function($,r){return Jc().useCallback($,r)},useContext:function($,r){return Jc().useContext($,r)},useEffect:function($,r){return Jc().useEffect($,r)},useImperativeHandle:function($,r,a){return Jc().useImperativeHandle($,r,a)},useDebugValue:function(){},useLayoutEffect:function($,r){return Jc().useLayoutEffect($,r)},useMemo:function($,r){return Jc().useMemo($,r)},useReducer:function($,r,a){return Jc().useReducer($,r,a)},useRef:function($){return Jc().useRef($)},useState:function($){return Jc().useState($)},Fragment:SJ,StrictMode:TJ,Suspense:ZJ,createElement:Nv,cloneElement:function($,r,a){null==$&&fh("267",$);var e=void 0,t=pn({},$.props),n=$.key,i=$.ref,o=$._owner;if(null!=r){void 0!==r.ref&&(i=r.ref,o=rn.current),void 0!==r.key&&(n=""+r.key);var u=void 0;for(e in $.type&&$.type.defaultProps&&(u=$.type.defaultProps),r)Gv.call(r,e)&&!Hv.hasOwnProperty(e)&&(t[e]=void 0===r[e]&&void 0!==u?u[e]:r[e])}if(1===(e=arguments.length-2))t.children=a;else if(1<e){u=Array(e);for(var v=0;v<e;v++)u[v]=arguments[v+2];t.children=u}return{$$typeof:eh,type:$.type,key:n,ref:i,props:t,_owner:o}},createFactory:function($){var r=Nv.bind(null,$);return r.type=$,r},isValidElement:tn,version:"16.8.4",unstable_ConcurrentMode:XJ,unstable_Profiler:UJ,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:Fv,ReactCurrentOwner:rn,assign:pn}};Kv={default:Jv};Lv=Kv&&Jv||Kv;QJ=Lv.default||Lv}var E,hK=false;function V(){if(hK)return;hK=true;E={};E=(gK(),QJ)}var iK={};function Qv(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qv)}catch(c){console.error(c)}}}var W,P,Rv,oc,tf,Sv,jK,kK,lK,mK,nK,oK,pK,Tv,Uv,Vv,qK,Wv,yn,rK,sK,tK,uK,vK,wK,xK,yK,zK,AK,BK,CK,DK,EK,FK,GK=false;function uf(){if(!jK){var $=P.expirationTime;kK?qK():kK=!0,Vv(HK,$)}}function zn(){var $=P,v=P.next;if(P===v)P=null;else{var r=P.previous;P=r.next=v,v.previous=r}$.next=$.previous=null,r=$.callback,v=$.expirationTime,$=$.priorityLevel;var a=oc,e=Sv;oc=$,Sv=v;try{var t=r()}finally{oc=a,Sv=e}if("function"==typeof t)if(t={callback:t,priorityLevel:$,expirationTime:v,next:null,previous:null},null===P)P=t.next=t.previous=t;else{r=null,$=P;do{if($.expirationTime>=v){r=$;break}$=$.next}while($!==P);null===r?r=P:r===P&&(P=t,uf()),(v=r.previous).next=r.previous=t,t.next=r,t.previous=v}}function jj(){if(-1===tf&&null!==P&&1===P.priorityLevel){jK=!0;try{do{zn()}while(null!==P&&1===P.priorityLevel)}finally{jK=!1,null!==P?uf():kK=!1}}}function HK($){jK=!0;var v=Rv;Rv=$;try{if($)for(;null!==P;){var r=W.unstable_now();if(!(P.expirationTime<=r))break;do{zn()}while(null!==P&&P.expirationTime<=r)}else if(null!==P)do{zn()}while(null!==P&&!Wv())}finally{jK=!1,Rv=v,null!==P?uf():kK=!1,jj()}}function An($){lK=Tv(function(v){pK(mK),$(v)}),mK=oK(function(){Uv(lK),$(W.unstable_now())},100)}function IK(){if(GK)return;GK=true;W={};Object.defineProperty(W,"__esModule",{value:!0});P=null;Rv=!1;oc=3;tf=-1;Sv=-1;jK=!1;kK=!1;nK=Date;oK="function"==typeof setTimeout?setTimeout:void 0;pK="function"==typeof clearTimeout?clearTimeout:void 0;Tv="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0;Uv="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if("object"==typeof performance&&"function"==typeof performance.now){var $IvP$var$F=performance,$IvP$export$unstable_now=function(){return $IvP$var$F.now()};W.unstable_now=$IvP$export$unstable_now}else $IvP$export$unstable_now=function(){return nK.now()},W.unstable_now=$IvP$export$unstable_now;yn=null;if("undefined"!=typeof window?yn=window:"undefined"!=typeof nd&&(yn=nd),yn&&yn._schedMock){var $IvP$var$H=yn._schedMock;Vv=$IvP$var$H[0],qK=$IvP$var$H[1],Wv=$IvP$var$H[2],$IvP$export$unstable_now=$IvP$var$H[3],W.unstable_now=$IvP$export$unstable_now}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var $IvP$var$I=null,$IvP$var$J=function($){if(null!==$IvP$var$I)try{$IvP$var$I($)}finally{$IvP$var$I=null}};Vv=function($){null!==$IvP$var$I?setTimeout(Vv,0,$):($IvP$var$I=$,setTimeout($IvP$var$J,0,!1))},qK=function(){$IvP$var$I=null},Wv=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof Tv&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof Uv&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var $IvP$var$K=null,$IvP$var$L=!1,$IvP$var$M=-1,$IvP$var$N=!1,$IvP$var$O=!1,$IvP$var$P=0,$IvP$var$R=33,$IvP$var$S=33;Wv=function(){return $IvP$var$P<=W.unstable_now()};var $IvP$var$T=new MessageChannel,$IvP$var$U=$IvP$var$T.port2;$IvP$var$T.port1.onmessage=function(){$IvP$var$L=!1;var $=$IvP$var$K,v=$IvP$var$M;$IvP$var$K=null,$IvP$var$M=-1;var r=W.unstable_now(),a=!1;if(0>=$IvP$var$P-r){if(!(-1!==v&&v<=r))return $IvP$var$N||($IvP$var$N=!0,An($IvP$var$V)),$IvP$var$K=$,void($IvP$var$M=v);a=!0}if(null!==$){$IvP$var$O=!0;try{$(a)}finally{$IvP$var$O=!1}}};var $IvP$var$V=function($){if(null!==$IvP$var$K){An($IvP$var$V);var v=$-$IvP$var$P+$IvP$var$S;v<$IvP$var$S&&$IvP$var$R<$IvP$var$S?(8>v&&(v=8),$IvP$var$S=v<$IvP$var$R?$IvP$var$R:v):$IvP$var$R=v,$IvP$var$P=$+$IvP$var$S,$IvP$var$L||($IvP$var$L=!0,$IvP$var$U.postMessage(void 0))}else $IvP$var$N=!1};Vv=function($,v){$IvP$var$K=$,$IvP$var$M=v,$IvP$var$O||0>v?$IvP$var$U.postMessage(void 0):$IvP$var$N||($IvP$var$N=!0,An($IvP$var$V))},qK=function(){$IvP$var$K=null,$IvP$var$L=!1,$IvP$var$M=-1}}rK=1;W.unstable_ImmediatePriority=rK;sK=2;W.unstable_UserBlockingPriority=sK;tK=3;W.unstable_NormalPriority=tK;uK=5;W.unstable_IdlePriority=uK;vK=4;W.unstable_LowPriority=vK;wK=function($,v){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3;}var r=oc,a=tf;oc=$,tf=W.unstable_now();try{return v()}finally{oc=r,tf=a,jj()}};W.unstable_runWithPriority=wK;xK=function($){switch(oc){case 1:case 2:case 3:var v=3;break;default:v=oc;}var r=oc,a=tf;oc=v,tf=W.unstable_now();try{return $()}finally{oc=r,tf=a,jj()}};W.unstable_next=xK;yK=function($,v){var r=-1!==tf?tf:W.unstable_now();if("object"==typeof v&&null!==v&&"number"==typeof v.timeout)v=r+v.timeout;else switch(oc){case 1:v=r+-1;break;case 2:v=r+250;break;case 5:v=r+1073741823;break;case 4:v=r+1e4;break;default:v=r+5e3;}if($={callback:$,priorityLevel:oc,expirationTime:v,next:null,previous:null},null===P)P=$.next=$.previous=$,uf();else{r=null;var a=P;do{if(a.expirationTime>v){r=a;break}a=a.next}while(a!==P);null===r?r=P:r===P&&(P=$,uf()),(v=r.previous).next=r.previous=$,$.next=r,$.previous=v}return $};W.unstable_scheduleCallback=yK;zK=function($){var v=$.next;if(null!==v){if(v===$)P=null;else{$===P&&(P=v);var r=$.previous;r.next=v,v.previous=r}$.next=$.previous=null}};W.unstable_cancelCallback=zK;AK=function($){var v=oc;return function(){var r=oc,a=tf;oc=v,tf=W.unstable_now();try{return $.apply(this,arguments)}finally{oc=r,tf=a,jj()}}};W.unstable_wrapCallback=AK;BK=function(){return oc};W.unstable_getCurrentPriorityLevel=BK;CK=function(){return!Rv&&(null!==P&&P.expirationTime<Sv||Wv())};W.unstable_shouldYield=CK;DK=function(){null!==P&&uf()};W.unstable_continueExecution=DK;EK=function(){};W.unstable_pauseExecution=EK;FK=function(){return P};W.unstable_getFirstCallbackNode=FK}var JK,KK=false;function LK(){if(KK)return;KK=true;JK={};JK=(IK(),W)}var MK,kj,Qa,fa,Xv,NK,Yv,OK,PK,Bn,vf,lj,Cn,wf,Dn,Zv,QK,RK,En,Fn,$v,Kc,mj,od,xf,Gn,SK,_v,aw,bw,cw,gh,hh,TK,dw,UK,VK,WK,Hn,nj,XK,ew,fw,Lc,YK,oj,ZK,gw,pj,qj,$K,_K,fe,aL,Hb,rj,yf,pd,In,sj,hw,iw,Jn,Kn,tj,Ln,jw,kw,bL,lw,mw,nw,Ra,Mn,ow,pw,Nn,qw,cL,ih,dL,eL,fL,gL,hL,jh,rw,kh,iL,jL,kL,lL,mL,nL,oL,pL,qL,rL,sL,tL,uL,sw,On,tw,uw,uj,vw,ww,vL,vj,wL,xw,wj,xL,yw,yL,zL,Pn,zw,Aw,lh,AL,BL,CL,DL,EL,Bw,FL,GL,Qn,mh,qd,cb,Ib,zf,Cw,Dw,Ew,xj,yj,Af,Rn,nh,pc,oh,ph,Bf,HL,qh,IL,JL,rh,Sn,Tn,zj,Fw,sh,Mc,Aj,Gw,Cf,Hw,Iw,th,KL,Jw,Df,Kw,Un,LL,Lw,Vn,Mw,Nw,ML,Ow,Wn,Pw,Qw,NL,Rw,Sw,Bj,Xn,Cj,OL,Tw,PL,QL,RL,SL,Yn,Uw,Vw,Dj,tb,Ej,Jb,Fj,TL,o,Ww,UL,Xw,Yw,Ef,ge,rd,Zw,$w,Kb,he,Lb,Ff,Zn,VL,sd,_w,Gj,$n,Nc,ax,WL,bx,XL,cx,dx,ex,fx,YL=false;function ZL(t,$,e,r,a,i,n,l){if(!t){if(t=void 0,void 0===$)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[e,r,a,i,n,l],o=0;(t=Error($.replace(/%s/g,function(){return v[o++]}))).name="Invariant Violation"}throw t.framesToPop=1,t}}function w(t){for(var $=arguments.length-1,e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<$;r++)e+="&args[]="+encodeURIComponent(arguments[r+1]);ZL(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e)}function $L(t,$,e,r,a,i,n,l,v){var o=Array.prototype.slice.call(arguments,3);try{$.apply(e,o)}catch(u){this.onError(u)}}function _L(t,$,e,r,a,i,n,l,v){Xv=!1,NK=null,$L.apply(PK,arguments)}function aM(t,$,e,r,a,i,n,l,v){if(_L.apply(this,arguments),Xv){if(Xv){var o=NK;Xv=!1,NK=null}else w("198"),o=void 0;Yv||(Yv=!0,OK=o)}}function gx(){if(Bn)for(var t in vf){var $=vf[t],e=Bn.indexOf(t);if(-1<e||w("96",t),!lj[e])for(var r in $.extractEvents||w("97",t),lj[e]=$,e=$.eventTypes){var a=void 0,i=e[r],n=$,l=r;Cn.hasOwnProperty(l)&&w("99",l),Cn[l]=i;var v=i.phasedRegistrationNames;if(v){for(a in v)v.hasOwnProperty(a)&&hx(v[a],n,l);a=!0}else i.registrationName?(hx(i.registrationName,n,l),a=!0):a=!1;a||w("98",r,t)}}}function hx(t,$,e){wf[t]&&w("100",t),wf[t]=$,Dn[t]=$.eventTypes[e].dependencies}function ix(t,$,e){var r=t.type||"unknown-event";t.currentTarget=RK(e),aM(r,$,void 0,t),t.currentTarget=null}function Gf(t,$){return null==$&&w("30"),null==t?$:Array.isArray(t)?Array.isArray($)?(t.push.apply(t,$),t):(t.push($),t):Array.isArray($)?[t].concat($):[t,$]}function _n(t,$,e){Array.isArray(t)?t.forEach($,e):t&&$.call(e,t)}function bM(t){if(t){var $=t._dispatchListeners,e=t._dispatchInstances;if(Array.isArray($))for(var r=0;r<$.length&&!t.isPropagationStopped();r++)ix(t,$[r],e[r]);else $&&ix(t,$,e);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function jx(t,$){var e=t.stateNode;if(!e)return null;var r=Zv(e);if(!r)return null;e=r[$];t:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1;}return t?null:(e&&"function"!=typeof e&&w("231",$,typeof e),e)}function ao(t){if(null!==t&&(En=Gf(En,t)),t=En,En=null,t&&(_n(t,bM),En&&w("95"),Yv))throw t=OK,Yv=!1,OK=null,t}function Hj(t){if(t[Kc])return t[Kc];for(;!t[Kc];){if(!t.parentNode)return null;t=t.parentNode}return 5===(t=t[Kc]).tag||6===t.tag?t:null}function kx(t){return!(t=t[Kc])||5!==t.tag&&6!==t.tag?null:t}function ie(t){if(5===t.tag||6===t.tag)return t.stateNode;w("33")}function bo(t){return t[mj]||null}function Oc(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function lx(t,$,e){($=jx(t,e.dispatchConfig.phasedRegistrationNames[$]))&&(e._dispatchListeners=Gf(e._dispatchListeners,$),e._dispatchInstances=Gf(e._dispatchInstances,t))}function cM(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var $=t._targetInst,e=[];$;)e.push($),$=Oc($);for($=e.length;0<$--;)lx(e[$],"captured",t);for($=0;$<e.length;$++)lx(e[$],"bubbled",t)}}function co(t,$,e){t&&e&&e.dispatchConfig.registrationName&&($=jx(t,e.dispatchConfig.registrationName))&&(e._dispatchListeners=Gf(e._dispatchListeners,$),e._dispatchInstances=Gf(e._dispatchInstances,t))}function dM(t){t&&t.dispatchConfig.registrationName&&co(t._targetInst,null,t)}function Hf(t){_n(t,cM)}function Ij(t,$){var e={};return e[t.toLowerCase()]=$.toLowerCase(),e["Webkit"+t]="webkit"+$,e["Moz"+t]="moz"+$,e}function Jj(t){if(Gn[t])return Gn[t];if(!xf[t])return t;var $,e=xf[t];for($ in e)if(e.hasOwnProperty($)&&$ in SK)return Gn[t]=e[$];return t}function mx(){if(dw)return dw;var t,$,e=TK,r=e.length,a="value"in hh?hh.value:hh.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var n=r-t;for($=1;$<=n&&e[r-$]===a[i-$];$++);return dw=a.slice(t,1<$?1-$:void 0)}function Kj(){return!0}function Lj(){return!1}function ub(t,$,e,r){for(var a in this.dispatchConfig=t,this._targetInst=$,this.nativeEvent=e,t=this.constructor.Interface)t.hasOwnProperty(a)&&(($=t[a])?this[a]=$(e):"target"===a?this.target=r:this[a]=e[a]);return this.isDefaultPrevented=(null!=e.defaultPrevented?e.defaultPrevented:!1===e.returnValue)?Kj:Lj,this.isPropagationStopped=Lj,this}function eM(t,$,e,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,t,$,e,r),a}return new this(t,$,e,r)}function fM(t){t instanceof this||w("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function nx(t){t.eventPool=[],t.getPooled=eM,t.release=fM}function ox(t,$){switch(t){case"keyup":return-1!==WK.indexOf($.keyCode);case"keydown":return 229!==$.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1;}}function px(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}function gM(t,$){switch(t){case"compositionend":return px($);case"keypress":return 32!==$.which?null:(YK=!0,fw);case"textInput":return(t=$.data)===fw&&YK?null:t;default:return null;}}function hM(t,$){if(oj)return"compositionend"===t||!Hn&&ox(t,$)?(t=mx(),dw=TK=hh=null,oj=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return ew&&"ko"!==$.locale?null:$.data;default:return null;}}function qx(t){if(t=QK(t)){"function"!=typeof gw&&w("280");var $=Zv(t.stateNode);gw(t.stateNode,t.type,$)}}function rx(t){pj?qj?qj.push(t):qj=[t]:pj=t}function sx(){if(pj){var t=pj,$=qj;if(qj=pj=null,qx(t),$)for(t=0;t<$.length;t++)qx($[t])}}function iM(t,$){return t($)}function jM(t,$,e){return t($,e)}function kM(){}function tx(t,$){if($K)return t($);$K=!0;try{return iM(t,$)}finally{$K=!1,(null!==pj||null!==qj)&&(kM(),sx())}}function ux(t){var $=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===$?!!_K[t.type]:"textarea"===$}function eo(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function vx(t){if(!od)return!1;var $=(t="on"+t)in document;return $||(($=document.createElement("div")).setAttribute(t,"return;"),$="function"==typeof $[t]),$}function wx(t){var $=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===$||"radio"===$)}function lM(t){var $=wx(t)?"checked":"value",e=Object.getOwnPropertyDescriptor(t.constructor.prototype,$),r=""+t[$];if(!t.hasOwnProperty($)&&void 0!==e&&"function"==typeof e.get&&"function"==typeof e.set){var a=e.get,i=e.set;return Object.defineProperty(t,$,{configurable:!0,get:function(){return a.call(this)},set:function(t){r=""+t,i.call(this,t)}}),Object.defineProperty(t,$,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[$]}}}}function Mj(t){t._valueTracker||(t._valueTracker=lM(t))}function xx(t){if(!t)return!1;var $=t._valueTracker;if(!$)return!0;var e=$.getValue(),r="";return t&&(r=wx(t)?t.checked?"true":"false":t.value),(t=r)!==e&&($.setValue(t),!0)}function uh(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=kw&&t[kw]||t["@@iterator"])?t:null}function td(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case Jn:return"ConcurrentMode";case pd:return"Fragment";case yf:return"Portal";case sj:return"Profiler";case In:return"StrictMode";case tj:return"Suspense";}if("object"==typeof t)switch(t.$$typeof){case iw:return"Context.Consumer";case hw:return"Context.Provider";case Kn:var $=t.render;return $=$.displayName||$.name||"",t.displayName||(""!==$?"ForwardRef("+$+")":"ForwardRef");case Ln:return td(t.type);case jw:if(t=1===t._status?t._result:null)return td(t);}return null}function fo(t){var $="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var e="";break t;default:var r=t._debugOwner,a=t._debugSource,i=td(t.type);e=null,r&&(e=td(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(aL,"")+":"+a.lineNumber+")":e&&(i=" (created by "+e+")"),e="\n    in "+(r||"Unknown")+i;}$+=e,t=t.return}while(t);return $}function mM(t){return!!lw.call(nw,t)||!lw.call(mw,t)&&(bL.test(t)?nw[t]=!0:(mw[t]=!0,!1))}function nM(t,$,e,r){if(null!==e&&0===e.type)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==e?!e.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1;}}function oM(t,$,e,r){if(null==$||nM(t,$,e,r))return!0;if(r)return!1;if(null!==e)switch(e.type){case 3:return!$;case 4:return!1===$;case 5:return isNaN($);case 6:return isNaN($)||1>$;}return!1}function vb(t,$,e,r,a){this.acceptsBooleans=2===$||3===$||4===$,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=e,this.propertyName=t,this.type=$}function go(t){return t[1].toUpperCase()}function ho(t,$,e,r){var a=Ra.hasOwnProperty($)?Ra[$]:null;(null!==a?0===a.type:!r&&2<$.length&&("o"===$[0]||"O"===$[0])&&("n"===$[1]||"N"===$[1]))||(oM($,e,a,r)&&(e=null),r||null===a?mM($)&&(null===e?t.removeAttribute($):t.setAttribute($,""+e)):a.mustUseProperty?t[a.propertyName]=null===e?3!==a.type&&"":e:($=a.attributeName,r=a.attributeNamespace,null===e?t.removeAttribute($):(e=3===(a=a.type)||4===a&&!0===e?"":""+e,r?t.setAttributeNS(r,$,e):t.setAttribute($,e))))}function ud(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return"";}}function io(t,$){var e=$.checked;return Qa({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=e?e:t._wrapperState.initialChecked})}function yx(t,$){var e=null==$.defaultValue?"":$.defaultValue,r=null!=$.checked?$.checked:$.defaultChecked;e=ud(null!=$.value?$.value:e),t._wrapperState={initialChecked:r,initialValue:e,controlled:"checkbox"===$.type||"radio"===$.type?null!=$.checked:null!=$.value}}function zx(t,$){null!=($=$.checked)&&ho(t,"checked",$,!1)}function jo(t,$){zx(t,$);var e=ud($.value),r=$.type;if(null!=e)"number"===r?(0===e&&""===t.value||t.value!=e)&&(t.value=""+e):t.value!==""+e&&(t.value=""+e);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");$.hasOwnProperty("value")?ko(t,$.type,e):$.hasOwnProperty("defaultValue")&&ko(t,$.type,ud($.defaultValue)),null==$.checked&&null!=$.defaultChecked&&(t.defaultChecked=!!$.defaultChecked)}function Ax(t,$,e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var r=$.type;if(!("submit"!==r&&"reset"!==r||void 0!==$.value&&null!==$.value))return;$=""+t._wrapperState.initialValue,e||$===t.value||(t.value=$),t.defaultValue=$}""!==(e=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==e&&(t.name=e)}function ko(t,$,e){"number"===$&&t.ownerDocument.activeElement===t||(null==e?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+e&&(t.defaultValue=""+e))}function Bx(t,$,e){return(t=ub.getPooled(ow.change,t,$,e)).type="change",rx(e),Hf(t),t}function pM(t){ao(t)}function Nj(t){if(xx(ie(t)))return t}function qM(t,$){if("change"===t)return $}function Cx(){pw&&(pw.detachEvent("onpropertychange",Dx),Nn=pw=null)}function Dx(t){"value"===t.propertyName&&Nj(Nn)&&tx(pM,t=Bx(Nn,t,eo(t)))}function rM(t,$,e){"focus"===t?(Cx(),Nn=e,(pw=$).attachEvent("onpropertychange",Dx)):"blur"===t&&Cx()}function sM(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Nj(Nn)}function tM(t,$){if("click"===t)return Nj($)}function uM(t,$){if("input"===t||"change"===t)return Nj($)}function vM(t){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(t):!!(t=dL[t])&&!!$[t]}function lo(){return vM}function je(t,$){return t===$&&(0!==t||1/t==1/$)||t!=t&&$!=$}function vh(t,$){if(je(t,$))return!0;if("object"!=typeof t||null===t||"object"!=typeof $||null===$)return!1;var e=Object.keys(t),r=Object.keys($);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++)if(!jL.call($,e[r])||!je(t[e[r]],$[e[r]]))return!1;return!0}function wh(t){var $=t;if(t.alternate)for(;$.return;)$=$.return;else{if(0!=(2&$.effectTag))return 1;for(;$.return;)if(0!=(2&($=$.return).effectTag))return 1}return 3===$.tag?2:3}function Ex(t){2!==wh(t)&&w("188")}function wM(t){var $=t.alternate;if(!$)return 3===($=wh(t))&&w("188"),1===$?null:t;for(var e=t,r=$;;){var a=e.return,i=a?a.alternate:null;if(!a||!i)break;if(a.child===i.child){for(var n=a.child;n;){if(n===e)return Ex(a),t;if(n===r)return Ex(a),$;n=n.sibling}w("188")}if(e.return!==r.return)e=a,r=i;else{n=!1;for(var l=a.child;l;){if(l===e){n=!0,e=a,r=i;break}if(l===r){n=!0,r=a,e=i;break}l=l.sibling}if(!n){for(l=i.child;l;){if(l===e){n=!0,e=i,r=a;break}if(l===r){n=!0,r=i,e=a;break}l=l.sibling}n||w("189")}}e.alternate!==r&&w("190")}return 3!==e.tag&&w("188"),e.stateNode.current===e?t:$}function Fx(t){if(!(t=wM(t)))return null;for(var $=t;;){if(5===$.tag||6===$.tag)return $;if($.child)$.child.return=$,$=$.child;else{if($===t)break;for(;!$.sibling;){if(!$.return||$.return===t)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}}return null}function Oj(t){var $=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===$&&(t=13):t=$,10===t&&(t=13),32<=t||13===t?t:0}function Gx(t,$){var e=t[0],r="on"+((t=t[1])[0].toUpperCase()+t.slice(1));$={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[e],isInteractive:$},sw[t]=$,On[e]=$}function xM(t){var $=t.targetInst,e=$;do{if(!e){t.ancestors.push(e);break}var r;for(r=e;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(e),e=Hj(r)}while(e);for(e=0;e<t.ancestors.length;e++){$=t.ancestors[e];var a=eo(t.nativeEvent);r=t.topLevelType;for(var i=t.nativeEvent,n=null,l=0;l<lj.length;l++){var v=lj[l];v&&(v=v.extractEvents(r,$,i,a))&&(n=Gf(n,v))}ao(n)}}function ga(t,$){if(!$)return null;var e=(uw(t)?Hx:Qj).bind(null,t);$.addEventListener(t,e,!1)}function Pj(t,$){if(!$)return null;var e=(uw(t)?Hx:Qj).bind(null,t);$.addEventListener(t,e,!0)}function Hx(t,$){jM(Qj,t,$)}function Qj(t,$){if(vw){var e=eo($);if(null===(e=Hj(e))||"number"!=typeof e.tag||2===wh(e)||(e=null),uj.length){var r=uj.pop();r.topLevelType=t,r.nativeEvent=$,r.targetInst=e,t=r}else t={topLevelType:t,nativeEvent:$,targetInst:e,ancestors:[]};try{tx(xM,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>uj.length&&uj.push(t)}}}function Ix(t){return Object.prototype.hasOwnProperty.call(t,vj)||(t[vj]=vL++,ww[t[vj]]={}),ww[t[vj]]}function mo(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch($){return t.body}}function Jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kx(t,$){var e,r=Jx(t);for(t=0;r;){if(3===r.nodeType){if(e=t+r.textContent.length,t<=$&&e>=$)return{node:r,offset:$-t};t=e}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Jx(r)}}function Lx(t,$){return!(!t||!$)&&(t===$||(!t||3!==t.nodeType)&&($&&3===$.nodeType?Lx(t,$.parentNode):"contains"in t?t.contains($):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition($))))}function Mx(){for(var t=window,$=mo();$ instanceof t.HTMLIFrameElement;){try{t=$.contentDocument.defaultView}catch(e){break}$=mo(t.document)}return $}function no(t){var $=t&&t.nodeName&&t.nodeName.toLowerCase();return $&&("input"===$&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===$||"true"===t.contentEditable)}function yM(){var t=Mx();if(no(t)){if("selectionStart"in t)var $={start:t.selectionStart,end:t.selectionEnd};else t:{var e=($=($=t.ownerDocument)&&$.defaultView||window).getSelection&&$.getSelection();if(e&&0!==e.rangeCount){$=e.anchorNode;var r=e.anchorOffset,a=e.focusNode;e=e.focusOffset;try{$.nodeType,a.nodeType}catch(s){$=null;break t}var i=0,n=-1,l=-1,v=0,o=0,u=t,c=null;$:for(;;){for(var f;u!==$||0!==r&&3!==u.nodeType||(n=i+r),u!==a||0!==e&&3!==u.nodeType||(l=i+e),3===u.nodeType&&(i+=u.nodeValue.length),null!==(f=u.firstChild);)c=u,u=f;for(;;){if(u===t)break $;if(c===$&&++v===r&&(n=i),c===a&&++o===e&&(l=i),null!==(f=u.nextSibling))break;c=(u=c).parentNode}u=f}$=-1===n||-1===l?null:{start:n,end:l}}else $=null}$=$||{start:0,end:0}}else $=null;return{focusedElem:t,selectionRange:$}}function zM(t){var $=Mx(),e=t.focusedElem,r=t.selectionRange;if($!==e&&e&&e.ownerDocument&&Lx(e.ownerDocument.documentElement,e)){if(null!==r&&no(e))if($=r.start,void 0===(t=r.end)&&(t=$),"selectionStart"in e)e.selectionStart=$,e.selectionEnd=Math.min(t,e.value.length);else if((t=($=e.ownerDocument||document)&&$.defaultView||window).getSelection){t=t.getSelection();var a=e.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=Kx(e,i);var n=Kx(e,r);a&&n&&(1!==t.rangeCount||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==n.node||t.focusOffset!==n.offset)&&(($=$.createRange()).setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange($),t.extend(n.node,n.offset)):($.setEnd(n.node,n.offset),t.addRange($)))}for($=[],t=e;t=t.parentNode;)1===t.nodeType&&$.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof e.focus&&e.focus(),e=0;e<$.length;e++)(t=$[e]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}function Nx(t,$){var e=$.window===$?$.document:9===$.nodeType?$:$.ownerDocument;return yL||null==wj||wj!==mo(e)?null:("selectionStart"in(e=wj)&&no(e)?e={start:e.selectionStart,end:e.selectionEnd}:e={anchorNode:(e=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset},yw&&vh(yw,e)?null:(yw=e,(t=ub.getPooled(xw.select,xL,t,$)).type="select",t.target=wj,Hf(t),t))}function AM(t){var $="";return kj.Children.forEach(t,function(t){null!=t&&($+=t)}),$}function oo(t,$){return t=Qa({children:void 0},$),($=AM($.children))&&(t.children=$),t}function If(t,$,e,r){if(t=t.options,$){$={};for(var a=0;a<e.length;a++)$["$"+e[a]]=!0;for(e=0;e<t.length;e++)a=$.hasOwnProperty("$"+t[e].value),t[e].selected!==a&&(t[e].selected=a),a&&r&&(t[e].defaultSelected=!0)}else{for(e=""+ud(e),$=null,a=0;a<t.length;a++){if(t[a].value===e)return t[a].selected=!0,void(r&&(t[a].defaultSelected=!0));null!==$||t[a].disabled||($=t[a])}null!==$&&($.selected=!0)}}function po(t,$){return null!=$.dangerouslySetInnerHTML&&w("91"),Qa({},$,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ox(t,$){var e=$.value;null==e&&(e=$.defaultValue,null!=($=$.children)&&(null!=e&&w("92"),Array.isArray($)&&(1>=$.length||w("93"),$=$[0]),e=$),null==e&&(e="")),t._wrapperState={initialValue:ud(e)}}function Px(t,$){var e=ud($.value),r=ud($.defaultValue);null!=e&&((e=""+e)!==t.value&&(t.value=e),null==$.defaultValue&&t.defaultValue!==e&&(t.defaultValue=e)),null!=r&&(t.defaultValue=""+r)}function Qx(t){var $=t.textContent;$===t._wrapperState.initialValue&&(t.value=$)}function Rx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml";}}function qo(t,$){return null==t||"http://www.w3.org/1999/xhtml"===t?Rx($):"http://www.w3.org/2000/svg"===t&&"foreignObject"===$?"http://www.w3.org/1999/xhtml":t}function xh(t,$){if($){var e=t.firstChild;if(e&&e===t.lastChild&&3===e.nodeType)return void(e.nodeValue=$)}t.textContent=$}function Sx(t,$,e){return null==$||"boolean"==typeof $||""===$?"":e||"number"!=typeof $||0===$||lh.hasOwnProperty(t)&&lh[t]?(""+$).trim():$+"px"}function Tx(t,$){for(var e in t=t.style,$)if($.hasOwnProperty(e)){var r=0===e.indexOf("--"),a=Sx(e,$[e],r);"float"===e&&(e="cssFloat"),r?t.setProperty(e,a):t[e]=a}}function ro(t,$){$&&(BL[t]&&(null!=$.children||null!=$.dangerouslySetInnerHTML)&&w("137",t,""),null!=$.dangerouslySetInnerHTML&&(null!=$.children&&w("60"),"object"==typeof $.dangerouslySetInnerHTML&&"__html"in $.dangerouslySetInnerHTML||w("61")),null!=$.style&&"object"!=typeof $.style&&w("62",""))}function so(t,$){if(-1===t.indexOf("-"))return"string"==typeof $.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0;}}function Pc(t,$){var e=Ix(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);$=Dn[$];for(var r=0;r<$.length;r++){var a=$[r];if(!e.hasOwnProperty(a)||!e[a]){switch(a){case"scroll":Pj("scroll",t);break;case"focus":case"blur":Pj("focus",t),Pj("blur",t),e.blur=!0,e.focus=!0;break;case"cancel":case"close":vx(a)&&Pj(a,t);break;case"invalid":case"submit":case"reset":break;default:-1===gh.indexOf(a)&&ga(a,t);}e[a]=!0}}}function Rj(){}function Ux(t,$){switch(t){case"button":case"input":case"select":case"textarea":return!!$.autoFocus;}return!1}function to(t,$){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof $.children||"number"==typeof $.children||"object"==typeof $.dangerouslySetInnerHTML&&null!==$.dangerouslySetInnerHTML&&null!=$.dangerouslySetInnerHTML.__html}function BM(t,$,e,r,a){t[mj]=a,"input"===e&&"radio"===a.type&&null!=a.name&&zx(t,a),so(e,r),r=so(e,a);for(var i=0;i<$.length;i+=2){var n=$[i],l=$[i+1];"style"===n?Tx(t,l):"dangerouslySetInnerHTML"===n?Aw(t,l):"children"===n?xh(t,l):ho(t,n,l,r)}switch(e){case"input":jo(t,a);break;case"textarea":Px(t,a);break;case"select":$=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!a.multiple,null!=(e=a.value)?If(t,!!a.multiple,e,!1):$!==!!a.multiple&&(null!=a.defaultValue?If(t,!!a.multiple,a.defaultValue,!0):If(t,!!a.multiple,a.multiple?[]:"",!1));}}function uo(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function Vx(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function db(t){0>mh||(t.current=Qn[mh],Qn[mh]=null,mh--)}function wb(t,$){Qn[++mh]=t.current,t.current=$}function Jf(t,$){var e=t.type.contextTypes;if(!e)return qd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===$)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in e)i[a]=$[a];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=$,t.__reactInternalMemoizedMaskedChildContext=i),i}function eb(t){return null!=(t=t.childContextTypes)}function Sj(t){db(Ib,t),db(cb,t)}function vo(t){db(Ib,t),db(cb,t)}function Wx(t,$,e){cb.current!==qd&&w("168"),wb(cb,$,t),wb(Ib,e,t)}function Xx(t,$,e){var r=t.stateNode;if(t=$.childContextTypes,"function"!=typeof r.getChildContext)return e;for(var a in r=r.getChildContext())a in t||w("108",td($)||"Unknown",a);return Qa({},e,r)}function Tj(t){var $=t.stateNode;return $=$&&$.__reactInternalMemoizedMergedChildContext||qd,zf=cb.current,wb(cb,$,t),wb(Ib,Ib.current,t),!0}function Yx(t,$,e){var r=t.stateNode;r||w("169"),e?($=Xx(t,$,zf),r.__reactInternalMemoizedMergedChildContext=$,db(Ib,t),db(cb,t),wb(cb,$,t)):db(Ib,t),wb(Ib,e,t)}function Zx(t){return function($){try{return t($)}catch(e){}}}function CM(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var $=__REACT_DEVTOOLS_GLOBAL_HOOK__;if($.isDisabled||!$.supportsFiber)return!0;try{var e=$.inject(t);Cw=Zx(function(t){return $.onCommitFiberRoot(e,t)}),Dw=Zx(function(t){return $.onCommitFiberUnmount(e,t)})}catch(r){}return!0}function DM(t,$,e,r){this.tag=t,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function qc(t,$,e,r){return new DM(t,$,e,r)}function wo(t){return!(!(t=t.prototype)||!t.isReactComponent)}function EM(t){if("function"==typeof t)return wo(t)?1:0;if(null!=t){if((t=t.$$typeof)===Kn)return 11;if(t===Ln)return 14}return 2}function ke(t,$){var e=t.alternate;return null===e?((e=qc(t.tag,$,t.key,t.mode)).elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.alternate=t,t.alternate=e):(e.pendingProps=$,e.effectTag=0,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null),e.childExpirationTime=t.childExpirationTime,e.expirationTime=t.expirationTime,e.child=t.child,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.contextDependencies=t.contextDependencies,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e}function Uj(t,$,e,r,a,i){var n=2;if(r=t,"function"==typeof t)wo(t)&&(n=1);else if("string"==typeof t)n=5;else t:switch(t){case pd:return vd(e.children,a,i,$);case Jn:return $x(e,3|a,i,$);case In:return $x(e,2|a,i,$);case sj:return(t=qc(12,e,$,4|a)).elementType=sj,t.type=sj,t.expirationTime=i,t;case tj:return(t=qc(13,e,$,a)).elementType=tj,t.type=tj,t.expirationTime=i,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case hw:n=10;break t;case iw:n=9;break t;case Kn:n=11;break t;case Ln:n=14;break t;case jw:n=16,r=null;break t;}w("130",null==t?t:typeof t,"");}return($=qc(n,e,$,a)).elementType=t,$.type=r,$.expirationTime=i,$}function vd(t,$,e,r){return(t=qc(7,t,r,$)).expirationTime=e,t}function $x(t,$,e,r){return t=qc(8,t,r,$),$=0==(1&$)?In:Jn,t.elementType=$,t.type=$,t.expirationTime=e,t}function xo(t,$,e){return(t=qc(6,t,null,$)).expirationTime=e,t}function yo(t,$,e){return($=qc(4,null!==t.children?t.children:[],t.key,$)).expirationTime=e,$.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},$}function yh(t,$){t.didError=!1;var e=t.earliestPendingTime;0===e?t.earliestPendingTime=t.latestPendingTime=$:e<$?t.earliestPendingTime=$:t.latestPendingTime>$&&(t.latestPendingTime=$),Vj($,t)}function FM(t,$){if(t.didError=!1,0===$)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{$<t.latestPingedTime&&(t.latestPingedTime=0);var e=t.latestPendingTime;0!==e&&(e>$?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>$&&(t.earliestPendingTime=t.latestPendingTime)),0===(e=t.earliestSuspendedTime)?yh(t,$):$<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,yh(t,$)):$>e&&yh(t,$)}Vj(0,t)}function _x(t,$){t.didError=!1,t.latestPingedTime>=$&&(t.latestPingedTime=0);var e=t.earliestPendingTime,r=t.latestPendingTime;e===$?t.earliestPendingTime=r===$?t.latestPendingTime=0:r:r===$&&(t.latestPendingTime=e),e=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===e?t.earliestSuspendedTime=t.latestSuspendedTime=$:e<$?t.earliestSuspendedTime=$:r>$&&(t.latestSuspendedTime=$),Vj($,t)}function ay(t,$){var e=t.earliestPendingTime;return e>$&&($=e),(t=t.earliestSuspendedTime)>$&&($=t),$}function Vj(t,$){var e=$.earliestSuspendedTime,r=$.latestSuspendedTime,a=$.earliestPendingTime,i=$.latestPingedTime;0===(a=0!==a?a:i)&&(0===t||r<t)&&(a=r),0!==(t=a)&&e>t&&(t=e),$.nextExpirationTimeToWorkOn=a,$.expirationTime=t}function Zb(t,$){if(t&&t.defaultProps)for(var e in $=Qa({},$),t=t.defaultProps)void 0===$[e]&&($[e]=t[e]);return $}function GM(t){var $=t._result;switch(t._status){case 1:return $;case 2:case 0:throw $;default:switch(t._status=0,($=($=t._ctor)()).then(function($){0===t._status&&($=$.default,t._status=1,t._result=$)},function($){0===t._status&&(t._status=2,t._result=$)}),t._status){case 1:return t._result;case 2:throw t._result;}throw t._result=$,$;}}function Wj(t,$,e,r){e=null==(e=e(r,$=t.memoizedState))?$:Qa({},$,e),t.memoizedState=e,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=e)}function by(t,$,e,r,a,i,n){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,i,n):!$.prototype||!$.prototype.isPureReactComponent||!vh(e,r)||!vh(a,i)}function cy(t,$,e){var r=!1,a=qd,i=$.contextType;return"object"==typeof i&&null!==i?i=sc(i):(a=eb($)?zf:cb.current,i=(r=null!=(r=$.contextTypes))?Jf(t,a):qd),$=new $(e,i),t.memoizedState=null!==$.state&&void 0!==$.state?$.state:null,$.updater=xj,t.stateNode=$,$._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),$}function dy(t,$,e,r){t=$.state,"function"==typeof $.componentWillReceiveProps&&$.componentWillReceiveProps(e,r),"function"==typeof $.UNSAFE_componentWillReceiveProps&&$.UNSAFE_componentWillReceiveProps(e,r),$.state!==t&&xj.enqueueReplaceState($,$.state,null)}function zo(t,$,e,r){var a=t.stateNode;a.props=e,a.state=t.memoizedState,a.refs=Ew;var i=$.contextType;"object"==typeof i&&null!==i?a.context=sc(i):(i=eb($)?zf:cb.current,a.context=Jf(t,i)),null!==(i=t.updateQueue)&&(Bh(t,i,e,a,r),a.state=t.memoizedState),"function"==typeof(i=$.getDerivedStateFromProps)&&(Wj(t,$,i,e),a.state=t.memoizedState),"function"==typeof $.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||($=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),$!==a.state&&xj.enqueueReplaceState(a,a.state,null),null!==(i=t.updateQueue)&&(Bh(t,i,e,a,r),a.state=t.memoizedState)),"function"==typeof a.componentDidMount&&(t.effectTag|=4)}function zh(t,$,e){if(null!==(t=e.ref)&&"function"!=typeof t&&"object"!=typeof t){if(e._owner){e=e._owner;var r=void 0;e&&(1!==e.tag&&w("309"),r=e.stateNode),r||w("147",t);var a=""+t;return null!==$&&null!==$.ref&&"function"==typeof $.ref&&$.ref._stringRef===a?$.ref:(($=function(t){var $=r.refs;$===Ew&&($=r.refs={}),null===t?delete $[a]:$[a]=t})._stringRef=a,$)}"string"!=typeof t&&w("284"),e._owner||w("290",t)}return t}function Xj(t,$){"textarea"!==t.type&&w("31","[object Object]"===Object.prototype.toString.call($)?"object with keys {"+Object.keys($).join(", ")+"}":$,"")}function ey(t){function $($,e){if(t){var r=$.lastEffect;null!==r?(r.nextEffect=e,$.lastEffect=e):$.firstEffect=$.lastEffect=e,e.nextEffect=null,e.effectTag=8}}function e(e,r){if(!t)return null;for(;null!==r;)$(e,r),r=r.sibling;return null}function r(t,$){for(t=new Map;null!==$;)null!==$.key?t.set($.key,$):t.set($.index,$),$=$.sibling;return t}function a(t,$,e){return(t=ke(t,$,e)).index=0,t.sibling=null,t}function i($,e,r){return $.index=r,t?null!==(r=$.alternate)?(r=r.index)<e?($.effectTag=2,e):r:($.effectTag=2,e):e}function n($){return t&&null===$.alternate&&($.effectTag=2),$}function l(t,$,e,r){return null===$||6!==$.tag?(($=xo(e,t.mode,r)).return=t,$):(($=a($,e,r)).return=t,$)}function v(t,$,e,r){return null!==$&&$.elementType===e.type?((r=a($,e.props,r)).ref=zh(t,$,e),r.return=t,r):((r=Uj(e.type,e.key,e.props,null,t.mode,r)).ref=zh(t,$,e),r.return=t,r)}function o(t,$,e,r){return null===$||4!==$.tag||$.stateNode.containerInfo!==e.containerInfo||$.stateNode.implementation!==e.implementation?(($=yo(e,t.mode,r)).return=t,$):(($=a($,e.children||[],r)).return=t,$)}function u(t,$,e,r,i){return null===$||7!==$.tag?(($=vd(e,t.mode,r,i)).return=t,$):(($=a($,e,r)).return=t,$)}function c(t,$,e){if("string"==typeof $||"number"==typeof $)return($=xo(""+$,t.mode,e)).return=t,$;if("object"==typeof $&&null!==$){switch($.$$typeof){case rj:return(e=Uj($.type,$.key,$.props,null,t.mode,e)).ref=zh(t,null,$),e.return=t,e;case yf:return($=yo($,t.mode,e)).return=t,$;}if(yj($)||uh($))return($=vd($,t.mode,e,null)).return=t,$;Xj(t,$)}return null}function f(t,$,e,r){var a=null!==$?$.key:null;if("string"==typeof e||"number"==typeof e)return null!==a?null:l(t,$,""+e,r);if("object"==typeof e&&null!==e){switch(e.$$typeof){case rj:return e.key===a?e.type===pd?u(t,$,e.props.children,r,a):v(t,$,e,r):null;case yf:return e.key===a?o(t,$,e,r):null;}if(yj(e)||uh(e))return null!==a?null:u(t,$,e,r,null);Xj(t,e)}return null}function s(t,$,e,r,a){if("string"==typeof r||"number"==typeof r)return l($,t=t.get(e)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case rj:return t=t.get(null===r.key?e:r.key)||null,r.type===pd?u($,t,r.props.children,a,r.key):v($,t,r,a);case yf:return o($,t=t.get(null===r.key?e:r.key)||null,r,a);}if(yj(r)||uh(r))return u($,t=t.get(e)||null,r,a,null);Xj($,r)}return null}function d(a,n,l,v){for(var o=null,u=null,d=n,p=n=0,h=null;null!==d&&p<l.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var m=f(a,d,l[p],v);if(null===m){null===d&&(d=h);break}t&&d&&null===m.alternate&&$(a,d),n=i(m,n,p),null===u?o=m:u.sibling=m,u=m,d=h}if(p===l.length)return e(a,d),o;if(null===d){for(;p<l.length;p++)(d=c(a,l[p],v))&&(n=i(d,n,p),null===u?o=d:u.sibling=d,u=d);return o}for(d=r(a,d);p<l.length;p++)(h=s(d,a,p,l[p],v))&&(t&&null!==h.alternate&&d.delete(null===h.key?p:h.key),n=i(h,n,p),null===u?o=h:u.sibling=h,u=h);return t&&d.forEach(function(t){return $(a,t)}),o}function p(a,n,l,v){var o=uh(l);"function"!=typeof o&&w("150"),null==(l=o.call(l))&&w("151");for(var u=o=null,d=n,p=n=0,h=null,m=l.next();null!==d&&!m.done;p++,m=l.next()){d.index>p?(h=d,d=null):h=d.sibling;var g=f(a,d,m.value,v);if(null===g){d||(d=h);break}t&&d&&null===g.alternate&&$(a,d),n=i(g,n,p),null===u?o=g:u.sibling=g,u=g,d=h}if(m.done)return e(a,d),o;if(null===d){for(;!m.done;p++,m=l.next())null!==(m=c(a,m.value,v))&&(n=i(m,n,p),null===u?o=m:u.sibling=m,u=m);return o}for(d=r(a,d);!m.done;p++,m=l.next())null!==(m=s(d,a,p,m.value,v))&&(t&&null!==m.alternate&&d.delete(null===m.key?p:m.key),n=i(m,n,p),null===u?o=m:u.sibling=m,u=m);return t&&d.forEach(function(t){return $(a,t)}),o}return function(t,r,i,l){var v="object"==typeof i&&null!==i&&i.type===pd&&null===i.key;v&&(i=i.props.children);var o="object"==typeof i&&null!==i;if(o)switch(i.$$typeof){case rj:t:{for(o=i.key,v=r;null!==v;){if(v.key===o){if(7===v.tag?i.type===pd:v.elementType===i.type){e(t,v.sibling),(r=a(v,i.type===pd?i.props.children:i.props,l)).ref=zh(t,v,i),r.return=t,t=r;break t}e(t,v);break}$(t,v),v=v.sibling}i.type===pd?((r=vd(i.props.children,t.mode,l,i.key)).return=t,t=r):((l=Uj(i.type,i.key,i.props,null,t.mode,l)).ref=zh(t,r,i),l.return=t,t=l)}return n(t);case yf:t:{for(v=i.key;null!==r;){if(r.key===v){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){e(t,r.sibling),(r=a(r,i.children||[],l)).return=t,t=r;break t}e(t,r);break}$(t,r),r=r.sibling}(r=yo(i,t.mode,l)).return=t,t=r}return n(t);}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(e(t,r.sibling),(r=a(r,i,l)).return=t,t=r):(e(t,r),(r=xo(i,t.mode,l)).return=t,t=r),n(t);if(yj(i))return d(t,r,i,l);if(uh(i))return p(t,r,i,l);if(o&&Xj(t,i),void 0===i&&!v)switch(t.tag){case 1:case 0:w("152",(l=t.type).displayName||l.name||"Component");}return e(t,r)}}function le(t){return t===nh&&w("174"),t}function Ao(t,$){wb(ph,$,t),wb(oh,t,t),wb(pc,nh,t);var e=$.nodeType;switch(e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:qo(null,"");break;default:$=qo($=(e=8===e?$.parentNode:$).namespaceURI||null,e=e.tagName);}db(pc,t),wb(pc,$,t)}function Kf(t){db(pc,t),db(oh,t),db(ph,t)}function fy(t){le(ph.current);var $=le(pc.current),e=qo($,t.type);$!==e&&(wb(oh,t,t),wb(pc,e,t))}function Bo(t){oh.current===t&&(db(pc,t),db(oh,t))}function rc(){w("307")}function Co(t,$){if(null===$)return!1;for(var e=0;e<$.length&&e<t.length;e++)if(!je(t[e],$[e]))return!1;return!0}function Do(t,$,e,r,a,i){if(Fw=i,sh=$,Aj=null!==t?t.memoizedState:null,zj.current=null===Aj?LL:Lw,$=e(r,a),Jw){do{Jw=!1,Kw+=1,Aj=null!==t?t.memoizedState:null,Hw=Gw,th=Cf=Mc=null,zj.current=Lw,$=e(r,a)}while(Jw);Df=null,Kw=0}return zj.current=Un,(t=sh).memoizedState=Gw,t.expirationTime=Iw,t.updateQueue=th,t.effectTag|=KL,t=null!==Mc&&null!==Mc.next,Fw=0,Hw=Cf=Gw=Aj=Mc=sh=null,Iw=0,th=null,KL=0,t&&w("300"),$}function Eo(){zj.current=Un,Fw=0,Hw=Cf=Gw=Aj=Mc=sh=null,Iw=0,th=null,KL=0,Jw=!1,Df=null,Kw=0}function Lf(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Cf?Gw=Cf=t:Cf=Cf.next=t,Cf}function Ah(){if(null!==Hw)Hw=(Cf=Hw).next,Aj=null!==(Mc=Aj)?Mc.next:null;else{null===Aj&&w("310");var t={memoizedState:(Mc=Aj).memoizedState,baseState:Mc.baseState,queue:Mc.queue,baseUpdate:Mc.baseUpdate,next:null};Cf=null===Cf?Gw=t:Cf.next=t,Aj=Mc.next}return Cf}function gy(t,$){return"function"==typeof $?$(t):$}function hy(t){var $=Ah(),e=$.queue;if(null===e&&w("311"),0<Kw){var r=e.dispatch;if(null!==Df){var a=Df.get(e);if(void 0!==a){Df.delete(e);var i=$.memoizedState;do{i=t(i,a.action),a=a.next}while(null!==a);return je(i,$.memoizedState)||(Ow=!0),$.memoizedState=i,$.baseUpdate===e.last&&($.baseState=i),e.eagerReducer=t,e.eagerState=i,[i,r]}}return[$.memoizedState,r]}r=e.last;var n=$.baseUpdate;if(i=$.baseState,null!==n?(null!==r&&(r.next=null),r=n.next):r=null!==r?r.next:null,null!==r){var l=a=null,v=r,o=!1;do{var u=v.expirationTime;u<Fw?(o||(o=!0,l=n,a=i),u>Iw&&(Iw=u)):i=v.eagerReducer===t?v.eagerState:t(i,v.action),n=v,v=v.next}while(null!==v&&v!==r);o||(l=n,a=i),je(i,$.memoizedState)||(Ow=!0),$.memoizedState=i,$.baseUpdate=l,$.baseState=a,e.eagerReducer=t,e.eagerState=i}return[$.memoizedState,e.dispatch]}function Fo(t,$,e,r){return t={tag:t,create:$,destroy:e,deps:r,next:null},null===th?(th={lastEffect:null}).lastEffect=t.next=t:null===($=th.lastEffect)?th.lastEffect=t.next=t:(e=$.next,$.next=t,t.next=e,th.lastEffect=t),t}function Go(t,$,e,r){var a=Lf();KL|=t,a.memoizedState=Fo($,e,void 0,void 0===r?null:r)}function Ho(t,$,e,r){var a=Ah();r=void 0===r?null:r;var i=void 0;if(null!==Mc){var n=Mc.memoizedState;if(i=n.destroy,null!==r&&Co(r,n.deps))return void Fo(Bf,e,i,r)}KL|=t,a.memoizedState=Fo($,e,i,r)}function iy(t,$){return"function"==typeof $?(t=t(),$(t),function(){$(null)}):null!=$?(t=t(),$.current=t,function(){$.current=null}):void 0}function jy(){}function ky(t,$,e){25>Kw||w("301");var r=t.alternate;if(t===sh||null!==r&&r===sh){if(Jw=!0,t={expirationTime:Fw,action:e,eagerReducer:null,eagerState:null,next:null},null===Df&&(Df=new Map),void 0===(e=Df.get($)))Df.set($,t);else{for($=e;null!==$.next;)$=$.next;$.next=t}}else{Nf();var a=Sc(),i={expirationTime:a=Of(a,t),action:e,eagerReducer:null,eagerState:null,next:null},n=$.last;if(null===n)i.next=i;else{var l=n.next;null!==l&&(i.next=l),n.next=i}if($.last=i,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=$.eagerReducer))try{var v=$.eagerState,o=r(v,e);if(i.eagerReducer=r,i.eagerState=o,je(o,v))return}catch(u){}xd(t,a)}}function ly(t,$){var e=qc(5,null,null,0);e.elementType="DELETED",e.type="DELETED",e.stateNode=$,e.return=t,e.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e}function my(t,$){switch(t.tag){case 5:var e=t.type;return null!==($=1!==$.nodeType||e.toLowerCase()!==$.nodeName.toLowerCase()?null:$)&&(t.stateNode=$,!0);case 6:return null!==($=""===t.pendingProps||3!==$.nodeType?null:$)&&(t.stateNode=$,!0);case 13:default:return!1;}}function ny(t){if(Nw){var $=Mw;if($){var e=$;if(!my(t,$)){if(!($=uo(e))||!my(t,$))return t.effectTag|=2,Nw=!1,void(Vn=t);ly(Vn,e)}Vn=t,Mw=Vx($)}else t.effectTag|=2,Nw=!1,Vn=t}}function oy(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&18!==t.tag;)t=t.return;Vn=t}function Io(t){if(t!==Vn)return!1;if(!Nw)return oy(t),Nw=!0,!1;var $=t.type;if(5!==t.tag||"head"!==$&&"body"!==$&&!to($,t.memoizedProps))for($=Mw;$;)ly(t,$),$=uo($);return oy(t),Mw=Vn?uo(t.stateNode):null,!0}function Jo(){Mw=Vn=null,Nw=!1}function $b(t,$,e,r){$.child=null===t?Rn($,null,e,r):Af($,t.child,e,r)}function py(t,$,e,r,a){e=e.render;var i=$.ref;return Mf($,a),r=Do(t,$,e,r,i,a),null===t||Ow?($.effectTag|=1,$b(t,$,r,a),$.child):($.updateQueue=t.updateQueue,$.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Qc(t,$,a))}function qy(t,$,e,r,a,i){if(null===t){var n=e.type;return"function"!=typeof n||wo(n)||void 0!==n.defaultProps||null!==e.compare||void 0!==e.defaultProps?((t=Uj(e.type,null,r,null,$.mode,i)).ref=$.ref,t.return=$,$.child=t):($.tag=15,$.type=n,ry(t,$,n,r,a,i))}return n=t.child,a<i&&(a=n.memoizedProps,(e=null!==(e=e.compare)?e:vh)(a,r)&&t.ref===$.ref)?Qc(t,$,i):($.effectTag|=1,(t=ke(n,r,i)).ref=$.ref,t.return=$,$.child=t)}function ry(t,$,e,r,a,i){return null!==t&&vh(t.memoizedProps,r)&&t.ref===$.ref&&(Ow=!1,a<i)?Qc(t,$,i):Ko(t,$,e,r,i)}function sy(t,$){var e=$.ref;(null===t&&null!==e||null!==t&&t.ref!==e)&&($.effectTag|=128)}function Ko(t,$,e,r,a){var i=eb(e)?zf:cb.current;return i=Jf($,i),Mf($,a),e=Do(t,$,e,r,i,a),null===t||Ow?($.effectTag|=1,$b(t,$,e,a),$.child):($.updateQueue=t.updateQueue,$.effectTag&=-517,t.expirationTime<=a&&(t.expirationTime=0),Qc(t,$,a))}function ty(t,$,e,r,a){if(eb(e)){var i=!0;Tj($)}else i=!1;if(Mf($,a),null===$.stateNode)null!==t&&(t.alternate=null,$.alternate=null,$.effectTag|=2),cy($,e,r,a),zo($,e,r,a),r=!0;else if(null===t){var n=$.stateNode,l=$.memoizedProps;n.props=l;var v=n.context,o=e.contextType;"object"==typeof o&&null!==o?o=sc(o):o=Jf($,o=eb(e)?zf:cb.current);var u=e.getDerivedStateFromProps,c="function"==typeof u||"function"==typeof n.getSnapshotBeforeUpdate;c||"function"!=typeof n.UNSAFE_componentWillReceiveProps&&"function"!=typeof n.componentWillReceiveProps||(l!==r||v!==o)&&dy($,n,r,o),Cj=!1;var f=$.memoizedState;v=n.state=f;var s=$.updateQueue;null!==s&&(Bh($,s,r,n,a),v=$.memoizedState),l!==r||f!==v||Ib.current||Cj?("function"==typeof u&&(Wj($,e,u,r),v=$.memoizedState),(l=Cj||by($,e,l,r,f,v,o))?(c||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||("function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount()),"function"==typeof n.componentDidMount&&($.effectTag|=4)):("function"==typeof n.componentDidMount&&($.effectTag|=4),$.memoizedProps=r,$.memoizedState=v),n.props=r,n.state=v,n.context=o,r=l):("function"==typeof n.componentDidMount&&($.effectTag|=4),r=!1)}else n=$.stateNode,l=$.memoizedProps,n.props=$.type===$.elementType?l:Zb($.type,l),v=n.context,"object"==typeof(o=e.contextType)&&null!==o?o=sc(o):o=Jf($,o=eb(e)?zf:cb.current),(c="function"==typeof(u=e.getDerivedStateFromProps)||"function"==typeof n.getSnapshotBeforeUpdate)||"function"!=typeof n.UNSAFE_componentWillReceiveProps&&"function"!=typeof n.componentWillReceiveProps||(l!==r||v!==o)&&dy($,n,r,o),Cj=!1,v=$.memoizedState,f=n.state=v,null!==(s=$.updateQueue)&&(Bh($,s,r,n,a),f=$.memoizedState),l!==r||v!==f||Ib.current||Cj?("function"==typeof u&&(Wj($,e,u,r),f=$.memoizedState),(u=Cj||by($,e,l,r,v,f,o))?(c||"function"!=typeof n.UNSAFE_componentWillUpdate&&"function"!=typeof n.componentWillUpdate||("function"==typeof n.componentWillUpdate&&n.componentWillUpdate(r,f,o),"function"==typeof n.UNSAFE_componentWillUpdate&&n.UNSAFE_componentWillUpdate(r,f,o)),"function"==typeof n.componentDidUpdate&&($.effectTag|=4),"function"==typeof n.getSnapshotBeforeUpdate&&($.effectTag|=256)):("function"!=typeof n.componentDidUpdate||l===t.memoizedProps&&v===t.memoizedState||($.effectTag|=4),"function"!=typeof n.getSnapshotBeforeUpdate||l===t.memoizedProps&&v===t.memoizedState||($.effectTag|=256),$.memoizedProps=r,$.memoizedState=f),n.props=r,n.state=f,n.context=o,r=u):("function"!=typeof n.componentDidUpdate||l===t.memoizedProps&&v===t.memoizedState||($.effectTag|=4),"function"!=typeof n.getSnapshotBeforeUpdate||l===t.memoizedProps&&v===t.memoizedState||($.effectTag|=256),r=!1);return Lo(t,$,e,r,i,a)}function Lo(t,$,e,r,a,i){sy(t,$);var n=0!=(64&$.effectTag);if(!r&&!n)return a&&Yx($,e,!1),Qc(t,$,i);r=$.stateNode,ML.current=$;var l=n&&"function"!=typeof e.getDerivedStateFromError?null:r.render();return $.effectTag|=1,null!==t&&n?($.child=Af($,t.child,null,i),$.child=Af($,null,l,i)):$b(t,$,l,i),$.memoizedState=r.state,a&&Yx($,e,!0),$.child}function uy(t){var $=t.stateNode;$.pendingContext?Wx(t,$.pendingContext,$.pendingContext!==$.context):$.context&&Wx(t,$.context,!1),Ao(t,$.containerInfo)}function vy(t,$,e){var r=$.mode,a=$.pendingProps,i=$.memoizedState;if(0==(64&$.effectTag)){i=null;var n=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},n=!0,$.effectTag&=-65;if(null===t){if(n){var l=a.fallback;t=vd(null,r,0,null),0==(1&$.mode)&&(t.child=null!==$.memoizedState?$.child.child:$.child),r=vd(l,r,e,null),t.sibling=r,(e=t).return=r.return=$}else e=r=Rn($,null,a.children,e);}else null!==t.memoizedState?(l=(r=t.child).sibling,n?(e=a.fallback,a=ke(r,r.pendingProps,0),0==(1&$.mode)&&(n=null!==$.memoizedState?$.child.child:$.child)!==r.child&&(a.child=n),r=a.sibling=ke(l,e,l.expirationTime),e=a,a.childExpirationTime=0,e.return=r.return=$):e=r=Af($,r.child,a.children,e)):(l=t.child,n?(n=a.fallback,(a=vd(null,r,0,null)).child=l,0==(1&$.mode)&&(a.child=null!==$.memoizedState?$.child.child:$.child),(r=a.sibling=vd(n,r,e,null)).effectTag|=2,e=a,a.childExpirationTime=0,e.return=r.return=$):r=e=Af($,l,a.children,e)),$.stateNode=t.stateNode;return $.memoizedState=i,$.child=e,r}function Qc(t,$,e){if(null!==t&&($.contextDependencies=t.contextDependencies),$.childExpirationTime<e)return null;if(null!==t&&$.child!==t.child&&w("153"),null!==$.child){for(e=ke(t=$.child,t.pendingProps,t.expirationTime),$.child=e,e.return=$;null!==t.sibling;)t=t.sibling,(e=e.sibling=ke(t,t.pendingProps,t.expirationTime)).return=$;e.sibling=null}return $.child}function HM(t,$,e){var r=$.expirationTime;if(null!==t){if(t.memoizedProps!==$.pendingProps||Ib.current)Ow=!0;else if(r<e){switch(Ow=!1,$.tag){case 3:uy($),Jo();break;case 5:fy($);break;case 1:eb($.type)&&Tj($);break;case 4:Ao($,$.stateNode.containerInfo);break;case 10:wy($,$.memoizedProps.value);break;case 13:if(null!==$.memoizedState)return 0!==(r=$.child.childExpirationTime)&&r>=e?vy(t,$,e):null!==($=Qc(t,$,e))?$.sibling:null;}return Qc(t,$,e)}}else Ow=!1;switch($.expirationTime=0,$.tag){case 2:r=$.elementType,null!==t&&(t.alternate=null,$.alternate=null,$.effectTag|=2),t=$.pendingProps;var a=Jf($,cb.current);if(Mf($,e),a=Do(null,$,r,t,a,e),$.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if($.tag=1,Eo(),eb(r)){var i=!0;Tj($)}else i=!1;$.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var n=r.getDerivedStateFromProps;"function"==typeof n&&Wj($,r,n,t),a.updater=xj,$.stateNode=a,a._reactInternalFiber=$,zo($,r,t,e),$=Lo(null,$,r,!0,i,e)}else $.tag=0,$b(null,$,a,e),$=$.child;return $;case 16:switch(a=$.elementType,null!==t&&(t.alternate=null,$.alternate=null,$.effectTag|=2),i=$.pendingProps,t=GM(a),$.type=t,a=$.tag=EM(t),i=Zb(t,i),n=void 0,a){case 0:n=Ko(null,$,t,i,e);break;case 1:n=ty(null,$,t,i,e);break;case 11:n=py(null,$,t,i,e);break;case 14:n=qy(null,$,t,Zb(t.type,i),r,e);break;default:w("306",t,"");}return n;case 0:return r=$.type,a=$.pendingProps,Ko(t,$,r,a=$.elementType===r?a:Zb(r,a),e);case 1:return r=$.type,a=$.pendingProps,ty(t,$,r,a=$.elementType===r?a:Zb(r,a),e);case 3:return uy($),null===(r=$.updateQueue)&&w("282"),a=null!==(a=$.memoizedState)?a.element:null,Bh($,r,$.pendingProps,null,e),(r=$.memoizedState.element)===a?(Jo(),$=Qc(t,$,e)):(a=$.stateNode,(a=(null===t||null===t.child)&&a.hydrate)&&(Mw=Vx($.stateNode.containerInfo),Vn=$,a=Nw=!0),a?($.effectTag|=2,$.child=Rn($,null,r,e)):($b(t,$,r,e),Jo()),$=$.child),$;case 5:return fy($),null===t&&ny($),r=$.type,a=$.pendingProps,i=null!==t?t.memoizedProps:null,n=a.children,to(r,a)?n=null:null!==i&&to(r,i)&&($.effectTag|=16),sy(t,$),1!==e&&1&$.mode&&a.hidden?($.expirationTime=$.childExpirationTime=1,$=null):($b(t,$,n,e),$=$.child),$;case 6:return null===t&&ny($),null;case 13:return vy(t,$,e);case 4:return Ao($,$.stateNode.containerInfo),r=$.pendingProps,null===t?$.child=Af($,null,r,e):$b(t,$,r,e),$.child;case 11:return r=$.type,a=$.pendingProps,py(t,$,r,a=$.elementType===r?a:Zb(r,a),e);case 7:return $b(t,$,$.pendingProps,e),$.child;case 8:case 12:return $b(t,$,$.pendingProps.children,e),$.child;case 10:t:{if(r=$.type._context,a=$.pendingProps,n=$.memoizedProps,wy($,i=a.value),null!==n){var l=n.value;if(0===(i=je(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(n.children===a.children&&!Ib.current){$=Qc(t,$,e);break t}}else for(null!==(l=$.child)&&(l.return=$);null!==l;){var v=l.contextDependencies;if(null!==v){n=l.child;for(var o=v.first;null!==o;){if(o.context===r&&0!=(o.observedBits&i)){1===l.tag&&((o=wd(e)).tag=Bj,Rc(l,o)),l.expirationTime<e&&(l.expirationTime=e),null!==(o=l.alternate)&&o.expirationTime<e&&(o.expirationTime=e),o=e;for(var u=l.return;null!==u;){var c=u.alternate;if(u.childExpirationTime<o)u.childExpirationTime=o,null!==c&&c.childExpirationTime<o&&(c.childExpirationTime=o);else{if(!(null!==c&&c.childExpirationTime<o))break;c.childExpirationTime=o}u=u.return}v.expirationTime<e&&(v.expirationTime=e);break}o=o.next}}else n=10===l.tag&&l.type===$.type?null:l.child;if(null!==n)n.return=l;else for(n=l;null!==n;){if(n===$){n=null;break}if(null!==(l=n.sibling)){l.return=n.return,n=l;break}n=n.return}l=n}}$b(t,$,a.children,e),$=$.child}return $;case 9:return a=$.type,r=(i=$.pendingProps).children,Mf($,e),r=r(a=sc(a,i.unstable_observedBits)),$.effectTag|=1,$b(t,$,r,e),$.child;case 14:return i=Zb(a=$.type,$.pendingProps),qy(t,$,a,i=Zb(a.type,i),r,e);case 15:return ry(t,$,$.type,$.pendingProps,r,e);case 17:return r=$.type,a=$.pendingProps,a=$.elementType===r?a:Zb(r,a),null!==t&&(t.alternate=null,$.alternate=null,$.effectTag|=2),$.tag=1,eb(r)?(t=!0,Tj($)):t=!1,Mf($,e),cy($,r,a,e),zo($,r,a,e),Lo(null,$,r,!0,t,e);}w("156")}function wy(t,$){var e=t.type._context;wb(Wn,e._currentValue,t),e._currentValue=$}function Mo(t){var $=Wn.current;db(Wn,t),t.type._context._currentValue=$}function Mf(t,$){Pw=t,NL=Qw=null;var e=t.contextDependencies;null!==e&&e.expirationTime>=$&&(Ow=!0),t.contextDependencies=null}function sc(t,$){return NL!==t&&!1!==$&&0!==$&&("number"==typeof $&&1073741823!==$||(NL=t,$=1073741823),$={context:t,observedBits:$,next:null},null===Qw?(null===Pw&&w("308"),Qw=$,Pw.contextDependencies={first:$,expirationTime:0}):Qw=Qw.next=$),t._currentValue}function Yj(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function No(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function wd(t){return{expirationTime:t,tag:Rw,payload:null,callback:null,next:null,nextEffect:null}}function Zj(t,$){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=$:(t.lastUpdate.next=$,t.lastUpdate=$)}function Rc(t,$){var e=t.alternate;if(null===e){var r=t.updateQueue,a=null;null===r&&(r=t.updateQueue=Yj(t.memoizedState))}else r=t.updateQueue,a=e.updateQueue,null===r?null===a?(r=t.updateQueue=Yj(t.memoizedState),a=e.updateQueue=Yj(e.memoizedState)):r=t.updateQueue=No(a):null===a&&(a=e.updateQueue=No(r));null===a||r===a?Zj(r,$):null===r.lastUpdate||null===a.lastUpdate?(Zj(r,$),Zj(a,$)):(Zj(r,$),a.lastUpdate=$)}function xy(t,$){var e=t.updateQueue;null===(e=null===e?t.updateQueue=Yj(t.memoizedState):yy(t,e)).lastCapturedUpdate?e.firstCapturedUpdate=e.lastCapturedUpdate=$:(e.lastCapturedUpdate.next=$,e.lastCapturedUpdate=$)}function yy(t,$){var e=t.alternate;return null!==e&&$===e.updateQueue&&($=t.updateQueue=No($)),$}function zy(t,$,e,r,a,i){switch(e.tag){case Sw:return"function"==typeof(t=e.payload)?t.call(i,r,a):t;case Xn:t.effectTag=-2049&t.effectTag|64;case Rw:if(null==(a="function"==typeof(t=e.payload)?t.call(i,r,a):t))break;return Qa({},r,a);case Bj:Cj=!0;}return r}function Bh(t,$,e,r,a){Cj=!1;for(var i=($=yy(t,$)).baseState,n=null,l=0,v=$.firstUpdate,o=i;null!==v;){var u=v.expirationTime;u<a?(null===n&&(n=v,i=o),l<u&&(l=u)):(o=zy(t,$,v,o,e,r),null!==v.callback&&(t.effectTag|=32,v.nextEffect=null,null===$.lastEffect?$.firstEffect=$.lastEffect=v:($.lastEffect.nextEffect=v,$.lastEffect=v))),v=v.next}for(u=null,v=$.firstCapturedUpdate;null!==v;){var c=v.expirationTime;c<a?(null===u&&(u=v,null===n&&(i=o)),l<c&&(l=c)):(o=zy(t,$,v,o,e,r),null!==v.callback&&(t.effectTag|=32,v.nextEffect=null,null===$.lastCapturedEffect?$.firstCapturedEffect=$.lastCapturedEffect=v:($.lastCapturedEffect.nextEffect=v,$.lastCapturedEffect=v))),v=v.next}null===n&&($.lastUpdate=null),null===u?$.lastCapturedUpdate=null:t.effectTag|=32,null===n&&null===u&&(i=o),$.baseState=i,$.firstUpdate=n,$.firstCapturedUpdate=u,t.expirationTime=l,t.memoizedState=o}function Ay(t,$,e){null!==$.firstCapturedUpdate&&(null!==$.lastUpdate&&($.lastUpdate.next=$.firstCapturedUpdate,$.lastUpdate=$.lastCapturedUpdate),$.firstCapturedUpdate=$.lastCapturedUpdate=null),By($.firstEffect,e),$.firstEffect=$.lastEffect=null,By($.firstCapturedEffect,e),$.firstCapturedEffect=$.lastCapturedEffect=null}function By(t,$){for(;null!==t;){var e=t.callback;if(null!==e){t.callback=null;var r=$;"function"!=typeof e&&w("191",e),e.call(r)}t=t.nextEffect}}function $j(t,$){return{value:t,source:$,stack:fo($)}}function Ch(t){t.effectTag|=4}function Cy(t,$){var e=$.source,r=$.stack;null===r&&null!==e&&(r=fo(e)),null!==e&&td(e.type),$=$.value,null!==t&&1===t.tag&&td(t.type);try{console.error($)}catch(a){setTimeout(function(){throw a})}}function Dy(t){var $=t.ref;if(null!==$)if("function"==typeof $)try{$(null)}catch(e){me(t,e)}else $.current=null}function Dh(t,$,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)!==Bf){var a=r.destroy;r.destroy=void 0,void 0!==a&&a()}(r.tag&$)!==Bf&&(a=r.create,r.destroy=a()),r=r.next}while(r!==e)}}function IM(t,$){for(var e=t;;){if(5===e.tag){var r=e.stateNode;if($)r.style.display="none";else{r=e.stateNode;var a=e.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,r.style.display=Sx("display",a)}}else if(6===e.tag)e.stateNode.nodeValue=$?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}}function Ey(t){switch("function"==typeof Dw&&Dw(t),t.tag){case 0:case 11:case 14:case 15:var $=t.updateQueue;if(null!==$&&null!==($=$.lastEffect)){var e=$=$.next;do{var r=e.destroy;if(void 0!==r){var a=t;try{r()}catch(i){me(a,i)}}e=e.next}while(e!==$)}break;case 1:if(Dy(t),"function"==typeof($=t.stateNode).componentWillUnmount)try{$.props=t.memoizedProps,$.state=t.memoizedState,$.componentWillUnmount()}catch(i){me(t,i)}break;case 5:Dy(t);break;case 4:Hy(t);}}function Fy(t){return 5===t.tag||3===t.tag||4===t.tag}function Gy(t){t:{for(var $=t.return;null!==$;){if(Fy($)){var e=$;break t}$=$.return}w("160"),e=void 0}var r=$=void 0;switch(e.tag){case 5:$=e.stateNode,r=!1;break;case 3:case 4:$=e.stateNode.containerInfo,r=!0;break;default:w("161");}16&e.effectTag&&(xh($,""),e.effectTag&=-17);t:$:for(e=t;;){for(;null===e.sibling;){if(null===e.return||Fy(e.return)){e=null;break t}e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.effectTag)continue $;if(null===e.child||4===e.tag)continue $;e.child.return=e,e=e.child}if(!(2&e.effectTag)){e=e.stateNode;break t}}for(var a=t;;){if(5===a.tag||6===a.tag){if(e){if(r){var i=$,n=a.stateNode,l=e;8===i.nodeType?i.parentNode.insertBefore(n,l):i.insertBefore(n,l)}else $.insertBefore(a.stateNode,e);}else r?(n=$,l=a.stateNode,8===n.nodeType?(i=n.parentNode).insertBefore(l,n):(i=n).appendChild(l),null!=(n=n._reactRootContainer)||null!==i.onclick||(i.onclick=Rj)):$.appendChild(a.stateNode);}else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function Hy(t){for(var $=t,e=!1,r=void 0,a=void 0;;){if(!e){e=$.return;t:for(;;){switch(null===e&&w("160"),e.tag){case 5:r=e.stateNode,a=!1;break t;case 3:case 4:r=e.stateNode.containerInfo,a=!0;break t;}e=e.return}e=!0}if(5===$.tag||6===$.tag){t:for(var i=$,n=i;;)if(Ey(n),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===i)break;for(;null===n.sibling;){if(null===n.return||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}a?(i=r,n=$.stateNode,8===i.nodeType?i.parentNode.removeChild(n):i.removeChild(n)):r.removeChild($.stateNode)}else if(4===$.tag){if(null!==$.child){r=$.stateNode.containerInfo,a=!0,$.child.return=$,$=$.child;continue}}else if(Ey($),null!==$.child){$.child.return=$,$=$.child;continue}if($===t)break;for(;null===$.sibling;){if(null===$.return||$.return===t)return;4===($=$.return).tag&&(e=!1)}$.sibling.return=$.return,$=$.sibling}}function Iy(t,$){switch($.tag){case 0:case 11:case 14:case 15:Dh(qh,IL,$);break;case 1:break;case 5:var e=$.stateNode;if(null!=e){var r=$.memoizedProps;t=null!==t?t.memoizedProps:r;var a=$.type,i=$.updateQueue;$.updateQueue=null,null!==i&&BM(e,i,a,t,r,$)}break;case 6:null===$.stateNode&&w("162"),$.stateNode.nodeValue=$.memoizedProps;break;case 3:case 12:break;case 13:if(e=$.memoizedState,r=void 0,t=$,null===e?r=!1:(r=!0,t=$.child,0===e.timedOutAt&&(e.timedOutAt=Sc())),null!==t&&IM(t,r),null!==(e=$.updateQueue)){$.updateQueue=null;var n=$.stateNode;null===n&&(n=$.stateNode=new RL),e.forEach(function(t){var e=QM.bind(null,$,t);n.has(t)||(n.add(t),t.then(e,e))})}break;case 17:break;default:w("163");}}function Oo(t,$,e){(e=wd(e)).tag=Xn,e.payload={element:null};var r=$.value;return e.callback=function(){Qo(r),Cy(t,$)},e}function Jy(t,$,e){(e=wd(e)).tag=Xn;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=$.value;e.payload=function(){return r(a)}}var i=t.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){"function"!=typeof r&&(null===Ef?Ef=new Set([this]):Ef.add(this));var e=$.value,a=$.stack;Cy(t,$),this.componentDidCatch(e,{componentStack:null!==a?a:""})}),e}function JM(t){switch(t.tag){case 1:eb(t.type)&&Sj(t);var $=t.effectTag;return 2048&$?(t.effectTag=-2049&$|64,t):null;case 3:return Kf(t),vo(t),0!=(64&($=t.effectTag))&&w("285"),t.effectTag=-2049&$|64,t;case 5:return Bo(t),null;case 13:return 2048&($=t.effectTag)?(t.effectTag=-2049&$|64,t):null;case 18:return null;case 4:return Kf(t),null;case 10:return Mo(t),null;default:return null;}}function Ky(){if(null!==tb)for(var t=tb.return;null!==t;){var $=t;switch($.tag){case 1:var e=$.type.childContextTypes;null!=e&&Sj($);break;case 3:Kf($),vo($);break;case 5:Bo($);break;case 4:Kf($);break;case 10:Mo($);}t=t.return}Ej=null,Jb=0,Fj=-1,TL=!1,tb=null}function KM(){for(;null!==o;){var t=o.effectTag;if(16&t&&xh(o.stateNode,""),128&t){var $=o.alternate;null!==$&&null!==($=$.ref)&&("function"==typeof $?$(null):$.current=null)}switch(14&t){case 2:Gy(o),o.effectTag&=-3;break;case 6:Gy(o),o.effectTag&=-3,Iy(o.alternate,o);break;case 4:Iy(o.alternate,o);break;case 8:Hy(t=o),t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,null!==(t=t.alternate)&&(t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null);}o=o.nextEffect}}function LM(){for(;null!==o;){if(256&o.effectTag)t:{var t=o.alternate,$=o;switch($.tag){case 0:case 11:case 15:Dh(HL,Bf,$);break t;case 1:if(256&$.effectTag&&null!==t){var e=t.memoizedProps,r=t.memoizedState;$=(t=$.stateNode).getSnapshotBeforeUpdate($.elementType===$.type?e:Zb($.type,e),r),t.__reactInternalSnapshotBeforeUpdate=$}break t;case 3:case 5:case 6:case 4:case 17:break t;default:w("163");}}o=o.nextEffect}}function MM(t,$){for(;null!==o;){var e=o.effectTag;if(36&e){var r=o.alternate,a=o,i=$;switch(a.tag){case 0:case 11:case 15:Dh(JL,rh,a);break;case 1:var n=a.stateNode;if(4&a.effectTag)if(null===r)n.componentDidMount();else{var l=a.elementType===a.type?r.memoizedProps:Zb(a.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}null!==(r=a.updateQueue)&&Ay(a,r,n,i);break;case 3:if(null!==(r=a.updateQueue)){if(n=null,null!==a.child)switch(a.child.tag){case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode;}Ay(a,r,n,i)}break;case 5:i=a.stateNode,null===r&&4&a.effectTag&&Ux(a.type,a.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:w("163");}}128&e&&null!==(a=o.ref)&&(i=o.stateNode,"function"==typeof a?a(i):a.current=i),512&e&&(UL=t),o=o.nextEffect}}function NM(t,$){Yw=Xw=UL=null;var e=Kb;Kb=!0;do{if(512&$.effectTag){var r=!1,a=void 0;try{var i=$;Dh(Tn,Bf,i),Dh(Bf,Sn,i)}catch(n){r=!0,a=n}r&&me($,a)}$=$.nextEffect}while(null!==$);Kb=e,0!==(e=t.expirationTime)&&_j(t,e),sd||Kb||tc(1073741823,!1)}function Nf(){null!==Xw&&GL(Xw),null!==Yw&&Yw()}function OM(t,$){Ww=Dj=!0,t.current===$&&w("177");var e=t.pendingCommitExpirationTime;0===e&&w("261"),t.pendingCommitExpirationTime=0;var r=$.expirationTime,a=$.childExpirationTime;for(FM(t,a>r?a:r),Uw.current=null,r=void 0,1<$.effectTag?null!==$.lastEffect?($.lastEffect.nextEffect=$,r=$.firstEffect):r=$:r=$.firstEffect,CL=vw,DL=yM(),vw=!1,o=r;null!==o;){a=!1;var i=void 0;try{LM()}catch(l){a=!0,i=l}a&&(null===o&&w("178"),me(o,i),null!==o&&(o=o.nextEffect))}for(o=r;null!==o;){a=!1,i=void 0;try{KM()}catch(l){a=!0,i=l}a&&(null===o&&w("178"),me(o,i),null!==o&&(o=o.nextEffect))}for(zM(DL),DL=null,vw=!!CL,CL=null,t.current=$,o=r;null!==o;){a=!1,i=void 0;try{MM(t,e)}catch(l){a=!0,i=l}a&&(null===o&&w("178"),me(o,i),null!==o&&(o=o.nextEffect))}if(null!==r&&null!==UL){var n=NM.bind(null,t,r);Xw=fa.unstable_runWithPriority(fa.unstable_NormalPriority,function(){return FL(n)}),Yw=n}Dj=Ww=!1,"function"==typeof Cw&&Cw($.stateNode),e=$.expirationTime,0===($=($=$.childExpirationTime)>e?$:e)&&(Ef=null),SM(t,$)}function Ly(t){for(;;){var $=t.alternate,e=t.return,r=t.sibling;if(0==(1024&t.effectTag)){tb=t;t:{var a=$,i=Jb,n=($=t).pendingProps;switch($.tag){case 2:case 16:break;case 15:case 0:break;case 1:eb($.type)&&Sj($);break;case 3:Kf($),vo($),(n=$.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==a&&null!==a.child||(Io($),$.effectTag&=-3),Tw($);break;case 5:Bo($);var l=le(ph.current);if(i=$.type,null!==a&&null!=$.stateNode)PL(a,$,i,n,l),a.ref!==$.ref&&($.effectTag|=128);else if(n){var v=le(pc.current);if(Io($)){a=(n=$).stateNode;var o=n.type,u=n.memoizedProps,c=l;switch(a[Kc]=n,a[mj]=u,i=void 0,l=o){case"iframe":case"object":ga("load",a);break;case"video":case"audio":for(o=0;o<gh.length;o++)ga(gh[o],a);break;case"source":ga("error",a);break;case"img":case"image":case"link":ga("error",a),ga("load",a);break;case"form":ga("reset",a),ga("submit",a);break;case"details":ga("toggle",a);break;case"input":yx(a,u),ga("invalid",a),Pc(c,"onChange");break;case"select":a._wrapperState={wasMultiple:!!u.multiple},ga("invalid",a),Pc(c,"onChange");break;case"textarea":Ox(a,u),ga("invalid",a),Pc(c,"onChange");}for(i in ro(l,u),o=null,u)u.hasOwnProperty(i)&&(v=u[i],"children"===i?"string"==typeof v?a.textContent!==v&&(o=["children",v]):"number"==typeof v&&a.textContent!==""+v&&(o=["children",""+v]):wf.hasOwnProperty(i)&&null!=v&&Pc(c,i));switch(l){case"input":Mj(a),Ax(a,u,!0);break;case"textarea":Mj(a),Qx(a,u);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(a.onclick=Rj);}i=o,n.updateQueue=i,(n=null!==i)&&Ch($)}else{u=$,a=i,c=n,o=9===l.nodeType?l:l.ownerDocument,v===Pn.html&&(v=Rx(a)),v===Pn.html?"script"===a?((a=o.createElement("div")).innerHTML="<script></script>",o=a.removeChild(a.firstChild)):"string"==typeof c.is?o=o.createElement(a,{is:c.is}):(o=o.createElement(a),"select"===a&&c.multiple&&(o.multiple=!0)):o=o.createElementNS(v,a),(a=o)[Kc]=u,a[mj]=n,OL(a,$,!1,!1),c=a;var f=l,s=so(o=i,u=n);switch(o){case"iframe":case"object":ga("load",c),l=u;break;case"video":case"audio":for(l=0;l<gh.length;l++)ga(gh[l],c);l=u;break;case"source":ga("error",c),l=u;break;case"img":case"image":case"link":ga("error",c),ga("load",c),l=u;break;case"form":ga("reset",c),ga("submit",c),l=u;break;case"details":ga("toggle",c),l=u;break;case"input":yx(c,u),l=io(c,u),ga("invalid",c),Pc(f,"onChange");break;case"option":l=oo(c,u);break;case"select":c._wrapperState={wasMultiple:!!u.multiple},l=Qa({},u,{value:void 0}),ga("invalid",c),Pc(f,"onChange");break;case"textarea":Ox(c,u),l=po(c,u),ga("invalid",c),Pc(f,"onChange");break;default:l=u;}ro(o,l),v=void 0;var d=o,p=c,h=l;for(v in h)if(h.hasOwnProperty(v)){var m=h[v];"style"===v?Tx(p,m):"dangerouslySetInnerHTML"===v?null!=(m=m?m.__html:void 0)&&Aw(p,m):"children"===v?"string"==typeof m?("textarea"!==d||""!==m)&&xh(p,m):"number"==typeof m&&xh(p,""+m):"suppressContentEditableWarning"!==v&&"suppressHydrationWarning"!==v&&"autoFocus"!==v&&(wf.hasOwnProperty(v)?null!=m&&Pc(f,v):null!=m&&ho(p,v,m,s))}switch(o){case"input":Mj(c),Ax(c,u,!1);break;case"textarea":Mj(c),Qx(c,u);break;case"option":null!=u.value&&c.setAttribute("value",""+ud(u.value));break;case"select":(l=c).multiple=!!u.multiple,null!=(c=u.value)?If(l,!!u.multiple,c,!1):null!=u.defaultValue&&If(l,!!u.multiple,u.defaultValue,!0);break;default:"function"==typeof l.onClick&&(c.onclick=Rj);}(n=Ux(i,n))&&Ch($),$.stateNode=a}null!==$.ref&&($.effectTag|=128)}else null===$.stateNode&&w("166");break;case 6:a&&null!=$.stateNode?QL(a,$,a.memoizedProps,n):("string"!=typeof n&&null===$.stateNode&&w("166"),a=le(ph.current),le(pc.current),Io($)?(i=(n=$).stateNode,a=n.memoizedProps,i[Kc]=n,(n=i.nodeValue!==a)&&Ch($)):(i=$,(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[Kc]=$,i.stateNode=n));break;case 11:break;case 13:if(n=$.memoizedState,0!=(64&$.effectTag)){$.expirationTime=i,tb=$;break t}n=null!==n,i=null!==a&&null!==a.memoizedState,null!==a&&!n&&i&&null!==(a=a.child.sibling)&&(null!==(l=$.firstEffect)?($.firstEffect=a,a.nextEffect=l):($.firstEffect=$.lastEffect=a,a.nextEffect=null),a.effectTag=8),(n||i)&&($.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Kf($),Tw($);break;case 10:Mo($);break;case 9:case 14:break;case 17:eb($.type)&&Sj($);break;case 18:break;default:w("156");}tb=null}if($=t,1===Jb||1!==$.childExpirationTime){for(n=0,i=$.child;null!==i;)(a=i.expirationTime)>n&&(n=a),(l=i.childExpirationTime)>n&&(n=l),i=i.sibling;$.childExpirationTime=n}if(null!==tb)return tb;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(t=JM(t,Jb)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==r)return r;if(null===e)break;t=e}return null}function My(t){var $=HM(t.alternate,t,Jb);return t.memoizedProps=t.pendingProps,null===$&&($=Ly(t)),Uw.current=null,$}function Ny(t,$){Dj&&w("243"),Nf(),Dj=!0;var e=Yn.current;Yn.current=Un;var r=t.nextExpirationTimeToWorkOn;r===Jb&&t===Ej&&null!==tb||(Ky(),Jb=r,tb=ke((Ej=t).current,null,Jb),t.pendingCommitExpirationTime=0);for(var a=!1;;){try{if($)for(;null!==tb&&!bk();)tb=My(tb);else for(;null!==tb;)tb=My(tb)}catch(h){if(NL=Qw=Pw=null,Eo(),null===tb)a=!0,Qo(h);else{null===tb&&w("271");var i=tb,n=i.return;if(null!==n){t:{var l=t,v=n,o=i,u=h;if(n=Jb,o.effectTag|=1024,o.firstEffect=o.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;u=v;var f=-1,s=-1;do{if(13===u.tag){var d=u.alternate;if(null!==d&&null!==(d=d.memoizedState)){s=10*(1073741822-d.timedOutAt);break}"number"==typeof(d=u.pendingProps.maxDuration)&&(0>=d?f=0:(-1===f||d<f)&&(f=d))}u=u.return}while(null!==u);u=v;do{if((d=13===u.tag)&&(d=void 0!==u.memoizedProps.fallback&&null===u.memoizedState),d){if(null===(v=u.updateQueue)?((v=new Set).add(c),u.updateQueue=v):v.add(c),0==(1&u.mode)){u.effectTag|=64,o.effectTag&=-1957,1===o.tag&&(null===o.alternate?o.tag=17:((n=wd(1073741823)).tag=Bj,Rc(o,n))),o.expirationTime=1073741823;break t}v=n;var p=(o=l).pingCache;null===p?(p=o.pingCache=new SL,d=new Set,p.set(c,d)):void 0===(d=p.get(c))&&(d=new Set,p.set(c,d)),d.has(v)||(d.add(v),o=PM.bind(null,o,c,v),c.then(o,o)),-1===f?l=1073741823:(-1===s&&(s=10*(1073741822-ay(l,n))-5e3),l=s+f),0<=l&&Fj<l&&(Fj=l),u.effectTag|=2048,u.expirationTime=n;break t}u=u.return}while(null!==u);u=Error((td(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+fo(o))}TL=!0,u=$j(u,o),l=v;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=n,xy(l,n=Oo(l,u,n));break t;case 1:if(f=u,s=l.type,o=l.stateNode,0==(64&l.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==o&&"function"==typeof o.componentDidCatch&&(null===Ef||!Ef.has(o)))){l.effectTag|=2048,l.expirationTime=n,xy(l,n=Jy(l,f,n));break t}}l=l.return}while(null!==l)}tb=Ly(i);continue}a=!0,Qo(h)}}break}if(Dj=!1,Yn.current=e,NL=Qw=Pw=null,Eo(),a)Ej=null,t.finishedWork=null;else if(null!==tb)t.finishedWork=null;else{if(null===(e=t.current.alternate)&&w("281"),Ej=null,TL){if(a=t.latestPendingTime,i=t.latestSuspendedTime,n=t.latestPingedTime,0!==a&&a<r||0!==i&&i<r||0!==n&&n<r)return _x(t,r),void Po(t,e,r,t.expirationTime,-1);if(!t.didError&&$)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,$=t.expirationTime=1073741823,void Po(t,e,r,$,-1)}$&&-1!==Fj?(_x(t,r),($=10*(1073741822-ay(t,r)))<Fj&&(Fj=$),$=10*(1073741822-Sc()),$=Fj-$,Po(t,e,r,t.expirationTime,0>$?0:$)):(t.pendingCommitExpirationTime=r,t.finishedWork=e)}}function me(t,$){for(var e=t.return;null!==e;){switch(e.tag){case 1:var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ef||!Ef.has(r)))return Rc(e,t=Jy(e,t=$j($,t),1073741823)),void xd(e,1073741823);break;case 3:return Rc(e,t=Oo(e,t=$j($,t),1073741823)),void xd(e,1073741823);}e=e.return}3===t.tag&&(Rc(t,e=Oo(t,e=$j($,t),1073741823)),xd(t,1073741823))}function Of(t,$){var e=fa.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&$.mode))r=1073741823;else if(Dj&&!Ww)r=Jb;else{switch(e){case fa.unstable_ImmediatePriority:r=1073741823;break;case fa.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-t+15)/10|0));break;case fa.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-t+500)/25|0));break;case fa.unstable_LowPriority:case fa.unstable_IdlePriority:r=1;break;default:w("313");}null!==Ej&&r===Jb&&--r}return e===fa.unstable_UserBlockingPriority&&(0===Ff||r<Ff)&&(Ff=r),r}function PM(t,$,e){var r=t.pingCache;null!==r&&r.delete($),null!==Ej&&Jb===e?Ej=null:($=t.earliestSuspendedTime,r=t.latestSuspendedTime,0!==$&&e<=$&&e>=r&&(t.didError=!1,(0===($=t.latestPingedTime)||$>e)&&(t.latestPingedTime=e),Vj(e,t),0!==(e=t.expirationTime)&&_j(t,e)))}function QM(t,$){var e=t.stateNode;null!==e&&e.delete($),null!==(t=Oy(t,$=Of($=Sc(),t)))&&(yh(t,$),0!==($=t.expirationTime)&&_j(t,$))}function Oy(t,$){t.expirationTime<$&&(t.expirationTime=$);var e=t.alternate;null!==e&&e.expirationTime<$&&(e.expirationTime=$);var r=t.return,a=null;if(null===r&&3===t.tag)a=t.stateNode;else for(;null!==r;){if(e=r.alternate,r.childExpirationTime<$&&(r.childExpirationTime=$),null!==e&&e.childExpirationTime<$&&(e.childExpirationTime=$),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return a}function xd(t,$){null!==(t=Oy(t,$))&&(!Dj&&0!==Jb&&$>Jb&&Ky(),yh(t,$),Dj&&!Ww&&Ej===t||_j(t,t.expirationTime),bx>WL&&(bx=0,w("185")))}function Py(t,$,e,r,a){return fa.unstable_runWithPriority(fa.unstable_ImmediatePriority,function(){return t($,e,r,a)})}function Eh(){Nc=1073741822-((fa.unstable_now()-$n)/10|0)}function Qy(t,$){if(0!==Zw){if($<Zw)return;null!==$w&&fa.unstable_cancelCallback($w)}Zw=$,t=fa.unstable_now()-$n,$w=fa.unstable_scheduleCallback(TM,{timeout:10*(1073741822-$)-t})}function Po(t,$,e,r,a){t.expirationTime=r,0!==a||bk()?0<a&&(t.timeoutHandle=EL(RM.bind(null,t,$,e),a)):(t.pendingCommitExpirationTime=e,t.finishedWork=$)}function RM(t,$,e){t.pendingCommitExpirationTime=e,t.finishedWork=$,Eh(),ax=Nc,Ry(t,e)}function SM(t,$){t.expirationTime=$,t.finishedWork=null}function Sc(){return Kb?ax:(ak(),0!==Lb&&1!==Lb||(Eh(),ax=Nc),ax)}function _j(t,$){null===t.nextScheduledRoot?(t.expirationTime=$,null===rd?(ge=rd=t,t.nextScheduledRoot=t):(rd=rd.nextScheduledRoot=t).nextScheduledRoot=ge):$>t.expirationTime&&(t.expirationTime=$),Kb||(sd?_w&&(he=t,Lb=1073741823,ck(t,1073741823,!1)):1073741823===$?tc(1073741823,!1):Qy(t,$))}function ak(){var t=0,$=null;if(null!==rd)for(var e=rd,r=ge;null!==r;){var a=r.expirationTime;if(0===a){if((null===e||null===rd)&&w("244"),r===r.nextScheduledRoot){ge=rd=r.nextScheduledRoot=null;break}if(r===ge)ge=a=r.nextScheduledRoot,rd.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===rd){(rd=e).nextScheduledRoot=ge,r.nextScheduledRoot=null;break}e.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=e.nextScheduledRoot}else{if(a>t&&(t=a,$=r),r===rd)break;if(1073741823===t)break;e=r,r=r.nextScheduledRoot}}he=$,Lb=t}function bk(){return!!cx||!!fa.unstable_shouldYield()&&(cx=!0)}function TM(){try{if(!bk()&&null!==ge){Eh();var t=ge;do{var $=t.expirationTime;0!==$&&Nc<=$&&(t.nextExpirationTimeToWorkOn=Nc),t=t.nextScheduledRoot}while(t!==ge)}tc(0,!0)}finally{cx=!1}}function tc(t,$){if(ak(),$)for(Eh(),ax=Nc;null!==he&&0!==Lb&&t<=Lb&&!(cx&&Nc>Lb);)ck(he,Lb,Nc>Lb),ak(),Eh(),ax=Nc;else for(;null!==he&&0!==Lb&&t<=Lb;)ck(he,Lb,!1),ak();if($&&(Zw=0,$w=null),0!==Lb&&Qy(he,Lb),bx=0,XL=null,null!==Gj)for(t=Gj,Gj=null,$=0;$<t.length;$++){var e=t[$];try{e._onComplete()}catch(r){Zn||(Zn=!0,VL=r)}}if(Zn)throw t=VL,VL=null,Zn=!1,t}function Ry(t,$){Kb&&w("253"),he=t,Lb=$,ck(t,$,!1),tc(1073741823,!1)}function ck(t,$,e){if(Kb&&w("245"),Kb=!0,e){var r=t.finishedWork;null!==r?dk(t,r,$):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,Bw(r)),Ny(t,e),null!==(r=t.finishedWork)&&(bk()?t.finishedWork=r:dk(t,r,$)))}else null!==(r=t.finishedWork)?dk(t,r,$):(t.finishedWork=null,-1!==(r=t.timeoutHandle)&&(t.timeoutHandle=-1,Bw(r)),Ny(t,e),null!==(r=t.finishedWork)&&dk(t,r,$));Kb=!1}function dk(t,$,e){var r=t.firstBatch;if(null!==r&&r._expirationTime>=e&&(null===Gj?Gj=[r]:Gj.push(r),r._defer))return t.finishedWork=$,void(t.expirationTime=0);t.finishedWork=null,t===XL?bx++:(XL=t,bx=0),fa.unstable_runWithPriority(fa.unstable_ImmediatePriority,function(){OM(t,$)})}function Qo(t){null===he&&w("246"),he.expirationTime=0,Zn||(Zn=!0,VL=t)}function Sy(t,$){var e=sd;sd=!0;try{return t($)}finally{(sd=e)||Kb||tc(1073741823,!1)}}function Ty(t,$){if(sd&&!_w){_w=!0;try{return t($)}finally{_w=!1}}return t($)}function Uy(t,$,e){sd||Kb||0===Ff||(tc(Ff,!1),Ff=0);var r=sd;sd=!0;try{return fa.unstable_runWithPriority(fa.unstable_UserBlockingPriority,function(){return t($,e)})}finally{(sd=r)||Kb||tc(1073741823,!1)}}function Vy(t,$,e,r,a){var i=$.current;t:if(e){$:{2===wh(e=e._reactInternalFiber)&&1===e.tag||w("170");var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break $;case 1:if(eb(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break $}}n=n.return}while(null!==n);w("171"),n=void 0}if(1===e.tag){var l=e.type;if(eb(l)){e=Xx(e,l,n);break t}}e=n}else e=qd;return null===$.context?$.context=e:$.pendingContext=e,$=a,(a=wd(r)).payload={element:t},null!==($=void 0===$?null:$)&&(a.callback=$),Nf(),Rc(i,a),xd(i,r),r}function Ro(t,$,e,r){var a=$.current;return Vy(t,$,e,a=Of(Sc(),a),r)}function So(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode;}}function UM(t,$,e){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:yf,key:null==r?null:""+r,children:t,containerInfo:$,implementation:e}}function Fh(t){var $=1073741822-25*(1+((1073741822-Sc()+500)/25|0));$>=Vw&&($=Vw-1),this._expirationTime=Vw=$,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Pf(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Qf(t,$,e){t={current:$=qc(3,null,null,$?3:0),containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:e,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=$.stateNode=t}function Rf(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function VM(t,$){if($||($=!(!($=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==$.nodeType||!$.hasAttribute("data-reactroot"))),!$)for(var e;e=t.lastChild;)t.removeChild(e);return new Qf(t,!1,$)}function ek(t,$,e,r,a){var i=e._reactRootContainer;if(i){if("function"==typeof a){var n=a;a=function(){var t=So(i._internalRoot);n.call(t)}}null!=t?i.legacy_renderSubtreeIntoContainer(t,$,a):i.render($,a)}else{if(i=e._reactRootContainer=VM(e,r),"function"==typeof a){var l=a;a=function(){var t=So(i._internalRoot);l.call(t)}}Ty(function(){null!=t?i.legacy_renderSubtreeIntoContainer(t,$,a):i.render($,a)})}return So(i._internalRoot)}function Wy(t,$){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Rf($)||w("200"),UM(t,$,null,e)}function WM(t,$){return Rf(t)||w("299","unstable_createRoot"),new Qf(t,!0,null!=$&&!0===$.hydrate)}function XM(){if(YL)return;YL=true;MK={};kj=(V(),E);Qa=(Bv(),zv);fa=(LK(),JK);kj||w("227");Xv=!1;NK=null;Yv=!1;OK=null;PK={onError:function(t){Xv=!0,NK=t}};Bn=null;vf={};lj=[];Cn={};wf={};Dn={};Zv=null;QK=null;RK=null;En=null;Fn={injectEventPluginOrder:function(t){Bn&&w("101"),Bn=Array.prototype.slice.call(t),gx()},injectEventPluginsByName:function(t){var $,e=!1;for($ in t)if(t.hasOwnProperty($)){var r=t[$];vf.hasOwnProperty($)&&vf[$]===r||(vf[$]&&w("102",$),vf[$]=r,e=!0)}e&&gx()}};$v=Math.random().toString(36).slice(2);Kc="__reactInternalInstance$"+$v;mj="__reactEventHandlers$"+$v;od=!("undefined"==typeof window||!window.document||!window.document.createElement);xf={animationend:Ij("Animation","AnimationEnd"),animationiteration:Ij("Animation","AnimationIteration"),animationstart:Ij("Animation","AnimationStart"),transitionend:Ij("Transition","TransitionEnd")};Gn={};SK={};od&&(SK=document.createElement("div").style,"AnimationEvent"in window||(delete xf.animationend.animation,delete xf.animationiteration.animation,delete xf.animationstart.animation),"TransitionEvent"in window||delete xf.transitionend.transition);_v=Jj("animationend");aw=Jj("animationiteration");bw=Jj("animationstart");cw=Jj("transitionend");gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");hh=null;TK=null;dw=null;Qa(ub.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Kj)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Kj)},persist:function(){this.isPersistent=Kj},isPersistent:Lj,destructor:function(){var t,$=this.constructor.Interface;for(t in $)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Lj,this._dispatchInstances=this._dispatchListeners=null}}),ub.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ub.extend=function(t){function $(){}function e(){return r.apply(this,arguments)}var r=this;$.prototype=r.prototype;var a=new $;return Qa(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=Qa({},r.Interface,t),e.extend=r.extend,nx(e),e},nx(ub);UK=ub.extend({data:null});VK=ub.extend({data:null});WK=[9,13,27,32];Hn=od&&"CompositionEvent"in window;nj=null;od&&"documentMode"in document&&(nj=document.documentMode);XK=od&&"TextEvent"in window&&!nj;ew=od&&(!Hn||nj&&8<nj&&11>=nj);fw=String.fromCharCode(32);Lc={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}};YK=!1;oj=!1;ZK={eventTypes:Lc,extractEvents:function(t,$,e,r){var a=void 0,i=void 0;if(Hn)t:{switch(t){case"compositionstart":a=Lc.compositionStart;break t;case"compositionend":a=Lc.compositionEnd;break t;case"compositionupdate":a=Lc.compositionUpdate;break t;}a=void 0}else oj?ox(t,e)&&(a=Lc.compositionEnd):"keydown"===t&&229===e.keyCode&&(a=Lc.compositionStart);return a?(ew&&"ko"!==e.locale&&(oj||a!==Lc.compositionStart?a===Lc.compositionEnd&&oj&&(i=mx()):(TK="value"in(hh=r)?hh.value:hh.textContent,oj=!0)),a=UK.getPooled(a,$,e,r),i?a.data=i:null!==(i=px(e))&&(a.data=i),Hf(a),i=a):i=null,(t=XK?gM(t,e):hM(t,e))?(($=VK.getPooled(Lc.beforeInput,$,e,r)).data=t,Hf($)):$=null,null===i?$:null===$?i:[i,$]}};gw=null;pj=null;qj=null;$K=!1;_K={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};fe=kj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;fe.hasOwnProperty("ReactCurrentDispatcher")||(fe.ReactCurrentDispatcher={current:null});aL=/^(.*)[\\\/]/;Hb="function"==typeof Symbol&&Symbol.for;rj=Hb?Symbol.for("react.element"):60103;yf=Hb?Symbol.for("react.portal"):60106;pd=Hb?Symbol.for("react.fragment"):60107;In=Hb?Symbol.for("react.strict_mode"):60108;sj=Hb?Symbol.for("react.profiler"):60114;hw=Hb?Symbol.for("react.provider"):60109;iw=Hb?Symbol.for("react.context"):60110;Jn=Hb?Symbol.for("react.concurrent_mode"):60111;Kn=Hb?Symbol.for("react.forward_ref"):60112;tj=Hb?Symbol.for("react.suspense"):60113;Ln=Hb?Symbol.for("react.memo"):60115;jw=Hb?Symbol.for("react.lazy"):60116;kw="function"==typeof Symbol&&Symbol.iterator;bL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/;lw=Object.prototype.hasOwnProperty;mw={};nw={};Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ra[t]=new vb(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var $=t[0];Ra[$]=new vb($,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ra[t]=new vb(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ra[t]=new vb(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ra[t]=new vb(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){Ra[t]=new vb(t,3,!0,t,null)}),["capture","download"].forEach(function(t){Ra[t]=new vb(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){Ra[t]=new vb(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){Ra[t]=new vb(t,5,!1,t.toLowerCase(),null)});Mn=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var $=t.replace(Mn,go);Ra[$]=new vb($,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var $=t.replace(Mn,go);Ra[$]=new vb($,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var $=t.replace(Mn,go);Ra[$]=new vb($,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(t){Ra[t]=new vb(t,1,!1,t.toLowerCase(),null)});ow={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};pw=null;Nn=null;qw=!1;od&&(qw=vx("input")&&(!document.documentMode||9<document.documentMode));cL={eventTypes:ow,_isInputEventSupported:qw,extractEvents:function(t,$,e,r){var a=$?ie($):window,i=void 0,n=void 0,l=a.nodeName&&a.nodeName.toLowerCase();if("select"===l||"input"===l&&"file"===a.type?i=qM:ux(a)?qw?i=uM:(i=sM,n=rM):(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=tM),i&&(i=i(t,$)))return Bx(i,e,r);n&&n(t,a,$),"blur"===t&&(t=a._wrapperState)&&t.controlled&&"number"===a.type&&ko(a,"number",a.value)}};ih=ub.extend({view:null,detail:null});dL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};eL=0;fL=0;gL=!1;hL=!1;jh=ih.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:lo,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var $=eL;return eL=t.screenX,gL?"mousemove"===t.type?t.screenX-$:0:(gL=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var $=fL;return fL=t.screenY,hL?"mousemove"===t.type?t.screenY-$:0:(hL=!0,0)}});rw=jh.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null});kh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}};iL={eventTypes:kh,extractEvents:function(t,$,e,r){var a="mouseover"===t||"pointerover"===t,i="mouseout"===t||"pointerout"===t;if(a&&(e.relatedTarget||e.fromElement)||!i&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i?(i=$,$=($=e.relatedTarget||e.toElement)?Hj($):null):i=null,i===$)return null;var n=void 0,l=void 0,v=void 0,o=void 0;"mouseout"===t||"mouseover"===t?(n=jh,l=kh.mouseLeave,v=kh.mouseEnter,o="mouse"):"pointerout"!==t&&"pointerover"!==t||(n=rw,l=kh.pointerLeave,v=kh.pointerEnter,o="pointer");var u=null==i?a:ie(i);if(a=null==$?a:ie($),(t=n.getPooled(l,i,e,r)).type=o+"leave",t.target=u,t.relatedTarget=a,(e=n.getPooled(v,$,e,r)).type=o+"enter",e.target=a,e.relatedTarget=u,r=$,i&&r)t:{for(a=r,o=0,n=$=i;n;n=Oc(n))o++;for(n=0,v=a;v;v=Oc(v))n++;for(;0<o-n;)$=Oc($),o--;for(;0<n-o;)a=Oc(a),n--;for(;o--;){if($===a||$===a.alternate)break t;$=Oc($),a=Oc(a)}$=null}else $=null;for(a=$,$=[];i&&i!==a&&(null===(o=i.alternate)||o!==a);)$.push(i),i=Oc(i);for(i=[];r&&r!==a&&(null===(o=r.alternate)||o!==a);)i.push(r),r=Oc(r);for(r=0;r<$.length;r++)co($[r],"bubbled",t);for(r=i.length;0<r--;)co(i[r],"captured",e);return[t,e]}};jL=Object.prototype.hasOwnProperty;kL=ub.extend({animationName:null,elapsedTime:null,pseudoElement:null});lL=ub.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}});mL=ih.extend({relatedTarget:null});nL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};oL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};pL=ih.extend({key:function(t){if(t.key){var $=nL[t.key]||t.key;if("Unidentified"!==$)return $}return"keypress"===t.type?13===(t=Oj(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?oL[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:lo,charCode:function(t){return"keypress"===t.type?Oj(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Oj(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}});qL=jh.extend({dataTransfer:null});rL=ih.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:lo});sL=ub.extend({propertyName:null,elapsedTime:null,pseudoElement:null});tL=jh.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null});uL=[["abort","abort"],[_v,"animationEnd"],[aw,"animationIteration"],[bw,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[cw,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]];sw={};On={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){Gx(t,!0)}),uL.forEach(function(t){Gx(t,!1)});tw={eventTypes:sw,isInteractiveTopLevelEventType:function(t){return void 0!==(t=On[t])&&!0===t.isInteractive},extractEvents:function(t,$,e,r){var a=On[t];if(!a)return null;switch(t){case"keypress":if(0===Oj(e))return null;case"keydown":case"keyup":t=pL;break;case"blur":case"focus":t=mL;break;case"click":if(2===e.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=rL;break;case _v:case aw:case bw:t=kL;break;case cw:t=sL;break;case"scroll":t=ih;break;case"wheel":t=tL;break;case"copy":case"cut":case"paste":t=lL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=rw;break;default:t=ub;}return Hf($=t.getPooled(a,$,e,r)),$}};uw=tw.isInteractiveTopLevelEventType;uj=[];vw=!0;ww={};vL=0;vj="_reactListenersID"+(""+Math.random()).slice(2);wL=od&&"documentMode"in document&&11>=document.documentMode;xw={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}};wj=null;xL=null;yw=null;yL=!1;zL={eventTypes:xw,extractEvents:function(t,$,e,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){t:{i=Ix(i),a=Dn.onSelect;for(var n=0;n<a.length;n++){var l=a[n];if(!i.hasOwnProperty(l)||!i[l]){i=!1;break t}}i=!0}a=!i}if(a)return null;switch(i=$?ie($):window,t){case"focus":(ux(i)||"true"===i.contentEditable)&&(wj=i,xL=$,yw=null);break;case"blur":yw=xL=wj=null;break;case"mousedown":yL=!0;break;case"contextmenu":case"mouseup":case"dragend":return yL=!1,Nx(e,r);case"selectionchange":if(wL)break;case"keydown":case"keyup":return Nx(e,r);}return null}};Fn.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Zv=bo,QK=kx,RK=ie,Fn.injectEventPluginsByName({SimpleEventPlugin:tw,EnterLeaveEventPlugin:iL,ChangeEventPlugin:cL,SelectEventPlugin:zL,BeforeInputEventPlugin:ZK});Pn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};zw=void 0;Aw=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function($,e,r,a){MSApp.execUnsafeLocalFunction(function(){return t($,e)})}:t}(function(t,$){if(t.namespaceURI!==Pn.svg||"innerHTML"in t)t.innerHTML=$;else{for((zw=zw||document.createElement("div")).innerHTML="<svg>"+$+"</svg>",$=zw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;$.firstChild;)t.appendChild($.firstChild)}});lh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};AL=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(t){AL.forEach(function($){$=$+t.charAt(0).toUpperCase()+t.substring(1),lh[$]=lh[t]})});BL=Qa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});CL=null;DL=null;EL="function"==typeof setTimeout?setTimeout:void 0;Bw="function"==typeof clearTimeout?clearTimeout:void 0;FL=fa.unstable_scheduleCallback;GL=fa.unstable_cancelCallback;new Set;Qn=[];mh=-1;qd={};cb={current:qd};Ib={current:!1};zf=qd;Cw=null;Dw=null;Ew=new kj.Component().refs;xj={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===wh(t)},enqueueSetState:function(t,$,e){t=t._reactInternalFiber;var r=Sc(),a=wd(r=Of(r,t));a.payload=$,null!=e&&(a.callback=e),Nf(),Rc(t,a),xd(t,r)},enqueueReplaceState:function(t,$,e){t=t._reactInternalFiber;var r=Sc(),a=wd(r=Of(r,t));a.tag=Sw,a.payload=$,null!=e&&(a.callback=e),Nf(),Rc(t,a),xd(t,r)},enqueueForceUpdate:function(t,$){t=t._reactInternalFiber;var e=Sc(),r=wd(e=Of(e,t));r.tag=Bj,null!=$&&(r.callback=$),Nf(),Rc(t,r),xd(t,e)}};yj=Array.isArray;Af=ey(!0);Rn=ey(!1);nh={};pc={current:nh};oh={current:nh};ph={current:nh};Bf=0;HL=2;qh=4;IL=8;JL=16;rh=32;Sn=64;Tn=128;zj=fe.ReactCurrentDispatcher;Fw=0;sh=null;Mc=null;Aj=null;Gw=null;Cf=null;Hw=null;Iw=0;th=null;KL=0;Jw=!1;Df=null;Kw=0;Un={readContext:sc,useCallback:rc,useContext:rc,useEffect:rc,useImperativeHandle:rc,useLayoutEffect:rc,useMemo:rc,useReducer:rc,useRef:rc,useState:rc,useDebugValue:rc};LL={readContext:sc,useCallback:function(t,$){return Lf().memoizedState=[t,void 0===$?null:$],t},useContext:sc,useEffect:function(t,$){return Go(516,Tn|Sn,t,$)},useImperativeHandle:function(t,$,e){return e=null!=e?e.concat([t]):null,Go(4,qh|rh,iy.bind(null,$,t),e)},useLayoutEffect:function(t,$){return Go(4,qh|rh,t,$)},useMemo:function(t,$){var e=Lf();return $=void 0===$?null:$,t=t(),e.memoizedState=[t,$],t},useReducer:function(t,$,e){var r=Lf();return $=void 0!==e?e($):$,r.memoizedState=r.baseState=$,t=(t=r.queue={last:null,dispatch:null,eagerReducer:t,eagerState:$}).dispatch=ky.bind(null,sh,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Lf().memoizedState=t},useState:function(t){var $=Lf();return"function"==typeof t&&(t=t()),$.memoizedState=$.baseState=t,t=(t=$.queue={last:null,dispatch:null,eagerReducer:gy,eagerState:t}).dispatch=ky.bind(null,sh,t),[$.memoizedState,t]},useDebugValue:jy};Lw={readContext:sc,useCallback:function(t,$){var e=Ah();$=void 0===$?null:$;var r=e.memoizedState;return null!==r&&null!==$&&Co($,r[1])?r[0]:(e.memoizedState=[t,$],t)},useContext:sc,useEffect:function(t,$){return Ho(516,Tn|Sn,t,$)},useImperativeHandle:function(t,$,e){return e=null!=e?e.concat([t]):null,Ho(4,qh|rh,iy.bind(null,$,t),e)},useLayoutEffect:function(t,$){return Ho(4,qh|rh,t,$)},useMemo:function(t,$){var e=Ah();$=void 0===$?null:$;var r=e.memoizedState;return null!==r&&null!==$&&Co($,r[1])?r[0]:(t=t(),e.memoizedState=[t,$],t)},useReducer:hy,useRef:function(){return Ah().memoizedState},useState:function(t){return hy(gy,t)},useDebugValue:jy};Vn=null;Mw=null;Nw=!1;ML=fe.ReactCurrentOwner;Ow=!1;Wn={current:null};Pw=null;Qw=null;NL=null;Rw=0;Sw=1;Bj=2;Xn=3;Cj=!1;OL=void 0;Tw=void 0;PL=void 0;QL=void 0;OL=function(t,$){for(var e=$.child;null!==e;){if(5===e.tag||6===e.tag)t.appendChild(e.stateNode);else if(4!==e.tag&&null!==e.child){e.child.return=e,e=e.child;continue}if(e===$)break;for(;null===e.sibling;){if(null===e.return||e.return===$)return;e=e.return}e.sibling.return=e.return,e=e.sibling}},Tw=function(){},PL=function(t,$,e,r,a){var i=t.memoizedProps;if(i!==r){var n=$.stateNode;switch(le(pc.current),t=null,e){case"input":i=io(n,i),r=io(n,r),t=[];break;case"option":i=oo(n,i),r=oo(n,r),t=[];break;case"select":i=Qa({},i,{value:void 0}),r=Qa({},r,{value:void 0}),t=[];break;case"textarea":i=po(n,i),r=po(n,r),t=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(n.onclick=Rj);}ro(e,r),n=e=void 0;var l=null;for(e in i)if(!r.hasOwnProperty(e)&&i.hasOwnProperty(e)&&null!=i[e])if("style"===e){var v=i[e];for(n in v)v.hasOwnProperty(n)&&(l||(l={}),l[n]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(wf.hasOwnProperty(e)?t||(t=[]):(t=t||[]).push(e,null));for(e in r){var o=r[e];if(v=null!=i?i[e]:void 0,r.hasOwnProperty(e)&&o!==v&&(null!=o||null!=v))if("style"===e){if(v){for(n in v)!v.hasOwnProperty(n)||o&&o.hasOwnProperty(n)||(l||(l={}),l[n]="");for(n in o)o.hasOwnProperty(n)&&v[n]!==o[n]&&(l||(l={}),l[n]=o[n])}else l||(t||(t=[]),t.push(e,l)),l=o;}else"dangerouslySetInnerHTML"===e?(o=o?o.__html:void 0,v=v?v.__html:void 0,null!=o&&v!==o&&(t=t||[]).push(e,""+o)):"children"===e?v===o||"string"!=typeof o&&"number"!=typeof o||(t=t||[]).push(e,""+o):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(wf.hasOwnProperty(e)?(null!=o&&Pc(a,e),t||v===o||(t=[])):(t=t||[]).push(e,o))}l&&(t=t||[]).push("style",l),a=t,($.updateQueue=a)&&Ch($)}},QL=function(t,$,e,r){e!==r&&Ch($)};RL="function"==typeof WeakSet?WeakSet:Set;SL="function"==typeof WeakMap?WeakMap:Map;Yn=fe.ReactCurrentDispatcher;Uw=fe.ReactCurrentOwner;Vw=1073741822;Dj=!1;tb=null;Ej=null;Jb=0;Fj=-1;TL=!1;o=null;Ww=!1;UL=null;Xw=null;Yw=null;Ef=null;ge=null;rd=null;Zw=0;$w=void 0;Kb=!1;he=null;Lb=0;Ff=0;Zn=!1;VL=null;sd=!1;_w=!1;Gj=null;$n=fa.unstable_now();Nc=1073741822-($n/10|0);ax=Nc;WL=50;bx=0;XL=null;cx=!1;gw=function(t,$,e){switch($){case"input":if(jo(t,e),$=e.name,"radio"===e.type&&null!=$){for(e=t;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+$)+"][type=\"radio\"]"),$=0;$<e.length;$++){var r=e[$];if(r!==t&&r.form===t.form){var a=bo(r);a||w("90"),xx(r),jo(r,a)}}}break;case"textarea":Px(t,e);break;case"select":null!=($=e.value)&&If(t,!!e.multiple,$,!1);}},Fh.prototype.render=function(t){this._defer||w("250"),this._hasChildren=!0,this._children=t;var $=this._root._internalRoot,e=this._expirationTime,r=new Pf;return Vy(t,$,null,e,r._onCommit),r},Fh.prototype.then=function(t){if(this._didComplete)t();else{var $=this._callbacks;null===$&&($=this._callbacks=[]),$.push(t)}},Fh.prototype.commit=function(){var t=this._root._internalRoot,$=t.firstBatch;if(this._defer&&null!==$||w("251"),this._hasChildren){var e=this._expirationTime;if($!==this){this._hasChildren&&(e=this._expirationTime=$._expirationTime,this.render(this._children));for(var r=null,a=$;a!==this;)r=a,a=a._next;null===r&&w("251"),r._next=a._next,this._next=$,t.firstBatch=this}this._defer=!1,Ry(t,e),$=this._next,this._next=null,null!==($=t.firstBatch=$)&&$._hasChildren&&$.render($._children)}else this._next=null,this._defer=!1},Fh.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var $=0;$<t.length;$++)(0,t[$])()}},Pf.prototype.then=function(t){if(this._didCommit)t();else{var $=this._callbacks;null===$&&($=this._callbacks=[]),$.push(t)}},Pf.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var $=0;$<t.length;$++){var e=t[$];"function"!=typeof e&&w("191",e),e()}}},Qf.prototype.render=function(t,$){var e=this._internalRoot,r=new Pf;return null!==($=void 0===$?null:$)&&r.then($),Ro(t,e,null,r._onCommit),r},Qf.prototype.unmount=function(t){var $=this._internalRoot,e=new Pf;return null!==(t=void 0===t?null:t)&&e.then(t),Ro(null,$,null,e._onCommit),e},Qf.prototype.legacy_renderSubtreeIntoContainer=function(t,$,e){var r=this._internalRoot,a=new Pf;return null!==(e=void 0===e?null:e)&&a.then(e),Ro($,r,t,a._onCommit),a},Qf.prototype.createBatch=function(){var t=new Fh(this),$=t._expirationTime,e=this._internalRoot,r=e.firstBatch;if(null===r)e.firstBatch=t,t._next=null;else{for(e=null;null!==r&&r._expirationTime>=$;)e=r,r=r._next;t._next=r,null!==e&&(e._next=t)}return t},iM=Sy,jM=Uy,kM=function(){Kb||0===Ff||(tc(Ff,!1),Ff=0)};dx={createPortal:Wy,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var $=t._reactInternalFiber;return void 0===$&&("function"==typeof t.render?w("188"):w("268",Object.keys(t))),t=null===(t=Fx($))?null:t.stateNode},hydrate:function(t,$,e){return Rf($)||w("200"),ek(null,t,$,!0,e)},render:function(t,$,e){return Rf($)||w("200"),ek(null,t,$,!1,e)},unstable_renderSubtreeIntoContainer:function(t,$,e,r){return Rf(e)||w("200"),(null==t||void 0===t._reactInternalFiber)&&w("38"),ek(t,$,e,!1,r)},unmountComponentAtNode:function(t){return Rf(t)||w("40"),!!t._reactRootContainer&&(Ty(function(){ek(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Wy.apply(void 0,arguments)},unstable_batchedUpdates:Sy,unstable_interactiveUpdates:Uy,flushSync:function(t,$){Kb&&w("187");var e=sd;sd=!0;try{return Py(t,$)}finally{sd=e,tc(1073741823,!1)}},unstable_createRoot:WM,unstable_flushControlled:function(t){var $=sd;sd=!0;try{Py(t)}finally{(sd=$)||Kb||tc(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[kx,ie,bo,Fn.injectEventPluginsByName,Cn,Hf,function(t){_n(t,dM)},rx,sx,Qj,ao]}};!function(t){var $=t.findFiberByHostInstance;CM(Qa({},t,{overrideProps:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Fx(t))?null:t.stateNode},findFiberByHostInstance:function(t){return $?$(t):null}}))}({findFiberByHostInstance:Hj,bundleType:0,version:"16.8.4",rendererPackageName:"react-dom"});ex={default:dx};fx=ex&&dx||ex;MK=fx.default||fx}Qv(),iK=(XM(),MK);var Ka={};var YM,xb={};var k={};function ZM(r,$){return 0===$.length?r:r.replace(/\{(\d+)\}/g,function(r,e){var o=e[0];return void 0!==$[o]?$[o]:r})}function _(r,$){for(var e=[],o=2;o<arguments.length;o++)e[o-2]=arguments[o];return ZM($,e)}k.localize=_;function yb(r,t){return void 0===t&&(t=0),r[r.length-(1+t)]}function $M(r){if(0===r.length)throw new Error("Invalid tail call");return[r.slice(0,r.length-1),r[r.length-1]]}function fk(r,t,$){if(void 0===$&&($=function(r,t){return r===t}),r===t)return!0;if(!r||!t)return!1;if(r.length!==t.length)return!1;for(var e=0,n=r.length;e<n;e++)if(!$(r[e],t[e]))return!1;return!0}function _M(r,t){return To(r,t,0,r.length-1,[]),r}function aN(r,t,$,e,n,o){for(var i=$,a=e+1,p=$;p<=n;p++)o[p]=r[p];for(p=$;p<=n;p++)i>e?r[p]=o[a++]:a>n?r[p]=o[i++]:t(o[a],o[i])<0?r[p]=o[a++]:r[p]=o[i++]}function To(r,t,$,e,n){if(!(e<=$)){var o=$+(e-$)/2|0;To(r,t,$,o,n),To(r,t,o+1,e,n),t(r[o],r[o+1])<=0||aN(r,t,$,o,e,n)}}function bN(r){return r?r.filter(function(r){return!!r}):r}function cN(r){return!Array.isArray(r)||0===r.length}function Xy(r,t){if(!t)return r.filter(function(t,$){return r.indexOf(t)===$});var $=Object.create(null);return r.filter(function(r){var e=t(r);return!$[e]&&($[e]=!0,!0)})}function Uo(r,t){for(var $=0;$<r.length;$++){if(t(r[$]))return $}return-1}function Vo(r,t,$){void 0===$&&($=null);var e=Uo(r,t);return e<0?$:r[e]}function Wo(r,t){var $="number"==typeof t?r:0;"number"==typeof t?$=r:($=0,t=r);var e=[];if($<=t)for(var n=$;n<t;n++)e.push(n);else for(n=$;n>t;n--)e.push(n);return e}function dN(r,t,$){var e=r.slice(0,t),n=r.slice(t);return e.concat($,n)}function ne(r){if(!r||"object"!=typeof r)return r;if(r instanceof RegExp)return r;var e=Array.isArray(r)?[]:{};return Object.keys(r).forEach(function(t){r[t]&&"object"==typeof r[t]?e[t]=ne(r[t]):e[t]=r[t]}),e}function eN(r){if(!r||"object"!=typeof r)return r;for(var e=[r];e.length>0;){var t=e.shift();for(var $ in Object.freeze(t),t)if($y.call(t,$)){var n=t[$];"object"!=typeof n||Object.isFrozen(n)||e.push(n)}}return r}var Sf={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function fN(t){return Array.isArray?Array.isArray(t):!(!t||typeof t.length!==Sf.number||t.constructor!==Array)}function oe(t){return typeof t===Sf.string||t instanceof String}function fb(t){return!(typeof t!==Sf.object||null===t||Array.isArray(t)||t instanceof RegExp||t instanceof Date)}function pe(t){return(typeof t===Sf.number||t instanceof Number)&&!isNaN(t)}function Yy(t){return!0===t||!1===t}function Tc(t){return typeof t===Sf.undefined}function yd(t){return Tc(t)||null===t}var gN=Object.prototype.hasOwnProperty;function Zy(t){if(!fb(t))return!1;for(var r in t)if(gN.call(t,r))return!1;return!0}function gk(t){return typeof t===Sf.function}function hN(t,r){for(var e=Math.min(t.length,r.length),n=0;n<e;n++)iN(t[n],r[n])}function iN(t,r){if(oe(r)){if(typeof t!==r)throw new Error("argument does not match constraint: typeof "+r)}else if(gk(r)){try{if(t instanceof r)return}catch(e){}if(!yd(t)&&t.constructor===r)return;if(1===r.length&&!0===r.call(void 0,t))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function jN(t){for(var r,e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(kN(t))return new((r=t).bind.apply(r,[void 0].concat(e)));var o=Object.create(t.prototype);return t.apply(o,e),o}function kN(t){return"function"==typeof t&&t.hasOwnProperty("prototype")&&!t.hasOwnProperty("arguments")}function Xo(t){for(var r=[],e=Object.getPrototypeOf(t);Object.prototype!==e;)r=r.concat(Object.getOwnPropertyNames(e)),e=Object.getPrototypeOf(e);return r}var $y=Object.prototype.hasOwnProperty;function _y(r,e,t){if(yd(r))return r;var $=e(r);if(void 0!==$)return $;if(fN(r)){for(var n=[],o=0,s=r;o<s.length;o++){var a=s[o];n.push(_y(a,e,t))}return n}if(fb(r)){if(t.has(r))throw new Error("Cannot clone recursive data-structure");t.add(r);var i={};for(var v in r)$y.call(r,v)&&(i[v]=_y(r[v],e,t));return t.delete(r),i}return r}function _b(r,e,t){return void 0===t&&(t=!0),fb(r)?(fb(e)&&Object.keys(e).forEach(function($){$ in r?t&&(fb(r[$])&&fb(e[$])?_b(r[$],e[$],t):r[$]=e[$]):r[$]=e[$]}),r):e}function hk(r,e){if(r===e)return!0;if(null==r||null==e)return!1;if(typeof r!=typeof e)return!1;if("object"!=typeof r)return!1;if(Array.isArray(r)!==Array.isArray(e))return!1;var t,$;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(t=0;t<r.length;t++)if(!hk(r[t],e[t]))return!1}else{var n=[];for($ in r)n.push($);n.sort();var o=[];for($ in e)o.push($);if(o.sort(),!hk(n,o))return!1;for(t=0;t<n.length;t++)if(!hk(r[n[t]],e[n[t]]))return!1}return!0}function lN(r){for(var e={},t=0,$=r;t<$.length;t++){e[$[t]]=!0}return e}function az(r,e){void 0===e&&(e=!1),e&&(r=r.map(function(r){return r.toLowerCase()}));var t=lN(r);return e?function(r){return void 0!==t[r.toLowerCase()]&&t.hasOwnProperty(r.toLowerCase())}:function(r){return void 0!==t[r]&&t.hasOwnProperty(r)}}function Tf(r,e,t){var $=e(r);return void 0===$?t:$}var Uf,Vf,bz={},pa=bz={};function Yo(){throw new Error("setTimeout has not been defined")}function Zo(){throw new Error("clearTimeout has not been defined")}function cz($){if(Uf===setTimeout)return setTimeout($,0);if((Uf===Yo||!Uf)&&setTimeout)return Uf=setTimeout,setTimeout($,0);try{return Uf($,0)}catch(e){try{return Uf.call(null,$,0)}catch(e){return Uf.call(this,$,0)}}}function mN($){if(Vf===clearTimeout)return clearTimeout($);if((Vf===Zo||!Vf)&&clearTimeout)return Vf=clearTimeout,clearTimeout($);try{return Vf($)}catch(e){try{return Vf.call(null,$)}catch(e){return Vf.call(this,$)}}}!function(){try{Uf="function"==typeof setTimeout?setTimeout:Yo}catch($){Uf=Yo}try{Vf="function"==typeof clearTimeout?clearTimeout:Zo}catch($){Vf=Zo}}();var Gh,qe=[],$o=!1,dz=-1;function nN(){$o&&Gh&&($o=!1,Gh.length?qe=Gh.concat(qe):dz=-1,qe.length&&ez())}function ez(){if(!$o){var $=cz(nN);$o=!0;for(var e=qe.length;e;){for(Gh=qe,qe=[];++dz<e;)Gh&&Gh[dz].run();dz=-1,e=qe.length}Gh=null,$o=!1,mN($)}}function fz($,e){this.fun=$,this.array=e}function Uc(){}pa.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];qe.push(new fz($,e)),1!==qe.length||$o||cz(ez)},fz.prototype.run=function(){this.fun.apply(null,this.array)},pa.title="browser",pa.env={},pa.argv=[],pa.version="",pa.versions={},pa.on=Uc,pa.addListener=Uc,pa.once=Uc,pa.off=Uc,pa.removeListener=Uc,pa.removeAllListeners=Uc,pa.emit=Uc,pa.prependListener=Uc,pa.prependOnceListener=Uc,pa.listeners=function($){return[]},pa.binding=function($){throw new Error("process.binding is not supported")},pa.cwd=function(){return"/"},pa.chdir=function($){throw new Error("process.chdir is not supported")},pa.umask=function(){return 0};var Mb=require("process");var _o=!1,ap=!1,gz=!1,hz=!1,oN=!1,pN=void 0!==Mb&&void 0!==Mb.versions&&void 0!==Mb.versions.electron&&"renderer"===Mb.type;if("object"!=typeof navigator||pN){if("object"==typeof Mb){_o="win32"===Mb.platform,ap="darwin"===Mb.platform,gz="linux"===Mb.platform;var iz=void 0;if(iz)try{var qN=JSON.parse(iz),p=qN.availableLanguages["*"]}catch(e){}hz=!0}}else{var bp=navigator.userAgent;_o=bp.indexOf("Windows")>=0,ap=bp.indexOf("Macintosh")>=0,gz=bp.indexOf("Linux")>=0,oN=!0}hz&&(ap?1:_o?3:gz&&2);var ac=_o;var Z=ap;var zd=gz;var jz=hz;var rN=oN;var sN="object"==typeof self?self:"object"==typeof nd?nd:{},gb=sN;var kz=null;function tN($){return null===kz&&(kz=gb.setImmediate?gb.setImmediate.bind(gb):void 0!==Mb&&"function"==typeof Mb.nextTick?Mb.nextTick.bind(Mb):gb.setTimeout.bind(gb)),kz($)}var Ad=ap?2:_o?1:3;var lz="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function uN(e){void 0===e&&(e="");for(var r="(-?\\d*\\.\\d\\w*)|([^",t=0,n=lz;t<n.length;t++){var $=n[t];e.indexOf($)>=0||(r+="\\"+$)}return r+="\\s]+)",new RegExp(r,"g")}var mz=uN();function cp(e){var r=mz;if(e&&e instanceof RegExp)if(e.global)r=e;else{var t="g";e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),r=new RegExp(e.source,t)}return r.lastIndex=0,r}function vN(e,r,t,n){var $,o=e-1-n,f=t.lastIndexOf(" ",o-1)+1;for(r.lastIndex=f;$=r.exec(t);){var a=$.index||0;if(a<=o&&r.lastIndex>=o)return{word:$[0],startColumn:n+1+a,endColumn:n+1+r.lastIndex}}return null}function wN(e,r,t,n){var $,o=e-1-n;for(r.lastIndex=0;$=r.exec(t);){var f=$.index||0;if(f>o)return null;if(r.lastIndex>=o)return{word:$[0],startColumn:n+1+f,endColumn:n+1+r.lastIndex}}return null}function dp(e,r,t,n){r.lastIndex=0;var $=r.exec(t);if(!$)return null;var o=$[0].indexOf(" ")>=0?wN(e,r,t,n):vN(e,r,t,n);return r.lastIndex=0,o}var T,xN=xb&&xb.__assign||function(){return(xN=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++)for(var t in r=arguments[i])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)};function nz(e){if(1===e)return"blink";if(4===e)return"expand";if(3===e)return"phase";if(2===e)return"smooth";if(5===e)return"solid";throw new Error("blinkingStyleToString: Unknown blinkingStyle")}function oz(e){if(e===T.Line)return"line";if(e===T.Block)return"block";if(e===T.Underline)return"underline";if(e===T.LineThin)return"line-thin";if(e===T.BlockOutline)return"block-outline";if(e===T.UnderlineThin)return"underline-thin";throw new Error("cursorStyleToString: Unknown cursorStyle")}function yN(e,r){return"string"!=typeof e?r:"line"===e?T.Line:"block"===e?T.Block:"underline"===e?T.Underline:"line-thin"===e?T.LineThin:"block-outline"===e?T.BlockOutline:"underline-thin"===e?T.UnderlineThin:T.Line}xb.blinkingStyleToString=nz,xb.TextEditorCursorStyle=T,function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(T||(YM=T={},xb.TextEditorCursorStyle=T,YM)),xb.cursorStyleToString=oz;var ep=function(){function e(e){this.canUseLayerHinting=e.canUseLayerHinting,this.pixelRatio=e.pixelRatio,this.editorClassName=e.editorClassName,this.lineHeight=0|e.lineHeight,this.readOnly=e.readOnly,this.accessibilitySupport=e.accessibilitySupport,this.multiCursorModifier=e.multiCursorModifier,this.multiCursorMergeOverlapping=e.multiCursorMergeOverlapping,this.wordSeparators=e.wordSeparators,this.autoClosingBrackets=e.autoClosingBrackets,this.autoClosingQuotes=e.autoClosingQuotes,this.autoSurround=e.autoSurround,this.autoIndent=e.autoIndent,this.useTabStops=e.useTabStops,this.tabFocusMode=e.tabFocusMode,this.dragAndDrop=e.dragAndDrop,this.emptySelectionClipboard=e.emptySelectionClipboard,this.copyWithSyntaxHighlighting=e.copyWithSyntaxHighlighting,this.layoutInfo=e.layoutInfo,this.fontInfo=e.fontInfo,this.viewInfo=e.viewInfo,this.wrappingInfo=e.wrappingInfo,this.contribInfo=e.contribInfo,this.showUnused=e.showUnused}return e.prototype.equals=function(r){return this.canUseLayerHinting===r.canUseLayerHinting&&this.pixelRatio===r.pixelRatio&&this.editorClassName===r.editorClassName&&this.lineHeight===r.lineHeight&&this.readOnly===r.readOnly&&this.accessibilitySupport===r.accessibilitySupport&&this.multiCursorModifier===r.multiCursorModifier&&this.multiCursorMergeOverlapping===r.multiCursorMergeOverlapping&&this.wordSeparators===r.wordSeparators&&this.autoClosingBrackets===r.autoClosingBrackets&&this.autoClosingQuotes===r.autoClosingQuotes&&this.autoSurround===r.autoSurround&&this.autoIndent===r.autoIndent&&this.useTabStops===r.useTabStops&&this.tabFocusMode===r.tabFocusMode&&this.dragAndDrop===r.dragAndDrop&&this.showUnused===r.showUnused&&this.emptySelectionClipboard===r.emptySelectionClipboard&&this.copyWithSyntaxHighlighting===r.copyWithSyntaxHighlighting&&e._equalsLayoutInfo(this.layoutInfo,r.layoutInfo)&&this.fontInfo.equals(r.fontInfo)&&e._equalsViewOptions(this.viewInfo,r.viewInfo)&&e._equalsWrappingInfo(this.wrappingInfo,r.wrappingInfo)&&e._equalsContribOptions(this.contribInfo,r.contribInfo)},e.prototype.createChangeEvent=function(r){return{canUseLayerHinting:this.canUseLayerHinting!==r.canUseLayerHinting,pixelRatio:this.pixelRatio!==r.pixelRatio,editorClassName:this.editorClassName!==r.editorClassName,lineHeight:this.lineHeight!==r.lineHeight,readOnly:this.readOnly!==r.readOnly,accessibilitySupport:this.accessibilitySupport!==r.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==r.multiCursorModifier,multiCursorMergeOverlapping:this.multiCursorMergeOverlapping!==r.multiCursorMergeOverlapping,wordSeparators:this.wordSeparators!==r.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==r.autoClosingBrackets,autoClosingQuotes:this.autoClosingQuotes!==r.autoClosingQuotes,autoSurround:this.autoSurround!==r.autoSurround,autoIndent:this.autoIndent!==r.autoIndent,useTabStops:this.useTabStops!==r.useTabStops,tabFocusMode:this.tabFocusMode!==r.tabFocusMode,dragAndDrop:this.dragAndDrop!==r.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==r.emptySelectionClipboard,copyWithSyntaxHighlighting:this.copyWithSyntaxHighlighting!==r.copyWithSyntaxHighlighting,layoutInfo:!e._equalsLayoutInfo(this.layoutInfo,r.layoutInfo),fontInfo:!this.fontInfo.equals(r.fontInfo),viewInfo:!e._equalsViewOptions(this.viewInfo,r.viewInfo),wrappingInfo:!e._equalsWrappingInfo(this.wrappingInfo,r.wrappingInfo),contribInfo:!e._equalsContribOptions(this.contribInfo,r.contribInfo)}},e._equalsLayoutInfo=function(e,r){return e.width===r.width&&e.height===r.height&&e.glyphMarginLeft===r.glyphMarginLeft&&e.glyphMarginWidth===r.glyphMarginWidth&&e.glyphMarginHeight===r.glyphMarginHeight&&e.lineNumbersLeft===r.lineNumbersLeft&&e.lineNumbersWidth===r.lineNumbersWidth&&e.lineNumbersHeight===r.lineNumbersHeight&&e.decorationsLeft===r.decorationsLeft&&e.decorationsWidth===r.decorationsWidth&&e.decorationsHeight===r.decorationsHeight&&e.contentLeft===r.contentLeft&&e.contentWidth===r.contentWidth&&e.contentHeight===r.contentHeight&&e.renderMinimap===r.renderMinimap&&e.minimapLeft===r.minimapLeft&&e.minimapWidth===r.minimapWidth&&e.viewportColumn===r.viewportColumn&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.horizontalScrollbarHeight===r.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,r.overviewRuler)},e._equalsOverviewRuler=function(e,r){return e.width===r.width&&e.height===r.height&&e.top===r.top&&e.right===r.right},e._equalsViewOptions=function(e,r){return e.extraEditorClassName===r.extraEditorClassName&&e.disableMonospaceOptimizations===r.disableMonospaceOptimizations&&fk(e.rulers,r.rulers)&&e.ariaLabel===r.ariaLabel&&e.renderLineNumbers===r.renderLineNumbers&&e.renderCustomLineNumbers===r.renderCustomLineNumbers&&e.renderFinalNewline===r.renderFinalNewline&&e.selectOnLineNumbers===r.selectOnLineNumbers&&e.glyphMargin===r.glyphMargin&&e.revealHorizontalRightPadding===r.revealHorizontalRightPadding&&e.roundedSelection===r.roundedSelection&&e.overviewRulerLanes===r.overviewRulerLanes&&e.overviewRulerBorder===r.overviewRulerBorder&&e.cursorBlinking===r.cursorBlinking&&e.mouseWheelZoom===r.mouseWheelZoom&&e.cursorSmoothCaretAnimation===r.cursorSmoothCaretAnimation&&e.cursorStyle===r.cursorStyle&&e.cursorWidth===r.cursorWidth&&e.hideCursorInOverviewRuler===r.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.scrollBeyondLastColumn===r.scrollBeyondLastColumn&&e.smoothScrolling===r.smoothScrolling&&e.stopRenderingLineAfter===r.stopRenderingLineAfter&&e.renderWhitespace===r.renderWhitespace&&e.renderControlCharacters===r.renderControlCharacters&&e.fontLigatures===r.fontLigatures&&e.renderIndentGuides===r.renderIndentGuides&&e.highlightActiveIndentGuide===r.highlightActiveIndentGuide&&e.renderLineHighlight===r.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,r.scrollbar)&&this._equalsMinimapOptions(e.minimap,r.minimap)&&e.fixedOverflowWidgets===r.fixedOverflowWidgets},e._equalsScrollbarOptions=function(e,r){return e.arrowSize===r.arrowSize&&e.vertical===r.vertical&&e.horizontal===r.horizontal&&e.useShadows===r.useShadows&&e.verticalHasArrows===r.verticalHasArrows&&e.horizontalHasArrows===r.horizontalHasArrows&&e.handleMouseWheel===r.handleMouseWheel&&e.horizontalScrollbarSize===r.horizontalScrollbarSize&&e.horizontalSliderSize===r.horizontalSliderSize&&e.verticalScrollbarSize===r.verticalScrollbarSize&&e.verticalSliderSize===r.verticalSliderSize&&e.mouseWheelScrollSensitivity===r.mouseWheelScrollSensitivity&&e.fastScrollSensitivity===r.fastScrollSensitivity},e._equalsMinimapOptions=function(e,r){return e.enabled===r.enabled&&e.side===r.side&&e.showSlider===r.showSlider&&e.renderCharacters===r.renderCharacters&&e.maxColumn===r.maxColumn},e._equalFindOptions=function(e,r){return e.seedSearchStringFromSelection===r.seedSearchStringFromSelection&&e.autoFindInSelection===r.autoFindInSelection&&e.globalFindClipboard===r.globalFindClipboard&&e.addExtraSpaceOnTop===r.addExtraSpaceOnTop},e._equalsParameterHintOptions=function(e,r){return e.enabled===r.enabled&&e.cycle===r.cycle},e._equalsHoverOptions=function(e,r){return e.enabled===r.enabled&&e.delay===r.delay&&e.sticky===r.sticky},e._equalsSuggestOptions=function(e,r){return e===r||!(!e||!r)&&e.filterGraceful===r.filterGraceful&&e.snippets===r.snippets&&e.snippetsPreventQuickSuggestions===r.snippetsPreventQuickSuggestions&&e.localityBonus===r.localityBonus&&e.shareSuggestSelections===r.shareSuggestSelections},e._equalsWrappingInfo=function(e,r){return e.inDiffEditor===r.inDiffEditor&&e.isDominatedByLongLines===r.isDominatedByLongLines&&e.isWordWrapMinified===r.isWordWrapMinified&&e.isViewportWrapping===r.isViewportWrapping&&e.wrappingColumn===r.wrappingColumn&&e.wrappingIndent===r.wrappingIndent&&e.wordWrapBreakBeforeCharacters===r.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===r.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===r.wordWrapBreakObtrusiveCharacters},e._equalsContribOptions=function(r,i){return r.selectionClipboard===i.selectionClipboard&&this._equalsHoverOptions(r.hover,i.hover)&&r.links===i.links&&r.contextmenu===i.contextmenu&&e._equalsQuickSuggestions(r.quickSuggestions,i.quickSuggestions)&&r.quickSuggestionsDelay===i.quickSuggestionsDelay&&this._equalsParameterHintOptions(r.parameterHints,i.parameterHints)&&r.iconsInSuggestions===i.iconsInSuggestions&&r.formatOnType===i.formatOnType&&r.formatOnPaste===i.formatOnPaste&&r.suggestOnTriggerCharacters===i.suggestOnTriggerCharacters&&r.acceptSuggestionOnEnter===i.acceptSuggestionOnEnter&&r.acceptSuggestionOnCommitCharacter===i.acceptSuggestionOnCommitCharacter&&r.wordBasedSuggestions===i.wordBasedSuggestions&&r.suggestSelection===i.suggestSelection&&r.suggestFontSize===i.suggestFontSize&&r.suggestLineHeight===i.suggestLineHeight&&r.tabCompletion===i.tabCompletion&&this._equalsSuggestOptions(r.suggest,i.suggest)&&r.selectionHighlight===i.selectionHighlight&&r.occurrencesHighlight===i.occurrencesHighlight&&r.codeLens===i.codeLens&&r.folding===i.folding&&r.foldingStrategy===i.foldingStrategy&&r.showFoldingControls===i.showFoldingControls&&r.matchBrackets===i.matchBrackets&&this._equalFindOptions(r.find,i.find)&&r.colorDecorators===i.colorDecorators&&hk(r.codeActionsOnSave,i.codeActionsOnSave)&&r.codeActionsOnSaveTimeout===i.codeActionsOnSaveTimeout&&r.lightbulbEnabled===i.lightbulbEnabled},e._equalsQuickSuggestions=function(e,r){return"boolean"==typeof e?"boolean"==typeof r&&e===r:"boolean"!=typeof r&&e.comments===r.comments&&e.other===r.other&&e.strings===r.strings},e}();function m(e,r){return void 0===e?r:"false"!==e&&Boolean(e)}function zN(e,r){if(!e)return r;for(var i=Object.create(null),o=0,t=Object.keys(e);o<t.length;o++){var n=t[o],a=e[n];"boolean"==typeof a&&(i[n]=a)}return i}function Wf(e,r){return"string"!=typeof e?r:e}function Ea(e,r,i){return"string"!=typeof e?r:-1===i.indexOf(e)?r:e}function qa(e,r,i,o){var t;return void 0===e?t=r:(t=parseInt(e,10),isNaN(t)&&(t=r)),t=Math.max(i,t),0|(t=Math.min(o,t))}function pz(e,r){var i=parseFloat(e);return isNaN(i)&&(i=r),i}function AN(e,r){return"string"!=typeof e?r:"same"===e?1:"indent"===e?2:"deepIndent"===e?3:0}function BN(e,r){if("string"!=typeof e)return r;switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"visible":case"solid":return 5;}return 1}function qz(e,r){if("string"!=typeof e)return r;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1;}}xb.InternalEditorOptions=ep;var fp=function(){function e(){}return e.validate=function(e,r){var i=e.wordWrap;!0===i?i="on":!1===i&&(i="off"),i=Ea(i,r.wordWrap,["off","on","wordWrapColumn","bounded"]);var o=this._sanitizeViewInfo(e,r.viewInfo),t=this._sanitizeContribInfo(e,r.contribInfo),n=void 0;"string"==typeof e.multiCursorModifier&&(n="ctrlCmd"===e.multiCursorModifier?Z?"metaKey":"ctrlKey":"altKey");var a,l,s,u=Ea(n,r.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return"boolean"==typeof e.autoClosingBrackets&&!1===e.autoClosingBrackets?(a="never",l="never",s="never"):(a=Ea(e.autoClosingBrackets,r.autoClosingBrackets,["always","languageDefined","beforeWhitespace","never"]),l=Ea(e.autoClosingQuotes,r.autoClosingQuotes,["always","languageDefined","beforeWhitespace","never"]),s=Ea(e.autoSurround,r.autoSurround,["languageDefined","brackets","quotes","never"])),{inDiffEditor:m(e.inDiffEditor,r.inDiffEditor),wordSeparators:Wf(e.wordSeparators,r.wordSeparators),lineNumbersMinChars:qa(e.lineNumbersMinChars,r.lineNumbersMinChars,1,10),lineDecorationsWidth:void 0===e.lineDecorationsWidth?r.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:m(e.readOnly,r.readOnly),mouseStyle:Ea(e.mouseStyle,r.mouseStyle,["text","default","copy"]),disableLayerHinting:m(e.disableLayerHinting,r.disableLayerHinting),automaticLayout:m(e.automaticLayout,r.automaticLayout),wordWrap:i,wordWrapColumn:qa(e.wordWrapColumn,r.wordWrapColumn,1,1073741824),wordWrapMinified:m(e.wordWrapMinified,r.wordWrapMinified),wrappingIndent:AN(e.wrappingIndent,r.wrappingIndent),wordWrapBreakBeforeCharacters:Wf(e.wordWrapBreakBeforeCharacters,r.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:Wf(e.wordWrapBreakAfterCharacters,r.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:Wf(e.wordWrapBreakObtrusiveCharacters,r.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:a,autoClosingQuotes:l,autoSurround:s,autoIndent:m(e.autoIndent,r.autoIndent),dragAndDrop:m(e.dragAndDrop,r.dragAndDrop),emptySelectionClipboard:m(e.emptySelectionClipboard,r.emptySelectionClipboard),copyWithSyntaxHighlighting:m(e.copyWithSyntaxHighlighting,r.copyWithSyntaxHighlighting),useTabStops:m(e.useTabStops,r.useTabStops),multiCursorModifier:u,multiCursorMergeOverlapping:m(e.multiCursorMergeOverlapping,r.multiCursorMergeOverlapping),accessibilitySupport:Ea(e.accessibilitySupport,r.accessibilitySupport,["auto","on","off"]),showUnused:m(e.showUnused,r.showUnused),viewInfo:o,contribInfo:t}},e._sanitizeScrollbarOpts=function(e,r,i,o){if("object"!=typeof e)return r;var t=qa(e.horizontalScrollbarSize,r.horizontalScrollbarSize,0,1e3),n=qa(e.verticalScrollbarSize,r.verticalScrollbarSize,0,1e3);return{vertical:qz(e.vertical,r.vertical),horizontal:qz(e.horizontal,r.horizontal),arrowSize:qa(e.arrowSize,r.arrowSize,0,1e3),useShadows:m(e.useShadows,r.useShadows),verticalHasArrows:m(e.verticalHasArrows,r.verticalHasArrows),horizontalHasArrows:m(e.horizontalHasArrows,r.horizontalHasArrows),horizontalScrollbarSize:t,horizontalSliderSize:qa(e.horizontalSliderSize,t,0,1e3),verticalScrollbarSize:n,verticalSliderSize:qa(e.verticalSliderSize,n,0,1e3),handleMouseWheel:m(e.handleMouseWheel,r.handleMouseWheel),mouseWheelScrollSensitivity:i,fastScrollSensitivity:o}},e._sanitizeMinimapOpts=function(e,r){return"object"!=typeof e?r:{enabled:m(e.enabled,r.enabled),side:Ea(e.side,r.side,["right","left"]),showSlider:Ea(e.showSlider,r.showSlider,["always","mouseover"]),renderCharacters:m(e.renderCharacters,r.renderCharacters),maxColumn:qa(e.maxColumn,r.maxColumn,1,1e4)}},e._sanitizeFindOpts=function(e,r){return"object"!=typeof e?r:{seedSearchStringFromSelection:m(e.seedSearchStringFromSelection,r.seedSearchStringFromSelection),autoFindInSelection:m(e.autoFindInSelection,r.autoFindInSelection),globalFindClipboard:m(e.globalFindClipboard,r.globalFindClipboard),addExtraSpaceOnTop:m(e.addExtraSpaceOnTop,r.addExtraSpaceOnTop)}},e._sanitizeParameterHintOpts=function(e,r){return"object"!=typeof e?r:{enabled:m(e.enabled,r.enabled),cycle:m(e.cycle,r.cycle)}},e._sanitizeHoverOpts=function(e,r){var i;if("boolean"==typeof e)i={enabled:e};else{if("object"!=typeof e)return r;i=e}return{enabled:m(i.enabled,r.enabled),delay:qa(i.delay,r.delay,0,1e4),sticky:m(i.sticky,r.sticky)}},e._sanitizeSuggestOpts=function(e,r){var i=e.suggest||{};return{filterGraceful:m(i.filterGraceful,r.filterGraceful),snippets:Ea(e.snippetSuggestions,r.snippets,["top","bottom","inline","none"]),snippetsPreventQuickSuggestions:m(i.snippetsPreventQuickSuggestions,r.filterGraceful),localityBonus:m(i.localityBonus,r.localityBonus),shareSuggestSelections:m(i.shareSuggestSelections,r.shareSuggestSelections)}},e._sanitizeTabCompletionOpts=function(e,r){return!1===e?"off":!0===e?"onlySnippets":Ea(e,r,["on","off","onlySnippets"])},e._sanitizeViewInfo=function(e,r){var i=[];if(Array.isArray(e.rulers)){for(var o=0,t=e.rulers.length;o<t;o++)i.push(qa(e.rulers[o],0,0,1e4));i.sort()}var n=r.renderLineNumbers,a=r.renderCustomLineNumbers;if(void 0!==e.lineNumbers){var l=e.lineNumbers;!0===l?l="on":!1===l&&(l="off"),"function"==typeof l?(n=4,a=l):n="interval"===l?3:"relative"===l?2:"on"===l?1:0}var s=m(e.fontLigatures,r.fontLigatures),u=m(e.disableMonospaceOptimizations,r.disableMonospaceOptimizations)||s,c=e.renderWhitespace;!0===c?c="boundary":!1===c&&(c="none"),c=Ea(c,r.renderWhitespace,["none","boundary","all"]);var d=e.renderLineHighlight;!0===d?d="line":!1===d&&(d="none"),d=Ea(d,r.renderLineHighlight,["none","gutter","line","all"]);var g=pz(e.mouseWheelScrollSensitivity,r.scrollbar.mouseWheelScrollSensitivity);0===g&&(g=1);var p=pz(e.fastScrollSensitivity,r.scrollbar.fastScrollSensitivity);p<=0&&(p=r.scrollbar.fastScrollSensitivity);var h=this._sanitizeScrollbarOpts(e.scrollbar,r.scrollbar,g,p),$=this._sanitizeMinimapOpts(e.minimap,r.minimap);return{extraEditorClassName:Wf(e.extraEditorClassName,r.extraEditorClassName),disableMonospaceOptimizations:u,rulers:i,ariaLabel:Wf(e.ariaLabel,r.ariaLabel),renderLineNumbers:n,renderCustomLineNumbers:a,renderFinalNewline:m(e.renderFinalNewline,r.renderFinalNewline),selectOnLineNumbers:m(e.selectOnLineNumbers,r.selectOnLineNumbers),glyphMargin:m(e.glyphMargin,r.glyphMargin),revealHorizontalRightPadding:qa(e.revealHorizontalRightPadding,r.revealHorizontalRightPadding,0,1e3),roundedSelection:m(e.roundedSelection,r.roundedSelection),overviewRulerLanes:qa(e.overviewRulerLanes,r.overviewRulerLanes,0,3),overviewRulerBorder:m(e.overviewRulerBorder,r.overviewRulerBorder),cursorBlinking:BN(e.cursorBlinking,r.cursorBlinking),mouseWheelZoom:m(e.mouseWheelZoom,r.mouseWheelZoom),cursorSmoothCaretAnimation:m(e.cursorSmoothCaretAnimation,r.cursorSmoothCaretAnimation),cursorStyle:yN(e.cursorStyle,r.cursorStyle),cursorWidth:qa(e.cursorWidth,r.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:m(e.hideCursorInOverviewRuler,r.hideCursorInOverviewRuler),scrollBeyondLastLine:m(e.scrollBeyondLastLine,r.scrollBeyondLastLine),scrollBeyondLastColumn:qa(e.scrollBeyondLastColumn,r.scrollBeyondLastColumn,0,1073741824),smoothScrolling:m(e.smoothScrolling,r.smoothScrolling),stopRenderingLineAfter:qa(e.stopRenderingLineAfter,r.stopRenderingLineAfter,-1,1073741824),renderWhitespace:c,renderControlCharacters:m(e.renderControlCharacters,r.renderControlCharacters),fontLigatures:s,renderIndentGuides:m(e.renderIndentGuides,r.renderIndentGuides),highlightActiveIndentGuide:m(e.highlightActiveIndentGuide,r.highlightActiveIndentGuide),renderLineHighlight:d,scrollbar:h,minimap:$,fixedOverflowWidgets:m(e.fixedOverflowWidgets,r.fixedOverflowWidgets)}},e._sanitizeContribInfo=function(e,r){var i;i="object"==typeof e.quickSuggestions?xN({other:!0},e.quickSuggestions):m(e.quickSuggestions,r.quickSuggestions),"boolean"==typeof e.acceptSuggestionOnEnter&&(e.acceptSuggestionOnEnter=e.acceptSuggestionOnEnter?"on":"off");var o=this._sanitizeFindOpts(e.find,r.find);return{selectionClipboard:m(e.selectionClipboard,r.selectionClipboard),hover:this._sanitizeHoverOpts(e.hover,r.hover),links:m(e.links,r.links),contextmenu:m(e.contextmenu,r.contextmenu),quickSuggestions:i,quickSuggestionsDelay:qa(e.quickSuggestionsDelay,r.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:this._sanitizeParameterHintOpts(e.parameterHints,r.parameterHints),iconsInSuggestions:m(e.iconsInSuggestions,r.iconsInSuggestions),formatOnType:m(e.formatOnType,r.formatOnType),formatOnPaste:m(e.formatOnPaste,r.formatOnPaste),suggestOnTriggerCharacters:m(e.suggestOnTriggerCharacters,r.suggestOnTriggerCharacters),acceptSuggestionOnEnter:Ea(e.acceptSuggestionOnEnter,r.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:m(e.acceptSuggestionOnCommitCharacter,r.acceptSuggestionOnCommitCharacter),wordBasedSuggestions:m(e.wordBasedSuggestions,r.wordBasedSuggestions),suggestSelection:Ea(e.suggestSelection,r.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:qa(e.suggestFontSize,r.suggestFontSize,0,1e3),suggestLineHeight:qa(e.suggestLineHeight,r.suggestLineHeight,0,1e3),tabCompletion:this._sanitizeTabCompletionOpts(e.tabCompletion,r.tabCompletion),suggest:this._sanitizeSuggestOpts(e,r.suggest),selectionHighlight:m(e.selectionHighlight,r.selectionHighlight),occurrencesHighlight:m(e.occurrencesHighlight,r.occurrencesHighlight),codeLens:m(e.codeLens,r.codeLens),folding:m(e.folding,r.folding),foldingStrategy:Ea(e.foldingStrategy,r.foldingStrategy,["auto","indentation"]),showFoldingControls:Ea(e.showFoldingControls,r.showFoldingControls,["always","mouseover"]),matchBrackets:m(e.matchBrackets,r.matchBrackets),find:o,colorDecorators:m(e.colorDecorators,r.colorDecorators),lightbulbEnabled:m(!!e.lightbulb&&e.lightbulb.enabled,r.lightbulbEnabled),codeActionsOnSave:zN(e.codeActionsOnSave,{}),codeActionsOnSaveTimeout:qa(e.codeActionsOnSaveTimeout,r.codeActionsOnSaveTimeout,1,1e4)}},e}();xb.EditorOptionsValidator=fp;var rz=function(){function e(){}return e._tweakValidatedOptions=function(e,r){var i=2===r,o=1===r;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoClosingQuotes:e.autoClosingQuotes,autoSurround:e.autoSurround,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,copyWithSyntaxHighlighting:e.copyWithSyntaxHighlighting,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,multiCursorMergeOverlapping:e.multiCursorMergeOverlapping,accessibilitySupport:e.accessibilitySupport,showUnused:e.showUnused,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:o?k.localize("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,renderFinalNewline:e.viewInfo.renderFinalNewline,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:!i&&e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorSmoothCaretAnimation:e.viewInfo.cursorSmoothCaretAnimation,cursorStyle:e.viewInfo.cursorStyle,cursorWidth:e.viewInfo.cursorWidth,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,scrollBeyondLastColumn:e.viewInfo.scrollBeyondLastColumn,smoothScrolling:e.viewInfo.smoothScrolling,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:i?"none":e.viewInfo.renderWhitespace,renderControlCharacters:!i&&e.viewInfo.renderControlCharacters,fontLigatures:!i&&e.viewInfo.fontLigatures,renderIndentGuides:!i&&e.viewInfo.renderIndentGuides,highlightActiveIndentGuide:e.viewInfo.highlightActiveIndentGuide,renderLineHighlight:e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:!i&&e.viewInfo.minimap.enabled,side:e.viewInfo.minimap.side,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:!i&&e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,iconsInSuggestions:e.contribInfo.iconsInSuggestions,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestSelection:e.contribInfo.suggestSelection,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,tabCompletion:e.contribInfo.tabCompletion,suggest:e.contribInfo.suggest,selectionHighlight:!i&&e.contribInfo.selectionHighlight,occurrencesHighlight:!i&&e.contribInfo.occurrencesHighlight,codeLens:!i&&e.contribInfo.codeLens,folding:!i&&e.contribInfo.folding,foldingStrategy:e.contribInfo.foldingStrategy,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:!i&&e.contribInfo.matchBrackets,find:e.contribInfo.find,colorDecorators:e.contribInfo.colorDecorators,lightbulbEnabled:e.contribInfo.lightbulbEnabled,codeActionsOnSave:e.contribInfo.codeActionsOnSave,codeActionsOnSaveTimeout:e.contribInfo.codeActionsOnSaveTimeout}}},e.createInternalEditorOptions=function(e,r){var i;i="auto"===r.accessibilitySupport?e.accessibilitySupport:"on"===r.accessibilitySupport?2:1;var o,t=this._tweakValidatedOptions(r,i);"string"==typeof t.lineDecorationsWidth&&/^\d+(\.\d+)?ch$/.test(t.lineDecorationsWidth)?o=parseFloat(t.lineDecorationsWidth.substr(0,t.lineDecorationsWidth.length-2))*e.fontInfo.typicalHalfwidthCharacterWidth:o=qa(t.lineDecorationsWidth,0,0,1e3);t.contribInfo.folding&&(o+=16);var n=sz.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:t.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:0!==t.viewInfo.renderLineNumbers,lineNumbersMinChars:t.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:o,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:t.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:t.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:t.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:t.viewInfo.scrollbar.verticalHasArrows,minimap:t.viewInfo.minimap.enabled,minimapSide:t.viewInfo.minimap.side,minimapRenderCharacters:t.viewInfo.minimap.renderCharacters,minimapMaxColumn:t.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio}),a=null,l=t.wordWrap,s=t.wordWrapColumn,u=t.wordWrapMinified;a=2===i?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:u&&e.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,n.viewportColumn)}:"on"===l?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,n.viewportColumn)}:"bounded"===l?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,n.viewportColumn),s)}:"wordWrapColumn"===l?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:s}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1};var c={inDiffEditor:t.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:a.isWordWrapMinified,isViewportWrapping:a.isViewportWrapping,wrappingColumn:a.wrappingColumn,wrappingIndent:t.wrappingIndent,wordWrapBreakBeforeCharacters:t.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:t.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:t.wordWrapBreakObtrusiveCharacters},d="monaco-editor";return t.viewInfo.extraEditorClassName&&(d+=" "+t.viewInfo.extraEditorClassName),e.extraEditorClassName&&(d+=" "+e.extraEditorClassName),t.viewInfo.fontLigatures&&(d+=" enable-ligatures"),"default"===t.mouseStyle?d+=" mouse-default":"copy"===t.mouseStyle&&(d+=" mouse-copy"),new ep({canUseLayerHinting:!t.disableLayerHinting,pixelRatio:e.pixelRatio,editorClassName:d,lineHeight:e.fontInfo.lineHeight,readOnly:t.readOnly,accessibilitySupport:i,multiCursorModifier:t.multiCursorModifier,multiCursorMergeOverlapping:t.multiCursorMergeOverlapping,wordSeparators:t.wordSeparators,autoClosingBrackets:t.autoClosingBrackets,autoClosingQuotes:t.autoClosingQuotes,autoSurround:t.autoSurround,autoIndent:t.autoIndent,useTabStops:t.useTabStops,tabFocusMode:!!t.readOnly||e.tabFocusMode,dragAndDrop:t.dragAndDrop,emptySelectionClipboard:t.emptySelectionClipboard&&e.emptySelectionClipboard,copyWithSyntaxHighlighting:t.copyWithSyntaxHighlighting,layoutInfo:n,fontInfo:e.fontInfo,viewInfo:t.viewInfo,wrappingInfo:c,contribInfo:t.contribInfo,showUnused:t.showUnused})},e}();xb.InternalEditorOptionsFactory=rz;var sz=function(){function e(){}return e.compute=function(e){var r=0|e.outerWidth,i=0|e.outerHeight,o=e.showGlyphMargin,t=0|e.lineHeight,n=e.showLineNumbers,a=0|e.lineNumbersMinChars,l=0|e.lineNumbersDigitCount,s=0|e.lineDecorationsWidth,u=e.typicalHalfwidthCharacterWidth,c=e.maxDigitWidth,d=0|e.verticalScrollbarWidth,g=e.verticalScrollbarHasArrows,p=0|e.scrollbarArrowSize,h=0|e.horizontalScrollbarHeight,$=e.minimap,f=e.minimapSide,m=e.minimapRenderCharacters,S=0|e.minimapMaxColumn,v=e.pixelRatio,b=0;if(n){var L=Math.max(l,a);b=Math.round(L*c)}var y=0;o&&(y=t);var C,w,I,q,O=0,_=O+y,X=_+b,W=X+s,x=r-y-b-s;if($){var M=void 0;v>=2?(C=m?2:4,M=2/v):(C=m?1:3,M=1/v),(I=Math.max(0,Math.floor((x-d-2)*M/(u+M))))/M>S&&(I=Math.floor(S*M)),q=x-I,"left"===f?(w=0,O+=I,_+=I,X+=I,W+=I):w=r-I-d}else w=0,I=0,C=0,q=x;var H=g?p:0;return{width:r,height:i,glyphMarginLeft:O,glyphMarginWidth:y,glyphMarginHeight:i,lineNumbersLeft:_,lineNumbersWidth:b,lineNumbersHeight:i,decorationsLeft:X,decorationsWidth:s,decorationsHeight:i,contentLeft:W,contentWidth:q,contentHeight:i,renderMinimap:C,minimapLeft:w,minimapWidth:I,viewportColumn:Math.max(1,Math.floor((q-d-2)/u)),verticalScrollbarWidth:d,horizontalScrollbarHeight:h,overviewRuler:{top:H,width:d,height:i-2*H,right:0}}},e}();xb.EditorLayoutProvider=sz;var CN="Consolas, 'Courier New', monospace",DN="Menlo, Monaco, 'Courier New', monospace",EN="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",Xf={fontFamily:Z?DN:zd?EN:CN,fontWeight:"normal",fontSize:Z?12:14,lineHeight:0,letterSpacing:0};xb.EDITOR_FONT_DEFAULTS=Xf;var Nb={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0};xb.EDITOR_MODEL_DEFAULTS=Nb;var Yf={inDiffEditor:!1,wordSeparators:lz,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:!1,mouseStyle:"text",disableLayerHinting:!1,automaticLayout:!1,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:!0,wrappingIndent:1,wordWrapBreakBeforeCharacters:"([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B",wordWrapBreakAfterCharacters:" \t})]?|/&,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",autoIndent:!0,dragAndDrop:!0,emptySelectionClipboard:!0,copyWithSyntaxHighlighting:!0,useTabStops:!0,multiCursorModifier:"altKey",multiCursorMergeOverlapping:!0,accessibilitySupport:"auto",showUnused:!0,viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:!1,rulers:[],ariaLabel:k.localize("editorViewAccessibleLabel","Editor content"),renderLineNumbers:1,renderCustomLineNumbers:null,renderFinalNewline:!zd,selectOnLineNumbers:!0,glyphMargin:!0,revealHorizontalRightPadding:30,roundedSelection:!0,overviewRulerLanes:2,overviewRulerBorder:!0,cursorBlinking:1,mouseWheelZoom:!1,cursorSmoothCaretAnimation:!1,cursorStyle:T.Line,cursorWidth:0,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,scrollBeyondLastColumn:5,smoothScrolling:!1,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:!1,fontLigatures:!1,renderIndentGuides:!0,highlightActiveIndentGuide:!0,renderLineHighlight:"line",scrollbar:{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,mouseWheelScrollSensitivity:1,fastScrollSensitivity:5},minimap:{enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120},fixedOverflowWidgets:!1},contribInfo:{selectionClipboard:!0,hover:{enabled:!0,delay:300,sticky:!0},links:!0,contextmenu:!0,quickSuggestions:{other:!0,comments:!1,strings:!1},quickSuggestionsDelay:10,parameterHints:{enabled:!0,cycle:!1},iconsInSuggestions:!0,formatOnType:!1,formatOnPaste:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:!0,wordBasedSuggestions:!0,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,tabCompletion:"off",suggest:{filterGraceful:!0,snippets:"inline",snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1},selectionHighlight:!0,occurrencesHighlight:!0,codeLens:!0,folding:!0,foldingStrategy:"auto",showFoldingControls:"mouseover",matchBrackets:!0,find:{seedSearchStringFromSelection:!0,autoFindInSelection:!1,globalFindClipboard:!1,addExtraSpaceOnTop:!0},colorDecorators:!0,lightbulbEnabled:!0,codeActionsOnSave:{},codeActionsOnSaveTimeout:750}};xb.EDITOR_DEFAULTS=Yf;var gp,FN={};!function(e,n){"object"==typeof FN?n():"function"==typeof gp&&gp.amd?gp(n):n()}(0,function(){function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}var n=setTimeout;function t(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(e,this)}function r(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(r){return void f(n.promise,r)}i(n.promise,o)}else(1===e._state?i:f)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof o)return e._state=3,e._value=n,void u(e);if("function"==typeof t)return void a((r=t,i=n,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=n,u(e)}catch(c){f(e,c)}var r,i}function f(e,n){e._state=2,e._value=n,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)r(e,e._deferreds[n]);e._deferreds=null}function c(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function a(e,n){var t=!1;try{e(function(e){t||(t=!0,i(n,e))},function(e){t||(t=!0,f(n,e))})}catch(o){if(t)return;t=!0,f(n,o)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new c(e,n,o)),o},o.prototype.finally=e,o.all=function(e){return new o(function(n,t){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return n([]);var r=o.length;function i(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){i(e,n)},t)}o[e]=f,0==--r&&n(o)}catch(c){t(c)}}for(var f=0;f<o.length;f++)i(f,o[f])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(n,t){for(var o=0,r=e.length;o<r;o++)e[o].then(n,t)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var s=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof nd)return nd;throw new Error("unable to locate global object")}();"Promise"in s?s.Promise.prototype.finally||(s.Promise.prototype.finally=e):s.Promise=o});var GN;var HN,u;var IN=function(){function r(){this.listeners=[],this.unexpectedErrorHandler=function(r){setTimeout(function(){if(r.stack)throw new Error(r.message+"\n\n"+r.stack);throw r},0)}}return r.prototype.emit=function(r){this.listeners.forEach(function(e){e(r)})},r.prototype.onUnexpectedError=function(r){this.unexpectedErrorHandler(r),this.emit(r)},r.prototype.onUnexpectedExternalError=function(r){this.unexpectedErrorHandler(r)},r}();var JN=new IN;function S(r){uz(r)||JN.onUnexpectedError(r)}function tz(r){return r instanceof Error?{$isError:!0,name:r.name,message:r.message,stack:r.stacktrace||r.stack}:r}var hp="Canceled";function uz(r){return r instanceof Error&&r.name===hp&&r.message===hp}function ip(){var r=new Error(hp);return r.name=r.message,r}function ik(r){return r?new Error("Illegal argument: "+r):new Error("Illegal argument")}function KN(r){return r?new Error("Illegal state: "+r):new Error("Illegal state")}function LN(r){var $,e=this,n=!1;return function(){return n?$:(n=!0,$=r.apply(e,arguments))}}function C(e){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return Array.isArray(e)?(e.forEach(function(e){return e&&e.dispose()}),[]):0===o.length?e?(e.dispose(),e):void 0:(C(e),C(o),[])}function re(e){return{dispose:function(){return C(e)}}}function ka(e){return{dispose:function(){e()}}}var B=function(){function e(){this._toDispose=[],this._lifecycle_disposable_isDisposed=!1}return e.prototype.dispose=function(){this._lifecycle_disposable_isDisposed=!0,this._toDispose=C(this._toDispose)},e.prototype._register=function(e){return this._lifecycle_disposable_isDisposed?(console.warn("Registering disposable on object that has already been disposed."),e.dispose()):this._toDispose.push(e),e},e.None=Object.freeze({dispose:function(){}}),e}();var MN=function(){function e(e){this.object=e}return e.prototype.dispose=function(){},e}();var NN,ra,Vc={},ON=Vc&&Vc.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),se={done:!0,value:void 0};function vz(t){return Array.isArray(t)?ra.fromArray(t):t}Vc.FIN=se,Vc.Iterator=ra,function(t){var r={next:function(){return se}};function e(t,r){for(var e=t.next();!e.done;e=t.next())r(e.value)}t.empty=function(){return r},t.fromArray=function(t,r,e){return void 0===r&&(r=0),void 0===e&&(e=t.length),{next:function(){return r>=e?se:{done:!1,value:t[r++]}}}},t.from=function(r){return r?Array.isArray(r)?t.fromArray(r):r:t.empty()},t.map=function(t,r){return{next:function(){var e=t.next();return e.done?se:{done:!1,value:r(e.value)}}}},t.filter=function(t,r){return{next:function(){for(;;){var e=t.next();if(e.done)return se;if(r(e.value))return{done:!1,value:e.value}}}}},t.forEach=e,t.collect=function(t){var r=[];return e(t,function(t){return r.push(t)}),r}}(ra||(NN=ra={},Vc.Iterator=ra,NN)),Vc.getSequenceIterator=vz;var wz=function(){function t(t,r,e,n){void 0===r&&(r=0),void 0===e&&(e=t.length),void 0===n&&(n=r-1),this.items=t,this.start=r,this.end=e,this.index=n}return t.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},t.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},t}();Vc.ArrayIterator=wz;var PN=function(t){function r(r,e,n,o){return void 0===e&&(e=0),void 0===n&&(n=r.length),void 0===o&&(o=e-1),t.call(this,r,e,n,o)||this}return ON(r,t),r.prototype.current=function(){return t.prototype.current.call(this)},r.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},r.prototype.first=function(){return this.index=this.start,this.current()},r.prototype.last=function(){return this.index=this.end-1,this.current()},r.prototype.parent=function(){return null},r}(wz);Vc.ArrayNavigator=PN;var QN=function(){function t(t,r){this.iterator=t,this.fn=r}return t.prototype.next=function(){return this.fn(this.iterator.next())},t}();Vc.MappedIterator=QN;var xz=function(){return function(t){this.element=t}}(),yz=function(){function t(){this._size=0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return!this._first},t.prototype.unshift=function(t){return this._insert(t,!1)},t.prototype.push=function(t){return this._insert(t,!0)},t.prototype._insert=function(t,e){var i=new xz(t);if(this._first){if(e){var r=this._last;this._last=i,i.prev=r,r.next=i}else{var s=this._first;this._first=i,i.next=s,s.prev=i}}else this._first=i,this._last=i;return this._size+=1,this._remove.bind(this,i)},t.prototype.shift=function(){if(this._first){var t=this._first.element;return this._remove(this._first),t}},t.prototype._remove=function(t){for(var e=this._first;e instanceof xz;){if(e===t){if(e.prev&&e.next){var i=e.prev;i.next=e.next,e.next.prev=i}else e.prev||e.next?e.next?e.prev||(this._first=this._first.next,this._first.prev=void 0):(this._last=this._last.prev,this._last.next=void 0):(this._first=void 0,this._last=void 0);this._size-=1;break}e=e.next}},t.prototype.iterator=function(){var t,e=this._first;return{next:function(){return e?(t?t.value=e.element:t={done:!1,value:e.element},e=e.next,t):se}}},t}();(function(t){var e={dispose:function(){}};function n(t){return function(e,n,r){void 0===n&&(n=null);var i,o=!1;return i=t(function(t){if(!o)return i?i.dispose():o=!0,e.call(n,t)},null,r),o&&i.dispose(),i}}function r(t,e){return u(function(n,r,i){return void 0===r&&(r=null),t(function(t){return n.call(r,e(t))},null,i)})}function i(t,e){return u(function(n,r,i){return void 0===r&&(r=null),t(function(t){e(t),n.call(r,t)},null,i)})}function o(t,e){return u(function(n,r,i){return void 0===r&&(r=null),t(function(t){return e(t)&&n.call(r,t)},null,i)})}function s(t,e,n){var i=n;return r(t,function(t){return i=e(i,t)})}function u(t){var e,n=new b({onFirstListenerAdd:function(){e=t(n.fire,n)},onLastListenerRemove:function(){e.dispose()}});return n.event}function c(t){var e,n=!0;return o(t,function(t){var r=n||t!==e;return n=!1,e=t,r})}t.None=function(){return e},t.once=n,t.map=r,t.forEach=i,t.filter=o,t.signal=function(t){return t},t.any=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,n,r){return void 0===n&&(n=null),re(t.map(function(t){return t(function(t){return e.call(n,t)},null,r)}))}},t.reduce=s,t.snapshot=u,t.debounce=function(t,e,n,r,i){var o;void 0===n&&(n=100),void 0===r&&(r=!1);var s=void 0,u=void 0,c=0,f=new b({leakWarningThreshold:i,onFirstListenerAdd:function(){o=t(function(t){c++,s=e(s,t),r&&!u&&f.fire(s),clearTimeout(u),u=setTimeout(function(){var t=s;s=void 0,u=void 0,(!r||c>1)&&f.fire(t),c=0},n)})},onLastListenerRemove:function(){o.dispose()}});return f.event},t.stopwatch=function(t){var e=new Date().getTime();return r(n(t),function(t){return new Date().getTime()-e})},t.latch=c,t.buffer=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[]);var r=n.slice(),i=t(function(t){r?r.push(t):s.fire(t)}),o=function(){r&&r.forEach(function(t){return s.fire(t)}),r=null},s=new b({onFirstListenerAdd:function(){i||(i=t(function(t){return s.fire(t)}))},onFirstListenerDidAdd:function(){r&&(e?setTimeout(o):o())},onLastListenerRemove:function(){i&&i.dispose(),i=null}});return s.event},t.echo=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=[]),n=n.slice(),t(function(t){n.push(t),i.fire(t)});var r=function(t,e){return n.forEach(function(n){return t.call(e,n)})},i=new b({onListenerDidAdd:function(t,n,i){e?setTimeout(function(){return r(n,i)}):r(n,i)}});return i.event};var f=function(){function t(t){this.event=t}return t.prototype.map=function(e){return new t(r(this.event,e))},t.prototype.forEach=function(e){return new t(i(this.event,e))},t.prototype.filter=function(e){return new t(o(this.event,e))},t.prototype.reduce=function(e,n){return new t(s(this.event,e,n))},t.prototype.latch=function(){return new t(c(this.event))},t.prototype.on=function(t,e,n){return this.event(t,e,n)},t.prototype.once=function(t,e,r){return n(this.event)(t,e,r)},t}();t.chain=function(t){return new f(t)},t.fromNodeEventEmitter=function(t,e,n){void 0===n&&(n=function(t){return t});var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.fire(n.apply(void 0,t))},i=new b({onFirstListenerAdd:function(){return t.on(e,r)},onLastListenerRemove:function(){return t.removeListener(e,r)}});return i.event},t.fromPromise=function(t){var e=new b,n=!1;return t.then(void 0,function(){return null}).then(function(){n?e.fire(void 0):setTimeout(function(){return e.fire(void 0)},0)}),n=!0,e.event},t.toPromise=function(t){return new Promise(function(e){return n(t)(e)})}})(u||(HN=u={},HN));var zz=-1,RN=function(){function t(t,e){void 0===e&&(e=Math.random().toString(18).slice(2,5)),this.customThreshold=t,this.name=e,this._warnCountdown=0}return t.prototype.dispose=function(){this._stacks&&this._stacks.clear()},t.prototype.check=function(t){var e=this,n=zz;if("number"==typeof this.customThreshold&&(n=this.customThreshold),!(n<=0||t<n)){this._stacks||(this._stacks=new Map);var r=new Error().stack.split("\n").slice(3).join("\n"),i=this._stacks.get(r)||0;if(this._stacks.set(r,i+1),this._warnCountdown-=1,this._warnCountdown<=0){var o;this._warnCountdown=.5*n;var s=0;this._stacks.forEach(function(t,e){(!o||s<t)&&(o=e,s=t)}),console.warn("["+this.name+"] potential listener LEAK detected, having "+t+" listeners already. MOST frequent listener ("+s+"):"),console.warn(o)}return function(){var t=e._stacks.get(r)||0;e._stacks.set(r,t-1)}}},t}(),b=function(){function t(t){this._disposed=!1,this._options=t,this._leakageMon=zz>0?new RN(this._options&&this._options.leakWarningThreshold):void 0}return Object.defineProperty(t.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(n,r,i){e._listeners||(e._listeners=new yz);var o=e._listeners.isEmpty();o&&e._options&&e._options.onFirstListenerAdd&&e._options.onFirstListenerAdd(e);var s,u,c=e._listeners.push(r?[n,r]:n);return o&&e._options&&e._options.onFirstListenerDidAdd&&e._options.onFirstListenerDidAdd(e),e._options&&e._options.onListenerDidAdd&&e._options.onListenerDidAdd(e,n,r),e._leakageMon&&(s=e._leakageMon.check(e._listeners.size)),u={dispose:function(){(s&&s(),u.dispose=t._noop,e._disposed)||(c(),e._options&&e._options.onLastListenerRemove&&(e._listeners&&!e._listeners.isEmpty()||e._options.onLastListenerRemove(e)))}},Array.isArray(i)&&i.push(u),u}),this._event},enumerable:!0,configurable:!0}),t.prototype.fire=function(t){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var e=this._listeners.iterator(),n=e.next();!n.done;n=e.next())this._deliveryQueue.push([n.value,t]);for(;this._deliveryQueue.length>0;){var r=this._deliveryQueue.shift(),i=r[0],o=r[1];try{"function"==typeof i?i.call(void 0,o):i[0].call(i[1],o)}catch(n){S(n)}}}},t.prototype.dispose=function(){this._listeners&&(this._listeners=void 0),this._deliveryQueue&&(this._deliveryQueue.length=0),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},t._noop=function(){},t}();var s=function(){function t(){var t=this;this.hasListeners=!1,this.events=[],this.emitter=new b({onFirstListenerAdd:function(){return t.onFirstListenerAdd()},onLastListenerRemove:function(){return t.onLastListenerRemove()}})}return Object.defineProperty(t.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this,n={event:t,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);return ka(LN(function(){e.hasListeners&&e.unhook(n);var t=e.events.indexOf(n);e.events.splice(t,1)}))},t.prototype.onFirstListenerAdd=function(){var t=this;this.hasListeners=!0,this.events.forEach(function(e){return t.hook(e)})},t.prototype.onLastListenerRemove=function(){var t=this;this.hasListeners=!1,this.events.forEach(function(e){return t.unhook(e)})},t.prototype.hook=function(t){var e=this;t.listener=t.event(function(t){return e.emitter.fire(t)})},t.prototype.unhook=function(t){t.listener&&t.listener.dispose(),t.listener=null},t.prototype.dispose=function(){this.emitter.dispose()},t}();var jp=function(){function t(){this.buffers=[]}return t.prototype.wrapEvent=function(t){var e=this;return function(n,r,i){return t(function(t){var i=e.buffers[e.buffers.length-1];i?i.push(function(){return n.call(r,t)}):n.call(r,t)},void 0,i)}},t.prototype.bufferEvents=function(t){var e=[];this.buffers.push(e);var n=t();return this.buffers.pop(),e.forEach(function(t){return t()}),n},t}();var SN=function(){function t(){var t=this;this.listening=!1,this.inputEvent=u.None,this.inputEventListener=B.None,this.emitter=new b({onFirstListenerDidAdd:function(){t.listening=!0,t.inputEventListener=t.inputEvent(t.emitter.fire,t.emitter)},onLastListenerRemove:function(){t.listening=!1,t.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(t.prototype,"input",{set:function(t){this.inputEvent=t,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=t(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},t}();var kp,Az=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});(function(e){e.isCancellationToken=function(t){return t===e.None||t===e.Cancelled||t instanceof jk||!(!t||"object"!=typeof t)&&"boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested},e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:u.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Az})})(kp||(GN=kp={},GN));var jk=function(){function e(){this._isCancelled=!1,this._emitter=null}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?Az:(this._emitter||(this._emitter=new b),this._emitter.event)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},e}(),Bz=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new jk),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token instanceof jk&&this._token.cancel():this._token=kp.Cancelled},e.prototype.dispose=function(){this._token?this._token instanceof jk&&this._token.dispose():this._token=kp.None},e}();var TN,t;var Hh,lp=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),mp=new lp,np=new lp,op=new lp;function UN(e,t){return(e|(65535&t)<<16>>>0)>>>0}function pp(e,t){if(0===e)return null;var r=(65535&e)>>>0,i=(4294901760&e)>>>16;return new Cz(0!==i?[qp(r,t),qp(i,t)]:[qp(r,t)])}function qp(e,t){var r=!!(2048&e),i=!!(256&e);return new rp(2===t?i:r,!!(1024&e),!!(512&e),2===t?r:i,255&e)}!function(){function e(e,t,r,i){void 0===r&&(r=t),void 0===i&&(i=r),mp.define(e,t),np.define(e,r),op.define(e,i)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return mp.keyCodeToStr(e)},e.fromString=function(e){return mp.strToKeyCode(e)},e.toUserSettingsUS=function(e){return np.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return op.keyCodeToStr(e)},e.fromUserSettings=function(e){return np.strToKeyCode(e)||op.strToKeyCode(e)}}(Hh||(TN=Hh={},TN));var rp=function(){function e(e,t,r,i,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyCode=o}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.toChord=function(){return new Cz([this])},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},e}();var Cz=function(){function e(e){if(0===e.length)throw ik("parts");this.parts=e}return e.prototype.equals=function(e){if(null===e)return!1;if(this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0},e}();var VN=function(){return function(e,t,r,i,o,n){this.ctrlKey=e,this.shiftKey=t,this.altKey=r,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=n}}();var WN=function(){return function(){}}();var sp={};var va,XN=sp&&sp.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YN=/^\w[\w\d+.-]*$/,ZN=/^\//,$N=/^\/\//,_N=!0;function aO(t,r){if(!t.scheme){if(r||_N)throw new Error("[UriError]: Scheme is missing: {scheme: \"\", authority: \""+t.authority+"\", path: \""+t.path+"\", query: \""+t.query+"\", fragment: \""+t.fragment+"\"}");console.warn("[UriError]: Scheme is missing: {scheme: \"\", authority: \""+t.authority+"\", path: \""+t.path+"\", query: \""+t.query+"\", fragment: \""+t.fragment+"\"}")}if(t.scheme&&!YN.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!ZN.test(t.path))throw new Error("[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character")}else if($N.test(t.path))throw new Error("[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")")}function bO(t,r){switch(t){case"https":case"http":case"file":r?r[0]!==bc&&(r=bc+r):r=bc;}return r}var X="",bc="/",cO=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,hb=function(){function t(t,r,e,n,o,a){"object"==typeof t?(this.scheme=t.scheme||X,this.authority=t.authority||X,this.path=t.path||X,this.query=t.query||X,this.fragment=t.fragment||X):(this.scheme=t||X,this.authority=r||X,this.path=bO(this.scheme,e||X),this.query=n||X,this.fragment=o||X,aO(this,a))}return t.isUri=function(r){return r instanceof t||!!r&&"string"==typeof r.authority&&"string"==typeof r.fragment&&"string"==typeof r.path&&"string"==typeof r.query&&"string"==typeof r.scheme&&"function"==typeof r.fsPath&&"function"==typeof r.with&&"function"==typeof r.toString},Object.defineProperty(t.prototype,"fsPath",{get:function(){return Fz(this)},enumerable:!0,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var r=t.scheme,e=t.authority,n=t.path,o=t.query,a=t.fragment;return void 0===r?r=this.scheme:null===r&&(r=X),void 0===e?e=this.authority:null===e&&(e=X),void 0===n?n=this.path:null===n&&(n=X),void 0===o?o=this.query:null===o&&(o=X),void 0===a?a=this.fragment:null===a&&(a=X),r===this.scheme&&e===this.authority&&n===this.path&&o===this.query&&a===this.fragment?this:new Zf(r,e,n,o,a)},t.parse=function(t,r){void 0===r&&(r=!1);var e=cO.exec(t);return e?new Zf(e[2]||X,decodeURIComponent(e[4]||X),decodeURIComponent(e[5]||X),decodeURIComponent(e[7]||X),decodeURIComponent(e[9]||X),r):new Zf(X,X,X,X,X)},t.file=function(t){var r=X;if(ac&&(t=t.replace(/\\/g,bc)),t[0]===bc&&t[1]===bc){var e=t.indexOf(bc,2);-1===e?(r=t.substring(2),t=bc):(r=t.substring(2,e),t=t.substring(e)||bc)}return new Zf("file",r,t,X,X)},t.from=function(t){return new Zf(t.scheme,t.authority,t.path,t.query,t.fragment)},t.prototype.toString=function(t){return void 0===t&&(t=!1),tp(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(r){if(r){if(r instanceof t)return r;var e=new Zf(r);return e._fsPath=r.fsPath,e._formatted=r.external,e}return r},t}();sp.URI=hb;var Zf=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r._formatted=null,r._fsPath=null,r}return XN(r,t),Object.defineProperty(r.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=Fz(this)),this._fsPath},enumerable:!0,configurable:!0}),r.prototype.toString=function(t){return void 0===t&&(t=!1),t?tp(this,!0):(this._formatted||(this._formatted=tp(this,!1)),this._formatted)},r.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},r}(hb),Dz=((va={})[58]="%3A",va[47]="%2F",va[63]="%3F",va[35]="%23",va[91]="%5B",va[93]="%5D",va[64]="%40",va[33]="%21",va[36]="%24",va[38]="%26",va[39]="%27",va[40]="%28",va[41]="%29",va[42]="%2A",va[43]="%2B",va[44]="%2C",va[59]="%3B",va[61]="%3D",va[32]="%20",va);function Ez(t,r){for(var e=void 0,n=-1,o=0;o<t.length;o++){var a=t.charCodeAt(o);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||45===a||46===a||95===a||126===a||r&&47===a)-1!==n&&(e+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==e&&(e+=t.charAt(o));else{void 0===e&&(e=t.substr(0,o));var $=Dz[a];void 0!==$?(-1!==n&&(e+=encodeURIComponent(t.substring(n,o)),n=-1),e+=$):-1===n&&(n=o)}}return-1!==n&&(e+=encodeURIComponent(t.substring(n))),void 0!==e?e:t}function dO(t){for(var r=void 0,e=0;e<t.length;e++){var n=t.charCodeAt(e);35===n||63===n?(void 0===r&&(r=t.substr(0,e)),r+=Dz[n]):void 0!==r&&(r+=t[e])}return void 0!==r?r:t}function Fz(t){var r;return r=t.authority&&t.path.length>1&&"file"===t.scheme?"//"+t.authority+t.path:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?t.path[1].toLowerCase()+t.path.substr(2):t.path,ac&&(r=r.replace(/\//g,"\\")),r}function tp(t,r){var e=r?dO:Ez,n="",o=t.scheme,a=t.authority,$=t.path,i=t.query,s=t.fragment;if(o&&(n+=o,n+=":"),(a||"file"===o)&&(n+=bc,n+=bc),a){var h=a.indexOf("@");if(-1!==h){var v=a.substr(0,h);a=a.substr(h+1),-1===(h=v.indexOf(":"))?n+=e(v,!1):(n+=e(v.substr(0,h),!1),n+=":",n+=e(v.substr(h+1),!1)),n+="@"}-1===(h=(a=a.toLowerCase()).indexOf(":"))?n+=e(a,!1):(n+=e(a.substr(0,h),!1),n+=a.substr(h))}if($){if($.length>=3&&47===$.charCodeAt(0)&&58===$.charCodeAt(2))(R=$.charCodeAt(1))>=65&&R<=90&&($="/"+String.fromCharCode(R+32)+":"+$.substr(3));else if($.length>=2&&58===$.charCodeAt(1)){var R;(R=$.charCodeAt(0))>=65&&R<=90&&($=String.fromCharCode(R+32)+":"+$.substr(2))}n+=e($,!0)}return i&&(n+="?",n+=e(i,!1)),s&&(n+="#",n+=r?s:Ez(s,!1)),n}var x=function(){function n(n,e){this.lineNumber=n,this.column=e}return n.prototype.with=function(e,t){return void 0===e&&(e=this.lineNumber),void 0===t&&(t=this.column),e===this.lineNumber&&t===this.column?this:new n(e,t)},n.prototype.delta=function(n,e){return void 0===n&&(n=0),void 0===e&&(e=0),this.with(this.lineNumber+n,this.column+e)},n.prototype.equals=function(e){return n.equals(this,e)},n.equals=function(n,e){return!n&&!e||!!n&&!!e&&n.lineNumber===e.lineNumber&&n.column===e.column},n.prototype.isBefore=function(e){return n.isBefore(this,e)},n.isBefore=function(n,e){return n.lineNumber<e.lineNumber||!(e.lineNumber<n.lineNumber)&&n.column<e.column},n.prototype.isBeforeOrEqual=function(e){return n.isBeforeOrEqual(this,e)},n.isBeforeOrEqual=function(n,e){return n.lineNumber<e.lineNumber||!(e.lineNumber<n.lineNumber)&&n.column<=e.column},n.compare=function(n,e){var t=0|n.lineNumber,i=0|e.lineNumber;return t===i?(0|n.column)-(0|e.column):t-i},n.prototype.clone=function(){return new n(this.lineNumber,this.column)},n.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},n.lift=function(e){return new n(e.lineNumber,e.column)},n.isIPosition=function(n){return n&&"number"==typeof n.lineNumber&&"number"==typeof n.column},n}();var j=function(){function n(n,e,t,r){n>t||n===t&&e>r?(this.startLineNumber=t,this.startColumn=r,this.endLineNumber=n,this.endColumn=e):(this.startLineNumber=n,this.startColumn=e,this.endLineNumber=t,this.endColumn=r)}return n.prototype.isEmpty=function(){return n.isEmpty(this)},n.isEmpty=function(n){return n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn},n.prototype.containsPosition=function(e){return n.containsPosition(this,e)},n.containsPosition=function(n,e){return!(e.lineNumber<n.startLineNumber||e.lineNumber>n.endLineNumber)&&!(e.lineNumber===n.startLineNumber&&e.column<n.startColumn)&&!(e.lineNumber===n.endLineNumber&&e.column>n.endColumn)},n.prototype.containsRange=function(e){return n.containsRange(this,e)},n.containsRange=function(n,e){return!(e.startLineNumber<n.startLineNumber||e.endLineNumber<n.startLineNumber)&&!(e.startLineNumber>n.endLineNumber||e.endLineNumber>n.endLineNumber)&&!(e.startLineNumber===n.startLineNumber&&e.startColumn<n.startColumn)&&!(e.endLineNumber===n.endLineNumber&&e.endColumn>n.endColumn)},n.prototype.plusRange=function(e){return n.plusRange(this,e)},n.plusRange=function(e,t){var r,u,i,m;return t.startLineNumber<e.startLineNumber?(r=t.startLineNumber,u=t.startColumn):t.startLineNumber===e.startLineNumber?(r=t.startLineNumber,u=Math.min(t.startColumn,e.startColumn)):(r=e.startLineNumber,u=e.startColumn),t.endLineNumber>e.endLineNumber?(i=t.endLineNumber,m=t.endColumn):t.endLineNumber===e.endLineNumber?(i=t.endLineNumber,m=Math.max(t.endColumn,e.endColumn)):(i=e.endLineNumber,m=e.endColumn),new n(r,u,i,m)},n.prototype.intersectRanges=function(e){return n.intersectRanges(this,e)},n.intersectRanges=function(e,t){var r=e.startLineNumber,u=e.startColumn,i=e.endLineNumber,m=e.endColumn,o=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,b=t.endColumn;return r<o?(r=o,u=s):r===o&&(u=Math.max(u,s)),i>a?(i=a,m=b):i===a&&(m=Math.min(m,b)),r>i?null:r===i&&u>m?null:new n(r,u,i,m)},n.prototype.equalsRange=function(e){return n.equalsRange(this,e)},n.equalsRange=function(n,e){return!!n&&!!e&&n.startLineNumber===e.startLineNumber&&n.startColumn===e.startColumn&&n.endLineNumber===e.endLineNumber&&n.endColumn===e.endColumn},n.prototype.getEndPosition=function(){return new x(this.endLineNumber,this.endColumn)},n.prototype.getStartPosition=function(){return new x(this.startLineNumber,this.startColumn)},n.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},n.prototype.setEndPosition=function(e,t){return new n(this.startLineNumber,this.startColumn,e,t)},n.prototype.setStartPosition=function(e,t){return new n(e,t,this.endLineNumber,this.endColumn)},n.prototype.collapseToStart=function(){return n.collapseToStart(this)},n.collapseToStart=function(e){return new n(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)},n.fromPositions=function(e,t){return void 0===t&&(t=e),new n(e.lineNumber,e.column,t.lineNumber,t.column)},n.lift=function(e){return e?new n(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null},n.isIRange=function(n){return n&&"number"==typeof n.startLineNumber&&"number"==typeof n.startColumn&&"number"==typeof n.endLineNumber&&"number"==typeof n.endColumn},n.areIntersectingOrTouching=function(n,e){return!(n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<e.startColumn)&&!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<n.startColumn)},n.areIntersecting=function(n,e){return!(n.endLineNumber<e.startLineNumber||n.endLineNumber===e.startLineNumber&&n.endColumn<=e.startColumn)&&!(e.endLineNumber<n.startLineNumber||e.endLineNumber===n.startLineNumber&&e.endColumn<=n.startColumn)},n.compareRangesUsingStarts=function(n,e){if(n&&e){var t=0|n.startLineNumber,r=0|e.startLineNumber;if(t===r){var u=0|n.startColumn,i=0|e.startColumn;if(u===i){var m=0|n.endLineNumber,o=0|e.endLineNumber;return m===o?(0|n.endColumn)-(0|e.endColumn):m-o}return u-i}return t-r}return(n?1:0)-(e?1:0)},n.compareRangesUsingEnds=function(n,e){return n.endLineNumber===e.endLineNumber?n.endColumn===e.endColumn?n.startLineNumber===e.startLineNumber?n.startColumn-e.startColumn:n.startLineNumber-e.startLineNumber:n.endColumn-e.endColumn:n.endLineNumber-e.endLineNumber},n.spansMultipleLines=function(n){return n.endLineNumber>n.startLineNumber},n}();var up={};var eO=up&&up.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ba=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.selectionStartLineNumber=e,r.selectionStartColumn=n,r.positionLineNumber=i,r.positionColumn=o,r}return eO(e,t),e.prototype.clone=function(){return new e(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},e.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},e.prototype.equalsSelection=function(t){return e.selectionsEqual(this,t)},e.selectionsEqual=function(t,e){return t.selectionStartLineNumber===e.selectionStartLineNumber&&t.selectionStartColumn===e.selectionStartColumn&&t.positionLineNumber===e.positionLineNumber&&t.positionColumn===e.positionColumn},e.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},e.prototype.setEndPosition=function(t,n){return 0===this.getDirection()?new e(this.startLineNumber,this.startColumn,t,n):new e(t,n,this.startLineNumber,this.startColumn)},e.prototype.getPosition=function(){return new x(this.positionLineNumber,this.positionColumn)},e.prototype.setStartPosition=function(t,n){return 0===this.getDirection()?new e(t,n,this.endLineNumber,this.endColumn):new e(this.endLineNumber,this.endColumn,t,n)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.liftSelection=function(t){return new e(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)},e.selectionsArrEqual=function(t,e){if(t&&!e||!t&&e)return!1;if(!t&&!e)return!0;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(!this.selectionsEqual(t[n],e[n]))return!1;return!0},e.isISelection=function(t){return t&&"number"==typeof t.selectionStartLineNumber&&"number"==typeof t.selectionStartColumn&&"number"==typeof t.positionLineNumber&&"number"==typeof t.positionColumn},e.createWithDirection=function(t,n,i,o,r){return 0===r?new e(t,n,i,o):new e(i,o,t,n)},e}(j);up.Selection=ba;var kk=function(){function t(t,e,n){this.offset=0|t,this.type=e,this.language=n}return t.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},t}();var vp=function(){return function(t,e){this.tokens=t,this.endState=e}}();var lk=function(){return function(t,e){this.tokens=t,this.endState=e}}();var fO,gO,hO,iO,jO,kO,lO,mO,nO,oO,pO,qO,rO,sO,tO,uO,vO,wO,xO,yO,zO,AO,BO,CO,DO,EO,FO,Gz,Hz,Iz,Jz,Kz,Lz,Mz,Nz,Oz,Pz,Qz,Rz,Sz,Tz,Uz,Vz,Wz,Xz,Yz,Zz,$z,_z,aA,bA,cA,dA,eA;(function(e){e[e.Unnecessary=1]="Unnecessary"})(Gz||(fO=Gz={},fO)),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(Hz||(gO=Hz={},gO)),function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(Iz||(hO=Iz={},hO)),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(Jz||(iO=Jz={},iO)),function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(Kz||(jO=Kz={},jO)),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(Lz||(kO=Lz={},kO)),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(Mz||(lO=Mz={},lO)),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(Nz||(mO=Nz={},mO)),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(Oz||(nO=Oz={},nO)),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(Pz||(oO=Pz={},oO)),function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(Qz||(pO=Qz={},pO)),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(Rz||(qO=Rz={},qO)),function(e){e[e.None=0]="None",e[e.Small=1]="Small",e[e.Large=2]="Large",e[e.SmallBlocks=3]="SmallBlocks",e[e.LargeBlocks=4]="LargeBlocks"}(Sz||(rO=Sz={},rO)),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(Tz||(sO=Tz={},sO)),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(Uz||(tO=Uz={},tO)),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(Vz||(uO=Vz={},uO)),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(Wz||(vO=Wz={},vO)),function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(Xz||(wO=Xz={},wO)),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(Yz||(xO=Yz={},xO)),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(Zz||(yO=Zz={},yO)),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}($z||(zO=$z={},zO)),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.Snippet=25]="Snippet"}(_z||(AO=_z={},AO)),function(e){e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"}(aA||(BO=aA={},BO)),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(bA||(CO=bA={},CO)),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(cA||(DO=cA={},DO)),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(dA||(EO=dA={},EO)),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(eA||(FO=eA={},FO));var GO=function(){function e(){}return e.chord=function(e,r){return UN(e,r)},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}();function fA(){return{editor:void 0,languages:void 0,CancellationTokenSource:Bz,Emitter:b,KeyCode:Iz,KeyMod:GO,Position:x,Range:j,Selection:ba,SelectionDirection:Jz,MarkerSeverity:Hz,MarkerTag:Gz,Uri:hb,Token:kk}}function gA(e,t,r){var o=new SG(e,t),$=null;o.has(_p)||($=new fC,o.set(_p,$)),o.has(TG)||o.set(TG,new OA(o.get(Sa),o.get(Qb)));var i=r(o);return $&&$.setEditor(i),i}function HO(e,t,r){return gA(e,r||{},function(r){return new kF(e,t,r,r.get(vc),r.get(Sa),r.get(Qb),r.get(za),r.get(Rd),r.get(Hg),r.get(wi),r.get(zc),r.get(hc),r.get(ti))})}function IO(e){return O.codeEditorService.get().onCodeEditorAdd(function(t){e(t)})}function JO(e,t,r){return gA(e,r||{},function(r){return new lF(e,t,r,r.get(vc),r.get(za),r.get(Rd),r.get(Hg),r.get(Nk),r.get(Sa),r.get(wi),r.get(zc),r.get(hc))})}function KO(e,t){return new cR(e,t)}function hA(e,t,r){return O.modelService.get().createModel(e,t,r)}function LO(e,t,r){if(e=e||"",!t){var o=r?r.path:null,$=e.indexOf("\n"),i=e;return-1!==$&&(i=e.substring(0,$)),hA(e,O.modeService.get().createByFilepathOrFirstLine(o,i),r)}return hA(e,O.modeService.get().create(t),r)}function MO(e,t){O.modelService.get().setMode(e,O.modeService.get().create(t))}function NO(e,t,r){e&&O.markerService.get().changeOne(t,e.uri,r)}function OO(e){return O.markerService.get().read(e)}function PO(e){return O.modelService.get().getModel(e)}function QO(){return O.modelService.get().getModels()}function RO(e){return O.modelService.get().onModelAdded(e)}function SO(e){return O.modelService.get().onModelRemoved(e)}function TO(e){return O.modelService.get().onModelModeChanged(function(t){e({model:t.model,oldLanguage:t.oldModeId})})}function UO(e){return EB(O.modelService.get(),e)}function VO(e,t){return lq.colorizeElement(O.standaloneThemeService.get(),O.modeService.get(),e,t)}function WO(e,t,r){return lq.colorize(O.modeService.get(),e,t,r)}function XO(e,t,r){return void 0===r&&(r=4),lq.colorizeModelLine(e,t,r)}function YO(e){var t=ca.get(e);return t||{getInitialState:function(){return Zp},tokenize:function(t,r,o){return OR(e,t,r,o)}}}function ZO(e,t){O.modeService.get().triggerMode(t);for(var r=YO(t),o=e.split(/\r\n|\r|\n/),$=[],i=r.getInitialState(),l=0,n=o.length;l<n;l++){var G=o[l],a=r.tokenize(G,i,0);$[l]=a.tokens,i=a.endState}return $}function $O(e,t){O.standaloneThemeService.get().defineTheme(e,t)}function _O(e){O.standaloneThemeService.get().setTheme(e)}function aP(){uC()}function bP(){return{create:HO,onDidCreateEditor:IO,createDiffEditor:JO,createDiffNavigator:KO,createModel:LO,setModelLanguage:MO,setModelMarkers:NO,getModelMarkers:OO,getModels:QO,getModel:PO,onDidCreateModel:RO,onWillDisposeModel:SO,onDidChangeModelLanguage:TO,createWebWorker:UO,colorizeElement:VO,colorize:WO,colorizeModelLine:XO,tokenize:ZO,defineTheme:$O,setTheme:_O,remeasureFonts:aP,ScrollbarVisibility:Kz,WrappingIndent:Tz,OverviewRulerLane:Lz,EndOfLinePreference:Mz,DefaultEndOfLine:Nz,EndOfLineSequence:Oz,TrackedRangeStickiness:Pz,CursorChangeReason:Rz,MouseTargetType:Zz,TextEditorCursorStyle:Vz,TextEditorCursorBlinkingStyle:Uz,ContentWidgetPositionPreference:Xz,OverlayWidgetPositionPreference:Yz,RenderMinimap:Sz,ScrollType:Qz,RenderLineNumbersType:Wz,InternalEditorOptions:ep,BareFontInfo:yk,FontInfo:zk,TextModelResolvedOptions:Ck,FindMatch:Nh,EditorType:Ak}}var cP,uc;(function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}})(uc||(cP=uc={},cP));var vc=L("instantiationService");function iA(e,t,r,$){t[uc.DI_TARGET]===t?t[uc.DI_DEPENDENCIES].push({id:e,index:r,optional:$}):(t[uc.DI_DEPENDENCIES]=[{id:e,index:r,optional:$}],t[uc.DI_TARGET]=t)}function L(e){if(uc.serviceIds.has(e))return uc.serviceIds.get(e);var t=function(e,r,$){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");iA(t,e,$,!1)};return t.toString=function(){return e},uc.serviceIds.set(e,t),t}function dP(e){return function(t,r,$){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");iA(e,t,$,!0)}}var Sa=L("codeEditorService");var Ih={};var q={};var mk=function(){function e(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},e.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},e.INSTANCE=new e,e}();function nk(){return mk.INSTANCE.getZoomLevel()}function eP(){return mk.INSTANCE.getTimeSinceLastZoomLevelChanged()}function fP(e){return mk.INSTANCE.onDidChangeZoomLevel(e)}function gP(){return mk.INSTANCE.getPixelRatio()}var cc=navigator.userAgent,te=cc.indexOf("Trident")>=0;var Jh=cc.indexOf("Edge/")>=0;var ue=te||Jh;var Wc=cc.indexOf("Firefox")>=0;var ve=cc.indexOf("AppleWebKit")>=0;var ok=cc.indexOf("Chrome")>=0;var pk=!ok&&cc.indexOf("Safari")>=0;var hP=!ok&&!pk&&ve;var wp=cc.indexOf("iPad")>=0;var iP=Jh&&cc.indexOf("WebView/")>=0;function jP(){if(te)return!1;if(Jh){var e=cc.indexOf("Edge/"),r=parseInt(cc.substring(e+5,cc.indexOf(".",e)),10);if(!r||r>=12&&r<=16)return!1}return!0}var J=function(e,t,n){var r=function(e){return o.fire(e)},o=new b({onFirstListenerAdd:function(){e.addEventListener(t,r,n)},onLastListenerRemove:function(){e.removeEventListener(t,r,n)}});return o.event};var hia;var jA=new Array(230),xp=new Array(112);function kP(t){if(t.charCode){var e=String.fromCharCode(t.charCode).toUpperCase();return Hh.fromString(e)}return jA[t.keyCode]||0}!function(){for(var t=0;t<xp.length;t++)xp[t]=-1;function e(t,e){jA[t]=e,xp[e]=t}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),te?e(91,57):Wc?(e(59,80),e(107,81),e(109,83),Z&&e(224,57)):ve&&(e(91,57),Z?e(93,57):e(92,57))}();var lP=Z?256:2048,mP=512,nP=1024,oP=Z?2048:256,Fa=function(){function t(t){this._standardKeyboardEventBrand=!0;var e=t;this.browserEvent=e,this.target=e.target,this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,this.keyCode=kP(e),this.code=e.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return t.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},t.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},t.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},t.prototype.equals=function(t){return this._asKeybinding===t},t.prototype._computeKeybinding=function(){var t=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(t=this.keyCode);var e=0;return this.ctrlKey&&(e|=lP),this.altKey&&(e|=mP),this.shiftKey&&(e|=nP),this.metaKey&&(e|=oP),e|=t},t.prototype._computeRuntimeKeybinding=function(){var t=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(t=this.keyCode),new rp(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)},t}();var Kh={};var pP=!1,Lh=null;function qP(n){if(!n.parent||n.parent===n)return null;try{var e=n.location,i=n.parent.location;if(e.protocol!==i.protocol||e.hostname!==i.hostname||e.port!==i.port)return pP=!0,null}catch(r){return pP=!0,null}return n.parent}function rP(n,e){for(var i,r=n.document.getElementsByTagName("iframe"),a=0,t=r.length;a<t;a++)if((i=r[a]).contentWindow===e)return i;return null}var yp=function(){function n(){}return n.getSameOriginWindowChain=function(){if(!Lh){Lh=[];var n,e=window;do{(n=qP(e))?Lh.push({window:e,iframeElement:rP(n,e)}):Lh.push({window:e,iframeElement:null}),e=n}while(e)}return Lh.slice(0)},n.hasDifferentOriginAncestor=function(){return Lh||this.getSameOriginWindowChain(),pP},n.getPositionOfChildWindowRelativeToAncestorWindow=function(n,e){if(!e||n===e)return{top:0,left:0};for(var i=0,r=0,a=0,t=this.getSameOriginWindowChain();a<t.length;a++){var o=t[a];if(o.window===e)break;if(!o.iframeElement)break;var l=o.iframeElement.getBoundingClientRect();i+=l.top,r+=l.left}return{top:i,left:r}},n}();var sP=Kh&&Kh.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),ib=function(){function t(t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=0===t.button,this.middleButton=1===t.button,this.rightButton=2===t.button,this.target=t.target,this.detail=t.detail||1,"dblclick"===t.type&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,"number"==typeof t.pageX?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var e=yp.getPositionOfChildWindowRelativeToAncestorWindow(self,t.view);this.posx-=e.left,this.posy-=e.top}return t.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},t.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},t}();Kh.StandardMouseEvent=ib;var tP=function(t){function e(e){var o=t.call(this,e)||this;return o.dataTransfer=e.dataTransfer,o}return sP(e,t),e}(ib);Kh.DragMouseEvent=tP;var we=function(){function t(t,e,o){if(void 0===e&&(e=0),void 0===o&&(o=0),this.browserEvent=t||null,this.target=t?t.target||t.targetNode||t.srcElement:null,this.deltaY=o,this.deltaX=e,t){var r=t,n=t;void 0!==r.wheelDeltaY?this.deltaY=r.wheelDeltaY/120:void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS&&(this.deltaY=-n.detail/3),void 0!==r.wheelDeltaX?pk&&ac?this.deltaX=-r.wheelDeltaX/120:this.deltaX=r.wheelDeltaX/120:void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS&&(this.deltaX=-t.detail/3),0===this.deltaY&&0===this.deltaX&&t.wheelDelta&&(this.deltaY=t.wheelDelta/120)}}return t.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},t.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},t}();Kh.StandardWheelEvent=we;var Ta={};var kA=Ta&&Ta.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function lA(e){return e&&"function"==typeof e.then}function zp(e){var t=new Bz,o=e(t.token),n=new Promise(function(e,n){t.token.onCancellationRequested(function(){n(ip())}),Promise.resolve(o).then(function(o){t.dispose(),e(o)},function(e){t.dispose(),n(e)})});return new(function(){function e(){}return e.prototype.cancel=function(){t.cancel()},e.prototype.then=function(e,t){return n.then(e,t)},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.finally=function(e){return n.finally(e)},e}())}Ta.isThenable=lA,Ta.createCancelablePromise=zp;var mA=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.task=null}return e.prototype.trigger=function(e,t){var o=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(function(e,t){o.doResolve=e,o.doReject=t}).then(function(){o.completionPromise=null,o.doResolve=null;var e=o.task;return o.task=null,e()})),this.timeout=setTimeout(function(){o.timeout=null,o.doResolve(null)},t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject(ip()),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.dispose=function(){this.cancelTimeout()},e}();function Ap(e,t){return t?new Promise(function(o,n){var r=setTimeout(o,e);t.onCancellationRequested(function(){clearTimeout(r),n(ip())})}):zp(function(t){return Ap(e,t)})}function qk(e,t){void 0===t&&(t=0);var o=setTimeout(e,t);return ka(function(){return clearTimeout(o)})}function uP(e,t,o){void 0===t&&(t=function(e){return!!e}),void 0===o&&(o=null);var n=0,r=e.length,i=function(){if(n>=r)return Promise.resolve(o);var u=e[n++];return Promise.resolve(u()).then(function(e){return t(e)?Promise.resolve(e):i()})};return i()}Ta.Delayer=mA,Ta.timeout=Ap,Ta.disposableTimeout=qk,Ta.first=uP;var Bd=function(e){function t(t,o){var n=e.call(this)||this;return n._token=-1,"function"==typeof t&&"number"==typeof o&&n.setIfNotSet(t,o),n}return kA(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var o=this;this.cancel(),this._token=setTimeout(function(){o._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var o=this;-1===this._token&&(this._token=setTimeout(function(){o._token=-1,e()},t))},t}(B);Ta.TimeoutTimer=Bd;var $f=function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}return kA(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)},t}(B);Ta.IntervalTimer=$f;var rk,wc=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},e.prototype.doRun=function(){this.runner&&this.runner()},e}();Ta.RunOnceScheduler=wc,Ta.runWhenIdle=rk,function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var e=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});rk=function(t){var o=setTimeout(function(){return t(e)}),n=!1;return{dispose:function(){n||(n=!0,clearTimeout(o))}}},Ta.runWhenIdle=rk}else rk=function(e,t){var o=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0),n=!1;return{dispose:function(){n||(n=!0,cancelIdleCallback(o))}}},Ta.runWhenIdle=rk}();var vP=function(){function e(e){var t=this;this._executor=function(){try{t._value=e()}catch(o){t._error=o}finally{t._didRun=!0}},this._handle=rk(function(){return t._executor()})}return e.prototype.dispose=function(){this._handle.dispose()},e.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},e}();Ta.IdleValue=vP;var wP=q&&q.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function xP(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function yP(e){e.parentNode&&e.parentNode.removeChild(e)}function zP(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}q.clearNode=xP,q.removeNode=yP,q.isInDOM=zP;var AP=new(function(){function e(){}return e.prototype._findClassName=function(e,t){var r=e.className;if(r){t=t.trim();var o=r.length,n=t.length;if(0!==n){if(o<n)this._lastStart=-1;else{if(r===t)return this._lastStart=0,void(this._lastEnd=o);for(var i,$=-1;($=r.indexOf(t,$+1))>=0;){if(i=$+n,(0===$||32===r.charCodeAt($-1))&&32===r.charCodeAt(i))return this._lastStart=$,void(this._lastEnd=i+1);if($>0&&32===r.charCodeAt($-1)&&i===o)return this._lastStart=$-1,void(this._lastEnd=i);if(0===$&&i===o)return this._lastStart=0,void(this._lastEnd=i)}this._lastStart=-1}}else this._lastStart=-1}else this._lastStart=-1},e.prototype.hasClass=function(e,t){return this._findClassName(e,t),-1!==this._lastStart},e.prototype.addClasses=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.forEach(function(r){return r.split(" ").forEach(function(r){return t.addClass(e,r)})})},e.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),-1===this._lastStart&&(e.className=e.className+" "+t)):e.className=t},e.prototype.removeClass=function(e,t){this._findClassName(e,t),-1!==this._lastStart&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},e.prototype.removeClasses=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.forEach(function(r){return r.split(" ").forEach(function(r){return t.removeClass(e,r)})})},e.prototype.toggleClass=function(e,t,r){this._findClassName(e,t),-1===this._lastStart||void 0!==r&&r||this.removeClass(e,t),-1!==this._lastStart||void 0!==r&&!r||this.addClass(e,t)},e}()),BP=new(function(){function e(){}return e.prototype.hasClass=function(e,t){return Boolean(t)&&e.classList&&e.classList.contains(t)},e.prototype.addClasses=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.forEach(function(r){return r.split(" ").forEach(function(r){return t.addClass(e,r)})})},e.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},e.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},e.prototype.removeClasses=function(e){for(var t=this,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];r.forEach(function(r){return r.split(" ").forEach(function(r){return t.removeClass(e,r)})})},e.prototype.toggleClass=function(e,t,r){e.classList&&e.classList.toggle(t,r)},e}()),Ob=te?AP:BP,xe=Ob.hasClass.bind(Ob);q.hasClass=xe;var jb=Ob.addClass.bind(Ob);q.addClass=jb;var Bp=Ob.addClasses.bind(Ob);q.addClasses=Bp;var dc=Ob.removeClass.bind(Ob);q.removeClass=dc;var nA=Ob.removeClasses.bind(Ob);q.removeClasses=nA;var ec=Ob.toggleClass.bind(Ob);q.toggleClass=ec;var CP=function(){function e(e,t,r,o){this._node=e,this._type=t,this._handler=r,this._useCapture=o||!1,this._node.addEventListener(this._type,this._handler,this._useCapture)}return e.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._useCapture),this._node=null,this._handler=null)},e}();function la(e,t,r,o){return new CP(e,t,r,o)}function DP(e){return function(t){return e(new ib(t))}}function EP(e){return function(t){return e(new Fa(t))}}q.addDisposableListener=la;var FP=function(e,t,r,o){var n=r;return"click"===t||"mousedown"===t?n=DP(r):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(n=EP(r)),la(e,t,n,o)};function GP(e,t){return la(e,"mouseout",function(r){for(var o=r.relatedTarget||r.target;o&&o!==e;)o=o.parentNode;o!==e&&t(r)})}q.addStandardDisposableListener=FP,q.addDisposableNonBubblingMouseOutListener=GP;var oA,Mh,pA=null;function HP(e){if(!pA){pA=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||function(e){return setTimeout(function(){return e(new Date().getTime())},0)}}return pA.call(self,e)}q.runAtThisOrScheduleAtNextAnimationFrame=oA,q.scheduleAtNextAnimationFrame=Mh;var Cp=function(){function e(e,t){void 0===t&&(t=0),this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){S(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],t=null,r=!1,o=!1,n=function(){for(r=!1,t=e,e=[],o=!0;t.length>0;){t.sort(Cp.sort),t.shift().execute()}o=!1};Mh=function(t,o){void 0===o&&(o=0);var i=new Cp(t,o);return e.push(i),r||(r=!0,HP(n)),i},q.scheduleAtNextAnimationFrame=Mh,oA=function(e,r){if(o){var n=new Cp(e,r);return t.push(n),n}return Mh(e,r)},q.runAtThisOrScheduleAtNextAnimationFrame=oA}();var IP=16,JP=function(e,t){return t},KP=function(e){function t(t,r,o,n,i){void 0===n&&(n=JP),void 0===i&&(i=IP);var $=e.call(this)||this,s=null,a=0,m=$._register(new Bd),l=function(){a=new Date().getTime(),o(s),s=null};return $._register(la(t,r,function(e){s=n(s,e);var t=new Date().getTime()-a;t>=i?(m.cancel(),l()):m.setIfNotSet(l,i-t)})),$}return wP(t,e),t}(B);function LP(e,t,r,o,n){return new KP(e,t,r,o,n)}function Dp(e){return document.defaultView.getComputedStyle(e,null)}q.addDisposableThrottledListener=LP,q.getComputedStyle=Dp;var MP=function(e,t){return parseFloat(t)||0};function Pb(e,t,r){var o=Dp(e),n="0";return o&&(n=o.getPropertyValue?o.getPropertyValue(t):o.getAttribute(r)),MP(e,n)}var kb={getBorderLeftWidth:function(e){return Pb(e,"border-left-width","borderLeftWidth")},getBorderRightWidth:function(e){return Pb(e,"border-right-width","borderRightWidth")},getBorderTopWidth:function(e){return Pb(e,"border-top-width","borderTopWidth")},getBorderBottomWidth:function(e){return Pb(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return Pb(e,"padding-left","paddingLeft")},getPaddingRight:function(e){return Pb(e,"padding-right","paddingRight")},getPaddingTop:function(e){return Pb(e,"padding-top","paddingTop")},getPaddingBottom:function(e){return Pb(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return Pb(e,"margin-left","marginLeft")},getMarginTop:function(e){return Pb(e,"margin-top","marginTop")},getMarginRight:function(e){return Pb(e,"margin-right","marginRight")},getMarginBottom:function(e){return Pb(e,"margin-bottom","marginBottom")},__commaSentinel:!1},NP=function(){return function(e,t){this.width=e,this.height=t}}();function OP(e){for(var t=e.offsetParent,r=e.offsetTop,o=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){r-=e.scrollTop;var n=Dp(e);n&&(o-="rtl"!==n.direction?e.scrollLeft:-e.scrollLeft),e===t&&(o+=kb.getBorderLeftWidth(e),r+=kb.getBorderTopWidth(e),r+=e.offsetTop,o+=e.offsetLeft,t=e.offsetParent)}return{left:o,top:r}}function qA(e){var t=e.getBoundingClientRect();return{left:t.left+Ep.scrollX,top:t.top+Ep.scrollY,width:t.width,height:t.height}}q.Dimension=NP,q.getTopLeftOffset=OP,q.getDomNodePagePosition=qA;var Ep=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}());function PP(e){var t=kb.getMarginLeft(e)+kb.getMarginRight(e);return e.offsetWidth+t}function QP(e){var t=kb.getBorderLeftWidth(e)+kb.getBorderRightWidth(e),r=kb.getPaddingLeft(e)+kb.getPaddingRight(e);return e.offsetWidth-t-r}function RP(e){var t=kb.getBorderTopWidth(e)+kb.getBorderBottomWidth(e),r=kb.getPaddingTop(e)+kb.getPaddingBottom(e);return e.offsetHeight-t-r}function SP(e){var t=kb.getMarginTop(e)+kb.getMarginBottom(e);return e.offsetHeight+t}function _f(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function TP(e,t,r){for(;e;){if(xe(e,t))return e;if(r)if("string"==typeof r){if(xe(e,r))return null}else if(e===r)return null;e=e.parentNode}return null}function sk(e){void 0===e&&(e=document.getElementsByTagName("head")[0]);var t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}q.StandardWindow=Ep,q.getTotalWidth=PP,q.getContentWidth=QP,q.getContentHeight=RP,q.getTotalHeight=SP,q.isAncestor=_f,q.findParentWithClass=TP,q.createStyleSheet=sk;var rA=null;function sA(){return rA||(rA=sk()),rA}function UP(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function VP(e,t,r){void 0===r&&(r=sA()),r&&t&&r.sheet.insertRule(e+"{"+t+"}",0)}function WP(e,t){if(void 0===t&&(t=sA()),t){for(var r=UP(t),o=[],n=0;n<r.length;n++){-1!==r[n].selectorText.indexOf(e)&&o.push(n)}for(n=o.length-1;n>=0;n--)t.sheet.deleteRule(o[n])}}function XP(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}q.createCSSRule=VP,q.removeCSSRulesContainingSelector=WP,q.isHTMLElement=XP;var wa={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ve?"webkitAnimationStart":"animationstart",ANIMATION_END:ve?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ve?"webkitAnimationIteration":"animationiteration"};q.EventType=wa;var Ua={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function YP(e){for(var t=[],r=0;e&&e.nodeType===e.ELEMENT_NODE;r++)t[r]=e.scrollTop,e=e.parentNode;return t}function ZP(e,t){for(var r=0;e&&e.nodeType===e.ELEMENT_NODE;r++)e.scrollTop!==t[r]&&(e.scrollTop=t[r]),e=e.parentNode}q.EventHelper=Ua,q.saveParentsScrollTop=YP,q.restoreParentsScrollTop=ZP;var $P=function(){function e(e){var t=this;this._onDidFocus=new b,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new b,this.onDidBlur=this._onDidBlur.event,this.disposables=[];var r=_f(document.activeElement,e),o=!1;J(e,wa.FOCUS,!0)(function(){o=!1,r||(r=!0,t._onDidFocus.fire())},null,this.disposables),J(e,wa.BLUR,!0)(function(){r&&(o=!0,window.setTimeout(function(){o&&(o=!1,r=!1,t._onDidBlur.fire())},0))},null,this.disposables)}return e.prototype.dispose=function(){this.disposables=C(this.disposables),this._onDidFocus.dispose(),this._onDidBlur.dispose()},e}();function _P(e){return new $P(e)}function La(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){return e.appendChild(t)}),t[t.length-1]}q.trackFocus=_P,q.append=La;var aQ=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;function xa(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=aQ.exec(e);if(!n)throw new Error("Bad use of emmet");var i=document.createElement(n[1]||"div");return n[3]&&(i.id=n[3]),n[4]&&(i.className=n[4].replace(/\./g," ").trim()),t=t||{},Object.keys(t).forEach(function(e){var r=t[e];/^on\w+$/.test(e)?i[e]=r:"selected"===e?r&&i.setAttribute(e,"true"):i.setAttribute(e,r)}),bN(r).forEach(function(e){e instanceof Node?i.appendChild(e):i.appendChild(document.createTextNode(e))}),i}function bQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,o=e;r<o.length;r++){var n=o[r];n.style.display="",n.removeAttribute("aria-hidden")}}function cQ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,o=e;r<o.length;r++){var n=o[r];n.style.display="none",n.setAttribute("aria-hidden","true")}}function dQ(e,t){for(;e;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}function tA(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=dQ(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function Fp(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function eQ(e){var t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function uA(e){if(jz||iP)window.open(e);else{var t=window.open();t&&(t.opener=null,t.location.href=e)}}function fQ(e){var t=function(){e(),r=Mh(t)},r=Mh(t);return ka(function(){return r.dispose()})}q.$=xa,q.show=bQ,q.hide=cQ,q.removeTabIndexAndUpdateFocus=tA,q.getElementsByTagName=Fp,q.computeScreenAwareSize=eQ,q.windowOpenNoOpener=uA,q.animate=fQ;function gQ(e){var r=JSON.parse(e);return r=vA(r,0)}function vA(e,r){if(!e||r>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return hb.revive(e);case 2:return new RegExp(e.source,e.flags);}for(var $ in e)Object.hasOwnProperty.call(e,$)&&(e[$]=vA(e[$],r+1))}return e}var hQ,Ga;(function(t){t.inMemory="inmemory",t.vscode="vscode",t.internal="private",t.walkThrough="walkThrough",t.walkThroughSnippet="walkThroughSnippet",t.http="http",t.https="https",t.file="file",t.mailto="mailto",t.untitled="untitled",t.data="data",t.command="command"})(Ga||(hQ=Ga={},hQ));var iQ,jQ;function kQ(t){for(var $,r,e=[],a=1;a<arguments.length;a++)e[a-1]=arguments[a];return r=t.scheme===Ga.file?hb.file(ha.join.apply(ha,[wA(t)].concat(e))).path:($=ha.posix).join.apply($,[t.path||"/"].concat(e)),t.with({path:r})}function lQ(t){return t.path.length?($=t.scheme===Ga.file?hb.file(ha.normalize(wA(t))).path:ha.posix.normalize(t.path),t.with({path:$})):t;var $}function wA(t){var $,r=t.path;return $=t.authority&&r.length>1&&"file"===t.scheme?"//"+t.authority+r:ac&&47===r.charCodeAt(0)&&nQ(r.charCodeAt(1))&&58===r.charCodeAt(2)?r.substr(1):r,ac&&($=$.replace(/\//g,"\\")),$}function mQ(r,e,t,i){if(void 0===i&&(i=MA),r===e)return!0;if(!r||!e)return!1;if(e.length>r.length)return!1;if(t){if(!GA(r,e))return!1;if(e.length===r.length)return!0;var n=e.length;return e.charAt(e.length-1)===i&&n--,r.charAt(n)===i}return e.charAt(e.length-1)!==i&&(e+=i),0===r.indexOf(e)}function nQ(r){return r>=65&&r<=90||r>=97&&r<=122}var z={},oQ="";function xA(r){return!r||"string"!=typeof r||0===r.trim().length}function pQ(r,e,t){void 0===t&&(t="0");for(var $=""+r,o=[$],n=$.length;n<e;n++)o.push(t);return o.reverse().join("")}z.empty=oQ,z.isFalsyOrWhitespace=xA,z.pad=pQ;var qQ=/{(\d+)}/g;function rQ(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return 0===e.length?r:r.replace(qQ,function(r,t){var $=parseInt(t,10);return isNaN($)||$<0||$>=e.length?r:e[$]})}function sQ(r){return r.replace(/[<>&]/g,function(r){switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return r;}})}function yA(r){return r.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function tQ(r,e){return void 0===e&&(e=" "),AA(zA(r,e),e)}function zA(r,e){if(!r||!e)return r;var t=e.length;if(0===t||0===r.length)return r;for(var $=0;r.indexOf(e,$)===$;)$+=t;return r.substring($)}function AA(r,e){if(!r||!e)return r;var t=e.length,$=r.length;if(0===t||0===$)return r;for(var o=$,n=-1;-1!==(n=r.lastIndexOf(e,o-1))&&n+t===o;){if(0===n)return"";o=n}return r.substring(0,o)}function uQ(r){return r.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function vQ(r,e){if(r.length<e.length)return!1;if(r===e)return!0;for(var t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function BA(r,e){var t=r.length-e.length;return t>0?r.indexOf(e,t)===t:0===t&&r===e}function wQ(r,e,t){if(void 0===t&&(t={}),!r)throw new Error("Cannot create regex from empty string");e||(r=yA(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r="\\b"+r),/\B/.test(r.charAt(r.length-1))||(r+="\\b"));var $="";return t.global&&($+="g"),t.matchCase||($+="i"),t.multiline&&($+="m"),t.unicode&&($+="u"),new RegExp(r,$)}function xQ(r){return"^"!==r.source&&"^$"!==r.source&&"$"!==r.source&&"^\\s*$"!==r.source&&!(!r.exec("")||0!==r.lastIndex)}function tk(r){return(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")}function yQ(r){for(var e=0,t=r.length;e<t;e++){var $=r.charCodeAt(e);if(32!==$&&9!==$)return e}return-1}function zQ(r,e,t){void 0===e&&(e=0),void 0===t&&(t=r.length);for(var $=e;$<t;$++){var o=r.charCodeAt($);if(32!==o&&9!==o)return r.substring(e,$)}return r.substring(e,t)}function AQ(r,e){void 0===e&&(e=r.length-1);for(var t=e;t>=0;t--){var $=r.charCodeAt(t);if(32!==$&&9!==$)return t}return-1}function BQ(r,e){return r<e?-1:r>e?1:0}function CA(r){return r>=97&&r<=122}function DA(r){return r>=65&&r<=90}function EA(r){return CA(r)||DA(r)}function CQ(r,e){return(r?r.length:0)===(e?e.length:0)&&FA(r,e)}function FA(r,e,t){if(void 0===t&&(t=r.length),"string"!=typeof r||"string"!=typeof e)return!1;for(var $=0;$<t;$++){var o=r.charCodeAt($),n=e.charCodeAt($);if(o!==n)if(EA(o)&&EA(n)){var u=Math.abs(o-n);if(0!==u&&32!==u)return!1}else if(String.fromCharCode(o).toLowerCase()!==String.fromCharCode(n).toLowerCase())return!1}return!0}function GA(r,e){var t=e.length;return!(e.length>r.length)&&FA(r,e,t)}function DQ(r,e){var t,$=Math.min(r.length,e.length);for(t=0;t<$;t++)if(r.charCodeAt(t)!==e.charCodeAt(t))return t;return $}function EQ(r,e){var t,$=Math.min(r.length,e.length),o=r.length-1,n=e.length-1;for(t=0;t<$;t++)if(r.charCodeAt(o-t)!==e.charCodeAt(n-t))return t;return $}function FQ(r){return 55296<=r&&r<=56319}function GQ(r){return 56320<=r&&r<=57343}z.format=rQ,z.escape=sQ,z.escapeRegExpCharacters=yA,z.trim=tQ,z.ltrim=zA,z.rtrim=AA,z.convertSimple2RegExpPattern=uQ,z.startsWith=vQ,z.endsWith=BA,z.createRegExp=wQ,z.regExpLeadsToEndlessLoop=xQ,z.regExpFlags=tk,z.firstNonWhitespaceIndex=yQ,z.getLeadingWhitespace=zQ,z.lastNonWhitespaceIndex=AQ,z.compare=BQ,z.isLowerAsciiLetter=CA,z.isUpperAsciiLetter=DA,z.equalsIgnoreCase=CQ,z.startsWithIgnoreCase=GA,z.commonPrefixLength=DQ,z.commonSuffixLength=EQ,z.isHighSurrogate=FQ,z.isLowSurrogate=GQ;var HQ=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function IQ(r){return HQ.test(r)}z.containsRTL=IQ;var JQ=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function KQ(r){return JQ.test(r)}z.containsEmoji=KQ;var LQ=/^[\t\n\r\x20-\x7E]*$/;function MQ(r){return LQ.test(r)}function NQ(r){for(var e=0,t=r.length;e<t;e++)if(HA(r.charCodeAt(e)))return!0;return!1}function HA(r){return(r=+r)>=11904&&r<=55215||r>=63744&&r<=64255||r>=65281&&r<=65374}z.isBasicASCII=MQ,z.containsFullWidthCharacter=NQ,z.isFullWidthCharacter=HA;var OQ=String.fromCharCode(65279);function IA(r){return!!(r&&r.length>0&&65279===r.charCodeAt(0))}function PQ(r){return btoa(encodeURIComponent(r))}function QQ(r,e){for(var t="",$=0;$<e;$++)t+=r;return t}z.UTF8_BOM_CHARACTER=OQ,z.startsWithUTF8BOM=IA,z.safeBtoa=PQ,z.repeat=QQ;var ha={};var RQ=ha&&ha.__extends||function(){var a=function(r,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var e in r)r.hasOwnProperty(e)&&(a[e]=r[e])})(r,e)};return function(r,e){function i(){this.constructor=r}a(r,e),r.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),SQ=65,TQ=97,UQ=90,VQ=122,Cd=46,ma=47,zb=92,Dd=58,WQ=63,fc=void 0===bz?{cwd:function(){return"/"},env:{},get platform(){return ac?"win32":"posix"}}:bz,Gp=function(a){function r(r,e,i){var $,t;"string"==typeof e&&0===e.indexOf("not ")?($="must not be",e=e.replace(/^not /,"")):$="must be";var o=-1!==r.indexOf(".")?"property":"argument";return t="The \""+r+"\" "+o+" "+$+" of type "+e,t+=". Received type "+typeof i,a.call(this,t)||this}return RQ(r,a),r}(Error);function ia(a,r){if("string"!=typeof a)throw new Gp(r,"string",a)}function G(a){return a===ma||a===zb}function JA(a){return a===ma}function Ed(a){return a>=SQ&&a<=UQ||a>=TQ&&a<=VQ}function uk(a,r,e,i){for(var $,t="",o=0,n=-1,v=0,s=0;s<=a.length;++s){if(s<a.length)$=a.charCodeAt(s);else{if(i($))break;$=ma}if(i($)){if(n===s-1||1===v);else if(n!==s-1&&2===v){if(t.length<2||2!==o||t.charCodeAt(t.length-1)!==Cd||t.charCodeAt(t.length-2)!==Cd){if(t.length>2){var A=t.lastIndexOf(e);-1===A?(t="",o=0):o=(t=t.slice(0,A)).length-1-t.lastIndexOf(e),n=s,v=0;continue}if(2===t.length||1===t.length){t="",o=0,n=s,v=0;continue}}r&&(t.length>0?t+=e+"..":t="..",o=2)}else t.length>0?t+=e+a.slice(n+1,s):t=a.slice(n+1,s),o=s-n-1;n=s,v=0}else $===Cd&&-1!==v?++v:v=-1}return t}function KA(a,r){var e=r.dir||r.root,i=r.base||(r.name||"")+(r.ext||"");return e?e===r.root?e+i:e+a+i:i}var Va={resolve:function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];for(var e="",i="",$=!1,t=a.length-1;t>=-1;t--){var o=void 0;if(t>=0?o=a[t]:e?void 0!==(o=fc.env["="+e]||fc.cwd())&&o.slice(0,3).toLowerCase()===e.toLowerCase()+"\\"||(o=e+"\\"):o=fc.cwd(),ia(o,"path"),0!==o.length){var n=o.length,v=0,s="",A=!1,l=o.charCodeAt(0);if(n>1){if(G(l)){if(A=!0,G(o.charCodeAt(1))){for(var h=2,f=h;h<n&&!G(o.charCodeAt(h));++h);if(h<n&&h!==f){var c=o.slice(f,h);for(f=h;h<n&&G(o.charCodeAt(h));++h);if(h<n&&h!==f){for(f=h;h<n&&!G(o.charCodeAt(h));++h);h===n?(s="\\\\"+c+"\\"+o.slice(f),v=h):h!==f&&(s="\\\\"+c+"\\"+o.slice(f,h),v=h)}}}else v=1;}else Ed(l)&&o.charCodeAt(1)===Dd&&(s=o.slice(0,2),v=2,n>2&&G(o.charCodeAt(2))&&(A=!0,v=3));}else G(l)&&(v=1,A=!0);if(!(s.length>0&&e.length>0&&s.toLowerCase()!==e.toLowerCase())&&(0===e.length&&s.length>0&&(e=s),$||(i=o.slice(v)+"\\"+i,$=A),e.length>0&&$))break}}return e+($?"\\":"")+(i=uk(i,!$,"\\",G))||"."},normalize:function(a){ia(a,"path");var r=a.length;if(0===r)return".";var e,i,$=0,t=!1,o=a.charCodeAt(0);if(r>1){if(G(o)){if(t=!0,G(a.charCodeAt(1))){for(var n=2,v=n;n<r&&!G(a.charCodeAt(n));++n);if(n<r&&n!==v){var s=a.slice(v,n);for(v=n;n<r&&G(a.charCodeAt(n));++n);if(n<r&&n!==v){for(v=n;n<r&&!G(a.charCodeAt(n));++n);if(n===r)return"\\\\"+s+"\\"+a.slice(v)+"\\";n!==v&&(e="\\\\"+s+"\\"+a.slice(v,n),$=n)}}}else $=1;}else Ed(o)&&a.charCodeAt(1)===Dd&&(e=a.slice(0,2),$=2,r>2&&G(a.charCodeAt(2))&&(t=!0,$=3));}else if(G(o))return"\\";return 0!==(i=$<r?uk(a.slice($),!t,"\\",G):"").length||t||(i="."),i.length>0&&G(a.charCodeAt(r-1))&&(i+="\\"),void 0===e?t?i.length>0?"\\"+i:"\\":i.length>0?i:"":t?i.length>0?e+"\\"+i:e+"\\":i.length>0?e+i:e},isAbsolute:function(a){ia(a,"path");var r=a.length;if(0===r)return!1;var e=a.charCodeAt(0);return!!G(e)||!!(Ed(e)&&r>2&&a.charCodeAt(1)===Dd&&G(a.charCodeAt(2)))},join:function(){for(var a,r,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(0===e.length)return".";for(var $=0;$<e.length;++$){var t=e[$];ia(t,"path"),t.length>0&&(void 0===a?a=r=t:a+="\\"+t)}if(void 0===a)return".";var o=!0,n=0;if(G(r.charCodeAt(0))){++n;var v=r.length;v>1&&G(r.charCodeAt(1))&&(++n,v>2&&(G(r.charCodeAt(2))?++n:o=!1))}if(o){for(;n<a.length&&G(a.charCodeAt(n));++n);n>=2&&(a="\\"+a.slice(n))}return Va.normalize(a)},relative:function(a,r){if(ia(a,"from"),ia(r,"to"),a===r)return"";var e=Va.resolve(a),i=Va.resolve(r);if(e===i)return"";if((a=e.toLowerCase())===(r=i.toLowerCase()))return"";for(var $=0;$<a.length&&a.charCodeAt($)===zb;++$);for(var t=a.length;t-1>$&&a.charCodeAt(t-1)===zb;--t);for(var o=t-$,n=0;n<r.length&&r.charCodeAt(n)===zb;++n);for(var v=r.length;v-1>n&&r.charCodeAt(v-1)===zb;--v);for(var s=v-n,A=o<s?o:s,l=-1,h=0;h<=A;++h){if(h===A){if(s>A){if(r.charCodeAt(n+h)===zb)return i.slice(n+h+1);if(2===h)return i.slice(n+h)}o>A&&(a.charCodeAt($+h)===zb?l=h:2===h&&(l=3));break}var f=a.charCodeAt($+h);if(f!==r.charCodeAt(n+h))break;f===zb&&(l=h)}if(h!==A&&-1===l)return i;var c="";for(-1===l&&(l=0),h=$+l+1;h<=t;++h)h!==t&&a.charCodeAt(h)!==zb||(0===c.length?c+="..":c+="\\..");return c.length>0?c+i.slice(n+l,v):(n+=l,i.charCodeAt(n)===zb&&++n,i.slice(n,v))},toNamespacedPath:function(a){if("string"!=typeof a)return a;if(0===a.length)return"";var r=Va.resolve(a);if(r.length>=3)if(r.charCodeAt(0)===zb){if(r.charCodeAt(1)===zb){var e=r.charCodeAt(2);if(e!==WQ&&e!==Cd)return"\\\\?\\UNC\\"+r.slice(2)}}else if(Ed(r.charCodeAt(0))&&r.charCodeAt(1)===Dd&&r.charCodeAt(2)===zb)return"\\\\?\\"+r;return a},dirname:function(a){ia(a,"path");var r=a.length;if(0===r)return".";var e=-1,i=-1,$=!0,t=0,o=a.charCodeAt(0);if(r>1){if(G(o)){if(e=t=1,G(a.charCodeAt(1))){for(var n=2,v=n;n<r&&!G(a.charCodeAt(n));++n);if(n<r&&n!==v){for(v=n;n<r&&G(a.charCodeAt(n));++n);if(n<r&&n!==v){for(v=n;n<r&&!G(a.charCodeAt(n));++n);if(n===r)return a;n!==v&&(e=t=n+1)}}}}else Ed(o)&&a.charCodeAt(1)===Dd&&(e=t=2,r>2&&G(a.charCodeAt(2))&&(e=t=3));}else if(G(o))return a;for(var s=r-1;s>=t;--s)if(G(a.charCodeAt(s))){if(!$){i=s;break}}else $=!1;if(-1===i){if(-1===e)return".";i=e}return a.slice(0,i)},basename:function(a,r){void 0!==r&&ia(r,"ext"),ia(a,"path");var e,i=0,$=-1,t=!0;a.length>=2&&Ed(a.charCodeAt(0))&&a.charCodeAt(1)===Dd&&(i=2);if(void 0!==r&&r.length>0&&r.length<=a.length){if(r.length===a.length&&r===a)return"";var o=r.length-1,n=-1;for(e=a.length-1;e>=i;--e){var v=a.charCodeAt(e);if(G(v)){if(!t){i=e+1;break}}else-1===n&&(t=!1,n=e+1),o>=0&&(v===r.charCodeAt(o)?-1==--o&&($=e):(o=-1,$=n))}return i===$?$=n:-1===$&&($=a.length),a.slice(i,$)}for(e=a.length-1;e>=i;--e)if(G(a.charCodeAt(e))){if(!t){i=e+1;break}}else-1===$&&(t=!1,$=e+1);return-1===$?"":a.slice(i,$)},extname:function(a){ia(a,"path");var r=0,e=-1,i=0,$=-1,t=!0,o=0;a.length>=2&&a.charCodeAt(1)===Dd&&Ed(a.charCodeAt(0))&&(r=i=2);for(var n=a.length-1;n>=r;--n){var v=a.charCodeAt(n);if(G(v)){if(!t){i=n+1;break}}else-1===$&&(t=!1,$=n+1),v===Cd?-1===e?e=n:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===$||0===o||1===o&&e===$-1&&e===i+1?"":a.slice(e,$)},format:function(a){if(null===a||"object"!=typeof a)throw new Gp("pathObject","Object",a);return KA("\\",a)},parse:function(a){ia(a,"path");var r={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return r;var e=a.length,i=0,$=a.charCodeAt(0);if(e>1){if(G($)){if(i=1,G(a.charCodeAt(1))){for(var t=2,o=t;t<e&&!G(a.charCodeAt(t));++t);if(t<e&&t!==o){for(o=t;t<e&&G(a.charCodeAt(t));++t);if(t<e&&t!==o){for(o=t;t<e&&!G(a.charCodeAt(t));++t);t===e?i=t:t!==o&&(i=t+1)}}}}else if(Ed($)&&a.charCodeAt(1)===Dd){if(i=2,!(e>2))return r.root=r.dir=a,r;if(G(a.charCodeAt(2))){if(3===e)return r.root=r.dir=a,r;i=3}}}else if(G($))return r.root=r.dir=a,r;i>0&&(r.root=a.slice(0,i));for(var n=-1,v=i,s=-1,A=!0,l=a.length-1,h=0;l>=i;--l)if(G($=a.charCodeAt(l))){if(!A){v=l+1;break}}else-1===s&&(A=!1,s=l+1),$===Cd?-1===n?n=l:1!==h&&(h=1):-1!==n&&(h=-1);return-1===n||-1===s||0===h||1===h&&n===s-1&&n===v+1?-1!==s&&(r.base=r.name=a.slice(v,s)):(r.name=a.slice(v,n),r.base=a.slice(v,s),r.ext=a.slice(n,s)),r.dir=v>0&&v!==i?a.slice(0,v-1):r.root,r},sep:"\\",delimiter:";",win32:null,posix:null};ha.win32=Va;var Wa={resolve:function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];for(var e="",i=!1,$=a.length-1;$>=-1&&!i;$--){var t=void 0;ia(t=$>=0?a[$]:fc.cwd(),"path"),0!==t.length&&(e=t+"/"+e,i=t.charCodeAt(0)===ma)}return e=uk(e,!i,"/",JA),i?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(a){if(ia(a,"path"),0===a.length)return".";var r=a.charCodeAt(0)===ma,e=a.charCodeAt(a.length-1)===ma;return 0!==(a=uk(a,!r,"/",JA)).length||r||(a="."),a.length>0&&e&&(a+="/"),r?"/"+a:a},isAbsolute:function(a){return ia(a,"path"),a.length>0&&a.charCodeAt(0)===ma},join:function(){for(var a,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(0===r.length)return".";for(var i=0;i<r.length;++i){var $=arguments[i];ia($,"path"),$.length>0&&(void 0===a?a=$:a+="/"+$)}return void 0===a?".":Wa.normalize(a)},relative:function(a,r){if(ia(a,"from"),ia(r,"to"),a===r)return"";if((a=Wa.resolve(a))===(r=Wa.resolve(r)))return"";for(var e=1;e<a.length&&a.charCodeAt(e)===ma;++e);for(var i=a.length,$=i-e,t=1;t<r.length&&r.charCodeAt(t)===ma;++t);for(var o=r.length-t,n=$<o?$:o,v=-1,s=0;s<=n;++s){if(s===n){if(o>n){if(r.charCodeAt(t+s)===ma)return r.slice(t+s+1);if(0===s)return r.slice(t+s)}else $>n&&(a.charCodeAt(e+s)===ma?v=s:0===s&&(v=0));break}var A=a.charCodeAt(e+s);if(A!==r.charCodeAt(t+s))break;A===ma&&(v=s)}var l="";for(s=e+v+1;s<=i;++s)s!==i&&a.charCodeAt(s)!==ma||(0===l.length?l+="..":l+="/..");return l.length>0?l+r.slice(t+v):(t+=v,r.charCodeAt(t)===ma&&++t,r.slice(t))},toNamespacedPath:function(a){return a},dirname:function(a){if(ia(a,"path"),0===a.length)return".";for(var r=a.charCodeAt(0)===ma,e=-1,i=!0,$=a.length-1;$>=1;--$)if(a.charCodeAt($)===ma){if(!i){e=$;break}}else i=!1;return-1===e?r?"/":".":r&&1===e?"//":a.slice(0,e)},basename:function(a,r){void 0!==r&&ia(r,"ext"),ia(a,"path");var e,i=0,$=-1,t=!0;if(void 0!==r&&r.length>0&&r.length<=a.length){if(r.length===a.length&&r===a)return"";var o=r.length-1,n=-1;for(e=a.length-1;e>=0;--e){var v=a.charCodeAt(e);if(v===ma){if(!t){i=e+1;break}}else-1===n&&(t=!1,n=e+1),o>=0&&(v===r.charCodeAt(o)?-1==--o&&($=e):(o=-1,$=n))}return i===$?$=n:-1===$&&($=a.length),a.slice(i,$)}for(e=a.length-1;e>=0;--e)if(a.charCodeAt(e)===ma){if(!t){i=e+1;break}}else-1===$&&(t=!1,$=e+1);return-1===$?"":a.slice(i,$)},extname:function(a){ia(a,"path");for(var r=-1,e=0,i=-1,$=!0,t=0,o=a.length-1;o>=0;--o){var n=a.charCodeAt(o);if(n!==ma)-1===i&&($=!1,i=o+1),n===Cd?-1===r?r=o:1!==t&&(t=1):-1!==r&&(t=-1);else if(!$){e=o+1;break}}return-1===r||-1===i||0===t||1===t&&r===i-1&&r===e+1?"":a.slice(r,i)},format:function(a){if(null===a||"object"!=typeof a)throw new Gp("pathObject","Object",a);return KA("/",a)},parse:function(a){ia(a,"path");var r={root:"",dir:"",base:"",ext:"",name:""};if(0===a.length)return r;var e,i=a.charCodeAt(0)===ma;i?(r.root="/",e=1):e=0;for(var $=-1,t=0,o=-1,n=!0,v=a.length-1,s=0;v>=e;--v){var A=a.charCodeAt(v);if(A!==ma)-1===o&&(n=!1,o=v+1),A===Cd?-1===$?$=v:1!==s&&(s=1):-1!==$&&(s=-1);else if(!n){t=v+1;break}}return-1===$||-1===o||0===s||1===s&&$===o-1&&$===t+1?-1!==o&&(r.base=r.name=0===t&&i?a.slice(1,o):a.slice(t,o)):(0===t&&i?(r.name=a.slice(1,$),r.base=a.slice(1,o)):(r.name=a.slice(t,$),r.base=a.slice(t,o)),r.ext=a.slice($,o)),t>0?r.dir=a.slice(0,t-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};ha.posix=Wa,Wa.win32=Va.win32=Va,Wa.posix=Va.posix=Wa;var XQ="win32"===fc.platform?Va.normalize:Wa.normalize;ha.normalize=XQ;var YQ="win32"===fc.platform?Va.join:Wa.join;ha.join=YQ;var ZQ="win32"===fc.platform?Va.relative:Wa.relative;ha.relative=ZQ;var $Q="win32"===fc.platform?Va.dirname:Wa.dirname;ha.dirname=$Q;var LA="win32"===fc.platform?Va.basename:Wa.basename;ha.basename=LA;var _Q="win32"===fc.platform?Va.extname:Wa.extname;ha.extname=_Q;var MA="win32"===fc.platform?Va.sep:Wa.sep;ha.sep=MA;(function(t){t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime",t.parseMetaData=function($){var r=new Map;$.path.substring($.path.indexOf(";")+1,$.path.lastIndexOf(";")).split(";").forEach(function(t){var $=t.split(":"),e=$[0],a=$[1];e&&a&&r.set(e,a)});var e=$.path.substring(0,$.path.indexOf(";"));return e&&r.set(t.META_DATA_MIME,e),r}})(jQ||(iQ=jQ={},iQ));var Qb=L("commandService");var Fd=new(function(){function e(){this._commands=new Map,this._onDidRegisterCommand=new b,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return e.prototype.registerCommand=function(e,o){var t=this;if(!e)throw new Error("invalid command");if("string"==typeof e){if(!o)throw new Error("invalid command");return this.registerCommand({id:e,handler:o})}if(e.description){for(var r=[],n=0,i=e.description.args;n<i.length;n++){var a=i[n];r.push(a.constraint)}var m=e.handler;e.handler=function(e){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];return hN(o,r),m.apply(void 0,[e].concat(o))}}var s=e.id,c=this._commands.get(s);c||(c=new yz,this._commands.set(s,c));var $=c.unshift(e),d=ka(function(){$();var e=t._commands.get(s);e&&e.isEmpty()&&t._commands.delete(s)});return this._onDidRegisterCommand.fire(s),d},e.prototype.registerCommandAlias=function(e,o){return Fd.registerCommand(e,function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=e.get(Qb)).executeCommand.apply(t,[o].concat(r))})},e.prototype.getCommand=function(e){var o=this._commands.get(e);if(o&&!o.isEmpty())return o.iterator().next().value},e.prototype.getCommands=function(){var e=this,o=Object.create(null);return this._commands.forEach(function(t,r){o[r]=e.getCommand(r)}),o},e}());var aR=Ih&&Ih.__decorate||function(e,r,t,o){var $,i=arguments.length,n=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,o);else for(var a=e.length-1;a>=0;a--)($=e[a])&&(n=(i<3?$(n):i>3?$(r,t,n):$(r,t))||n);return i>3&&n&&Object.defineProperty(r,t,n),n},NA=Ih&&Ih.__param||function(e,r){return function(t,o){r(t,o,e)}},OA=function(){function e(e,r){this._editorService=e,this._commandService=r}return e.prototype.open=function(e,r){var t,o=e.scheme,$=e.path,i=e.query,n=e.fragment;if(o){if(o===Ga.http||o===Ga.https||o===Ga.mailto)return q.windowOpenNoOpener(e.toString(!0)),Promise.resolve(!0);if(o===Ga.command){if(!Fd.getCommand($))return Promise.reject("command '"+$+"' NOT known");var a=[];try{a=gQ(i),Array.isArray(a)||(a=[a])}catch(s){}return(t=this._commandService).executeCommand.apply(t,[$].concat(a)).then(function(){return!0})}var c=void 0,m=/^L?(\d+)(?:,(\d+))?/.exec(n);return m&&(c={startLineNumber:parseInt(m[1]),startColumn:m[2]?parseInt(m[2]):1},e=e.with({fragment:""})),e.scheme===Ga.file&&(e=lQ(e)),this._editorService.openCodeEditor({resource:e,options:{selection:c}},this._editorService.getFocusedCodeEditor(),r&&r.openToSide).then(function(){return!0})}return Promise.resolve(!1)},e=aR([NA(0,Sa),NA(1,Qb)],e)}();Ih.OpenerService=OA;function vk(e,o){if(!e)throw new Error(o?"Assertion failed ("+o+")":"Assertion Failed")}var bR={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},cR=function(){function t(t,i){void 0===i&&(i={});var e=this;this._onDidUpdate=new b,this._editor=t,this._options=_b(i,bR,!1),this.disposed=!1,this._disposables=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._disposables.push(this._editor.onDidDispose(function(){return e.dispose()})),this._disposables.push(this._editor.onDidUpdateDiff(function(){return e._onDiffUpdated()})),this._options.followsCaret&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeCursorPosition(function(t){e.ignoreSelectionChange||(e.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._disposables.push(this._editor.getModifiedEditor().onDidChangeModel(function(t){e.revealFirst=!0})),this._init()}return t.prototype._init=function(){this._editor.getLineChanges()},t.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},t.prototype._compute=function(t){var i=this;this.ranges=[],t&&t.forEach(function(t){!i._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(function(t){i.ranges.push({rhs:!0,range:new j(t.modifiedStartLineNumber,t.modifiedStartColumn,t.modifiedEndLineNumber,t.modifiedEndColumn)})}):i.ranges.push({rhs:!0,range:new j(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber,1)})}),this.ranges.sort(function(t,i){return t.range.getStartPosition().isBeforeOrEqual(i.range.getStartPosition())?-1:i.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?1:0}),this._onDidUpdate.fire(this)},t.prototype._initIdx=function(t){var i=!1,e=this._editor.getPosition();if(e){for(var s=0,o=this.ranges.length;s<o&&!i;s++){var n=this.ranges[s].range;e.isBeforeOrEqual(n.getStartPosition())&&(this.nextIdx=s+(t?0:-1),i=!0)}i||(this.nextIdx=t?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},t.prototype._move=function(t,i){if(vk(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(t):t?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var e=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var s=e.range.getStartPosition();this._editor.setPosition(s),this._editor.revealPositionInCenter(s,i)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(t){void 0===t&&(t=0),this._move(!0,t)},t.prototype.previous=function(t){void 0===t&&(t=0),this._move(!1,t)},t.prototype.dispose=function(){C(this._disposables),this._disposables.length=0,this._onDidUpdate.dispose(),this.ranges=[],this.disposed=!0},t}();var wk={};var xk=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new b,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}());var dR=wk&&wk.__extends||function(){var t=function(i,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])})(i,r)};return function(i,r){function e(){this.constructor=i}t(i,r),i.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}}(),eR=Z?1.5:1.35,PA=8,fR=100,QA=8,gR=150,hR=-5,iR=20;function RA(t,i){if("number"==typeof t)return t;if(void 0===t)return i;var r=parseFloat(t);return isNaN(r)?i:r}function jR(t,i){if("number"==typeof t)return Math.round(t);if(void 0===t)return i;var r=parseInt(t);return isNaN(r)?i:r}function Hp(t,i,r){return t<i?i:t>r?r:t}function SA(t,i){return"string"!=typeof t?i:t}var yk=function(){function t(t){this.zoomLevel=t.zoomLevel,this.fontFamily=String(t.fontFamily),this.fontWeight=String(t.fontWeight),this.fontSize=t.fontSize,this.lineHeight=0|t.lineHeight,this.letterSpacing=t.letterSpacing}return t.createFromRawSettings=function(i,r){var e=SA(i.fontFamily,Xf.fontFamily),a=SA(i.fontWeight,Xf.fontWeight),n=RA(i.fontSize,Xf.fontSize);0===(n=Hp(n,0,fR))?n=Xf.fontSize:n<PA&&(n=PA);var o=jR(i.lineHeight,0);0===(o=Hp(o,0,gR))?o=Math.round(eR*n):o<QA&&(o=QA);var $=RA(i.letterSpacing,0);$=Hp($,hR,iR);var s=1+.1*xk.getZoomLevel();return new t({zoomLevel:r,fontFamily:e,fontWeight:a,fontSize:n*=s,lineHeight:o*=s,letterSpacing:$})},t.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing},t.prototype.getMassagedFontFamily=function(){return /[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?"\""+this.fontFamily+"\"":this.fontFamily},t}();wk.BareFontInfo=yk;var zk=function(t){function i(i,r){var e=t.call(this,i)||this;return e.isTrusted=r,e.isMonospace=i.isMonospace,e.typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,e.typicalFullwidthCharacterWidth=i.typicalFullwidthCharacterWidth,e.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,e.spaceWidth=i.spaceWidth,e.maxDigitWidth=i.maxDigitWidth,e}return dR(i,t),i.prototype.equals=function(t){return this.fontFamily===t.fontFamily&&this.fontWeight===t.fontWeight&&this.fontSize===t.fontSize&&this.lineHeight===t.lineHeight&&this.letterSpacing===t.letterSpacing&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===t.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.spaceWidth===t.spaceWidth&&this.maxDigitWidth===t.maxDigitWidth},i}(yk);wk.FontInfo=zk;function kR(o){return o&&"string"==typeof o.id}var Ak={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var M={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"};var lR,Bk;(function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"})(Bk||(lR=Bk={},lR));var Ck=function(){function e(e){this.tabSize=0|e.tabSize,this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}();var Nh=function(){return function(e,t){this.range=e,this.matches=t}}();var mR=function(){return function(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}();var nR,oR;function TA(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(TA):!!e.exclusive)}function UA(r,e,t,f){if(Array.isArray(r)){for(var s=0,o=0,a=r;o<a.length;o++){var i=UA(a[o],e,t,f);if(10===i)return i;i>s&&(s=i)}return s}if("string"==typeof r)return f?"*"===r?5:r===t?10:0:0;if(r){var $=r.language,n=r.pattern,c=r.scheme,u=r.hasAccessToAllModels;if(!f&&!u)return 0;s=0;if(c)if(c===e.scheme)s=10;else{if("*"!==c)return 0;s=5}if($)if($===t)s=10;else{if("*"!==$)return 0;s=Math.max(s,5)}if(n){if(n!==e.fsPath&&!eB(n,e.fsPath))return 0;s=10}return s}return 0}var xc={},pR=xc&&xc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}();function Ip(t){var e=[];return t.forEach(function(t){return e.push(t)}),e}function Dk(t){var e=[];return t.forEach(function(t,r){return e.push(r)}),e}xc.values=Ip,xc.keys=Dk;var VA=function(){function t(){this._value="",this._pos=0}return t.prototype.reset=function(t){return this._value=t,this._pos=0,this},t.prototype.next=function(){return this._pos+=1,this},t.prototype.hasNext=function(){return this._pos<this._value.length-1},t.prototype.cmp=function(t){return t.charCodeAt(0)-this._value.charCodeAt(this._pos)},t.prototype.value=function(){return this._value[this._pos]},t}();xc.StringIterator=VA;var WA=function(){function t(){}return t.prototype.reset=function(t){return this._value=t.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},t.prototype.hasNext=function(){return this._to<this._value.length},t.prototype.next=function(){this._from=this._to;for(var t=!0;this._to<this._value.length;this._to++){var e=this._value.charCodeAt(this._to);if(47===e||92===e){if(!t)break;this._from++}else t=!1}return this},t.prototype.cmp=function(t){for(var e=0,r=t.length,i=this._from;e<r&&i<this._to;){var o=t.charCodeAt(e)-this._value.charCodeAt(i);if(0!==o)return o;e+=1,i+=1}return r===this._to-this._from?0:e<r?-1:1},t.prototype.value=function(){return this._value.substring(this._from,this._to)},t}();xc.PathIterator=WA;var Ek=function(){return function(){}}(),Fk=function(){function t(t){this._iter=t}return t.forPaths=function(){return new t(new WA())},t.forStrings=function(){return new t(new VA())},t.prototype.clear=function(){this._root=void 0},t.prototype.set=function(t,e){var r,i=this._iter.reset(t);for(this._root||(this._root=new Ek,this._root.segment=i.value()),r=this._root;;){var o=i.cmp(r.segment);if(o>0)r.left||(r.left=new Ek,r.left.segment=i.value()),r=r.left;else if(o<0)r.right||(r.right=new Ek,r.right.segment=i.value()),r=r.right;else{if(!i.hasNext())break;i.next(),r.mid||(r.mid=new Ek,r.mid.segment=i.value()),r=r.mid}}var n=r.value;return r.value=e,r.key=t,n},t.prototype.get=function(t){for(var e=this._iter.reset(t),r=this._root;r;){var i=e.cmp(r.segment);if(i>0)r=r.left;else if(i<0)r=r.right;else{if(!e.hasNext())break;e.next(),r=r.mid}}return r?r.value:void 0},t.prototype.findSubstr=function(t){for(var e=this._iter.reset(t),r=this._root,i=void 0;r;){var o=e.cmp(r.segment);if(o>0)r=r.left;else if(o<0)r=r.right;else{if(!e.hasNext())break;e.next(),i=r.value||i,r=r.mid}}return r&&r.value||i},t.prototype.forEach=function(t){this._forEach(this._root,t)},t.prototype._forEach=function(t,e){t&&(this._forEach(t.left,e),t.value&&e(t.value,t.key),this._forEach(t.mid,e),this._forEach(t.right,e))},t}();xc.TernarySearchTree=Fk;var Gk=function(){function t(){this.map=new Map,this.ignoreCase=!1}return t.prototype.set=function(t,e){this.map.set(this.toKey(t),e)},t.prototype.get=function(t){return this.map.get(this.toKey(t))},t.prototype.toKey=function(t){var e=t.toString();return this.ignoreCase&&(e=e.toLowerCase()),e},t}();xc.ResourceMap=Gk;var XA=function(){function t(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return t.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.get=function(t,e){void 0===e&&(e=0);var r=this._map.get(t);if(r)return 0!==e&&this.touch(r,e),r.value},t.prototype.set=function(t,e,r){void 0===r&&(r=0);var i=this._map.get(t);if(i)i.value=e,0!==r&&this.touch(i,r);else{switch(i={key:t,value:e,next:void 0,previous:void 0},r){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:default:this.addItemLast(i);}this._map.set(t,i),this._size++}},t.prototype.forEach=function(t,e){for(var r=this._head;r;)e?t.bind(e)(r.value,r.key,this):t(r.value,r.key,this),r=r.next},t.prototype.trimOld=function(t){if(!(t>=this.size))if(0!==t){for(var e=this._head,r=this.size;e&&r>t;)this._map.delete(e.key),e=e.next,r--;this._head=e,this._size=r,e&&(e.previous=void 0)}else this.clear()},t.prototype.addItemFirst=function(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t},t.prototype.addItemLast=function(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t},t.prototype.touch=function(t,e){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===e||2===e)if(1===e){if(t===this._head)return;var r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(2===e){if(t===this._tail)return;r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}},t.prototype.toJSON=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),t},t}();xc.LinkedMap=XA;var Hk=function(t){function e(e,r){void 0===r&&(r=1);var i=t.call(this)||this;return i._limit=e,i._ratio=Math.min(Math.max(0,r),1),i}return pR(e,t),e.prototype.get=function(e){return t.prototype.get.call(this,e,2)},e.prototype.set=function(e,r){t.prototype.set.call(this,e,r,2),this.checkTrim()},e.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},e}(XA);xc.LRUCache=Hk;var Jp="**",YA="/",Ik="[/\\\\]",Jk="[^/\\\\]",qR=/\//g;function ZA(e){switch(e){case 0:return"";case 1:return Jk+"*?";default:return"(?:"+Ik+"|"+Jk+"+"+Ik+"|"+Ik+Jk+"+)*?";}}function $A(e,t){if(!e)return[];for(var r=[],$=!1,a=!1,n="",p=0,s=e;p<s.length;p++){var i=s[p];switch(i){case t:if(!$&&!a){r.push(n),n="";continue}break;case"{":$=!0;break;case"}":$=!1;break;case"[":a=!0;break;case"]":a=!1;}n+=i}return n&&r.push(n),r}function _A(e){if(!e)return"";var t="",r=$A(e,YA);if(r.every(function(e){return e===Jp}))t=".*";else{var $=!1;r.forEach(function(e,a){if(e!==Jp){for(var n=!1,p="",s=!1,i="",u=0,l=e;u<l.length;u++){var o=l[u];if("}"!==o&&n)p+=o;else if(!s||"]"===o&&i)switch(o){case"{":n=!0;continue;case"[":s=!0;continue;case"}":var v="(?:"+$A(p,",").map(function(e){return _A(e)}).join("|")+")";t+=v,n=!1,p="";break;case"]":t+="["+i+"]",s=!1,i="";break;case"?":t+=Jk;continue;case"*":t+=ZA(1);continue;default:t+=z.escapeRegExpCharacters(o);}else{i+="-"===o?o:"^"!==o&&"!"!==o||i?o===YA?"":z.escapeRegExpCharacters(o):"^"}}a<r.length-1&&(r[a+1]!==Jp||a+2<r.length)&&(t+=Ik),$=!1}else $||(t+=ZA(2),$=!0)})}return t}var rR=/^\*\*\/\*\.[\w\.-]+$/,sR=/^\*\*\/([\w\.-]+)\/?$/,tR=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,uR=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,vR=/^\*\*((\/[\w\.-]+)+)\/?$/,wR=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,aB=new Hk(1e4),bB=function(){return!1},yc=function(){return null};function Kp(e,t){if(!e)return yc;var r,$,a=(r=(r="string"!=typeof e?e.pattern:e).trim())+"_"+!!t.trimForExclusions,n=aB.get(a);if(n)return cB(n,e);if(rR.test(r)){var p=r.substr(4);n=function(e,t){return"string"==typeof e&&z.endsWith(e,p)?r:null}}else n=($=sR.exec(Lp(r,t)))?xR($[1],r):(t.trimForExclusions?uR:tR).test(r)?yR(r,t):($=vR.exec(Lp(r,t)))?dB($[1].substr(1),r,!0):($=wR.exec(Lp(r,t)))?dB($[1],r,!1):zR(r);return aB.set(a,n),cB(n,e)}function cB(e,t){return"string"==typeof t?e:function(r,$){return mQ(r,t.base)?e(ha.relative(t.base,r),$):null}}function Lp(e,t){return t.trimForExclusions&&z.endsWith(e,"/**")?e.substr(0,e.length-2):e}function xR(e,t){var r="/"+e,$="\\"+e,a=function(a,n){return"string"!=typeof a?null:n?n===e?t:null:a===e||z.endsWith(a,r)||z.endsWith(a,$)?t:null},n=[e];return a.basenames=n,a.patterns=[t],a.allBasenames=n,a}function yR(e,t){var r=fB(e.slice(1,-1).split(",").map(function(e){return Kp(e,t)}).filter(function(e){return e!==yc}),e),$=r.length;if(!$)return yc;if(1===$)return r[0];var a=function(t,$){for(var a=0,n=r.length;a<n;a++)if(r[a](t,$))return e;return null},n=Vo(r,function(e){return!!e.allBasenames});n&&(a.allBasenames=n.allBasenames);var p=r.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return p.length&&(a.allPaths=p),a}function dB(e,t,r){var $=ha.sep!==ha.posix.sep?e.replace(qR,ha.sep):e,a=ha.sep+$,n=r?function(e,r){return"string"!=typeof e||e!==$&&!z.endsWith(e,a)?null:t}:function(e,r){return"string"==typeof e&&e===$?t:null};return n.allPaths=[(r?"*/":"./")+e],n}function zR(e){try{var t=new RegExp("^"+_A(e)+"$");return function(r,$){return t.lastIndex=0,"string"==typeof r&&t.test(r)?e:null}}catch(r){return yc}}function eB(e,t,r){return!(!e||"string"!=typeof t)&&AR(e)(t,void 0,r)}function AR(e,t){if(void 0===t&&(t={}),!e)return bB;if("string"==typeof e||BR(e)){var r=Kp(e,t);if(r===yc)return bB;var $=function(e,t){return!!r(e,t)};return r.allBasenames&&($.allBasenames=r.allBasenames),r.allPaths&&($.allPaths=r.allPaths),$}return CR(e,t)}function BR(e){var t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}function CR(e,t){var r=fB(Object.getOwnPropertyNames(e).map(function(r){return DR(r,e[r],t)}).filter(function(e){return e!==yc})),$=r.length;if(!$)return yc;if(!r.some(function(e){return!!e.requiresSiblings})){if(1===$)return r[0];var a=function(e,t){for(var $=0,a=r.length;$<a;$++){var n=r[$](e,t);if(n)return n}return null},n=Vo(r,function(e){return!!e.allBasenames});n&&(a.allBasenames=n.allBasenames);var p=r.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return p.length&&(a.allPaths=p),a}var s=function(e,t,$){for(var a=void 0,n=0,p=r.length;n<p;n++){var s=r[n];s.requiresSiblings&&$&&(t||(t=ha.basename(e)),a||(a=t.substr(0,t.length-ha.extname(e).length)));var i=s(e,t,a,$);if(i)return i}return null},i=Vo(r,function(e){return!!e.allBasenames});i&&(s.allBasenames=i.allBasenames);var u=r.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);return u.length&&(s.allPaths=u),s}function DR(e,t,r){if(!1===t)return yc;var $=Kp(e,r);if($===yc)return yc;if("boolean"==typeof t)return $;if(t){var a=t.when;if("string"==typeof a){var n=function(t,r,n,p){if(!p||!$(t,r))return null;var s=p(a.replace("$(basename)",n));return lA(s)?s.then(function(t){return t?e:null}):s?e:null};return n.requiresSiblings=!0,n}}return $}function fB(e,t){var r=e.filter(function(e){return!!e.basenames});if(r.length<2)return e;var $,a=r.reduce(function(e,t){var r=t.basenames;return r?e.concat(r):e},[]);if(t){$=[];for(var n=0,p=a.length;n<p;n++)$.push(t)}else $=r.reduce(function(e,t){var r=t.patterns;return r?e.concat(r):e},[]);var s=function(e,t){if("string"!=typeof e)return null;if(!t){var r=void 0;for(r=e.length;r>0;r--){var n=e.charCodeAt(r-1);if(47===n||92===n)break}t=e.substr(r)}var p=a.indexOf(t);return-1!==p?$[p]:null};s.basenames=a,s.patterns=$,s.allBasenames=a;var i=e.filter(function(e){return!e.basenames});return i.push(s),i}var Oh=L("modelService");function ER(r){return!r.isTooLargeForSyncing()&&!r.isForSimpleWidget}var sa=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new b}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,r){var t=this,i={selector:e,provider:r,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ka(function(){if(i){var e=t._entries.indexOf(i);e>=0&&(t._entries.splice(e,1),t._lastCandidate=void 0,t._onDidChange.fire(t._entries.length),i=void 0)}})},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e)return[];this._updateScores(e);for(var r=[],t=0,i=this._entries;t<i.length;t++){var o=i[t];o._score>0&&r.push(o.provider)}return r},e.prototype.ordered=function(e){var r=[];return this._orderedForEach(e,function(e){return r.push(e.provider)}),r},e.prototype.orderedGroups=function(e){var r,t,i=[];return this._orderedForEach(e,function(e){r&&t===e._score?r.push(e.provider):(t=e._score,r=[e.provider],i.push(r))}),i},e.prototype._orderedForEach=function(e,r){if(e){this._updateScores(e);for(var t=0,i=this._entries;t<i.length;t++){var o=i[t];o._score>0&&r(o)}}},e.prototype._updateScores=function(r){var t={uri:r.uri.toString(),language:r.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(var i=0,o=this._entries;i<o.length;i++){var n=o[i];if(n._score=UA(n.selector,r.uri,r.getLanguageIdentifier().language,ER(r)),TA(n.selector)&&n._score>0){for(var s=0,a=this._entries;s<a.length;s++){a[s]._score=0}n._score=1e3;break}}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,r){return e._score<r._score?1:e._score>r._score?-1:e._time<r._time?1:e._time>r._time?-1:0},e}();var FR=function(){function e(){this._onDidChange=new b,this.onDidChange=this._onDidChange.event,this._map=Object.create(null),this._promises=Object.create(null),this._colorMap=null}return e.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},e.prototype.register=function(e,t){var o=this;return this._map[e]=t,this.fire([e]),ka(function(){o._map[e]===t&&(delete o._map[e],o.fire([e]))})},e.prototype.registerPromise=function(e,t){var o=this,r=null,i=!1;return this._promises[e]=t.then(function(t){delete o._promises[e],!i&&t&&(r=o.register(e,t))}),ka(function(){i=!0,r&&r.dispose()})},e.prototype.getPromise=function(e){var t=this,o=this.get(e);if(o)return Promise.resolve(o);var r=this._promises[e];return r?r.then(function(o){return t.get(e)}):null},e.prototype.get=function(e){return this._map[e]||null},e.prototype.setColorMap=function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:!0})},e.prototype.getColorMap=function(){return this._colorMap},e.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},e}();var Mp=function(){return function(e,r){this.language=e,this.id=r}}();var ag=function(){function e(){}return e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.getClassNameFromMetadata=function(e){var r="mtk"+this.getForeground(e),t=this.getFontStyle(e);return 1&t&&(r+=" mtki"),2&t&&(r+=" mtkb"),4&t&&(r+=" mtku"),r},e.getInlineStyleFromMetadata=function(e,r){var t=this.getForeground(e),o=this.getFontStyle(e),i="color: "+r[t]+";";return 1&o&&(i+="font-style: italic;"),2&o&&(i+="font-weight: bold;"),4&o&&(i+="text-decoration: underline;"),i},e}();var iia=function(){var e=Object.create(null);return e[0]="method",e[1]="function",e[2]="constructor",e[3]="field",e[4]="variable",e[5]="class",e[6]="struct",e[7]="interface",e[8]="module",e[9]="property",e[10]="event",e[11]="operator",e[12]="unit",e[13]="value",e[14]="constant",e[15]="enum",e[16]="enum-member",e[17]="keyword",e[25]="snippet",e[18]="text",e[19]="color",e[20]="file",e[21]="reference",e[22]="customcolor",e[23]="folder",e[24]="type-parameter",function(r){return e[r]||"property"}}();var GR,HR,gB=function(){var e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.keyword=17,e.snippet=25,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,function(r){return e[r]||"property"}}();(function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"})(GR||(nR=GR={},nR)),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(HR||(oR=HR={},oR));var jia=function(){var e=Object.create(null);return e[0]="file",e[1]="module",e[2]="namespace",e[3]="package",e[4]="class",e[5]="method",e[6]="property",e[7]="field",e[8]="constructor",e[9]="enum",e[10]="interface",e[11]="function",e[12]="variable",e[13]="constant",e[14]="string",e[15]="number",e[16]="boolean",e[17]="array",e[18]="object",e[19]="key",e[20]="null",e[21]="enum-member",e[22]="struct",e[23]="event",e[24]="operator",e[25]="type-parameter",function(r,t){return"symbol-icon "+(t?"inline":"block")+" "+(e[r]||"property")}}();var IR=function(){function e(e){this.value=e}return e.Comment=new e("comment"),e.Imports=new e("imports"),e.Region=new e("region"),e}();function JR(e){return fb(e)&&e.resource&&Array.isArray(e.edits)}var Np=new sa;var Op=new sa;var Kk=new sa;var Pp=new sa;var Qp=new sa;var Rp=new sa;var Sp=new sa;var Tp=new sa;var hB=new sa;var Up=new sa;var Vp=new sa;var Wp=new sa;var Xp=new sa;var Yp=new sa;var Lk=new sa;var KR=new sa;var iB=new sa;var LR=new sa;var kia=new sa;var MR=new sa;var ca=new FR;var NR=function(){function $(){}return $.prototype.clone=function(){return this},$.prototype.equals=function($){return this===$},$}(),Zp=new NR;var $p="vs.editor.nullMode";var Mk=new Mp($p,0);function OR($,e,r,t){return new vp([new kk(t,"",$)],r)}function jB($,e,r,t){var o=new Uint32Array(2);return o[0]=t,o[1]=(16384|$<<0|2<<23)>>>0,new lk(o,null===r?Zp:r)}var PR="editorWorkerService";var Nk=L(PR);var _p=L("textModelService");var aq={};var Gd={};var bg={};var QR=bg&&bg.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),kB="$initialize",RR=!1;function Ok(e){rN&&(RR||(RR=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}bg.logOnceWebWorkerWarning=Ok;var lB=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,r){var t=this,o=String(++this._lastSentReq);return new Promise(function(n,s){t._pendingReplies[o]={resolve:n,reject:s},t._send({vsWorker:t._workerId,req:o,method:e,args:r})})},e.prototype.handleMessage=function(e){var r;try{r=JSON.parse(e)}catch(t){return}r&&r.vsWorker&&(-1!==this._workerId&&r.vsWorker!==this._workerId||this._handleMessage(r))},e.prototype._handleMessage=function(e){var r=this;if(e.seq){var t=e;if(!this._pendingReplies[t.seq])return void console.warn("Got reply to unknown seq");var o=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){var n=t.err;return t.err.$isError&&((n=new Error).name=t.err.name,n.message=t.err.message,n.stack=t.err.stack),void o.reject(n)}o.resolve(t.res)}else{var s=e,i=s.req;this._handler.handleMessage(s.method,s.args).then(function(e){r._send({vsWorker:r._workerId,seq:i,res:e,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=tz(e.detail)),r._send({vsWorker:r._workerId,seq:i,res:void 0,err:tz(e)})})}},e.prototype._send=function(e){var r=JSON.stringify(e);this._handler.sendMessage(r)},e}(),mB=function(e){function r(r,t){var o=e.call(this)||this,n=null;o._worker=o._register(r.create("vs/base/common/worker/simpleWorker",function(e){o._protocol.handleMessage(e)},function(e){n&&n(e)})),o._protocol=new lB({sendMessage:function(e){o._worker.postMessage(e)},handleMessage:function(e,r){return Promise.resolve(null)}}),o._protocol.setWorkerId(o._worker.getId());var s=null;void 0!==self.require&&"function"==typeof self.require.getConfig?s=self.require.getConfig():void 0!==self.requirejs&&(s=self.requirejs.s.contexts._.config),o._onModuleLoaded=o._protocol.sendMessage(kB,[o._worker.getId(),t,s]),o._lazyProxy=new Promise(function(e,r){n=r,o._onModuleLoaded.then(function(r){for(var t={},o=0,n=r;o<n.length;o++){var s=n[o];t[s]=a(s,i)}e(t)},function(e){r(e),o._onError("Worker failed to load "+t,e)})});var i=function(e,r){return o._request(e,r)},a=function(e,r){return function(){var t=Array.prototype.slice.call(arguments,0);return r(e,t)}};return o}return QR(r,e),r.prototype.getProxyObject=function(){return this._lazyProxy},r.prototype._request=function(e,r){var t=this;return new Promise(function(o,n){t._onModuleLoaded.then(function(){t._protocol.sendMessage(e,r).then(o,n)},n)})},r.prototype._onError=function(e,r){console.error(e),console.info(r)},r}(B);bg.SimpleWorkerClient=mB;var nB=function(){function e(e,r){var t=this;this._requestHandler=r,this._protocol=new lB({sendMessage:function(r){e(r)},handleMessage:function(e,r){return t._handleMessage(e,r)}})}return e.prototype.onmessage=function(e){this._protocol.handleMessage(e)},e.prototype._handleMessage=function(e,r){if(e===kB)return this.initialize(r[0],r[1],r[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._requestHandler[e].apply(this._requestHandler,r))}catch(t){return Promise.reject(t)}},e.prototype.initialize=function(e,r,t){var o=this;if(this._protocol.setWorkerId(e),this._requestHandler){for(var n=[],s=0,i=Xo(this._requestHandler);s<i.length;s++){var a=i[s];"function"==typeof this._requestHandler[a]&&n.push(a)}return Promise.resolve(n)}return t&&(void 0!==t.baseUrl&&delete t.baseUrl,void 0!==t.paths&&void 0!==t.paths.vs&&delete t.paths.vs,t.catchError=!0,self.require.config(t)),new Promise(function(e,t){self.require([r],function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var s=r[0];if(o._requestHandler=s.create(),o._requestHandler){for(var i=[],a=0,l=Xo(o._requestHandler);a<l.length;a++){var c=l[a];"function"==typeof o._requestHandler[c]&&i.push(c)}e(i)}else t(new Error("No RequestHandler!"))},t)})},e}();function SR(e){return new nB(e,null)}bg.SimpleWorkerServer=nB,bg.create=SR;function TR(r,e){if(gb.MonacoEnvironment){if("function"==typeof gb.MonacoEnvironment.getWorker)return gb.MonacoEnvironment.getWorker(r,e);if("function"==typeof gb.MonacoEnvironment.getWorkerUrl)return new Worker(gb.MonacoEnvironment.getWorkerUrl(r,e))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function UR(r){return"function"==typeof r.then}var VR=function(){function r(r,e,o,t,n){this.id=e;var i=TR("workerMain.js",o);UR(i)?this.worker=i:this.worker=Promise.resolve(i),this.postMessage(r),this.worker.then(function(r){r.onmessage=function(r){t(r.data)},r.onmessageerror=n,"function"==typeof r.addEventListener&&r.addEventListener("error",n)})}return r.prototype.getId=function(){return this.id},r.prototype.postMessage=function(r){this.worker&&this.worker.then(function(e){return e.postMessage(r)})},r.prototype.dispose=function(){this.worker&&this.worker.then(function(r){return r.terminate()}),this.worker=null},r}(),WR=function(){function r(r){this._label=r,this._webWorkerFailedBeforeError=!1}return r.prototype.create=function(e,o,t){var n=this,i=++r.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new VR(e,i,this._label||"anonymous"+i,o,function(r){Ok(r),n._webWorkerFailedBeforeError=r,t(r)})},r.LAST_WORKER_ID=0,r}();var XR,na;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(na||(XR=na={},XR));var Pk=function(){function n(n){if(this.open=n.open,this.close=n.close,this._standardTokenMask=0,Array.isArray(n.notIn))for(var t=0,e=n.notIn.length;t<e;t++){switch(n.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;}}}return n.prototype.isOK=function(n){return 0==(this._standardTokenMask&n)},n}();function Qk(e,t){for(var n=e.getCount(),o=e.findTokenIndexAtOffset(t),r=e.getLanguageId(o),s=o;s+1<n&&e.getLanguageId(s+1)===r;)s++;for(var i=o;i>0&&e.getLanguageId(i-1)===r;)i--;return new YR(e,r,i,s+1,e.getStartOffset(i),e.getEndOffset(s))}var YR=function(){function e(e,t,n,o,r,s){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=o,this.firstCharOffset=r,this._lastCharOffset=s}return e.prototype.getLineContent=function(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)},e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},e}();function ye(e){return 0!=(7&e)}var oB=function(){function t(o){o.autoClosingPairs?this._autoClosingPairs=o.autoClosingPairs.map(function(t){return new Pk(t)}):o.brackets?this._autoClosingPairs=o.brackets.map(function(t){return new Pk({open:t[0],close:t[1]})}):this._autoClosingPairs=[],this._autoCloseBefore="string"==typeof o.autoCloseBefore?o.autoCloseBefore:t.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=o.surroundingPairs||this._autoClosingPairs}return t.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},t.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},t.prototype.shouldAutoClosePair=function(t,o,r){if(0===o.getTokenCount())return!0;for(var n=o.findTokenIndexAtOffset(r-2),i=o.getStandardTokenType(n),e=0,a=this._autoClosingPairs;e<a.length;e++){var u=a[e];if(u.open===t)return u.isOK(i)}return!1},t.prototype.getSurroundingPairs=function(){return this._surroundingPairs},t.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",t}();var ZR=function(){return function(e,r,t,n,a){this.languageIdentifier=e,this.open=r,this.close=t,this.forwardRegex=n,this.reversedRegex=a}}();var $R=function(){return function(e,r){var t=this;this.brackets=r.map(function(r){return new ZR(e,r[0],r[1],_R({open:r[0],close:r[1]}),aS({open:r[0],close:r[1]}))}),this.forwardRegex=bS(this.brackets),this.reversedRegex=cS(this.brackets),this.textIsBracket={},this.textIsOpenBracket={};var n=0;this.brackets.forEach(function(e){t.textIsBracket[e.open.toLowerCase()]=e,t.textIsBracket[e.close.toLowerCase()]=e,t.textIsOpenBracket[e.open.toLowerCase()]=!0,t.textIsOpenBracket[e.close.toLowerCase()]=!1,n=Math.max(n,e.open.length),n=Math.max(n,e.close.length)}),this.maxBracketLength=n}}();function Rk(e,r){var t={};return function(n){var a=e(n);return t.hasOwnProperty(a)||(t[a]=r(n)),t[a]}}var _R=Rk(function(e){return e.open+";"+e.close},function(e){return Sk([e.open,e.close])}),aS=Rk(function(e){return e.open+";"+e.close},function(e){return Sk([Ph(e.open),Ph(e.close)])}),bS=Rk(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var r=[];return e.forEach(function(e){r.push(e.open),r.push(e.close)}),Sk(r)}),cS=Rk(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var r=[];return e.forEach(function(e){r.push(Ph(e.open)),r.push(Ph(e.close))}),Sk(r)});function dS(e){var r=/^[\w]+$/.test(e);return e=z.escapeRegExpCharacters(e),r?"\\b"+e+"\\b":e}function Sk(e){var r="("+e.map(dS).join(")|(")+")";return z.createRegExp(r,!0)}var Ph=function(){var e=null,r=null;return function(t){return e!==t&&(r=function(e){for(var r="",t=e.length-1;t>=0;t--)r+=e.charAt(t);return r}(e=t)),r}}(),ze=function(){function e(){}return e._findPrevBracketInText=function(e,r,t,n){var a=t.match(e);if(!a)return null;var $=t.length-(a.index||0),o=a[0].length,c=n+$;return new j(r,c-o+1,r,c+1)},e.findPrevBracketInToken=function(e,r,t,n,a){var $=Ph(t).substring(t.length-a,t.length-n);return this._findPrevBracketInText(e,r,$,n)},e.findNextBracketInText=function(e,r,t,n){var a=t.match(e);if(!a)return null;var $=a.index||0,o=a[0].length;if(0===o)return null;var c=n+$;return new j(r,c+1,r,c+1+o)},e.findNextBracketInToken=function(e,r,t,n,a){var $=t.substring(n,a);return this.findNextBracketInText(e,r,$,n)},e}();var eS=function(){function t(t,e,r){r=r||{},this._richEditBrackets=t,this._complexAutoClosePairs=e.filter(function(t){return t.open.length>1&&!!t.close}).map(function(t){return new Pk(t)}),r.docComment&&this._complexAutoClosePairs.push(new Pk({open:r.docComment.open,close:r.docComment.close}))}return t.prototype.getElectricCharacters=function(){var t=[];if(this._richEditBrackets)for(var e=0,r=this._richEditBrackets.brackets.length;e<r;e++){var n=this._richEditBrackets.brackets[e],o=n.close.charAt(n.close.length-1);t.push(o)}for(var i=0,c=this._complexAutoClosePairs;i<c.length;i++){var s=c[i];t.push(s.open.charAt(s.open.length-1))}return t=t.filter(function(t,e,r){return r.indexOf(t)===e})},t.prototype.onElectricCharacter=function(t,e,r){return this._onElectricAutoClose(t,e,r)||this._onElectricAutoIndent(t,e,r)},t.prototype._onElectricAutoIndent=function(t,e,r){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var n=e.findTokenIndexAtOffset(r-1);if(ye(e.getStandardTokenType(n)))return null;var o=this._richEditBrackets.reversedRegex,i=e.getLineContent().substring(0,r-1)+t,c=ze.findPrevBracketInToken(o,1,i,0,i.length);if(!c)return null;var s=i.substring(c.startColumn-1,c.endColumn-1);if(s=s.toLowerCase(),this._richEditBrackets.textIsOpenBracket[s])return null;var a=i.substring(0,c.startColumn-1);return /^\s*$/.test(a)?{matchOpenBracket:s}:null},t.prototype._onElectricAutoClose=function(t,e,r){if(!this._complexAutoClosePairs.length)return null;for(var n=e.getLineContent(),o=0,i=this._complexAutoClosePairs.length;o<i;o++){var c=this._complexAutoClosePairs[o];if(t===c.open.charAt(c.open.length-1)){var s=r-c.open.length+1;if(n.substring(s-1,r-1)+t===c.open){var a=e.findTokenIndexAtOffset(r-1),u=e.getStandardTokenType(a);if(c.isOK(u)&&!(n.indexOf(c.close,r-1)>=0))return{appendText:c.close}}}}return null},t}();var fS=function(){function t(t){this._indentationRules=t}return t.prototype.shouldIncrease=function(t){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(t))},t.prototype.shouldDecrease=function(t){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(t))},t.prototype.shouldIndentNextLine=function(t){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(t))},t.prototype.shouldIgnore=function(t){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(t))},t.prototype.getIndentMetadata=function(t){var e=0;return this.shouldIncrease(t)&&(e+=1),this.shouldDecrease(t)&&(e+=2),this.shouldIndentNextLine(t)&&(e+=4),this.shouldIgnore(t)&&(e+=8),e},t}();var gS=function(){function e(t){var r=this;(t=t||{}).brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach(function(t){var n=e._createOpenBracketRegExp(t[0]),s=e._createCloseBracketRegExp(t[1]);n&&s&&r._brackets.push({open:t[0],openRegExp:n,close:t[1],closeRegExp:s})}),this._regExpRules=t.regExpRules||[]}return e.prototype.onEnter=function(e,t,r){for(var n=0,s=this._regExpRules.length;n<s;n++){var i=this._regExpRules[n];if([{reg:i.beforeText,text:t},{reg:i.afterText,text:r},{reg:i.oneLineAboveText,text:e}].every(function(e){return!e.reg||e.reg.test(e.text)}))return i.action}if(t.length>0&&r.length>0)for(n=0,s=this._brackets.length;n<s;n++){if((o=this._brackets[n]).openRegExp.test(t)&&o.closeRegExp.test(r))return{indentAction:na.IndentOutdent}}if(t.length>0)for(n=0,s=this._brackets.length;n<s;n++){var o;if((o=this._brackets[n]).openRegExp.test(t))return{indentAction:na.Indent}}return null},e._createOpenBracketRegExp=function(t){var r=z.escapeRegExpCharacters(t);return /\B/.test(r.charAt(0))||(r="\\b"+r),r+="\\s*$",e._safeRegExp(r)},e._createCloseBracketRegExp=function(t){var r=z.escapeRegExpCharacters(t);return /\B/.test(r.charAt(r.length-1))||(r+="\\b"),r="^\\s*"+r,e._safeRegExp(r)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(t){return S(t),null}},e}();var hS=function(){function t(e,n,r){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null;var i=null;n&&(i=n._conf),this._conf=t._mergeConf(i,r),this.onEnter=t._handleOnEnter(this._conf),this.comments=t._handleComments(this._conf),this.characterPair=new oB(this._conf),this.wordDefinition=this._conf.wordPattern||mz,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules&&(this.indentRulesSupport=new fS(this._conf.indentationRules)),this.foldingRules=this._conf.folding||{}}return Object.defineProperty(t.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new $R(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"electricCharacter",{get:function(){if(!this._electricCharacter){var t=[];this._conf.autoClosingPairs?t=this._conf.autoClosingPairs:this._conf.brackets&&(t=this._conf.brackets.map(function(t){return{open:t[0],close:t[1]}})),this._electricCharacter=new eS(this.brackets,t,this._conf.__electricCharacterSupport)}return this._electricCharacter},enumerable:!0,configurable:!0}),t._mergeConf=function(t,e){return{comments:t?e.comments||t.comments:e.comments,brackets:t?e.brackets||t.brackets:e.brackets,wordPattern:t?e.wordPattern||t.wordPattern:e.wordPattern,indentationRules:t?e.indentationRules||t.indentationRules:e.indentationRules,onEnterRules:t?e.onEnterRules||t.onEnterRules:e.onEnterRules,autoClosingPairs:t?e.autoClosingPairs||t.autoClosingPairs:e.autoClosingPairs,surroundingPairs:t?e.surroundingPairs||t.surroundingPairs:e.surroundingPairs,autoCloseBefore:t?e.autoCloseBefore||t.autoCloseBefore:e.autoCloseBefore,folding:t?e.folding||t.folding:e.folding,__electricCharacterSupport:t?e.__electricCharacterSupport||t.__electricCharacterSupport:e.__electricCharacterSupport}},t._handleOnEnter=function(t){var e={},n=!0;return t.brackets&&(n=!1,e.brackets=t.brackets),t.indentationRules&&(n=!1),t.onEnterRules&&(n=!1,e.regExpRules=t.onEnterRules),n?null:new gS(e)},t._handleComments=function(t){var e=t.comments;if(!e)return null;var n={};if(e.lineComment&&(n.lineCommentToken=e.lineComment),e.blockComment){var r=e.blockComment,i=r[0],o=r[1];n.blockCommentStartToken=i,n.blockCommentEndToken=o}return n},t}();var lia=function(){return function(){}}();var iS=function(){function t(){this._onDidChange=new b,this.onDidChange=this._onDidChange.event,this._entries=[]}return t.prototype.register=function(t,e){var n=this,r=this._getRichEditSupport(t.id),i=new hS(t,r,e);return this._entries[t.id]=i,this._onDidChange.fire({languageIdentifier:t}),ka(function(){n._entries[t.id]===i&&(n._entries[t.id]=r,n._onDidChange.fire({languageIdentifier:t}))})},t.prototype._getRichEditSupport=function(t){return this._entries[t]||null},t.prototype._getElectricCharacterSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.electricCharacter||null},t.prototype.getElectricCharacters=function(t){var e=this._getElectricCharacterSupport(t);return e?e.getElectricCharacters():[]},t.prototype.onElectricCharacter=function(t,e,n){var r=Qk(e,n-1),i=this._getElectricCharacterSupport(r.languageId);return i?i.onElectricCharacter(t,r,n-r.firstCharOffset):null},t.prototype.getComments=function(t){var e=this._getRichEditSupport(t);return e&&e.comments||null},t.prototype._getCharacterPairSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.characterPair||null},t.prototype.getAutoClosingPairs=function(t){var e=this._getCharacterPairSupport(t);return e?e.getAutoClosingPairs():[]},t.prototype.getAutoCloseBeforeSet=function(t){var e=this._getCharacterPairSupport(t);return e?e.getAutoCloseBeforeSet():oB.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},t.prototype.getSurroundingPairs=function(t){var e=this._getCharacterPairSupport(t);return e?e.getSurroundingPairs():[]},t.prototype.shouldAutoClosePair=function(t,e,n){var r=Qk(e,n-1),i=this._getCharacterPairSupport(r.languageId);return!!i&&i.shouldAutoClosePair(t,r,n-r.firstCharOffset)},t.prototype.getWordDefinition=function(t){var e=this._getRichEditSupport(t);return e?cp(e.wordDefinition||null):cp(null)},t.prototype.getFoldingRules=function(t){var e=this._getRichEditSupport(t);return e?e.foldingRules:{}},t.prototype.getIndentRulesSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.indentRulesSupport||null},t.prototype.getPrecedingValidLine=function(t,e,n){var r=t.getLanguageIdAtPosition(e,0);if(e>1){var i=void 0,o=-1;for(i=e-1;i>=1;i--){if(t.getLanguageIdAtPosition(i,0)!==r)return o;var a=t.getLineContent(i);if(!n.shouldIgnore(a)&&!/^\s+$/.test(a)&&""!==a)return i;o=i}}return-1},t.prototype.getInheritIndentForLine=function(t,e,n){void 0===n&&(n=!0);var r=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!r)return null;if(e<=1)return{indentation:"",action:null};var i=this.getPrecedingValidLine(t,e,r);if(i<0)return null;if(i<1)return{indentation:"",action:null};var o=t.getLineContent(i);if(r.shouldIncrease(o)||r.shouldIndentNextLine(o))return{indentation:z.getLeadingWhitespace(o),action:na.Indent,line:i};if(r.shouldDecrease(o))return{indentation:z.getLeadingWhitespace(o),action:null,line:i};if(1===i)return{indentation:z.getLeadingWhitespace(t.getLineContent(i)),action:null,line:i};var a=i-1,s=r.getIndentMetadata(t.getLineContent(a));if(!(3&s)&&4&s){for(var u=0,d=a-1;d>0;d--)if(!r.shouldIndentNextLine(t.getLineContent(d))){u=d;break}return{indentation:z.getLeadingWhitespace(t.getLineContent(u+1)),action:null,line:u+1}}if(n)return{indentation:z.getLeadingWhitespace(t.getLineContent(i)),action:null,line:i};for(d=i;d>0;d--){var c=t.getLineContent(d);if(r.shouldIncrease(c))return{indentation:z.getLeadingWhitespace(c),action:na.Indent,line:d};if(r.shouldIndentNextLine(c)){u=0;for(var g=d-1;g>0;g--)if(!r.shouldIndentNextLine(t.getLineContent(d))){u=g;break}return{indentation:z.getLeadingWhitespace(t.getLineContent(u+1)),action:null,line:u+1}}if(r.shouldDecrease(c))return{indentation:z.getLeadingWhitespace(c),action:null,line:d}}return{indentation:z.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}},t.prototype.getGoodIndentForLine=function(t,e,n,r){var i=this.getIndentRulesSupport(e);if(!i)return null;var o=this.getInheritIndentForLine(t,n),a=t.getLineContent(n);if(o){var s=o.line;if(void 0!==s){var u=this._getOnEnterSupport(e),d=null;try{u&&(d=u.onEnter("",t.getLineContent(s),""))}catch(g){S(g)}if(d){var c=z.getLeadingWhitespace(t.getLineContent(s));return d.removeText&&(c=c.substring(0,c.length-d.removeText)),d.indentAction===na.Indent||d.indentAction===na.IndentOutdent?c=r.shiftIndent(c):d.indentAction===na.Outdent&&(c=r.unshiftIndent(c)),i.shouldDecrease(a)&&(c=r.unshiftIndent(c)),d.appendText&&(c+=d.appendText),z.getLeadingWhitespace(c)}}return i.shouldDecrease(a)?o.action===na.Indent?o.indentation:r.unshiftIndent(o.indentation):o.action===na.Indent?r.shiftIndent(o.indentation):o.indentation}return null},t.prototype.getIndentForEnter=function(t,e,n,r){t.forceTokenization(e.startLineNumber);var i,o,a=t.getLineTokens(e.startLineNumber),s=Qk(a,e.startColumn-1),u=s.getLineContent(),d=!1;(s.firstCharOffset>0&&a.getLanguageId(0)!==s.languageId?(d=!0,i=u.substr(0,e.startColumn-1-s.firstCharOffset)):i=a.getLineContent().substring(0,e.startColumn-1),e.isEmpty())?o=u.substr(e.startColumn-1-s.firstCharOffset):o=this.getScopedLineTokens(t,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-s.firstCharOffset);var c=this.getIndentRulesSupport(s.languageId);if(!c)return null;var g=i,p=z.getLeadingWhitespace(i);if(!r&&!d){var l=this.getInheritIndentForLine(t,e.startLineNumber);c.shouldDecrease(i)&&l&&(p=l.indentation,l.action!==na.Indent&&(p=n.unshiftIndent(p))),g=p+z.ltrim(z.ltrim(i," "),"\t")}var $={getLineTokens:function(e){return t.getLineTokens(e)},getLanguageIdentifier:function(){return t.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)},getLineContent:function(n){return n===e.startLineNumber?g:t.getLineContent(n)}},h=z.getLeadingWhitespace(a.getLineContent()),f=this.getInheritIndentForLine($,e.startLineNumber+1);if(!f){var m=d?h:p;return{beforeEnter:m,afterEnter:m}}var C=d?h:f.indentation;return f.action===na.Indent&&(C=n.shiftIndent(C)),c.shouldDecrease(o)&&(C=n.unshiftIndent(C)),{beforeEnter:d?h:p,afterEnter:C}},t.prototype.getIndentActionForType=function(t,e,n,r){var i=this.getScopedLineTokens(t,e.startLineNumber,e.startColumn),o=this.getIndentRulesSupport(i.languageId);if(!o)return null;var a,s=i.getLineContent(),u=s.substr(0,e.startColumn-1-i.firstCharOffset);e.isEmpty()?a=s.substr(e.startColumn-1-i.firstCharOffset):a=this.getScopedLineTokens(t,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-i.firstCharOffset);if(!o.shouldDecrease(u+a)&&o.shouldDecrease(u+n+a)){var d=this.getInheritIndentForLine(t,e.startLineNumber,!1);if(!d)return null;var c=d.indentation;return d.action!==na.Indent&&(c=r.unshiftIndent(c)),c}return null},t.prototype.getIndentMetadata=function(t,e){var n=this.getIndentRulesSupport(t.getLanguageIdentifier().id);return n?e<1||e>t.getLineCount()?null:n.getIndentMetadata(t.getLineContent(e)):null},t.prototype._getOnEnterSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.onEnter||null},t.prototype.getRawEnterActionAtPosition=function(t,e,n){var r=this.getEnterAction(t,new j(e,n,e,n));return r?r.enterAction:null},t.prototype.getEnterAction=function(t,e){var n=this.getIndentationAtPosition(t,e.startLineNumber,e.startColumn),r=this.getScopedLineTokens(t,e.startLineNumber,e.startColumn),i=this._getOnEnterSupport(r.languageId);if(!i)return null;var o,a=r.getLineContent(),s=a.substr(0,e.startColumn-1-r.firstCharOffset);e.isEmpty()?o=a.substr(e.startColumn-1-r.firstCharOffset):o=this.getScopedLineTokens(t,e.endLineNumber,e.endColumn).getLineContent().substr(e.endColumn-1-r.firstCharOffset);var u=e.startLineNumber,d="";if(u>1&&0===r.firstCharOffset){var c=this.getScopedLineTokens(t,u-1);c.languageId===r.languageId&&(d=c.getLineContent())}var g=null;try{g=i.onEnter(d,s,o)}catch(p){S(p)}return g?(g.appendText||(g.indentAction===na.Indent||g.indentAction===na.IndentOutdent?g.appendText="\t":g.appendText=""),g.removeText&&(n=n.substring(0,n.length-g.removeText)),{enterAction:g,indentation:n}):null},t.prototype.getIndentationAtPosition=function(t,e,n){var r=t.getLineContent(e),i=z.getLeadingWhitespace(r);return i.length>n-1&&(i=i.substring(0,n-1)),i},t.prototype.getScopedLineTokens=function(t,e,n){t.forceTokenization(e);var r=t.getLineTokens(e),i=void 0===n?t.getLineMaxColumn(e)-1:n-1;return Qk(r,i)},t.prototype.getBracketsSupport=function(t){var e=this._getRichEditSupport(t);return e&&e.brackets||null},t}();var U=new iS;var Qh={};function pB(e){return{getLength:function(){return e.length},getElementAtIndex:function(t){return e.charCodeAt(t)}}}function jS(e,t,i){return new rB(pB(e),pB(t)).ComputeDiff(i)}var Hd=function(){function t(t,i,n,e){this.originalStart=t,this.originalLength=i,this.modifiedStart=n,this.modifiedLength=e}return t.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},t.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},t}();var cg=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();var dg=function(){function e(){}return e.Copy=function(e,t,i,r,n){for(var o=0;o<n;o++)i[r+o]=e[t+o]},e}();var Ae=1447,qB=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Hd(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),rB=function(){function e(e,t,i){void 0===i&&(i=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=i,this.m_forwardHistory=[],this.m_reverseHistory=[]}return e.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)},e.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},e.prototype._ComputeDiff=function(e,t,i,r,n){var o=this.ComputeDiffRecursive(e,t,i,r,[!1]);return n?this.PrettifyChanges(o):o},e.prototype.ComputeDiffRecursive=function(e,t,i,r,n){for(n[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){var o=void 0;return i<=r?(cg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new Hd(e,0,i,r-i+1)]):e<=t?(cg.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[new Hd(e,t-e+1,i,0)]):(cg.Assert(e===t+1,"originalStart should only be one more than originalEnd"),cg.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}var a=[0],s=[0],h=this.ComputeRecursionPoint(e,t,i,r,a,s,n),f=a[0],g=s[0];if(null!==h)return h;if(!n[0]){var d=this.ComputeDiffRecursive(e,f,i,g,n),m=[];return m=n[0]?[new Hd(f+1,t-(f+1)+1,g+1,r-(g+1)+1)]:this.ComputeDiffRecursive(f+1,t,g+1,r,n),this.ConcatenateChanges(d,m)}return[new Hd(e,t-e+1,i,r-i+1)]},e.prototype.WALKTRACE=function(e,t,i,r,n,o,a,s,h,f,g,d,m,u,l,$,S,C){var p,c,y=null,A=new qB,_=t,v=i,M=m[0]-$[0]-r,E=Number.MIN_VALUE,X=this.m_forwardHistory.length-1;do{(c=M+e)===_||c<v&&h[c-1]<h[c+1]?(u=(g=h[c+1])-M-r,g<E&&A.MarkNextChange(),E=g,A.AddModifiedElement(g+1,u),M=c+1-e):(u=(g=h[c-1]+1)-M-r,g<E&&A.MarkNextChange(),E=g-1,A.AddOriginalElement(g,u+1),M=c-1-e),X>=0&&(e=(h=this.m_forwardHistory[X])[0],_=1,v=h.length-1)}while(--X>=-1);if(p=A.getReverseChanges(),C[0]){var x=m[0]+1,L=$[0]+1;if(null!==p&&p.length>0){var D=p[p.length-1];x=Math.max(x,D.getOriginalEnd()),L=Math.max(L,D.getModifiedEnd())}y=[new Hd(x,d-x+1,L,l-L+1)]}else{A=new qB,_=o,v=a,M=m[0]-$[0]-s,E=Number.MAX_VALUE,X=S?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(c=M+n)===_||c<v&&f[c-1]>=f[c+1]?(u=(g=f[c+1]-1)-M-s,g>E&&A.MarkNextChange(),E=g+1,A.AddOriginalElement(g+1,u+1),M=c+1-n):(u=(g=f[c-1])-M-s,g>E&&A.MarkNextChange(),E=g,A.AddModifiedElement(g+1,u+1),M=c-1-n),X>=0&&(n=(f=this.m_reverseHistory[X])[0],_=1,v=f.length-1)}while(--X>=-1);y=A.getChanges()}return this.ConcatenateChanges(p,y)},e.prototype.ComputeRecursionPoint=function(e,t,i,r,n,o,a){var s,h=0,f=0,g=0,d=0,m=0,u=0;e--,i--,n[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var l,$,S=t-e+(r-i),C=S+1,p=new Array(C),c=new Array(C),y=r-i,A=t-e,_=e-i,v=t-r,M=(A-y)%2==0;for(p[y]=e,c[A]=t,a[0]=!1,s=1;s<=S/2+1;s++){var E=0,X=0;for(g=this.ClipDiagonalBound(y-s,s,y,C),d=this.ClipDiagonalBound(y+s,s,y,C),l=g;l<=d;l+=2){for(f=(h=l===g||l<d&&p[l-1]<p[l+1]?p[l+1]:p[l-1]+1)-(l-y)-_,$=h;h<t&&f<r&&this.ElementsAreEqual(h+1,f+1);)h++,f++;if(p[l]=h,h+f>E+X&&(E=h,X=f),!M&&Math.abs(l-A)<=s-1&&h>=c[l])return n[0]=h,o[0]=f,$<=c[l]&&Ae>0&&s<=Ae+1?this.WALKTRACE(y,g,d,_,A,m,u,v,p,c,h,t,n,f,r,o,M,a):null}var x=(E-e+(X-i)-s)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(E,this.OriginalSequence,x))return a[0]=!0,n[0]=E,o[0]=X,x>0&&Ae>0&&s<=Ae+1?this.WALKTRACE(y,g,d,_,A,m,u,v,p,c,h,t,n,f,r,o,M,a):(e++,i++,[new Hd(e,t-e+1,i,r-i+1)]);for(m=this.ClipDiagonalBound(A-s,s,A,C),u=this.ClipDiagonalBound(A+s,s,A,C),l=m;l<=u;l+=2){for(f=(h=l===m||l<u&&c[l-1]>=c[l+1]?c[l+1]-1:c[l-1])-(l-A)-v,$=h;h>e&&f>i&&this.ElementsAreEqual(h,f);)h--,f--;if(c[l]=h,M&&Math.abs(l-y)<=s&&h<=p[l])return n[0]=h,o[0]=f,$>=p[l]&&Ae>0&&s<=Ae+1?this.WALKTRACE(y,g,d,_,A,m,u,v,p,c,h,t,n,f,r,o,M,a):null}if(s<=Ae){var L=new Array(d-g+2);L[0]=y-g+1,dg.Copy(p,g,L,1,d-g+1),this.m_forwardHistory.push(L),(L=new Array(u-m+2))[0]=A-m+1,dg.Copy(c,m,L,1,u-m+1),this.m_reverseHistory.push(L)}}return this.WALKTRACE(y,g,d,_,A,m,u,v,p,c,h,t,n,f,r,o,M,a)},e.prototype.PrettifyChanges=function(e){for(var t=0;t<e.length;t++){for(var i=e[t],r=t<e.length-1?e[t+1].originalStart:this.OriginalSequence.getLength(),n=t<e.length-1?e[t+1].modifiedStart:this.ModifiedSequence.getLength(),o=i.originalLength>0,a=i.modifiedLength>0;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<n&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;var s=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],s)&&(e[t]=s[0],e.splice(t+1,1),t--)}for(t=e.length-1;t>=0;t--){i=e[t],r=0,n=0;if(t>0){var h=e[t-1];h.originalLength>0&&(r=h.originalStart+h.originalLength),h.modifiedLength>0&&(n=h.modifiedStart+h.modifiedLength)}o=i.originalLength>0,a=i.modifiedLength>0;for(var f=0,g=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength),d=1;;d++){var m=i.originalStart-d,u=i.modifiedStart-d;if(m<r||u<n)break;if(o&&!this.OriginalElementsAreEqual(m,m+i.originalLength))break;if(a&&!this.ModifiedElementsAreEqual(u,u+i.modifiedLength))break;var l=this._boundaryScore(m,i.originalLength,u,i.modifiedLength);l>g&&(g=l,f=d)}i.originalStart-=f,i.modifiedStart-=f}return e},e.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)},e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1},e.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)},e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1},e.prototype._boundaryScore=function(e,t,i,r){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,r)?1:0)},e.prototype.ConcatenateChanges=function(e,t){var i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){var r=new Array(e.length+t.length-1);return dg.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],dg.Copy(t,1,r,e.length,t.length-1),r}r=new Array(e.length+t.length);return dg.Copy(e,0,r,0,e.length),dg.Copy(t,0,r,e.length,t.length),r},e.prototype.ChangesOverlap=function(e,t,i){if(cg.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),cg.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,n=e.originalLength,o=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(n=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Hd(r,n,o,a),!0}return i[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,i,r){if(e>=0&&e<r)return e;var n=t%2==0;return e<0?n===(i%2==0)?0:1:n===((r-i-1)%2==0)?r-1:r-2},e}();var kS=5e3,lS=3;function sB(e,i,t,n){return new rB(e,i,t).ComputeDiff(n)}var eg=function(){function e(i){for(var t=[],n=[],r=0,o=i.length;r<o;r++)t[r]=e._getFirstNonBlankColumn(i[r],1),n[r]=e._getLastNonBlankColumn(i[r],1);this._lines=i,this._startColumns=t,this._endColumns=n}return e.prototype.getLength=function(){return this._lines.length},e.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)},e.prototype.getStartLineNumber=function(e){return e+1},e.prototype.getEndLineNumber=function(e){return e+1},e._getFirstNonBlankColumn=function(e,i){var t=z.firstNonWhitespaceIndex(e);return-1===t?i:t+1},e._getLastNonBlankColumn=function(e,i){var t=z.lastNonWhitespaceIndex(e);return-1===t?i:t+2},e.prototype.getCharSequence=function(e,i,t){for(var n=[],r=[],o=[],a=0,h=i;h<=t;h++)for(var s=this._lines[h],u=e?this._startColumns[h]:1,m=e?this._endColumns[h]:s.length+1,d=u;d<m;d++)n[a]=s.charCodeAt(d-1),r[a]=h+1,o[a]=d,a++;return new mS(n,r,o)},e}(),mS=function(){function e(e,i,t){this._charCodes=e,this._lineNumbers=i,this._columns=t}return e.prototype.getLength=function(){return this._charCodes.length},e.prototype.getElementAtIndex=function(e){return this._charCodes[e]},e.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getStartColumn=function(e){return this._columns[e]},e.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getEndColumn=function(e){return this._columns[e]+1},e}(),bq=function(){function e(e,i,t,n,r,o,a,h){this.originalStartLineNumber=e,this.originalStartColumn=i,this.originalEndLineNumber=t,this.originalEndColumn=n,this.modifiedStartLineNumber=r,this.modifiedStartColumn=o,this.modifiedEndLineNumber=a,this.modifiedEndColumn=h}return e.createFromDiffChange=function(i,t,n){var r,o,a,h,s,u,m,d;return 0===i.originalLength?(r=0,o=0,a=0,h=0):(r=t.getStartLineNumber(i.originalStart),o=t.getStartColumn(i.originalStart),a=t.getEndLineNumber(i.originalStart+i.originalLength-1),h=t.getEndColumn(i.originalStart+i.originalLength-1)),0===i.modifiedLength?(s=0,u=0,m=0,d=0):(s=n.getStartLineNumber(i.modifiedStart),u=n.getStartColumn(i.modifiedStart),m=n.getEndLineNumber(i.modifiedStart+i.modifiedLength-1),d=n.getEndColumn(i.modifiedStart+i.modifiedLength-1)),new e(r,o,a,h,s,u,m,d)},e}();function nS(e){if(e.length<=1)return e;for(var i=[e[0]],t=i[0],n=1,r=e.length;n<r;n++){var o=e[n],a=o.originalStart-(t.originalStart+t.originalLength),h=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(a,h)<lS?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(i.push(o),t=o)}return i}var cq=function(){function e(e,i,t,n,r){this.originalStartLineNumber=e,this.originalEndLineNumber=i,this.modifiedStartLineNumber=t,this.modifiedEndLineNumber=n,this.charChanges=r}return e.createFromDiffResult=function(i,t,n,r,o,a,h){var s,u,m,d,g=void 0;if(0===t.originalLength?(s=n.getStartLineNumber(t.originalStart)-1,u=0):(s=n.getStartLineNumber(t.originalStart),u=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(m=r.getStartLineNumber(t.modifiedStart)-1,d=0):(m=r.getStartLineNumber(t.modifiedStart),d=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),a&&0!==t.originalLength&&0!==t.modifiedLength&&o()){var l=n.getCharSequence(i,t.originalStart,t.originalStart+t.originalLength-1),f=r.getCharSequence(i,t.modifiedStart,t.modifiedStart+t.modifiedLength-1),C=sB(l,f,o,!0);h&&(C=nS(C)),g=[];for(var c=0,$=C.length;c<$;c++)g.push(bq.createFromDiffChange(C[c],l,f))}return new e(s,u,m,d,g)},e}(),oS=function(){function e(e,i,t){this.shouldComputeCharChanges=t.shouldComputeCharChanges,this.shouldPostProcessCharChanges=t.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=t.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=t.shouldMakePrettyDiff,this.maximumRunTimeMs=kS,this.originalLines=e,this.modifiedLines=i,this.original=new eg(e),this.modified=new eg(i)}return e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=new Date().getTime();var e=sB(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var i=[],t=0,n=e.length;t<n;t++)i.push(cq.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[t],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return i}for(var r=[],o=0,a=0,h=(t=-1,e.length);t<h;t++){for(var s=t+1<h?e[t+1]:null,u=s?s.originalStart:this.originalLines.length,m=s?s.modifiedStart:this.modifiedLines.length;o<u&&a<m;){var d=this.originalLines[o],g=this.modifiedLines[a];if(d!==g){for(var l=eg._getFirstNonBlankColumn(d,1),f=eg._getFirstNonBlankColumn(g,1);l>1&&f>1;){if(d.charCodeAt(l-2)!==g.charCodeAt(f-2))break;l--,f--}(l>1||f>1)&&this._pushTrimWhitespaceCharChange(r,o+1,1,l,a+1,1,f);for(var C=eg._getLastNonBlankColumn(d,1),c=eg._getLastNonBlankColumn(g,1),$=d.length+1,L=g.length+1;C<$&&c<L;){if(d.charCodeAt(C-1)!==d.charCodeAt(c-1))break;C++,c++}(C<$||c<L)&&this._pushTrimWhitespaceCharChange(r,o+1,C,$,a+1,c,L)}o++,a++}s&&(r.push(cq.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=s.originalLength,a+=s.modifiedLength)}return r},e.prototype._pushTrimWhitespaceCharChange=function(e,i,t,n,r,o,a){if(!this._mergeTrimWhitespaceCharChange(e,i,t,n,r,o,a)){var h=void 0;this.shouldComputeCharChanges&&(h=[new bq(i,t,i,n,r,o,r,a)]),e.push(new cq(i,i,r,r,h))}},e.prototype._mergeTrimWhitespaceCharChange=function(e,i,t,n,r,o,a){var h=e.length;if(0===h)return!1;var s=e[h-1];return 0!==s.originalEndLineNumber&&0!==s.modifiedEndLineNumber&&s.originalEndLineNumber+1===i&&s.modifiedEndLineNumber+1===r&&(s.originalEndLineNumber=i,s.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&s.charChanges.push(new bq(i,t,i,n,r,o,r,a)),!0)},e.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||new Date().getTime()-this.computationStartTime<this.maximumRunTimeMs},e}();var pS=function(){function t(t,r,o){for(var n=new Uint8Array(t*r),$=0,i=t*r;$<i;$++)n[$]=o;this._data=n,this.rows=t,this.cols=r}return t.prototype.get=function(t,r){return this._data[t*this.cols+r]},t.prototype.set=function(t,r,o){this._data[t*this.cols+r]=o},t}();function tB(t){return t<0?0:t>255?255:0|t}function Be(t){return t<0?0:t>4294967295?4294967295:0|t}function qS(t){for(var r=t.length,o=new Uint32Array(r),n=0;n<r;n++)o[n]=Be(t[n]);return o}var rS=function(){return function(t,e){this.index=t,this.remainder=e}}();var dq=function(){function t(t){this.values=t,this.prefixSum=new Uint32Array(t.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return t.prototype.getCount=function(){return this.values.length},t.prototype.insertValues=function(t,e){t=Be(t);var i=this.values,u=this.prefixSum,r=e.length;return 0!==r&&(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,t),0),this.values.set(i.subarray(t),t+r),this.values.set(e,t),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},t.prototype.changeValue=function(t,e){return t=Be(t),e=Be(e),this.values[t]!==e&&(this.values[t]=e,t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),!0)},t.prototype.removeValues=function(t,e){t=Be(t),e=Be(e);var i=this.values,u=this.prefixSum;if(t>=i.length)return!1;var r=i.length-t;return e>=r&&(e=r),0!==e&&(this.values=new Uint32Array(i.length-e),this.values.set(i.subarray(0,t),0),this.values.set(i.subarray(t+e),t),this.prefixSum=new Uint32Array(this.values.length),t-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=t-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(u.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},t.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},t.prototype.getAccumulatedValue=function(t){return t<0?0:(t=Be(t),this._getAccumulatedValue(t))},t.prototype._getAccumulatedValue=function(t){if(t<=this.prefixSumValidIndex[0])return this.prefixSum[t];var e=this.prefixSumValidIndex[0]+1;0===e&&(this.prefixSum[0]=this.values[0],e++),t>=this.values.length&&(t=this.values.length-1);for(var i=e;i<=t;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],t),this.prefixSum[t]},t.prototype.getIndexOf=function(t){t=Math.floor(t),this.getTotalValue();for(var e=0,i=this.values.length-1,u=0,r=0,a=0;e<=i;)if(u=e+(i-e)/2|0,t<(a=(r=this.prefixSum[u])-this.values[u]))i=u-1;else{if(!(t>=r))break;e=u+1}return new rS(u,t-a)},t}();var sS=function(){function t(t){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new dq(t),this._bustCache()}return t.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},t.prototype.insertValues=function(t,e){this._actual.insertValues(t,e)&&this._bustCache()},t.prototype.changeValue=function(t,e){this._actual.changeValue(t,e)&&this._bustCache()},t.prototype.removeValues=function(t,e){this._actual.removeValues(t,e)&&this._bustCache()},t.prototype.getTotalValue=function(){return this._actual.getTotalValue()},t.prototype.getAccumulatedValue=function(t){return this._actual.getAccumulatedValue(t)},t.prototype.getIndexOf=function(t){if(t=Math.floor(t),null!==this._cache){var e=t-this._cacheAccumulatedValueStart;if(e>=0&&e<this._cache.length)return this._cache[e]}return this._actual.getIndexOf(t)},t.prototype.warmUpCache=function(t,e){for(var i=[],u=t;u<=e;u++)i[u-t]=this.getIndexOf(u);this._cache=i,this._cacheAccumulatedValueStart=t},t}();var tS=function(){function e(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null}return e.prototype.dispose=function(){this._lines.length=0},e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=0,i=e.changes;t<i.length;t++){var n=i[t];this._acceptDeleteRange(n.range),this._acceptInsertText(new x(n.range.startLineNumber,n.range.startColumn),n.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,i=new Uint32Array(t),n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new dq(i)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var i=t.split(/\r\n|\r|\n/);if(1!==i.length){i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);for(var n=new Uint32Array(i.length-1),r=1;r<i.length;r++)this._lines.splice(e.lineNumber+r-1,0,i[r]),n[r-1]=i[r].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}();var Tk=function(){function t(e){var r=tB(e);this._defaultValue=r,this._asciiMap=t._createAsciiMap(r),this._map=new Map}return t._createAsciiMap=function(t){for(var e=new Uint8Array(256),r=0;r<256;r++)e[r]=t;return e},t.prototype.set=function(t,e){var r=tB(e);t>=0&&t<256?this._asciiMap[t]=r:this._map.set(t,r)},t.prototype.get=function(t){return t>=0&&t<256?this._asciiMap[t]:this._map.get(t)||this._defaultValue},t}();var mia=function(){function t(){this._actual=new Tk(0)}return t.prototype.add=function(t){this._actual.set(t,1)},t.prototype.has=function(t){return 1===this._actual.get(t)},t}();var uS=function(){function e(e){for(var r=0,t=0,a=0,n=e.length;a<n;a++){var $=e[a],i=$[0];(p=$[1])>r&&(r=p),i>t&&(t=i),(c=$[2])>t&&(t=c)}r++,t++;var o=new pS(t,r,0);for(a=0,n=e.length;a<n;a++){var s=e[a],p=(i=s[0],s[1]),c=s[2];o.set(i,p,c)}this._states=o,this._maxCharCode=r}return e.prototype.nextState=function(e,r){return r<0||r>=this._maxCharCode?0:this._states.get(e,r)},e}();var uB=null;function vS(){return null===uB&&(uB=new uS([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),uB}var Uk=null;function wS(){if(null===Uk){Uk=new Tk(0);for(var e=0;e<" \t<>'\"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF20\uFF03\uFF04\uFF05\uFF06\uFF0A\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026".length;e++)Uk.set(" \t<>'\"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF20\uFF03\uFF04\uFF05\uFF06\uFF0A\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u3011\u300F\u300D\u300B\u3009\u201D\u2019\uFF40\uFF5E\u2026".charCodeAt(e),1);for(e=0;e<".,;".length;e++)Uk.set(".,;".charCodeAt(e),2)}return Uk}var xS=function(){function e(){}return e._createLink=function(e,r,t,a,n){var $=n-1;do{var i=r.charCodeAt($);if(2!==e.get(i))break;$--}while($>a);if(a>0){var o=r.charCodeAt(a-1),s=r.charCodeAt($);(40===o&&41===s||91===o&&93===s||123===o&&125===s)&&$--}return{range:{startLineNumber:t,startColumn:a+1,endLineNumber:t,endColumn:$+2},url:r.substring(a,$+1)}},e.computeLinks=function(r,t){void 0===t&&(t=vS());for(var a=wS(),n=[],$=1,i=r.getLineCount();$<=i;$++){for(var o=r.getLineContent($),s=o.length,p=0,c=0,m=0,u=1,f=!1,v=!1,h=!1;p<s;){var l=!1,C=o.charCodeAt(p);if(13===u){var k=void 0;switch(C){case 40:f=!0,k=0;break;case 41:k=f?0:1;break;case 91:v=!0,k=0;break;case 93:k=v?0:1;break;case 123:h=!0,k=0;break;case 125:k=h?0:1;break;case 39:k=34===m||96===m?0:1;break;case 34:k=39===m||96===m?0:1;break;case 96:k=39===m||34===m?0:1;break;default:k=a.get(C);}1===k&&(n.push(e._createLink(a,o,$,c,p)),l=!0)}else if(12===u){k=void 0;91===C?(v=!0,k=0):k=a.get(C),1===k?l=!0:u=13}else 0===(u=t.nextState(u,C))&&(l=!0);l&&(u=1,f=!1,v=!1,h=!1,c=p+1,m=C),p++}13===u&&n.push(e._createLink(a,o,$,c,s))}return n},e}();function yS(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?xS.computeLinks(e):[]}var zS=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,a,l,r){var n;if(e&&t&&(n=this.doNavigateValueSet(t,r)))return{range:e,value:n};if(a&&l&&(n=this.doNavigateValueSet(l,r)))return{range:a,value:n};return null},e.prototype.doNavigateValueSet=function(e,t){var a=this.numberReplace(e,t);return null!==a?a:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var a=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),l=Number(e),r=parseFloat(e);return isNaN(l)||isNaN(r)||l!==r?null:0!==l||t?(l=Math.floor(l*a),l+=t?a:-a,String(l/a)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,a){for(var l=null,r=0,n=e.length;null===l&&r<n;r++)l=this.valueSetReplace(e[r],t,a);return l},e.prototype.valueSetReplace=function(e,t,a){var l=e.indexOf(t);return l>=0?((l+=a?1:-1)<0?l=e.length-1:l%=e.length,e[l]):null},e.INSTANCE=new e,e}();var vB=Qh&&Qh.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),AS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vB(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var r=dp(e.column,cp(t),this._lines[e.lineNumber-1],0);return r?new j(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var r=this.getWordAtPosition(e,t);return r?{word:this._lines[e.lineNumber-1].substring(r.startColumn-1,e.column-1),startColumn:r.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.createWordIterator=function(e){var t,r,n=this,o=0,i=0,s=[],u=function(){if(i<s.length){var l=r.substring(s[i].start,s[i].end);return i+=1,t?t.value=l:t={done:!1,value:l},t}return o>=n._lines.length?se:(r=n._lines[o],s=n._wordenize(r,e),i=0,o+=1,u())};return{next:u}},t.prototype.getLineWords=function(e,t){for(var r=this._lines[e-1],n=[],o=0,i=this._wordenize(r,t);o<i.length;o++){var s=i[o];n.push({word:r.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1})}return n},t.prototype._wordenize=function(e,t){var r,n=[];for(t.lastIndex=0;(r=t.exec(e))&&0!==r[0].length;)n.push({start:r.index,end:r.index+r[0].length});return n},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,r=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[r].substring(e.startColumn-1));for(var i=r+1;i<n;i++)o.push(this._lines[i]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),r=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,r)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),r=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||r.lineNumber!==e.endLineNumber||r.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}:e},t.prototype._validatePosition=function(e){if(!x.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,r=e.column,n=!1;if(t<1)t=1,r=1,n=!0;else if(t>this._lines.length)t=this._lines.length,r=this._lines[t-1].length+1,n=!0;else{var o=this._lines[t-1].length+1;r<1?(r=1,n=!0):r>o&&(r=o,n=!0)}return n?{lineNumber:t,column:r}:e},t}(tS),wB=function(){function e(e){this._foreignModuleFactory=e,this._foreignModule=null}return e.prototype.computeDiff=function(e,t,r){var n=this._getModel(e),o=this._getModel(t);if(!n||!o)return Promise.resolve(null);var i=n.getLinesContent(),s=o.getLinesContent(),u=new oS(i,s,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:r,shouldMakePrettyDiff:!0}).computeDiff(),l=!(u.length>0)&&this._modelsAreIdentical(n,o);return Promise.resolve({identical:l,changes:u})},e.prototype._modelsAreIdentical=function(e,t){var r=e.getLineCount();if(r!==t.getLineCount())return!1;for(var n=1;n<=r;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0},e.prototype.computeMoreMinimalEdits=function(t,r){var n=this._getModel(t);if(!n)return Promise.resolve(r);for(var o=[],i=void 0,s=0,u=r=_M(r,function(e,t){return e.range&&t.range?j.compareRangesUsingStarts(e.range,t.range):(e.range?0:1)-(t.range?0:1)});s<u.length;s++){var l=u[s],a=l.range,c=l.text,m=l.eol;if("number"==typeof m&&(i=m),!j.isEmpty(a)||c){var p=n.getValueInRange(a);if(p!==(c=c.replace(/\r\n|\n|\r/g,n.eol)))if(Math.max(c.length,p.length)>e._diffLimit)o.push({range:a,text:c});else for(var d=jS(p,c,!1),f=n.offsetAt(j.lift(a).getStartPosition()),g=0,$=d;g<$.length;g++){var h=$[g],_=n.positionAt(f+h.originalStart),v=n.positionAt(f+h.originalStart+h.originalLength),b={text:c.substr(h.modifiedStart,h.modifiedLength),range:{startLineNumber:_.lineNumber,startColumn:_.column,endLineNumber:v.lineNumber,endColumn:v.column}};n.getValueInRange(b.range)!==b.text&&o.push(b)}}}return"number"==typeof i&&o.push({eol:i,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Promise.resolve(o)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?Promise.resolve(yS(t)):Promise.resolve(null)},e.prototype.textualSuggest=function(t,r,n,o){var i=this._getModel(t);if(!i)return Promise.resolve(null);var s=[],u=new RegExp(n,o),l=i.getWordUntilPosition(r,u),a=Object.create(null);a[l.word]=!0;for(var c=i.createWordIterator(u),m=c.next();!m.done&&s.length<=e._suggestionsLimit;m=c.next()){var p=m.value;a[p]||(a[p]=!0,isNaN(Number(p))&&s.push({kind:18,label:p,insertText:p,range:{startLineNumber:r.lineNumber,startColumn:l.startColumn,endLineNumber:r.lineNumber,endColumn:l.endColumn}}))}return Promise.resolve({suggestions:s})},e.prototype.computeWordRanges=function(e,t,r,n){var o=this._getModel(e);if(!o)return Promise.resolve(Object.create(null));for(var i=new RegExp(r,n),s=Object.create(null),u=t.startLineNumber;u<t.endLineNumber;u++)for(var l=0,a=o.getLineWords(u,i);l<a.length;l++){var c=a[l];if(isNaN(Number(c.word))){var m=s[c.word];m||(m=[],s[c.word]=m),m.push({startLineNumber:u,startColumn:c.startColumn,endLineNumber:u,endColumn:c.endColumn})}}return Promise.resolve(s)},e.prototype.navigateValueSet=function(e,t,r,n,o){var i=this._getModel(e);if(!i)return Promise.resolve(null);var s=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var u=i.getValueInRange(t),l=i.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return Promise.resolve(null);var a=i.getValueInRange(l),c=zS.INSTANCE.navigateValueSet(t,u,l,a,r);return Promise.resolve(c)},e.prototype.loadForeignModule=function(e,t){var r=this,n={getMirrorModels:function(){return r._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(n,t);for(var o=[],i=0,s=Xo(this._foreignModule);i<s.length;i++){var u=s[i];"function"==typeof this._foreignModule[u]&&o.push(u)}return Promise.resolve(o)}return Promise.reject(new Error("Unexpected usage"))},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(r){return Promise.reject(r)}},e._diffLimit=1e4,e._suggestionsLimit=1e4,e}();Qh.BaseEditorSimpleWorker=wB;var Vk=function(e){function t(t){var r=e.call(this,t)||this;return r._models=Object.create(null),r}return vB(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(r){return t.push(e._models[r])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new AS(hb.parse(e.url),e.lines,e.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(wB);function BS(){return new Vk(null)}Qh.EditorSimpleWorkerImpl=Vk,Qh.create=BS,"function"==typeof importScripts&&(gb.monaco=fA());var xB=L("textResourceConfigurationService");var yB=L("textResourcePropertiesService");var Wk=Gd&&Gd.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),CS=Gd&&Gd.__decorate||function(e,r,t,o){var i,n=arguments.length,s=n<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,t,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(n<3?i(s):n>3?i(r,t,s):i(r,t))||s);return n>3&&s&&Object.defineProperty(r,t,s),s},zB=Gd&&Gd.__param||function(e,r){return function(t,o){r(t,o,e)}},AB=6e4,BB=3e5;function Ce(e,r){var t=e.getModel(r);return!!t&&!t.isTooLargeForSyncing()}var CB=function(e){function r(r,t){var o=e.call(this)||this;return o._modelService=r,o._workerManager=o._register(new ES(o._modelService)),o._register(iB.register("*",{provideLinks:function(e,r){return Ce(o._modelService,e.uri)?o._workerManager.withWorker().then(function(r){return r.computeLinks(e.uri)}):Promise.resolve([])}})),o._register(Kk.register("*",new DS(o._workerManager,t,o._modelService))),o}return Wk(r,e),r.prototype.dispose=function(){e.prototype.dispose.call(this)},r.prototype.canComputeDiff=function(e,r){return Ce(this._modelService,e)&&Ce(this._modelService,r)},r.prototype.computeDiff=function(e,r,t){return this._workerManager.withWorker().then(function(o){return o.computeDiff(e,r,t)})},r.prototype.computeMoreMinimalEdits=function(e,r){return Array.isArray(r)&&0!==r.length&&Ce(this._modelService,e)?this._workerManager.withWorker().then(function(t){return t.computeMoreMinimalEdits(e,r)}):Promise.resolve(r)},r.prototype.canNavigateValueSet=function(e){return Ce(this._modelService,e)},r.prototype.navigateValueSet=function(e,r,t){return this._workerManager.withWorker().then(function(o){return o.navigateValueSet(e,r,t)})},r.prototype.canComputeWordRanges=function(e){return Ce(this._modelService,e)},r.prototype.computeWordRanges=function(e,r){return this._workerManager.withWorker().then(function(t){return t.computeWordRanges(e,r)})},r=CS([zB(0,Oh),zB(1,xB)],r)}(B);Gd.EditorWorkerServiceImpl=CB;var DS=function(){function e(e,r,t){this._workerManager=e,this._configurationService=r,this._modelService=t}return e.prototype.provideCompletionItems=function(e,r){if(this._configurationService.getValue(e.uri,r,"editor").wordBasedSuggestions&&Ce(this._modelService,e.uri))return this._workerManager.withWorker().then(function(t){return t.textualSuggest(e.uri,r)})},e}(),ES=function(e){function r(r){var t=e.call(this)||this;return t._modelService=r,t._editorWorkerClient=null,t._register(new $f).cancelAndSet(function(){return t._checkStopIdleWorker()},Math.round(BB/2)),t._register(t._modelService.onModelRemoved(function(e){return t._checkStopEmptyWorker()})),t}return Wk(r,e),r.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},r.prototype._checkStopEmptyWorker=function(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},r.prototype._checkStopIdleWorker=function(){this._editorWorkerClient&&new Date().getTime()-this._lastWorkerUsedTime>BB&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)},r.prototype.withWorker=function(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new eq(this._modelService,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},r}(B),FS=function(e){function r(r,t,o){var i=e.call(this)||this;if(i._syncedModels=Object.create(null),i._syncedModelsLastUsedTime=Object.create(null),i._proxy=r,i._modelService=t,!o){var n=new $f;n.cancelAndSet(function(){return i._checkStopModelSync()},Math.round(AB/2)),i._register(n)}return i}return Wk(r,e),r.prototype.dispose=function(){for(var r in this._syncedModels)C(this._syncedModels[r]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},r.prototype.esureSyncedResources=function(e){for(var r=0,t=e;r<t.length;r++){var o=t[r],i=o.toString();this._syncedModels[i]||this._beginModelSync(o),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=new Date().getTime())}},r.prototype._checkStopModelSync=function(){var e=new Date().getTime(),r=[];for(var t in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[t]>AB&&r.push(t)}for(var o=0,i=r;o<i.length;o++){var n=i[o];this._stopModelSync(n)}},r.prototype._beginModelSync=function(e){var r=this,t=this._modelService.getModel(e);if(t&&!t.isTooLargeForSyncing()){var o=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});var i=[];i.push(t.onDidChangeContent(function(e){r._proxy.acceptModelChanged(o.toString(),e)})),i.push(t.onWillDispose(function(){r._stopModelSync(o)})),i.push(ka(function(){r._proxy.acceptRemovedModel(o)})),this._syncedModels[o]=i}},r.prototype._stopModelSync=function(e){var r=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],C(r)},r}(B),DB=function(){function e(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}return e.prototype.dispose=function(){this._instance.dispose()},e.prototype.getProxyObject=function(){return this._proxyObj},e}(),eq=function(e){function r(r,t){var o=e.call(this)||this;return o._modelService=r,o._workerFactory=new WR(t),o._worker=null,o._modelManager=null,o}return Wk(r,e),r.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new mB(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){Ok(e),this._worker=new DB(new Vk(null))}return this._worker},r.prototype._getProxy=function(){var e=this;return this._getOrCreateWorker().getProxyObject().then(void 0,function(r){return Ok(r),e._worker=new DB(new Vk(null)),e._getOrCreateWorker().getProxyObject()})},r.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new FS(e,this._modelService,!1))),this._modelManager},r.prototype._withSyncedResources=function(e){var r=this;return this._getProxy().then(function(t){return r._getOrCreateModelManager(t).esureSyncedResources(e),t})},r.prototype.computeDiff=function(e,r,t){return this._withSyncedResources([e,r]).then(function(o){return o.computeDiff(e.toString(),r.toString(),t)})},r.prototype.computeMoreMinimalEdits=function(e,r){return this._withSyncedResources([e]).then(function(t){return t.computeMoreMinimalEdits(e.toString(),r)})},r.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(r){return r.computeLinks(e.toString())})},r.prototype.textualSuggest=function(e,r){var t=this;return this._withSyncedResources([e]).then(function(o){var i=t._modelService.getModel(e);if(!i)return null;var n=U.getWordDefinition(i.getLanguageIdentifier().id),s=n.source,c=tk(n);return o.textualSuggest(e.toString(),r,s,c)})},r.prototype.computeWordRanges=function(e,r){var t=this;return this._withSyncedResources([e]).then(function(o){var i=t._modelService.getModel(e);if(!i)return Promise.resolve(null);var n=U.getWordDefinition(i.getLanguageIdentifier().id),s=n.source,c=tk(n);return o.computeWordRanges(e.toString(),r,s,c)})},r.prototype.navigateValueSet=function(e,r,t){var o=this;return this._withSyncedResources([e]).then(function(i){var n=o._modelService.getModel(e);if(!n)return null;var s=U.getWordDefinition(n.getLanguageIdentifier().id),c=s.source,a=tk(s);return i.navigateValueSet(e.toString(),r,t,c,a)})},r}(B);Gd.EditorWorkerClient=eq;var GS=aq&&aq.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(e,t)};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();function EB(r,e){return new HS(r,e)}aq.createWebWorker=EB;var HS=function(r){function e(e,t){var o=r.call(this,e,t.label)||this;return o._foreignModuleId=t.moduleId,o._foreignModuleCreateData=t.createData||null,o._foreignProxy=null,o}return GS(e,r),e.prototype._getForeignProxy=function(){var r=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then(function(e){return e.loadForeignModule(r._foreignModuleId,r._foreignModuleCreateData).then(function(t){r._foreignModuleCreateData=null;for(var o=function(r,t){return e.fmr(r,t)},n=function(r,e){return function(){var t=Array.prototype.slice.call(arguments,0);return e(r,t)}},i={},u=0,a=t;u<a.length;u++){var c=a[u];i[c]=n(c,o)}return i})})),this._foreignProxy},e.prototype.getProxy=function(){return this._getForeignProxy()},e.prototype.withSyncedResources=function(r){var e=this;return this._withSyncedResources(r).then(function(r){return e.getProxy()})},e}(eq);var Xc=function(){function t(t,e){this._tokens=t,this._tokensCount=this._tokens.length>>>1,this._text=e}return t.prototype.equals=function(e){return e instanceof t&&this.slicedEquals(e,0,this._tokensCount)},t.prototype.slicedEquals=function(t,e,n){if(this._text!==t._text)return!1;if(this._tokensCount!==t._tokensCount)return!1;for(var o=e<<1,r=o+(n<<1),s=o;s<r;s++)if(this._tokens[s]!==t._tokens[s])return!1;return!0},t.prototype.getLineContent=function(){return this._text},t.prototype.getCount=function(){return this._tokensCount},t.prototype.getStartOffset=function(t){return t>0?this._tokens[t-1<<1]:0},t.prototype.getLanguageId=function(t){var e=this._tokens[1+(t<<1)];return ag.getLanguageId(e)},t.prototype.getStandardTokenType=function(t){var e=this._tokens[1+(t<<1)];return ag.getTokenType(e)},t.prototype.getForeground=function(t){var e=this._tokens[1+(t<<1)];return ag.getForeground(e)},t.prototype.getClassName=function(t){var e=this._tokens[1+(t<<1)];return ag.getClassNameFromMetadata(e)},t.prototype.getInlineStyle=function(t,e){var n=this._tokens[1+(t<<1)];return ag.getInlineStyleFromMetadata(n,e)},t.prototype.getEndOffset=function(t){return this._tokens[t<<1]},t.prototype.findTokenIndexAtOffset=function(e){return t.findIndexInTokensArray(this._tokens,e)},t.prototype.inflate=function(){return this},t.prototype.sliceAndInflate=function(t,e,n){return new IS(this,t,e,n)},t.convertToEndOffset=function(t,e){for(var n=(t.length>>>1)-1,o=0;o<n;o++)t[o<<1]=t[o+1<<1];t[n<<1]=e},t.findIndexInTokensArray=function(t,e){if(t.length<=2)return 0;for(var n=0,o=(t.length>>>1)-1;n<o;){var r=n+Math.floor((o-n)/2),s=t[r<<1];if(s===e)return r+1;s<e?n=r+1:s>e&&(o=r)}return n},t}();var IS=function(){function t(t,e,n,o){this._source=t,this._startOffset=e,this._endOffset=n,this._deltaOffset=o,this._firstTokenIndex=t.findTokenIndexAtOffset(e),this._tokensCount=0;for(var r=this._firstTokenIndex,s=t.getCount();r<s;r++){if(t.getStartOffset(r)>=n)break;this._tokensCount++}}return t.prototype.equals=function(e){return e instanceof t&&this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)},t.prototype.getCount=function(){return this._tokensCount},t.prototype.getForeground=function(t){return this._source.getForeground(this._firstTokenIndex+t)},t.prototype.getEndOffset=function(t){var e=this._source.getEndOffset(this._firstTokenIndex+t);return Math.min(this._endOffset,e)-this._startOffset+this._deltaOffset},t.prototype.getClassName=function(t){return this._source.getClassName(this._firstTokenIndex+t)},t.prototype.getInlineStyle=function(t,e){return this._source.getInlineStyle(this._firstTokenIndex+t,e)},t.prototype.findTokenIndexAtOffset=function(t){return this._source.findTokenIndexAtOffset(t+this._startOffset-this._deltaOffset)-this._firstTokenIndex},t}();var fq;"undefined"!=typeof TextDecoder?(fq=function(t){return new JS(t)}):(fq=function(t){return new KS});var JS=function(){function t(t){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=0|t,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return t.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},t.prototype.build=function(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},t.prototype._buildBuffer=function(){if(0===this._bufferLength)return"";var t=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(t)},t.prototype._flushBuffer=function(){var t=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[t]:this._completedStrings[this._completedStrings.length]=t},t.prototype.write1=function(t){var e=this._capacity-this._bufferLength;e<=1&&(0===e||z.isHighSurrogate(t))&&this._flushBuffer(),this._buffer[this._bufferLength++]=t},t.prototype.appendASCII=function(t){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=t},t.prototype.appendASCIIString=function(t){var e=t.length;if(this._bufferLength+e>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=t);for(var r=0;r<e;r++)this._buffer[this._bufferLength++]=t.charCodeAt(r)},t}(),KS=function(){function t(){this._pieces=[],this._piecesLen=0}return t.prototype.reset=function(){this._pieces=[],this._piecesLen=0},t.prototype.build=function(){return this._pieces.join("")},t.prototype.write1=function(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)},t.prototype.appendASCII=function(t){this._pieces[this._piecesLen++]=String.fromCharCode(t)},t.prototype.appendASCIIString=function(t){this._pieces[this._piecesLen++]=t},t}();var Rh=function(){function t(t,e,s,n){this.startColumn=t,this.endColumn=e,this.className=s,this.type=n}return t._equals=function(t,e){return t.startColumn===e.startColumn&&t.endColumn===e.endColumn&&t.className===e.className&&t.type===e.type},t.equalsArr=function(e,s){var n=e.length;if(n!==s.length)return!1;for(var r=0;r<n;r++)if(!t._equals(e[r],s[r]))return!1;return!0},t.filter=function(e,s,n,r){if(0===e.length)return[];for(var o=[],a=0,i=0,u=e.length;i<u;i++){var m=e[i],c=m.range;if(!(c.endLineNumber<s||c.startLineNumber>s)&&(!c.isEmpty()||0!==m.type&&3!==m.type)){var f=c.startLineNumber===s?c.startColumn:n,l=c.endLineNumber===s?c.endColumn:r;o[a++]=new t(f,l,m.inlineClassName,m.type)}}return o},t.compare=function(t,e){return t.startColumn===e.startColumn?t.endColumn===e.endColumn?t.className<e.className?-1:t.className>e.className?1:0:t.endColumn-e.endColumn:t.startColumn-e.startColumn},t}();var FB=function(){return function(t,e,s){this.startOffset=t,this.endOffset=e,this.className=s}}();var LS=function(){function t(){this.stopOffsets=[],this.classNames=[],this.count=0}return t.prototype.consumeLowerThan=function(t,e,s){for(;this.count>0&&this.stopOffsets[0]<t;){for(var n=0;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;s.push(new FB(e,this.stopOffsets[n],this.classNames.join(" "))),e=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.count-=n+1}return this.count>0&&e<t&&(s.push(new FB(e,t-1,this.classNames.join(" "))),e=t),e},t.prototype.insert=function(t,e){if(0===this.count||this.stopOffsets[this.count-1]<=t)this.stopOffsets.push(t),this.classNames.push(e);else for(var s=0;s<this.count;s++)if(this.stopOffsets[s]>=t){this.stopOffsets.splice(s,0,t),this.classNames.splice(s,0,e);break}this.count++},t}(),MS=function(){function t(){}return t.normalize=function(t,e){if(0===e.length)return[];for(var s=[],n=new LS,r=0,o=0,a=e.length;o<a;o++){var i=e[o],u=i.startColumn,m=i.endColumn,c=i.className;if(u>1){var f=t.charCodeAt(u-2);z.isHighSurrogate(f)&&u--}if(m>1){f=t.charCodeAt(m-2);z.isHighSurrogate(f)&&m--}var l=u-1,h=m-2;r=n.consumeLowerThan(l,r,s),0===n.count&&(r=l),n.insert(h,c)}return n.consumeLowerThan(1073741824,r,s),s},t}();var Xa=function(){return function(e,t){this.endIndex=e,this.type=t}}(),fg=function(){function e(e,t,n,r,i,a,s,o,p,$,h,c,d,l,f){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=r,this.isBasicASCII=i,this.containsRTL=a,this.fauxIndentLength=s,this.lineTokens=o,this.lineDecorations=p,this.tabSize=$,this.spaceWidth=h,this.stopRenderingLineAfter=c,this.renderWhitespace="all"===d?2:"boundary"===d?1:0,this.renderControlCharacters=l,this.fontLigatures=f}return e.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Rh.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)},e}();var Id=function(){function e(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return e.getPartIndex=function(e){return(4294901760&e)>>>16},e.getCharIndex=function(e){return(65535&e)>>>0},e.prototype.setPartData=function(e,t,n,r){var i=(t<<16|n<<0)>>>0;this._data[e]=i,this._absoluteOffsets[e]=r+n},e.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},e.prototype.charOffsetToPartData=function(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},e.prototype.partDataToCharOffset=function(t,n,r){if(0===this.length)return 0;for(var i=(t<<16|r<<0)>>>0,a=0,s=this.length-1;a+1<s;){var o=a+s>>>1,p=this._data[o];if(p===i)return o;p>i?s=o:a=o}if(a===s)return a;var $=this._data[a],h=this._data[s];if($===i)return a;if(h===i)return s;var c=e.getPartIndex($);return r-e.getCharIndex($)<=(c!==e.getPartIndex(h)?n:e.getCharIndex(h))-r?a:s},e}();var GB=function(){return function(e,t,n){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}}();function gq(e,t){if(0===e.lineContent.length){var n=0,r="<span><span>\xA0</span></span>";if(e.lineDecorations.length>0){for(var i=[],a=0,s=e.lineDecorations.length;a<s;a++){var o=e.lineDecorations[a];1===o.type&&(i.push(e.lineDecorations[a].className),n|=1),2===o.type&&(i.push(e.lineDecorations[a].className),n|=2)}0!==n&&(r="<span><span class=\""+i.join(" ")+"\"></span></span>")}return t.appendASCIIString(r),new GB(new Id(0,0),!1,n)}return US(PS(e),t)}var NS=function(){return function(e,t,n,r){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=r}}();function Xk(e){var t=fq(1e4),n=gq(e,t);return new NS(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}var OS=function(){return function(e,t,n,r,i,a,s,o,p,$,h,c){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=r,this.isOverflowing=i,this.parts=a,this.containsForeignElements=s,this.tabSize=o,this.containsRTL=p,this.spaceWidth=$,this.renderWhitespace=h,this.renderControlCharacters=c}}();function PS(e){var t,n,r=e.useMonospaceOptimizations,i=e.lineContent;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<i.length?(t=!0,n=e.stopRenderingLineAfter):(t=!1,n=i.length);var a=QS(e.lineTokens,e.fauxIndentLength,n);2!==e.renderWhitespace&&1!==e.renderWhitespace||(a=SS(i,n,e.continuesWithWrappedLine,a,e.fauxIndentLength,e.tabSize,r,1===e.renderWhitespace));var s=0;if(e.lineDecorations.length>0){for(var o=0,p=e.lineDecorations.length;o<p;o++){var $=e.lineDecorations[o];3===$.type?s|=1:1===$.type?s|=1:2===$.type&&(s|=2)}a=TS(i,n,a,e.lineDecorations)}return e.containsRTL||(a=RS(i,a,!e.isBasicASCII||e.fontLigatures)),new OS(r,e.canUseHalfwidthRightwardsArrow,i,n,t,a,s,e.tabSize,e.containsRTL,e.spaceWidth,e.renderWhitespace,e.renderControlCharacters)}function QS(e,t,n){var r=[],i=0;t>0&&(r[i++]=new Xa(t,""));for(var a=0,s=e.getCount();a<s;a++){var o=e.getEndOffset(a);if(!(o<=t)){var p=e.getClassName(a);if(o>=n){r[i++]=new Xa(n,p);break}r[i++]=new Xa(o,p)}}return r}function RS(e,t,n){var r=0,i=[],a=0;if(n)for(var s=0,o=t.length;s<o;s++){if(r+50<(l=(d=t[s]).endIndex)){for(var p=d.type,$=-1,h=r,c=r;c<l;c++)32===e.charCodeAt(c)&&($=c),-1!==$&&c-h>=50&&(i[a++]=new Xa($+1,p),h=$+1,$=-1);h!==l&&(i[a++]=new Xa(l,p))}else i[a++]=d;r=l}else for(s=0,o=t.length;s<o;s++){var d,l,f=(l=(d=t[s]).endIndex)-r;if(f>50){p=d.type;var u=Math.ceil(f/50);for(c=1;c<u;c++){var R=r+50*c;i[a++]=new Xa(R,p)}i[a++]=new Xa(l,p)}else i[a++]=d;r=l}return i}function SS(e,t,n,r,i,a,s,o){var p,$=[],h=0,c=0,d=r[c].type,l=r[c].endIndex,f=r.length,u=z.firstNonWhitespaceIndex(e);-1===u?(u=t,p=t):p=z.lastNonWhitespaceIndex(e);for(var R=0,g=0;g<i;g++){9===(v=e.charCodeAt(g))?R=a:z.isFullWidthCharacter(v)?R+=2:R++}R%=a;var W=!1;for(g=i;g<t;g++){var v=e.charCodeAt(g),M=void 0;if(g<u||g>p)M=!0;else if(9===v)M=!0;else if(32===v){if(o){if(W)M=!0;else{var I=g+1<t?e.charCodeAt(g+1):0;M=32===I||9===I}}else M=!0;}else M=!1;W?(!M||!s&&R>=a)&&($[h++]=new Xa(g,"vs-whitespace"),R%=a):(g===l||M&&g>i)&&($[h++]=new Xa(g,d),R%=a),9===v?R=a:z.isFullWidthCharacter(v)?R+=2:R++,W=M,g===l&&++c<f&&(d=r[c].type,l=r[c].endIndex)}var L=!1;if(W)if(n&&o){var w=t>0?e.charCodeAt(t-1):0,J=t>1?e.charCodeAt(t-2):0;32===w&&32!==J&&9!==J||(L=!0)}else L=!0;return $[h++]=new Xa(t,L?"vs-whitespace":d),$}function TS(e,t,n,r){r.sort(Rh.compare);for(var i=MS.normalize(e,r),a=i.length,s=0,o=[],p=0,$=0,h=0,c=n.length;h<c;h++){for(var d=n[h],l=d.endIndex,f=d.type;s<a&&i[s].startOffset<l;){var u=i[s];if(u.startOffset>$&&($=u.startOffset,o[p++]=new Xa($,f)),!(u.endOffset+1<=l)){$=l,o[p++]=new Xa($,f+" "+u.className);break}$=u.endOffset+1,o[p++]=new Xa($,f+" "+u.className),s++}l>$&&($=l,o[p++]=new Xa($,f))}var R=n[n.length-1].endIndex;if(s<a&&i[s].startOffset===R){for(var g=[];s<a&&i[s].startOffset===R;)g.push(i[s].className),s++;o[p++]=new Xa($,g.join(" "))}return o}function US(e,t){var n=e.fontIsMonospace,r=e.canUseHalfwidthRightwardsArrow,i=e.containsForeignElements,a=e.lineContent,s=e.len,o=e.isOverflowing,p=e.parts,$=e.tabSize,h=e.containsRTL,c=e.spaceWidth,d=e.renderWhitespace,l=e.renderControlCharacters,f=new Id(s+1,p.length),u=0,R=0,g=0,W=0,v=0;t.appendASCIIString("<span>");for(var M=0,I=p.length;M<I;M++){v+=W;var L=p[M],w=L.endIndex,J=L.type,C=0!==d&&J.indexOf("vs-whitespace")>=0;if(g=0,t.appendASCIIString("<span class=\""),t.appendASCIIString(J),t.appendASCII(34),C){for(var A=0,x=u,S=R;x<w;x++){if(9===(m=a.charCodeAt(x)))S+=(O=$-(x+S)%$)-1,A+=O;else A++}if(!n)!("vs-whitespace"===J)&&i||(t.appendASCIIString(" style=\"width:"),t.appendASCIIString(String(c*A)),t.appendASCIIString("px\""));for(t.appendASCII(62);u<w;u++){if(f.setPartData(u,M,g,v),9===(m=a.charCodeAt(u)))for(R+=(O=$-(u+R)%$)-1,g+=O-1,O>0&&(!r||O>1?t.write1(8594):t.write1(65515),O--);O>0;)t.write1(160),O--;else t.write1(183);g++}W=A}else{A=0;for(h&&t.appendASCIIString(" dir=\"ltr\""),t.appendASCII(62);u<w;u++){var m;switch(f.setPartData(u,M,g,v),m=a.charCodeAt(u)){case 9:var O;for(R+=(O=$-(u+R)%$)-1,g+=O-1;O>0;)t.write1(160),A++,O--;break;case 32:t.write1(160),A++;break;case 60:t.appendASCIIString("&lt;"),A++;break;case 62:t.appendASCIIString("&gt;"),A++;break;case 38:t.appendASCIIString("&amp;"),A++;break;case 0:t.appendASCIIString("&#00;"),A++;break;case 65279:case 8232:t.write1(65533),A++;break;default:z.isFullWidthCharacter(m)&&R++,l&&m<32?(t.write1(9216+m),A++):(t.write1(m),A++);}g++}W=A}t.appendASCIIString("</span>")}return f.setPartData(s,p.length-1,g,v),o&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new GB(f,h,i)}var HB=function(){return function(i,t,n,e){this.top=0|i,this.left=0|t,this.width=0|n,this.height=0|e}}();var VS=function(){return function(i,t){this.tabSize=i,this.data=t}}();var hq=function(){return function(i,t,n,e,s){this.content=i,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=e,this.tokens=s}}();var gc=function(){function i(t,n,e,s,o,r,a,$,L){this.minColumn=t,this.maxColumn=n,this.content=e,this.continuesWithWrappedLine=s,this.isBasicASCII=i.isBasicASCII(e,r),this.containsRTL=i.containsRTL(e,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=$,this.tabSize=L}return i.isBasicASCII=function(i,t){return!t||z.isBasicASCII(i)},i.containsRTL=function(i,t,n){return!(t||!n)&&z.containsRTL(i)},i}();var Yk=function(){return function(i,t,n){this.range=i,this.inlineClassName=t,this.type=n}}();var WS=function(){return function(i,t){this.range=i,this.options=t}}();var A={};function IB(t){return Array.isArray(t)}function XS(t){return!IB(t)}function JB(t){return"string"==typeof t}function YS(t){return!JB(t)}function gg(t){return!t}function Zk(t,$){return t.ignoreCase&&$?$.toLowerCase():$}function ZS(t){return t.replace(/[&<>'"_]/g,"-")}function $S(t,$){console.log(t.languageId+": "+$)}function _S(t,$){return new Error(t.languageId+": "+$)}function aT(t,$,r,e,o){var n=null;return $.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function($,c,s,i,p,x,u,R,B){return gg(s)?gg(i)?!gg(p)&&p<e.length?Zk(t,e[p]):!gg(u)&&t&&"string"==typeof t[u]?t[u]:(null===n&&(n=o.split(".")).unshift(o),!gg(x)&&x<n.length?Zk(t,n[x]):""):Zk(t,r):"$"})}function bT(t,$){for(var r=$;r&&r.length>0;){var e=t.tokenizer[r];if(e)return e;var o=r.lastIndexOf(".");r=o<0?null:r.substr(0,o)}return null}function cT(t,$){for(var r=$;r&&r.length>0;){if(t.stateNames[r])return!0;var e=r.lastIndexOf(".");r=e<0?null:r.substr(0,e)}return!1}A.isFuzzyActionArr=IB,A.isFuzzyAction=XS,A.isString=JB,A.isIAction=YS,A.empty=gg,A.fixCase=Zk,A.sanitize=ZS,A.log=$S,A.createError=_S,A.substituteMatches=aT,A.findRules=bT,A.stateExists=cT;var KB=5,iq=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new $k(e,t);var r=$k.getStackElementId(e);r.length>0&&(r+="|"),r+=t;var n=this._entries[r];return n||(n=new $k(e,t),this._entries[r]=n,n)},e._INSTANCE=new e(KB),e}(),$k=function(){function e(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return e.getStackElementId=function(e){for(var t="";null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t},e._equals=function(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t},e.prototype.equals=function(t){return e._equals(this,t)},e.prototype.push=function(e){return iq.create(this,e)},e.prototype.pop=function(){return this.parent},e.prototype.popall=function(){for(var e=this;e.parent;)e=e.parent;return e},e.prototype.switchTo=function(e){return iq.create(this.parent,e)},e}(),jq=function(){function e(e,t){this.modeId=e,this.state=t}return e.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},e.prototype.clone=function(){return this.state.clone()===this.state?this:new e(this.modeId,this.state)},e}(),hg=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==t)return new kq(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new kq(e,t);var r=$k.getStackElementId(e),n=this._entries[r];return n||(n=new kq(e,null),this._entries[r]=n,n)},e._INSTANCE=new e(KB),e}(),kq=function(){function e(e,t){this.stack=e,this.embeddedModeData=t}return e.prototype.clone=function(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:hg.create(this.stack,this.embeddedModeData)},e.prototype.equals=function(t){return t instanceof e&&!!this.stack.equals(t.stack)&&(null===this.embeddedModeData&&null===t.embeddedModeData||null!==this.embeddedModeData&&null!==t.embeddedModeData&&this.embeddedModeData.equals(t.embeddedModeData))},e}(),LB=Object.hasOwnProperty,dT=function(){function e(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return e.prototype.enterMode=function(e,t){this._language=t},e.prototype.emit=function(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new kk(e,t,this._language)))},e.prototype.nestedModeTokenize=function(e,t,r){var n=t.modeId,o=t.state,a=ca.get(n);if(!a)return this.enterMode(r,n),this.emit(r,""),o;var i=a.tokenize(e,o,r);return this._tokens=this._tokens.concat(i.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,i.endState},e.prototype.finalize=function(e){return new vp(this._tokens,e)},e}(),eT=function(){function e(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return e.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},e.prototype.emit=function(e,t){var r=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==r&&(this._lastTokenMetadata=r,this._tokens.push(e),this._tokens.push(r))},e._merge=function(e,t,r){var n=null!==e?e.length:0,o=t.length,a=null!==r?r.length:0;if(0===n&&0===o&&0===a)return new Uint32Array(0);if(0===n&&0===o)return r;if(0===o&&0===a)return e;var i=new Uint32Array(n+o+a);null!==e&&i.set(e);for(var s=0;s<o;s++)i[n+s]=t[s];return null!==r&&i.set(r,n+o),i},e.prototype.nestedModeTokenize=function(t,r,n){var o=r.modeId,a=r.state,i=ca.get(o);if(!i)return this.enterMode(n,o),this.emit(n,""),a;var s=i.tokenize2(t,a,n);return this._prependTokens=e._merge(this._prependTokens,this._tokens,s.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,s.endState},e.prototype.finalize=function(t){return new lk(e._merge(this._prependTokens,this._tokens,null),t)},e}(),MB=function(){function e(e,t,r,n){var o=this;this._modeService=e,this._standaloneThemeService=t,this._modeId=r,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var a=!1;this._tokenizationRegistryListener=ca.onDidChange(function(e){if(!a){for(var t=!1,r=0,n=e.changedLanguages.length;r<n;r++){var i=e.changedLanguages[r];if(o._embeddedModes[i]){t=!0;break}}t&&(a=!0,ca.fire([o._modeId]),a=!1)}})}return e.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},e.prototype.getLoadStatus=function(){var t=[];for(var r in this._embeddedModes){var n=ca.get(r);if(n){if(n instanceof e){var o=n.getLoadStatus();!1===o.loaded&&t.push(o.promise)}}else{var a=ca.getPromise(r);a&&t.push(a)}}return 0===t.length?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then(function(e){})}},e.prototype.getInitialState=function(){var e=iq.create(null,this._lexer.start);return hg.create(e,null)},e.prototype.tokenize=function(e,t,r){var n=new dT,o=this._tokenize(e,t,r,n);return n.finalize(o)},e.prototype.tokenize2=function(e,t,r){var n=new eT(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(e,t,r,n);return n.finalize(o)},e.prototype._tokenize=function(e,t,r,n){return t.embeddedModeData?this._nestedTokenize(e,t,r,n):this._myTokenize(e,t,r,n)},e.prototype._findLeavingNestedModeOffset=function(e,t){var r=this._lexer.tokenizer[t.stack.state];if(!r&&!(r=A.findRules(this._lexer,t.stack.state)))throw A.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);var n=-1,o=!1;for(var a in r)if(LB.call(r,a)){var i=r[a];if(A.isIAction(i.action)&&"@pop"===i.action.nextEmbedded){o=!0;var s=i.regex,h=i.regex.source;"^(?:"===h.substr(0,4)&&")"===h.substr(h.length-1,1)&&(s=new RegExp(h.substr(4,h.length-5),s.ignoreCase?"i":""));var c=e.search(s);-1!==c&&(-1===n||c<n)&&(n=c)}}if(!o)throw A.createError(this._lexer,"no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: "+t.stack.state);return n},e.prototype._nestedTokenize=function(e,t,r,n){var o=this._findLeavingNestedModeOffset(e,t);if(-1===o){var a=n.nestedModeTokenize(e,t.embeddedModeData,r);return hg.create(t.stack,new jq(t.embeddedModeData.modeId,a))}var i=e.substring(0,o);i.length>0&&n.nestedModeTokenize(i,t.embeddedModeData,r);var s=e.substring(o);return this._myTokenize(s,t,r+o,n)},e.prototype._safeRuleName=function(e){return e?e.name:"(unknown)"},e.prototype._myTokenize=function(e,t,r,n){n.enterMode(r,this._modeId);for(var o=e.length,a=t.embeddedModeData,i=t.stack,s=0,h=null,c=!0;c||s<o;){var l=s,m=i.depth,u=h?h.groups.length:0,d=i.state,$=null,p=null,f=null,_=null,z=null;if(h){$=h.matches;var g=h.groups.shift();p=g.matched,f=g.action,_=h.rule,0===h.groups.length&&(h=null)}else{if(!c&&s>=o)break;c=!1;var k=this._lexer.tokenizer[d];if(!k&&!(k=A.findRules(this._lexer,d)))throw A.createError(this._lexer,"tokenizer state is not defined: "+d);var v=e.substr(s);for(var U in k)if(LB.call(k,U)){var M=k[U];if((0===s||!M.matchOnlyAtLineStart)&&($=v.match(M.regex))){p=$[0],f=M.action;break}}}if($||($=[""],p=""),f||(s<o&&(p=($=[e.charAt(s)])[0]),f=this._lexer.defaultToken),null===p)break;for(s+=p.length;A.isFuzzyAction(f)&&A.isIAction(f)&&f.test;)f=f.test(p,$,d,s===o);var y=null;if("string"==typeof f||Array.isArray(f))y=f;else if(f.group)y=f.group;else if(null!==f.token&&void 0!==f.token){if(y=f.tokenSubst?A.substituteMatches(this._lexer,f.token,p,$,d):f.token,f.nextEmbedded)if("@pop"===f.nextEmbedded){if(!a)throw A.createError(this._lexer,"cannot pop embedded mode if not inside one");a=null}else{if(a)throw A.createError(this._lexer,"cannot enter embedded mode from within an embedded mode");z=A.substituteMatches(this._lexer,f.nextEmbedded,p,$,d)}if(f.goBack&&(s=Math.max(0,s-f.goBack)),f.switchTo&&"string"==typeof f.switchTo){if("@"===(T=A.substituteMatches(this._lexer,f.switchTo,p,$,d))[0]&&(T=T.substr(1)),!A.findRules(this._lexer,T))throw A.createError(this._lexer,"trying to switch to a state '"+T+"' that is undefined in rule: "+this._safeRuleName(_));i=i.switchTo(T)}else{if(f.transform&&"function"==typeof f.transform)throw A.createError(this._lexer,"action.transform not supported");if(f.next)if("@push"===f.next){if(i.depth>=this._lexer.maxStack)throw A.createError(this._lexer,"maximum tokenizer stack size reached: ["+i.state+","+i.parent.state+",...]");i=i.push(d)}else if("@pop"===f.next){if(i.depth<=1)throw A.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));i=i.pop()}else if("@popall"===f.next)i=i.popall();else{var T;if("@"===(T=A.substituteMatches(this._lexer,f.next,p,$,d))[0]&&(T=T.substr(1)),!A.findRules(this._lexer,T))throw A.createError(this._lexer,"trying to set a next state '"+T+"' that is undefined in rule: "+this._safeRuleName(_));i=i.push(T)}}f.log&&"string"==typeof f.log&&A.log(this._lexer,this._lexer.languageId+": "+A.substituteMatches(this._lexer,f.log,p,$,d))}if(null===y)throw A.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));if(Array.isArray(y)){if(h&&h.groups.length>0)throw A.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if($.length!==y.length+1)throw A.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));for(var b=0,x=1;x<$.length;x++)b+=$[x].length;if(b!==p.length)throw A.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));h={rule:_,matches:$,groups:[]};for(x=0;x<y.length;x++)h.groups[x]={action:y[x],matched:$[x+1]};s-=p.length}else{if("@rematch"===y&&(s-=p.length,p="",$=null,y=""),0===p.length){if(0===o||m!==i.depth||d!==i.state||(h?h.groups.length:0)!==u)continue;throw A.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_))}var C=null;if(A.isString(y)&&0===y.indexOf("@brackets")){var S=y.substr("@brackets".length),E=fT(this._lexer,p);if(!E)throw A.createError(this._lexer,"@brackets token returned but no bracket defined as: "+p);C=A.sanitize(E.token+S)}else{var w=""===y?"":y+this._lexer.tokenPostfix;C=A.sanitize(w)}if(n.emit(l+r,C),null!==z){var L=this._modeService.getModeIdForLanguageName(z);L&&(z=L);var D=this._getNestedEmbeddedModeData(z);if(s<o){v=e.substr(s);return this._nestedTokenize(v,hg.create(i,D),r+s,n)}return hg.create(i,D)}}}return hg.create(i,a)},e.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var r=ca.get(t);if(r)return new jq(t,r.getInitialState())}return new jq(t||$p,Zp)},e.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;var t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t},e}();function fT(e,t){if(!t)return null;t=A.fixCase(e,t);for(var r=0,n=e.brackets;r<n.length;r++){var o=n[r];if(o.open===t)return{token:o.token,bracketType:1};if(o.close===t)return{token:o.token,bracketType:-1}}return null}function gT(e,t,r,n){return new MB(e,t,r,n)}var lq=function(){function e(){}return e.colorizeElement=function(e,n,r,i){var o=(i=i||{}).theme||"vs",t=i.mimeType||r.getAttribute("lang")||r.getAttribute("data-lang");if(!t)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);var $=r.firstChild?r.firstChild.nodeValue:"";r.className+=" "+o;return this.colorize(n,$||"",t,i).then(function(e){r.innerHTML=e},function(e){return console.error(e)})},e.colorize=function(e,n,r,i){var o=4;i&&"number"==typeof i.tabSize&&(o=i.tabSize),z.startsWithUTF8BOM(n)&&(n=n.substr(1));var t=n.split(/\r\n|\r|\n/),$=e.getModeId(r);if(!$)return Promise.resolve(NB(t,o));e.triggerMode($);var a=ca.get($);if(a)return mq(t,o,a);var f=ca.getPromise($);return f?new Promise(function(e,n){f.then(function(r){mq(t,o,r).then(e,n)},n)}):new Promise(function(e,n){var r=null,i=null,a=function(){r&&(r.dispose(),r=null),i&&(i.dispose(),i=null);var a=ca.get($);a?mq(t,o,a).then(e,n):e(NB(t,o))};(i=new Bd).cancelAndSet(a,500),r=ca.onDidChange(function(e){e.changedLanguages.indexOf($)>=0&&a()})})},e.colorizeLine=function(e,n,r,i,o){void 0===o&&(o=4);var t=gc.isBasicASCII(e,n),$=gc.containsRTL(e,t,r);return Xk(new fg(!1,!0,e,!1,t,$,0,i,[],o,0,-1,"none",!1,!1)).html},e.colorizeModelLine=function(e,n,r){void 0===r&&(r=4);var i=e.getLineContent(n);e.forceTokenization(n);var o=e.getLineTokens(n).inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,r)},e}();function mq(e,n,r){return new Promise(function(i,o){var t=function(){var $=hT(e,n,r);if(r instanceof MB){var a=r.getLoadStatus();if(!1===a.loaded)return void a.promise.then(t,o)}i($)};t()})}function NB(e,n){var r=[],i=new Uint32Array(2);i[0]=0,i[1]=16793600;for(var o=0,t=e.length;o<t;o++){var $=e[o];i[0]=$.length;var a=new Xc(i,$),f=gc.isBasicASCII($,!0),s=gc.containsRTL($,f,!0),c=Xk(new fg(!1,!0,$,!1,f,s,0,a,[],n,0,-1,"none",!1,!1));(r=r.concat(c.html)).push("<br/>")}return r.join("")}function hT(e,n,r){for(var i=[],o=r.getInitialState(),t=0,$=e.length;t<$;t++){var a=e[t],f=r.tokenize2(a,o,0);Xc.convertToEndOffset(f.tokens,a.length);var s=new Xc(f.tokens,a),c=gc.isBasicASCII(a,!0),l=gc.containsRTL(a,c,!0),m=Xk(new fg(!1,!0,a,!1,c,l,0,s.inflate(),[],n,0,-1,"none",!1,!1));(i=i.concat(m.html)).push("<br/>"),o=f.endState}return i.join("")}var r={};var nq;(function(r){r[r.Ignore=0]="Ignore",r[r.Info=1]="Info",r[r.Warning=2]="Warning",r[r.Error=3]="Error"})(nq||(nq={})),function(r){var e="error",$="warning",n="warn",o="info",a=Object.create(null);a[r.Error]=k.localize("sev.error","Error"),a[r.Warning]=k.localize("sev.warning","Warning"),a[r.Info]=k.localize("sev.info","Info"),r.fromValue=function(a){return a?z.equalsIgnoreCase(e,a)?r.Error:z.equalsIgnoreCase($,a)||z.equalsIgnoreCase(n,a)?r.Warning:z.equalsIgnoreCase(o,a)?r.Info:r.Ignore:r.Ignore}}(nq||(nq={}));var Yc=nq;function iT(o){return!(!o||"function"!=typeof o.getEditorType)&&o.getEditorType()===Ak.ICodeEditor}var ig={};var Sh={};var jT=function(){function t(){this.data={}}return t.prototype.add=function(t,r){vk(oe(t)),vk(fb(r)),vk(!this.data.hasOwnProperty(t),"There is already an extension with this id"),this.data[t]=r},t.prototype.as=function(t){return this.data[t]||null},t}(),Ab=new jT;Sh.Registry=Ab;var oq={JSONContribution:"base.contributions.json"};function kT(t){return t.length>0&&"#"===t.charAt(t.length-1)?t.substring(0,t.length-1):t}var lT=function(){function t(){this._onDidChangeSchema=new b,this.schemasById={}}return t.prototype.registerSchema=function(t,n){this.schemasById[kT(t)]=n,this._onDidChangeSchema.fire(t)},t.prototype.notifySchemaChanged=function(t){this._onDidChangeSchema.fire(t)},t}(),mT=new lT;Sh.Registry.add(oq.JSONContribution,mT);var jg={Configuration:"base.contributions.configuration"};var _k={properties:{},patternProperties:{}};var pq={properties:{},patternProperties:{}};var qq={properties:{},patternProperties:{}};var rq={properties:{},patternProperties:{}};var sq="vscode://schemas/settings/editor";var OB=Ab.as(oq.JSONContribution),nT=function(){function e(){this.overrideIdentifiers=[],this._onDidSchemaChange=new b,this._onDidUpdateConfiguration=new b,this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:k.localize("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting"},this.configurationProperties={},this.excludedConfigurationProperties={},this.computeOverridePropertyPattern(),OB.registerSchema(sq,this.editorConfigurationSchema)}return e.prototype.registerConfiguration=function(e,r){void 0===r&&(r=!0),this.registerConfigurations([e],r)},e.prototype.registerConfigurations=function(e,r){var t=this;void 0===r&&(r=!0);var i=[];e.forEach(function(e){i.push.apply(i,t.validateAndRegisterProperties(e,r)),t.configurationContributors.push(e),t.registerJSONConfiguration(e),t.updateSchemaForOverrideSettingsConfiguration(e)}),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)},e.prototype.registerOverrideIdentifiers=function(e){var r;(r=this.overrideIdentifiers).push.apply(r,e),this.updateOverridePropertyPatternKey()},e.prototype.validateAndRegisterProperties=function(e,r,t,i){void 0===r&&(r=!0),void 0===t&&(t=2),void 0===i&&(i=!1),t=yd(e.scope)?t:e.scope,i=e.overridable||i;var o=[],n=e.properties;if(n)for(var a in n){var s=void 0;if(r&&(s=rT(a)))console.warn(s),delete n[a];else{var p=n[a],$=p.default;Tc($)&&(p.default=qT(p.type)),i&&(p.overridable=!0),tq.test(a)?p.scope=void 0:p.scope=yd(p.scope)?t:p.scope,!n[a].hasOwnProperty("included")||n[a].included?(this.configurationProperties[a]=n[a],o.push(a)):(this.excludedConfigurationProperties[a]=n[a],delete n[a])}}var v=e.allOf;if(v)for(var P=0,u=v;P<u.length;P++){var d=u[P];o.push.apply(o,this.validateAndRegisterProperties(d,r,t,i))}return o},e.prototype.getConfigurationProperties=function(){return this.configurationProperties},e.prototype.registerJSONConfiguration=function(e){!function e(r){var t=r.properties;if(t)for(var i in t)switch(_k.properties[i]=t[i],t[i].scope){case 1:pq.properties[i]=t[i];break;case 2:qq.properties[i]=t[i];break;case 3:rq.properties[i]=t[i];}var o=r.allOf;o&&o.forEach(e)}(e)},e.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){e.id!==oT&&(this.update(e),OB.registerSchema(sq,this.editorConfigurationSchema))},e.prototype.updateOverridePropertyPatternKey=function(){var e=_k.patternProperties[this.overridePropertyPattern];e||(e={type:"object",description:k.localize("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:"Unknown Identifier. Use language identifiers",$ref:sq}),delete _k.patternProperties[this.overridePropertyPattern],delete pq.patternProperties[this.overridePropertyPattern],delete qq.patternProperties[this.overridePropertyPattern],delete rq.patternProperties[this.overridePropertyPattern],this.computeOverridePropertyPattern(),_k.patternProperties[this.overridePropertyPattern]=e,pq.patternProperties[this.overridePropertyPattern]=e,qq.patternProperties[this.overridePropertyPattern]=e,rq.patternProperties[this.overridePropertyPattern]=e,this._onDidSchemaChange.fire()},e.prototype.update=function(e){var r=this,t=e.properties;if(t)for(var i in t)t[i].overridable&&(this.editorConfigurationSchema.properties[i]=this.getConfigurationProperties()[i]);var o=e.allOf;o&&o.forEach(function(e){return r.update(e)})},e.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?pT.replace("${0}",this.overrideIdentifiers.map(function(e){return z.createRegExp(e,!1).source}).join("|")):PB},e}(),oT="override",PB="\\[.*\\]$",pT="\\[(${0})\\]$",tq=new RegExp(PB);function qT(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null;}}var QB=new nT;function rT(e){return tq.test(e)?k.localize("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==QB.getConfigurationProperties()[e]?k.localize("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null}Ab.add(jg.Configuration,QB);var sT=ig&&ig.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=Yf,Th=Xf,Uh=Nb,uq=new(function(){function e(){this._tabFocus=!1,this._onDidChangeTabFocus=new b,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return e.prototype.getTabFocusMode=function(){return this._tabFocus},e.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},e}());ig.TabFocus=uq;var tT=Object.hasOwnProperty,RB=function(e){function t(t){var o=e.call(this)||this;return o._onDidChange=o._register(new b),o.onDidChange=o._onDidChange.event,o._rawOptions=_b({},t||{}),o._rawOptions.scrollbar=_b({},o._rawOptions.scrollbar||{}),o._rawOptions.minimap=_b({},o._rawOptions.minimap||{}),o._rawOptions.find=_b({},o._rawOptions.find||{}),o._rawOptions.hover=_b({},o._rawOptions.hover||{}),o._rawOptions.parameterHints=_b({},o._rawOptions.parameterHints||{}),o._validatedOptions=fp.validate(o._rawOptions,d),o._isDominatedByLongLines=!1,o._lineNumbersDigitCount=1,o._register(xk.onDidChangeZoomLevel(function(e){return o._recomputeOptions()})),o._register(uq.onDidChangeTabFocus(function(e){return o._recomputeOptions()})),o}return sT(t,e),t.prototype.observeReferenceElement=function(e){},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._recomputeOptions=function(){var e=this.editor,t=this._computeInternalOptions();e&&e.equals(t)||(this.editor=t,e&&this._onDidChange.fire(e.createChangeEvent(t)))},t.prototype.getRawOptions=function(){return this._rawOptions},t.prototype._computeInternalOptions=function(){var e=this._validatedOptions,t=this._getEnvConfiguration(),o=yk.createFromRawSettings(this._rawOptions,t.zoomLevel),n={outerWidth:t.outerWidth,outerHeight:t.outerHeight,fontInfo:this.readConfiguration(o),extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:uq.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport};return rz.createInternalEditorOptions(n,e)},t._primitiveArrayEquals=function(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0},t._subsetEquals=function(e,t){for(var o in t)if(tT.call(t,o)){var n=t[o],r=e[o];if(r===n)continue;if(Array.isArray(r)&&Array.isArray(n)){if(!this._primitiveArrayEquals(r,n))return!1;continue}if("object"==typeof r&&"object"==typeof n){if(!this._subsetEquals(r,n))return!1;continue}return!1}return!0},t.prototype.updateOptions=function(e){void 0!==e&&(t._subsetEquals(this._rawOptions,e)||(this._rawOptions=_b(this._rawOptions,e||{}),this._validatedOptions=fp.validate(this._rawOptions,d),this._recomputeOptions()))},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},t.prototype.setMaxLineNumber=function(e){var o=t._digitCount(e);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())},t._digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t||1},t}(B);ig.CommonEditorConfiguration=RB;var uT=Ab.as(jg.Configuration),SB={id:"editor",order:5,type:"object",title:k.localize("editorConfigurationTitle","Editor"),overridable:!0,scope:3,properties:{"editor.fontFamily":{type:"string",default:Th.fontFamily,description:k.localize("fontFamily","Controls the font family.")},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:Th.fontWeight,description:k.localize("fontWeight","Controls the font weight.")},"editor.fontSize":{type:"number",default:Th.fontSize,description:k.localize("fontSize","Controls the font size in pixels.")},"editor.lineHeight":{type:"number",default:Th.lineHeight,description:k.localize("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")},"editor.letterSpacing":{type:"number",default:Th.letterSpacing,description:k.localize("letterSpacing","Controls the letter spacing in pixels.")},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[k.localize("lineNumbers.off","Line numbers are not rendered."),k.localize("lineNumbers.on","Line numbers are rendered as absolute number."),k.localize("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),k.localize("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:k.localize("lineNumbers","Controls the display of line numbers.")},"editor.renderFinalNewline":{type:"boolean",default:d.viewInfo.renderFinalNewline,description:k.localize("renderFinalNewline","Render last line number when the file ends with a newline.")},"editor.rulers":{type:"array",items:{type:"number"},default:d.viewInfo.rulers,description:k.localize("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")},"editor.wordSeparators":{type:"string",default:d.wordSeparators,description:k.localize("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")},"editor.tabSize":{type:"number",default:Uh.tabSize,minimum:1,markdownDescription:k.localize("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:Uh.insertSpaces,markdownDescription:k.localize("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:Uh.detectIndentation,markdownDescription:k.localize("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.roundedSelection":{type:"boolean",default:d.viewInfo.roundedSelection,description:k.localize("roundedSelection","Controls whether selections should have rounded corners.")},"editor.scrollBeyondLastLine":{type:"boolean",default:d.viewInfo.scrollBeyondLastLine,description:k.localize("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")},"editor.scrollBeyondLastColumn":{type:"number",default:d.viewInfo.scrollBeyondLastColumn,description:k.localize("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")},"editor.smoothScrolling":{type:"boolean",default:d.viewInfo.smoothScrolling,description:k.localize("smoothScrolling","Controls whether the editor will scroll using an animation.")},"editor.minimap.enabled":{type:"boolean",default:d.viewInfo.minimap.enabled,description:k.localize("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:d.viewInfo.minimap.side,description:k.localize("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:d.viewInfo.minimap.showSlider,description:k.localize("minimap.showSlider","Controls whether the minimap slider is automatically hidden.")},"editor.minimap.renderCharacters":{type:"boolean",default:d.viewInfo.minimap.renderCharacters,description:k.localize("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:d.viewInfo.minimap.maxColumn,description:k.localize("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.hover.enabled":{type:"boolean",default:d.contribInfo.hover.enabled,description:k.localize("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:d.contribInfo.hover.delay,description:k.localize("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:d.contribInfo.hover.sticky,description:k.localize("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:d.contribInfo.find.seedSearchStringFromSelection,description:k.localize("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"boolean",default:d.contribInfo.find.autoFindInSelection,description:k.localize("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:d.contribInfo.find.globalFindClipboard,description:k.localize("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Z},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:!0,description:k.localize("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],markdownEnumDescriptions:[k.localize("wordWrap.off","Lines will never wrap."),k.localize("wordWrap.on","Lines will wrap at the viewport width."),k.localize({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),k.localize({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],default:d.wordWrap,description:k.localize({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")},"editor.wordWrapColumn":{type:"integer",default:d.wordWrapColumn,minimum:1,markdownDescription:k.localize({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")},"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[k.localize("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),k.localize("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),k.localize("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),k.localize("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],default:"same",description:k.localize("wrappingIndent","Controls the indentation of wrapped lines.")},"editor.mouseWheelScrollSensitivity":{type:"number",default:d.viewInfo.scrollbar.mouseWheelScrollSensitivity,markdownDescription:k.localize("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},"editor.fastScrollSensitivity":{type:"number",default:d.viewInfo.scrollbar.fastScrollSensitivity,markdownDescription:k.localize("fastScrollSensitivity","Scrolling speed mulitiplier when pressing `Alt`.")},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[k.localize("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),k.localize("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"alt",markdownDescription:k.localize({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")},"editor.multiCursorMergeOverlapping":{type:"boolean",default:d.multiCursorMergeOverlapping,description:k.localize("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:!1,description:k.localize("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:!1,description:k.localize("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:!0,description:k.localize("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:d.contribInfo.quickSuggestions,description:k.localize("quickSuggestions","Controls whether suggestions should automatically show up while typing.")},"editor.quickSuggestionsDelay":{type:"integer",default:d.contribInfo.quickSuggestionsDelay,minimum:0,description:k.localize("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")},"editor.parameterHints.enabled":{type:"boolean",default:d.contribInfo.parameterHints.enabled,description:k.localize("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:d.contribInfo.parameterHints.cycle,description:k.localize("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")},"editor.autoClosingBrackets":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",k.localize("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),k.localize("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],default:d.autoClosingBrackets,description:k.localize("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")},"editor.autoClosingQuotes":{type:"string",enum:["always","languageDefined","beforeWhitespace","never"],enumDescriptions:["",k.localize("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),k.localize("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],default:d.autoClosingQuotes,description:k.localize("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")},"editor.autoSurround":{type:"string",enum:["languageDefined","brackets","quotes","never"],enumDescriptions:[k.localize("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),k.localize("editor.autoSurround.brackets","Surround with brackets but not quotes."),k.localize("editor.autoSurround.quotes","Surround with quotes but not brackets."),""],default:d.autoSurround,description:k.localize("autoSurround","Controls whether the editor should automatically surround selections.")},"editor.formatOnType":{type:"boolean",default:d.contribInfo.formatOnType,description:k.localize("formatOnType","Controls whether the editor should automatically format the line after typing.")},"editor.formatOnPaste":{type:"boolean",default:d.contribInfo.formatOnPaste,description:k.localize("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")},"editor.autoIndent":{type:"boolean",default:d.autoIndent,description:k.localize("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste or move lines. Extensions with indentation rules of the language must be available.")},"editor.suggestOnTriggerCharacters":{type:"boolean",default:d.contribInfo.suggestOnTriggerCharacters,description:k.localize("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:d.contribInfo.acceptSuggestionOnEnter,markdownEnumDescriptions:["",k.localize("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:k.localize("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:d.contribInfo.acceptSuggestionOnCommitCharacter,markdownDescription:k.localize("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[k.localize("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),k.localize("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),k.localize("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),k.localize("snippetSuggestions.none","Do not show snippet suggestions.")],default:d.contribInfo.suggest.snippets,description:k.localize("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")},"editor.emptySelectionClipboard":{type:"boolean",default:d.emptySelectionClipboard,description:k.localize("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")},"editor.copyWithSyntaxHighlighting":{type:"boolean",default:d.copyWithSyntaxHighlighting,description:k.localize("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")},"editor.wordBasedSuggestions":{type:"boolean",default:d.contribInfo.wordBasedSuggestions,description:k.localize("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],markdownEnumDescriptions:[k.localize("suggestSelection.first","Always select the first suggestion."),k.localize("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),k.localize("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],default:"recentlyUsed",description:k.localize("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,markdownDescription:k.localize("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,markdownDescription:k.localize("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")},"editor.tabCompletion":{type:"string",default:"off",enum:["on","off","onlySnippets"],enumDescriptions:[k.localize("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),k.localize("tabCompletion.off","Disable tab completions."),k.localize("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:k.localize("tabCompletion","Enables tab completions.")},"editor.suggest.filterGraceful":{type:"boolean",default:!0,description:k.localize("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:!1,description:k.localize("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:!1,markdownDescription:k.localize("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:!0,description:k.localize("suggest.snippetsPreventQuickSuggestions","Control whether an active snippet prevents quick suggestions.")},"editor.selectionHighlight":{type:"boolean",default:d.contribInfo.selectionHighlight,description:k.localize("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")},"editor.occurrencesHighlight":{type:"boolean",default:d.contribInfo.occurrencesHighlight,description:k.localize("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")},"editor.overviewRulerLanes":{type:"integer",default:3,description:k.localize("overviewRulerLanes","Controls the number of decorations that can show up at the same position in the overview ruler.")},"editor.overviewRulerBorder":{type:"boolean",default:d.viewInfo.overviewRulerBorder,description:k.localize("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:nz(d.viewInfo.cursorBlinking),description:k.localize("cursorBlinking","Control the cursor animation style.")},"editor.mouseWheelZoom":{type:"boolean",default:d.viewInfo.mouseWheelZoom,markdownDescription:k.localize("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")},"editor.cursorSmoothCaretAnimation":{type:"boolean",default:d.viewInfo.cursorSmoothCaretAnimation,description:k.localize("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:oz(d.viewInfo.cursorStyle),description:k.localize("cursorStyle","Controls the cursor style.")},"editor.cursorWidth":{type:"integer",default:d.viewInfo.cursorWidth,markdownDescription:k.localize("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")},"editor.fontLigatures":{type:"boolean",default:d.viewInfo.fontLigatures,description:k.localize("fontLigatures","Enables/Disables font ligatures.")},"editor.hideCursorInOverviewRuler":{type:"boolean",default:d.viewInfo.hideCursorInOverviewRuler,description:k.localize("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],enumDescriptions:["",k.localize("renderWhiteSpace.boundary","Render whitespace characters except for single spaces between words."),""],default:d.viewInfo.renderWhitespace,description:k.localize("renderWhitespace","Controls how the editor should render whitespace characters.")},"editor.renderControlCharacters":{type:"boolean",default:d.viewInfo.renderControlCharacters,description:k.localize("renderControlCharacters","Controls whether the editor should render control characters.")},"editor.renderIndentGuides":{type:"boolean",default:d.viewInfo.renderIndentGuides,description:k.localize("renderIndentGuides","Controls whether the editor should render indent guides.")},"editor.highlightActiveIndentGuide":{type:"boolean",default:d.viewInfo.highlightActiveIndentGuide,description:k.localize("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],enumDescriptions:["","","",k.localize("renderLineHighlight.all","Highlights both the gutter and the current line.")],default:d.viewInfo.renderLineHighlight,description:k.localize("renderLineHighlight","Controls how the editor should render the current line highlight.")},"editor.codeLens":{type:"boolean",default:d.contribInfo.codeLens,description:k.localize("codeLens","Controls whether the editor shows CodeLens.")},"editor.folding":{type:"boolean",default:d.contribInfo.folding,description:k.localize("folding","Controls whether the editor has code folding enabled.")},"editor.foldingStrategy":{type:"string",enum:["auto","indentation"],default:d.contribInfo.foldingStrategy,markdownDescription:k.localize("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:d.contribInfo.showFoldingControls,description:k.localize("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")},"editor.matchBrackets":{type:"boolean",default:d.contribInfo.matchBrackets,description:k.localize("matchBrackets","Highlight matching brackets when one of them is selected.")},"editor.glyphMargin":{type:"boolean",default:d.viewInfo.glyphMargin,description:k.localize("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")},"editor.useTabStops":{type:"boolean",default:d.useTabStops,description:k.localize("useTabStops","Inserting and deleting whitespace follows tab stops.")},"editor.trimAutoWhitespace":{type:"boolean",default:Uh.trimAutoWhitespace,description:k.localize("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.localize("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.dragAndDrop":{type:"boolean",default:d.dragAndDrop,description:k.localize("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[k.localize("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),k.localize("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),k.localize("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:d.accessibilitySupport,description:k.localize("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")},"editor.showUnused":{type:"boolean",default:d.showUnused,description:k.localize("showUnused","Controls fading out of unused code.")},"editor.links":{type:"boolean",default:d.contribInfo.links,description:k.localize("links","Controls whether the editor should detect links and make them clickable.")},"editor.colorDecorators":{type:"boolean",default:d.contribInfo.colorDecorators,description:k.localize("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")},"editor.lightbulb.enabled":{type:"boolean",default:d.contribInfo.lightbulbEnabled,description:k.localize("codeActions","Enables the code action lightbulb in the editor.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.localize("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.codeActionsOnSave":{type:"object",properties:{"source.organizeImports":{type:"boolean",description:k.localize("codeActionsOnSave.organizeImports","Controls whether organize imports action should be run on file save.")},"source.fixAll":{type:"boolean",description:k.localize("codeActionsOnSave.fixAll","Controls whether auto fix action should be run on file save.")}},additionalProperties:{type:"boolean"},default:d.contribInfo.codeActionsOnSave,description:k.localize("codeActionsOnSave","Code action kinds to be run on save.")},"editor.codeActionsOnSaveTimeout":{type:"number",default:d.contribInfo.codeActionsOnSaveTimeout,description:k.localize("codeActionsOnSaveTimeout","Timeout in milliseconds after which the code actions that are run on save are cancelled.")},"editor.selectionClipboard":{type:"boolean",default:d.contribInfo.selectionClipboard,description:k.localize("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:zd},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:k.localize("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:k.localize("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"editor.largeFileOptimizations":{type:"boolean",default:Uh.largeFileOptimizations,description:k.localize("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:k.localize("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}},vq=null;function TB(){return null===vq&&(vq=Object.create(null),Object.keys(SB.properties).forEach(function(e){vq[e]=!0})),vq}function UB(e){return TB()["editor."+e]||!1}function VB(e){return TB()["diffEditor."+e]||!1}ig.isEditorConfigurationKey=UB,ig.isDiffEditorConfigurationKey=VB,uT.registerConfiguration(SB);var vT=function(){function e(){}return e.insert=function(e,r){return{range:new j(e.lineNumber,e.column,e.lineNumber,e.column),text:r,forceMoveMarkers:!0}},e.delete=function(e){return{range:e,text:null}},e.replace=function(e,r){return{range:e,text:r}},e.replaceMove=function(e,r){return{range:e,text:r,forceMoveMarkers:!0}},e}();var hc=L("configurationService");function wT(e,r){var i=Object.create(null);for(var t in e)wq(i,t,e[t],r);return i}function wq(e,r,i,t){for(var o=r.split("."),$=o.pop(),n=e,a=0;a<o.length;a++){var u=o[a],s=n[u];switch(typeof s){case"undefined":s=n[u]=Object.create(null);break;case"object":break;default:return void t("Ignoring "+r+" as "+o.slice(0,a+1).join(".")+" is "+JSON.stringify(s));}n=s}"object"==typeof n?n[$]=i:t("Ignoring "+r+" as "+o.join(".")+" is "+JSON.stringify(n))}function xT(e,r){WB(e,r.split("."))}function WB(e,r){var i=r.shift();if(0!==r.length){if(-1!==Object.keys(e).indexOf(i)){var t=e[i];"object"!=typeof t||Array.isArray(t)||(WB(t,r),0===Object.keys(t).length&&delete e[i])}}else delete e[i]}function yT(e,r,i){var t=function(e,r){for(var i=e,t=0,o=r;t<o.length;t++){var $=o[t];if("object"!=typeof i||null===i)return;i=i[$]}return i}(e,r.split("."));return void 0===t?i:t}function zT(){var e=Ab.as(jg.Configuration).getConfigurationProperties();return Object.keys(e)}function AT(){var e=Object.create(null),r=Ab.as(jg.Configuration).getConfigurationProperties();for(var i in r){wq(e,i,r[i].default,function(e){return console.error("Conflict in default settings: "+e)})}return e}function BT(e){return e.substring(1,e.length-1)}function CT(e,r,i){var t=e.inspect(r),o=e.inspect(i);return void 0!==t.user||void 0!==t.workspace||void 0!==t.workspaceFolder?t.value:void 0!==o.user||void 0!==o.workspace||void 0!==o.workspaceFolder?o.value:t.default}var Vh={};var DT=Vh&&Vh.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),kg=function(){function e(e,t,o){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===o&&(o=[]),this._contents=e,this._keys=t,this._overrides=o,this.isFrozen=!1}return Object.defineProperty(e.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){return e?yT(this.contents,e):this.contents},e.prototype.override=function(t){var o=this.getContentsForOverrideIdentifer(t);if(!o||"object"!=typeof o||!Object.keys(o).length)return this;for(var r={},i=0,n=Xy(Object.keys(this.contents).concat(Object.keys(o)));i<n.length;i++){var s=n[i],a=this.contents[s],u=o[s];u&&("object"==typeof a&&"object"==typeof u?(a=ne(a),this.mergeContents(a,u)):a=u),r[s]=a}return new e(r)},e.prototype.merge=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var r=ne(this.contents),i=ne(this.overrides),n=this.keys.slice(),s=0,a=t;s<a.length;s++){var u=a[s];this.mergeContents(r,u.contents);for(var p=function(e){var t=i.filter(function(t){return fk(t.identifiers,e.identifiers)})[0];t?f.mergeContents(t.contents,e.contents):i.push(ne(e))},f=this,d=0,c=u.overrides;d<c.length;d++){p(c[d])}for(var l=0,g=u.keys;l<g.length;l++){var $=g[l];-1===n.indexOf($)&&n.push($)}}return new e(r,n,i)},e.prototype.freeze=function(){return this.isFrozen=!0,this},e.prototype.mergeContents=function(e,t){for(var o=0,r=Object.keys(t);o<r.length;o++){var i=r[o];i in e&&fb(e[i])&&fb(t[i])?this.mergeContents(e[i],t[i]):e[i]=ne(t[i])}},e.prototype.checkAndFreeze=function(e){return this.isFrozen&&!Object.isFrozen(e)?eN(e):e},e.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,o=this.overrides;t<o.length;t++){var r=o[t];if(-1!==r.identifiers.indexOf(e))return r.contents}return null},e.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},e.prototype.setValue=function(e,t){this.addKey(e),wq(this.contents,e,t,function(e){throw new Error(e)})},e.prototype.removeValue=function(e){this.removeKey(e)&&xT(this.contents,e)},e.prototype.addKey=function(e){for(var t=this.keys.length,o=0;o<t;o++)0===e.indexOf(this.keys[o])&&(t=o);this.keys.splice(t,1,e)},e.prototype.removeKey=function(e){var t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)},e}();Vh.ConfigurationModel=kg;var XB=function(e){function t(){for(var t=AT(),o=zT(),r=[],i=0,n=Object.keys(t);i<n.length;i++){var s=n[i];tq.test(s)&&r.push({identifiers:[BT(s).trim()],contents:wT(t[s],function(e){return console.error("Conflict in default settings file: "+e)})})}return e.call(this,t,o,r)||this}return DT(t,e),t}(kg);Vh.DefaultConfigurationModel=XB;var YB=function(){function e(e,t,o,r,i,n,s){void 0===o&&(o=new kg),void 0===r&&(r=new Gk),void 0===i&&(i=new kg),void 0===n&&(n=new Gk),void 0===s&&(s=!0),this._defaultConfiguration=e,this._userConfiguration=t,this._workspaceConfiguration=o,this._folderConfigurations=r,this._memoryConfiguration=i,this._memoryConfigurationByResource=n,this._freeze=s,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Gk}return e.prototype.getValue=function(e,t,o){return this.getConsolidateConfigurationModel(t,o).getValue(e)},e.prototype.updateValue=function(e,t,o){var r;void 0===o&&(o={}),o.resource?(r=this._memoryConfigurationByResource.get(o.resource))||(r=new kg,this._memoryConfigurationByResource.set(o.resource,r)):r=this._memoryConfiguration,void 0===t?r.removeValue(e):r.setValue(e,t),o.resource||(this._workspaceConsolidatedConfiguration=null)},e.prototype.inspect=function(e,t,o){var r=this.getConsolidateConfigurationModel(t,o),i=this.getFolderConfigurationModelForResource(t.resource,o),n=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration;return{default:t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),user:t.overrideIdentifier?this._userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._userConfiguration.freeze().getValue(e),workspace:o?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,workspaceFolder:i?t.overrideIdentifier?i.freeze().override(t.overrideIdentifier).getValue(e):i.freeze().getValue(e):void 0,memory:t.overrideIdentifier?n.override(t.overrideIdentifier).getValue(e):n.getValue(e),value:r.getValue(e)}},e.prototype.getConsolidateConfigurationModel=function(e,t){var o=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?o.override(e.overrideIdentifier):o},e.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var o=e.resource,r=this.getWorkspaceConsolidatedConfiguration();if(t&&o){var i=t.getFolder(o);i&&(r=this.getFolderConsolidatedConfiguration(i.uri)||r);var n=this._memoryConfigurationByResource.get(o);n&&(r=r.merge(n))}return r},e.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this._userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},e.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var o=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=o.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=o}return t},e.prototype.getFolderConfigurationModelForResource=function(e,t){if(t&&e){var o=t.getFolder(e);if(o)return this._folderConfigurations.get(o.uri)||null}return null},e}();Vh.Configuration=YB;var xq={};var ET=xq&&xq.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ZB=function(e){function t(t,r,o,n,i){var s=e.call(this)||this;return s._contextKeyService=t,s._commandService=r,s._telemetryService=o,s._statusService=i,s._notificationService=n,s._currentChord=null,s._currentChordChecker=new $f,s._currentChordStatusMessage=null,s._onDidUpdateKeybindings=s._register(new b),s}return ET(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:u.None},enumerable:!0,configurable:!0}),t.prototype.lookupKeybinding=function(e){var t=this._getResolver().lookupPrimaryKeybinding(e);if(t)return t.resolvedKeybinding||void 0},t.prototype.softDispatch=function(e,t){var r=this.resolveKeyboardEvent(e);if(r.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var o=r.getDispatchParts()[0];if(null===o)return null;var n=this._contextKeyService.getContext(t),i=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(n,i,o)},t.prototype._enterChordMode=function(e,t){var r=this;this._currentChord={keypress:e,label:t},this._statusService&&(this._currentChordStatusMessage=this._statusService.setStatusMessage(k.localize("first.chord","({0}) was pressed. Waiting for second key of chord...",t)));var o=Date.now();this._currentChordChecker.cancelAndSet(function(){r._documentHasFocus()?Date.now()-o>5e3&&r._leaveChordMode():r._leaveChordMode()},500)},t.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},t.prototype._dispatch=function(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t)},t.prototype._doDispatch=function(e,t){var r=this,o=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var n=e.getDispatchParts()[0];if(null===n)return o;var i=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null,c=e.getLabel(),a=this._getResolver().resolve(i,s,n);return a&&a.enterChord?(o=!0,this._enterChordMode(n,c),o):(this._statusService&&this._currentChord&&(a&&a.commandId||(this._statusService.setStatusMessage(k.localize("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,c),1e4),o=!0)),this._leaveChordMode(),a&&a.commandId&&(a.bubble||(o=!0),void 0===a.commandArgs?this._commandService.executeCommand(a.commandId).then(void 0,function(e){return r._notificationService.warn(e)}):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,function(e){return r._notificationService.warn(e)}),this._telemetryService.publicLog("workbenchActionExecuted",{id:a.commandId,from:"keybinding"})),o)},t.prototype.mightProducePrintableCharacter=function(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)},t}(B);xq.AbstractKeybindingService=ZB;var Rb={};var FT=Rb&&Rb.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lb=function(){function e(){}return e.has=function(e){return new lg(e)},e.equals=function(e,t){return new yq(e,t)},e.regex=function(e,t){return new zq(e,t)},e.not=function(e){return new Wh(e)},e.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xh(e)},e.deserialize=function(e,t){var r=this;if(void 0===t&&(t=!1),!e)return null;var n=e.split("&&");return new Xh(n.map(function(e){return r._deserializeOne(e,t)})).normalize()},e._deserializeOne=function(e,t){if((e=e.trim()).indexOf("!=")>=0){var r=e.split("!=");return new $B(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("==")>=0){r=e.split("==");return new yq(r[0].trim(),this._deserializeValue(r[1],t))}if(e.indexOf("=~")>=0){r=e.split("=~");return new zq(r[0].trim(),this._deserializeRegexValue(r[1],t))}return /^\!\s*/.test(e)?new Wh(e.substr(1).trim()):new lg(e)},e._deserializeValue=function(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;var r=/^'([^']*)'$/.exec(e);return r?r[1].trim():e},e._deserializeRegexValue=function(e,t){if(xA(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var r=e.indexOf("/"),n=e.lastIndexOf("/");if(r===n||r<0){if(t)throw new Error("bad regexp-value '"+e+"', missing /-enclosure");return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null}var o=e.slice(r+1,n),i="i"===e[n+1]?"i":"";try{return new RegExp(o,i)}catch(p){if(t)throw new Error("bad regexp-value '"+e+"', parse error: "+p);return console.warn("bad regexp-value '"+e+"', parse error: "+p),null}},e}();function GT(e,t){var r=e.getType(),n=t.getType();if(r!==n)return r-n;switch(r){case 1:case 2:case 3:case 4:case 6:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!");}}Rb.ContextKeyExpr=lb;var lg=function(){function e(e){this.key=e}return e.prototype.getType=function(){return 1},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}();Rb.ContextKeyDefinedExpr=lg;var yq=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return 3},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key&&this.value===t.value},e.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new lg(this.key):new Wh(this.key):this},e.prototype.keys=function(){return[this.key]},e}();Rb.ContextKeyEqualsExpr=yq;var $B=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return 4},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key&&this.value===t.value},e.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new Wh(this.key):new lg(this.key):this},e.prototype.keys=function(){return[this.key]},e}();Rb.ContextKeyNotEqualsExpr=$B;var Wh=function(){function e(e){this.key=e}return e.prototype.getType=function(){return 2},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e.getValue(this.key)},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}();Rb.ContextKeyNotExpr=Wh;var zq=function(){function e(e,t){this.key=e,this.regexp=t}return e.prototype.getType=function(){return 6},e.prototype.cmp=function(e){if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0},e.prototype.equals=function(t){if(t instanceof e){var r=this.regexp?this.regexp.source:"",n=t.regexp?t.regexp.source:"";return this.key===t.key&&r===n}return!1},e.prototype.evaluate=function(e){var t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)},e.prototype.normalize=function(){return this},e.prototype.keys=function(){return[this.key]},e}();Rb.ContextKeyRegexExpr=zq;var Xh=function(){function e(t){this.expr=e._normalizeArr(t)}return e.prototype.getType=function(){return 5},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var r=0,n=this.expr.length;r<n;r++)if(!this.expr[r].equals(t.expr[r]))return!1;return!0}return!1},e.prototype.evaluate=function(e){for(var t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var r=[];if(t){for(var n=0,o=t.length;n<o;n++){var i=t[n];i&&(i=i.normalize())&&(i instanceof e?r=r.concat(i.expr):r.push(i))}r.sort(GT)}return r},e.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},e.prototype.keys=function(){for(var e=[],t=0,r=this.expr;t<r.length;t++){var n=r[t];e.push.apply(e,n.keys())}return e},e}();Rb.ContextKeyAndExpr=Xh;var i=function(e){function t(t,r){var n=e.call(this,t)||this;return n._defaultValue=r,n}return FT(t,e),t.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)},t.prototype.getValue=function(e){return e.getContextKeyValue(this.key)},t.prototype.toNegated=function(){return lb.not(this.key)},t}(lg);Rb.RawContextKey=i;var za=L("contextKeyService");Rb.IContextKeyService=za;var _B="setContext";Rb.SET_CONTEXT_COMMAND_ID=_B;var aC=function(){function e(n,r){this._defaultKeybindings=n,this._defaultBoundCommands=new Map;for(var t=0,o=n.length;t<o;t++){var s=n[t].command;s&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=e.combine(n,r);for(t=0,o=this._keybindings.length;t<o;t++){var a=this._keybindings[t];0!==a.keypressParts.length&&this._addKeyPress(a.keypressParts[0],a)}}return e._isTargetedForRemoval=function(e,n,r,t,o){if(e.command!==t)return!1;if(n&&e.keypressParts[0]!==n)return!1;if(r&&e.keypressParts[1]!==r)return!1;if(o){if(!e.when)return!1;if(!o.equals(e.when))return!1}return!0},e.combine=function(e,n){e=e.slice(0);for(var r=[],t=0,o=n;t<o.length;t++){var s=o[t];if(s.command&&0!==s.command.length&&"-"===s.command.charAt(0))for(var a=s.command.substr(1),i=s.keypressParts[0],u=s.keypressParts[1],l=s.when,p=e.length-1;p>=0;p--)this._isTargetedForRemoval(e[p],i,u,a,l)&&e.splice(p,1);else r.push(s)}return e.concat(r)},e.prototype._addKeyPress=function(n,r){var t=this._map.get(n);if(void 0===t)return this._map.set(n,[r]),void this._addToLookupMap(r);for(var o=t.length-1;o>=0;o--){var s=t[o];if(s.command!==r.command){var a=s.keypressParts.length>1,i=r.keypressParts.length>1;a&&i&&s.keypressParts[1]!==r.keypressParts[1]||e.whenIsEntirelyIncluded(s.when,r.when)&&this._removeFromLookupMap(s)}}t.push(r),this._addToLookupMap(r)},e.prototype._addToLookupMap=function(e){if(e.command){var n=this._lookupMap.get(e.command);void 0===n?(n=[e],this._lookupMap.set(e.command,n)):n.push(e)}},e.prototype._removeFromLookupMap=function(e){if(e.command){var n=this._lookupMap.get(e.command);if(void 0!==n)for(var r=0,t=n.length;r<t;r++)if(n[r]===e)return void n.splice(r,1)}},e.whenIsEntirelyIncluded=function(e,n){if(!n)return!0;if(!e)return!1;for(var r=e instanceof Xh?e.expr:[e],t=0,o=0,s=n instanceof Xh?n.expr:[n];o<s.length;o++){for(var a=s[o],i=!1;!i&&t<r.length;){r[t].equals(a)&&(i=!0),t++}if(!i)return!1}return!0},e.prototype.lookupPrimaryKeybinding=function(e){var n=this._lookupMap.get(e);return void 0===n||0===n.length?null:n[n.length-1]},e.prototype.resolve=function(e,n,r){var t=null;if(null!==n){if(void 0===(i=this._map.get(n)))return null;t=[];for(var o=0,s=i.length;o<s;o++){var a=i[o];a.keypressParts[1]===r&&t.push(a)}}else{var i;if(void 0===(i=this._map.get(r)))return null;t=i}var u=this._findCommand(e,t);return u?null===n&&u.keypressParts.length>1&&null!==u.keypressParts[1]?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:u.command,commandArgs:u.commandArgs,bubble:u.bubble}:null},e.prototype._findCommand=function(n,r){for(var t=r.length-1;t>=0;t--){var o=r[t];if(e.contextMatchesRules(n,o.when))return o}return null},e.contextMatchesRules=function(e,n){return!n||n.evaluate(e)},e}();var HT=function(){function e(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return e.bindToCurrentPlatform=function(e){if(1===Ad){if(e&&e.win)return e.win}else if(2===Ad){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerKeybindingRule=function(i){var r=e.bindToCurrentPlatform(i);r&&r.primary&&(o=pp(r.primary,Ad))&&this._registerDefaultKeybinding(o,i.id,void 0,i.weight,0,i.when);if(r&&Array.isArray(r.secondary))for(var n=0,t=r.secondary.length;n<t;n++){var o,s=r.secondary[n];(o=pp(s,Ad))&&this._registerDefaultKeybinding(o,i.id,void 0,i.weight,-n-1,i.when)}},e.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),Fd.registerCommand(e)},e._mightProduceChar=function(e){return e>=21&&e<=30||e>=31&&e<=56||80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e},e.prototype._assertNoCtrlAlt=function(i,r){i.ctrlKey&&i.altKey&&!i.metaKey&&e._mightProduceChar(i.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",i," for ",r)},e.prototype._registerDefaultKeybinding=function(e,i,r,n,t,o){1===Ad&&this._assertNoCtrlAlt(e.parts[0],i),this._coreKeybindings.push({keybinding:e,command:i,commandArgs:r,when:o,weight1:n,weight2:t}),this._cachedMergedKeybindings=null},e.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(JT)),this._cachedMergedKeybindings.slice(0)},e}(),Aq=new HT;var IT={EditorModes:"platform.keybindingsRegistry"};function JT(e,i){return e.weight1!==i.weight1?e.weight1-i.weight1:e.command<i.command?-1:e.command>i.command?1:e.weight2-i.weight2}Ab.add(IT.EditorModes,Aq);var bC=function(){return function(e,t,r,s,n){this.resolvedKeybinding=e,this.keypressParts=e?KT(e.getDispatchParts()):[],this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=r,this.when=s,this.isDefault=n}}();function KT(e){for(var t=[],r=0,s=e.length;r<s;r++){var n=e[r];if(!n)return t;t.push(n)}return t}var Bq={};var Cq={};var cC=function(){function e(e,o,t){void 0===t&&(t=o),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=o,this.modifierLabels[3]=t}return e.prototype.toLabel=function(e,o,t){if(0===o.length)return null;for(var r=[],i=0,l=o.length;i<l;i++){var n=o[i],h=t(n);if(null===h)return null;r[i]=NT(n,h,this.modifierLabels[e])}return r.join(" ")},e}();var LT=new cC({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:k.localize({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:k.localize({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:k.localize({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:k.localize({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:k.localize({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:k.localize({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:k.localize({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:k.localize({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"});var MT=new cC({ctrlKey:k.localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:k.localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:k.localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:k.localize({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:k.localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:k.localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:k.localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:k.localize({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:k.localize({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:k.localize({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:k.localize({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:k.localize({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function NT(e,o,t){if(null===o)return"";var r=[];return e.ctrlKey&&r.push(t.ctrlKey),e.shiftKey&&r.push(t.shiftKey),e.altKey&&r.push(t.altKey),e.metaKey&&r.push(t.metaKey),r.push(o),r.join(t.separator)}var OT=Cq&&Cq.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dC=function(t){function e(e,r){var o=t.call(this)||this;if(0===r.length)throw ik("parts");return o._os=e,o._parts=r,o}return OT(e,t),e.prototype.getLabel=function(){var t=this;return LT.toLabel(this._os,this._parts,function(e){return t._getLabel(e)})},e.prototype.getAriaLabel=function(){var t=this;return MT.toLabel(this._os,this._parts,function(e){return t._getAriaLabel(e)})},e.prototype.isChord=function(){return this._parts.length>1},e.prototype.getParts=function(){var t=this;return this._parts.map(function(e){return t._getPart(e)})},e.prototype._getPart=function(t){return new VN(t.ctrlKey,t.shiftKey,t.altKey,t.metaKey,this._getLabel(t),this._getAriaLabel(t))},e.prototype.getDispatchParts=function(){var t=this;return this._parts.map(function(e){return t._getDispatchPart(e)})},e}(WN);Cq.BaseResolvedKeybinding=dC;var PT=Bq&&Bq.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Dq=function(e){function t(t,r){return e.call(this,r,t.parts)||this}return PT(t,e),t.prototype._keyCodeToUILabel=function(e){if(2===this._os)switch(e){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193";}return Hh.toString(e)},t.prototype._getLabel=function(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)},t.prototype._getAriaLabel=function(e){return e.isDuplicateModifierCase()?"":Hh.toString(e.keyCode)},t.prototype._getDispatchPart=function(e){return t.getDispatchStr(e)},t.getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Hh.toString(e.keyCode)},t}(dC);Bq.USLayoutResolvedKeybinding=Dq;var zc=L("notificationService");var QT=function(){return function(){}}();var RT,ST;var TT,UT,VT=L("contextService");(function(e){(TT||(RT=TT={},RT)).isIWorkspace=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&Array.isArray(e.folders)}})(),function(e){(UT||(ST=UT={},ST)).isIWorkspaceFolder=function(e){return e&&"object"==typeof e&&hb.isUri(e.uri)&&"string"==typeof e.name&&"function"==typeof e.toResource}}();var nia=function(){function e(e,r,o){void 0===r&&(r=[]),void 0===o&&(o=null),this._id=e,this._configuration=o,this._foldersMap=Fk.forPaths(),this.folders=r}return Object.defineProperty(e.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:!0,configurable:!0}),e.prototype.getFolder=function(e){return e&&this._foldersMap.findSubstr(e.toString())||null},e.prototype.updateFoldersMap=function(){this._foldersMap=Fk.forPaths();for(var e=0,r=this.folders;e<r.length;e++){var o=r[e];this._foldersMap.set(o.uri.toString(),o)}},e.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}},e}();var WT=function(){function e(e,r){this.raw=r,this.uri=e.uri,this.index=e.index,this.name=e.name}return e.prototype.toResource=function(e){return kQ(this.uri,e)},e.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},e}();var XT=r&&r.__extends||function(){var e=function(i,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(i,r)};return function(i,r){function o(){this.constructor=i}e(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),YT=r&&r.__decorate||function(e,i,r,o){var t,n=arguments.length,d=n<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,i,r,o);else for(var a=e.length-1;a>=0;a--)(t=e[a])&&(d=(n<3?t(d):n>3?t(i,r,d):t(i,r))||d);return n>3&&d&&Object.defineProperty(i,r,d),d},ZT=r&&r.__param||function(e,i){return function(r,o){i(r,o,e)}},eC=function(){function e(e){this.model=e,this._onDispose=new b}return Object.defineProperty(e.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._onDispose.fire()},e}();function $T(e,i,r){return iT(e)?i(e):r(e)}r.SimpleModel=eC;var fC=function(){function e(){}return e.prototype.setEditor=function(e){this.editor=e},e.prototype.createModelReference=function(e){var i=this,r=$T(this.editor,function(r){return i.findModel(r,e)},function(r){return i.findModel(r.getOriginalEditor(),e)||i.findModel(r.getModifiedEditor(),e)});return r?Promise.resolve(new MN(new eC(r))):Promise.reject(new Error("Model not found"))},e.prototype.findModel=function(e,i){var r=e.getModel();return r&&r.uri.toString()!==i.toString()?null:r},e}();r.SimpleEditorModelResolverService=fC;var gC=function(){function e(){}return e.prototype.showWhile=function(e,i){return Promise.resolve(void 0)},e}();r.SimpleProgressService=gC;var hC=function(){return function(){}}();r.SimpleDialogService=hC;var iC=function(){function e(){}return e.prototype.info=function(e){return this.notify({severity:Yc.Info,message:e})},e.prototype.warn=function(e){return this.notify({severity:Yc.Warning,message:e})},e.prototype.error=function(e){return this.notify({severity:Yc.Error,message:e})},e.prototype.notify=function(i){switch(i.severity){case Yc.Error:console.error(i.message);break;case Yc.Warning:console.warn(i.message);break;default:console.log(i.message);}return e.NO_OP},e.NO_OP=new QT,e}();r.SimpleNotificationService=iC;var jC=function(){function e(){this._accessibilitySupport=0,this._onDidChangeAccessibilitySupport=new b,this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}return e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},e}();r.BrowserAccessibilityService=jC;var Eq=function(){function e(e){this._onWillExecuteCommand=new b,this._instantiationService=e,this._dynamicCommands=Object.create(null)}return e.prototype.addCommand=function(e){var i=this,r=e.id;return this._dynamicCommands[r]=e,ka(function(){delete i._dynamicCommands[r]})},e.prototype.executeCommand=function(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=Fd.getCommand(e)||this._dynamicCommands[e];if(!o)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e});var t=this._instantiationService.invokeFunction.apply(this._instantiationService,[o.handler].concat(i));return Promise.resolve(t)}catch(n){return Promise.reject(n)}},e}();r.StandaloneCommandService=Eq;var Fq=function(e){function i(i,r,o,t,n){var d=e.call(this,i,r,o,t)||this;return d._cachedResolver=null,d._dynamicKeybindings=[],d._register(q.addDisposableListener(n,q.EventType.KEY_DOWN,function(e){var i=new Fa(e);d._dispatch(i,i.target)&&i.preventDefault()})),d}return XT(i,e),i.prototype.addDynamicKeybinding=function(e,i,r,o){var t=this,n=pp(i,Ad);if(!n)throw new Error("Invalid keybinding");var d=[];this._dynamicKeybindings.push({keybinding:n,command:e,when:o,weight1:1e3,weight2:0}),d.push(ka(function(){for(var i=0;i<t._dynamicKeybindings.length;i++){if(t._dynamicKeybindings[i].command===e)return t._dynamicKeybindings.splice(i,1),void t.updateResolver({source:1})}}));var a=this._commandService;if(!(a instanceof Eq))throw new Error("Unknown command service!");return d.push(a.addCommand({id:e,handler:r})),this.updateResolver({source:1}),re(d)},i.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},i.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._toNormalizedKeybindingItems(Aq.getDefaultKeybindings(),!0),i=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new aC(e,i)}return this._cachedResolver},i.prototype._documentHasFocus=function(){return document.hasFocus()},i.prototype._toNormalizedKeybindingItems=function(e,i){for(var r=[],o=0,t=0,n=e;t<n.length;t++){var d=n[t],a=d.when?d.when.normalize():null,$=d.keybinding;if($)for(var c=0,s=this.resolveKeybinding($);c<s.length;c++){var p=s[c];r[o++]=new bC(p,d.command,d.commandArgs,a,i)}else r[o++]=new bC(null,d.command,d.commandArgs,a,i)}return r},i.prototype.resolveKeybinding=function(e){return[new Dq(e,Ad)]},i.prototype.resolveKeyboardEvent=function(e){var i=new rp(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new Dq(i,Ad)},i}(ZB);function kC(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof hb)}r.StandaloneKeybindingService=Fq;var Gq=function(){function e(){this._onDidChangeConfiguration=new b,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new YB(new XB(),new kg())}return e.prototype.configuration=function(){return this._configuration},e.prototype.getValue=function(e,i){var r="string"==typeof e?e:void 0,o=kC(e)?e:kC(i)?i:{};return this.configuration().getValue(r,o,void 0)},e.prototype.updateValue=function(e,i,r,o){return this.configuration().updateValue(e,i),Promise.resolve()},e.prototype.inspect=function(e,i){return void 0===i&&(i={}),this.configuration().inspect(e,i,void 0)},e}();r.SimpleConfigurationService=Gq;var lC=function(){function e(e){var i=this;this.configurationService=e,this._onDidChangeConfigurationEmitter=new b,this.configurationService.onDidChangeConfiguration(function(e){i._onDidChangeConfigurationEmitter.fire(e)})}return e.prototype.getValue=function(e,i,r){var o=(x.isIPosition(i)?i:null)?"string"==typeof r?r:void 0:"string"==typeof i?i:void 0;return void 0===o?this.configurationService.getValue():this.configurationService.getValue(o)},e}();r.SimpleResourceConfigurationService=lC;var mC=function(){function e(e){this.configurationService=e}return e.prototype.getEOL=function(e){var i=this.configurationService.getValue("files");return i&&i.eol&&"auto"!==i.eol?i.eol:zd||Z?"\n":"\r\n"},e=YT([ZT(0,hc)],e)}();r.SimpleResourcePropertiesService=mC;var nC=function(){function e(){}return e.prototype.publicLog=function(e,i){return Promise.resolve(void 0)},e}();r.StandaloneTelemetryService=nC;var oC=function(){function e(){var i=hb.from({scheme:e.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new WT({uri:i,name:"",index:0})]}}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getWorkspaceFolder=function(i){return i&&i.scheme===e.SCHEME?this.workspace.folders[0]:null},e.SCHEME="inmemory",e}();function Yh(e,i,r){i&&e instanceof Gq&&Object.keys(i).forEach(function(o){UB(o)&&e.updateValue("editor."+o,i[o]),r&&VB(o)&&e.updateValue("diffEditor."+o,i[o])})}r.SimpleWorkspaceContextService=oC,r.applyConfigurationValues=Yh;var pC=function(){function e(e){this._modelService=e}return e.prototype.apply=function(e,i){var r=new Map;if(e.edits)for(var o=0,t=e.edits;o<t.length;o++){var n=t[o];if(!JR(n))return Promise.reject(new Error("bad edit - only text edits are supported"));var d=this._modelService.getModel(n.resource);if(!d)return Promise.reject(new Error("bad edit - model not found"));var a=r.get(d);a||(a=[]),r.set(d,a.concat(n.edits))}var $=0,c=0;return r.forEach(function(e,i){i.applyEdits(e.map(function(e){return vT.replaceMove(j.lift(e.range),e.text)})),c+=1,$+=e.length}),Promise.resolve({selection:void 0,ariaSummary:_("summary","Made {0} edits in {1} files",$,c)})},e}();r.SimpleBulkEditService=pC;var qC=function(){function e(){}return e.prototype.getUriLabel=function(e,i){return"file"===e.scheme?e.fsPath:e.path},e}();r.SimpleUriLabelService=qC;var Zc={};var Hq,Iq,Jq;function _T(e){(Hq=document.createElement("div")).className="monaco-aria-container",(Iq=document.createElement("div")).className="monaco-alert",Iq.setAttribute("role","alert"),Iq.setAttribute("aria-atomic","true"),Hq.appendChild(Iq),(Jq=document.createElement("div")).className="monaco-status",Jq.setAttribute("role","status"),Jq.setAttribute("aria-atomic","true"),Hq.appendChild(Jq),e.appendChild(Hq)}var $c={};var al={};var aU=function(){function t(t,e){this.chr=t,this.type=e,this.width=0}return t.prototype.fulfill=function(t){this.width=t},t}();var bU=function(){function t(t,e){this._bareFontInfo=t,this._requests=e,this._container=null,this._testElements=null}return t.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},t.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(n);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);var o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",e.appendChild(o);for(var s=[],r=0,a=this._requests.length;r<a;r++){var l=this._requests[r],h=void 0;0===l.type&&(h=n),2===l.type&&(h=i),1===l.type&&(h=o),h.appendChild(document.createElement("br"));var d=document.createElement("span");t._render(d,l),h.appendChild(d),s[r]=d}this._container=e,this._testElements=s},t._render=function(t,e){if(" "===e.chr){for(var n="&nbsp;",i=0;i<8;i++)n+=n;t.innerHTML=n}else{var o=e.chr;for(i=0;i<8;i++)o+=o;t.textContent=o}},t.prototype._readFromDomElements=function(){for(var t=0,e=this._requests.length;t<e;t++){var n=this._requests[t],i=this._testElements[t];n.fulfill(i.offsetWidth/256)}},t}();function cU(t,e){new bU(t,e).read()}var Kq={};var dU=Kq&&Kq.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rC=function(e){function t(t,r){var n=e.call(this)||this;return n.referenceDomElement=t,n.changeCallback=r,n.measureReferenceDomElementToken=-1,n.width=-1,n.height=-1,n.measureReferenceDomElement(!1),n}return dU(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(!0)},100))},t.prototype.stopObserving=function(){-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype.measureReferenceDomElement=function(e,t){var r=0,n=0;t?(r=t.width,n=t.height):this.referenceDomElement&&(r=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),r=Math.max(5,r),n=Math.max(5,n),this.width===r&&this.height===n||(this.width=r,this.height=n,e&&this.changeCallback())},t}(B);Kq.ElementSizeObserver=rC;var sC=al&&al.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),tC=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){var t=e.getId();return!!this._values[t]},e.prototype.get=function(e){var t=e.getId();return this._values[t]},e.prototype.put=function(e,t){var i=e.getId();this._keys[i]=e,this._values[i]=t},e.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},e.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._values[t]})},e}();function uC(){Lq.INSTANCE.clearCache()}al.clearAllFontInfos=uC;var Lq=function(e){function t(){var t=e.call(this)||this;return t._onDidChange=t._register(new b),t.onDidChange=t._onDidChange.event,t._cache=new tC,t._evictUntrustedReadingsTimeout=-1,t}return sC(t,e),t.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},t.prototype.clearCache=function(){this._cache=new tC,this._onDidChange.fire()},t.prototype._writeToCache=function(e,t){var i=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(function(){i._evictUntrustedReadingsTimeout=-1,i._evictUntrustedReadings()},5e3))},t.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,i=0,r=e.length;i<r;i++){var s=e[i];s.isTrusted||(t=!0,this._cache.remove(s))}t&&this._onDidChange.fire()},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var i=t._actualReadConfiguration(e);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i=new zk({zoomLevel:nk(),fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:i.isMonospace,typicalHalfwidthCharacterWidth:Math.max(i.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(i.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:i.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(i.spaceWidth,5),maxDigitWidth:Math.max(i.maxDigitWidth,5)},!1)),this._writeToCache(e,i)}return this._cache.get(e)},t.createRequest=function(e,t,i,r){var s=new aU(e,t);return i.push(s),r&&r.push(s),s},t._actualReadConfiguration=function(e){var t=[],i=[],r=this.createRequest("n",0,t,i),s=this.createRequest("\uFF4D",0,t,null),o=this.createRequest(" ",0,t,i),n=this.createRequest("0",0,t,i),a=this.createRequest("1",0,t,i),c=this.createRequest("2",0,t,i),h=this.createRequest("3",0,t,i),u=this.createRequest("4",0,t,i),l=this.createRequest("5",0,t,i),p=this.createRequest("6",0,t,i),d=this.createRequest("7",0,t,i),$=this.createRequest("8",0,t,i),f=this.createRequest("9",0,t,i),g=this.createRequest("\u2192",0,t,i),m=this.createRequest("\uFFEB",0,t,null);this.createRequest("\xB7",0,t,i),this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),cU(e,t);for(var v=Math.max(n.width,a.width,c.width,h.width,u.width,l.width,p.width,d.width,$.width,f.width),_=!0,C=i[0].width,y=1,w=i.length;y<w;y++){var R=C-i[y].width;if(R<-.001||R>.001){_=!1;break}}var S=!0;_&&m.width!==C&&(S=!1),m.width>g.width&&(S=!1);var B=eP()>2e3;return new zk({zoomLevel:nk(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:_,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:s.width,canUseHalfwidthRightwardsArrow:S,spaceWidth:o.width,maxDigitWidth:v},B)},t.INSTANCE=new t,t}(B),mb=function(e){function t(t,i,r){void 0===i&&(i=null);var s=e.call(this,t)||this;return s.accessibilityService=r,s._elementSizeObserver=s._register(new rC(i,function(){return s._onReferenceDomElementSizeChanged()})),s._register(Lq.INSTANCE.onDidChange(function(){return s._onCSSBasedConfigurationChanged()})),s._validatedOptions.automaticLayout&&s._elementSizeObserver.startObserving(),s._register(fP(function(e){return s._recomputeOptions()})),s._register(s.accessibilityService.onDidChangeAccessibilitySupport(function(){return s._recomputeOptions()})),s._recomputeOptions(),s}return sC(t,e),t.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"},t.applyFontInfo=function(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getExtraEditorClassName=function(){var e="";return pk||hP||(e+="no-user-select "),Z&&(e+="mac "),e},t.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:ve||Wc,pixelRatio:gP(),zoomLevel:nk(),accessibilitySupport:this.accessibilityService.getAccessibilitySupport()}},t.prototype.readConfiguration=function(e){return Lq.INSTANCE.readConfiguration(e)},t}(RB);al.Configuration=mb;var eU,Ya={};var Sb={};var bl={};var fU=bl&&bl.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),De=function(){function e(e,t,n,o,i){void 0===t&&(t=""),void 0===n&&(n=""),void 0===o&&(o=!0),this._onDidChange=new b,this.onDidChange=this._onDidChange.event,this._id=e,this._label=t,this._cssClass=n,this._enabled=o,this._actionCallback=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),e.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))},Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),e.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))},Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),e.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),e.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(e){this._setRadio(e)},enumerable:!0,configurable:!0}),e.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))},e.prototype._setRadio=function(e){this._radio!==e&&(this._radio=e,this._onDidChange.fire({radio:e}))},e.prototype.run=function(e,t){return this._actionCallback?this._actionCallback(e):Promise.resolve(!0)},e.prototype.dispose=function(){this._onDidChange.dispose()},e}();bl.Action=De;var Mq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidBeforeRun=t._register(new b),t.onDidBeforeRun=t._onDidBeforeRun.event,t._onDidRun=t._register(new b),t.onDidRun=t._onDidRun.event,t}return fU(t,e),t.prototype.run=function(e,t){var n=this;return e.enabled?(this._onDidBeforeRun.fire({action:e}),this.runAction(e,t).then(function(t){n._onDidRun.fire({action:e,result:t})},function(t){n._onDidRun.fire({action:e,error:t})})):Promise.resolve(null)},t.prototype.runAction=function(e,t){var n=t?e.run(t):e.run();return Promise.resolve(n)},t}(B);bl.ActionRunner=Mq;var Nq=Sb&&Sb.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vC=Sb&&Sb.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},Oq=Sb&&Sb.__param||function(t,e){return function(n,i){e(n,i,t)}};function Zh(t){return void 0!==t.command}Sb.isIMenuItem=Zh;var wC=L("menuService");Sb.IMenuService=wC;var mg=new(function(){function t(){this._commands=Object.create(null),this._menuItems=Object.create(null),this._onDidChangeMenu=new b,this.onDidChangeMenu=this._onDidChangeMenu.event}return t.prototype.addCommand=function(t){var e=this;return this._commands[t.id]=t,this._onDidChangeMenu.fire(0),{dispose:function(){delete e._commands[t.id]&&e._onDidChangeMenu.fire(0)}}},t.prototype.getCommand=function(t){return this._commands[t]},t.prototype.getCommands=function(){var t=Object.create(null);for(var e in this._commands)t[e]=this.getCommand(e);return t},t.prototype.appendMenuItem=function(t,e){var n=this,i=this._menuItems[t];return i?i.push(e):this._menuItems[t]=i=[e],this._onDidChangeMenu.fire(t),{dispose:function(){var o=i.indexOf(e);o>=0&&(i.splice(o,1),n._onDidChangeMenu.fire(t))}}},t.prototype.getMenuItems=function(t){var e=(this._menuItems[t]||[]).slice(0);return 0===t&&this._appendImplicitItems(e),e},t.prototype._appendImplicitItems=function(t){for(var e=new Set,n=0,i=t.filter(function(t){return Zh(t)});n<i.length;n++){var o=i[n],r=o.command,s=o.alt;e.add(r.id),s&&e.add(s.id)}for(var a in this._commands)e.has(a)||t.push({command:this._commands[a]})},t}());Sb.MenuRegistry=mg;var xC=function(t){function e(e,n,i){var o=t.call(this,e,n)||this;return o._commandService=i,o}return Nq(e,t),e.prototype.run=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._commandService).executeCommand.apply(t,[this.id].concat(e))},e=vC([Oq(2,Qb)],e)}(De);Sb.ExecuteCommandAction=xC;var yC=function(t){function e(e){var n=this;return(n="string"==typeof e.title?t.call(this,"",e.title,"submenu")||this:t.call(this,"",e.title.value,"submenu")||this).item=e,n}return Nq(e,t),e}(De);Sb.SubmenuItemAction=yC;var zC=function(t){function e(n,i,o,r,s){var a=this;return(a="string"==typeof n.title?t.call(this,n.id,n.title,s)||this:t.call(this,n.id,n.title.value,s)||this)._cssClass=void 0,a._enabled=!n.precondition||r.contextMatchesRules(n.precondition),a._checked=Boolean(n.toggled&&r.contextMatchesRules(n.toggled)),a._options=o||{},a.item=n,a.alt=i?new e(i,void 0,a._options,r,s):void 0,a}return Nq(e,t),e.prototype.run=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=[];return this._options.arg&&(i=i.concat([this._options.arg])),this._options.shouldForwardArgs&&(i=i.concat(e)),t.prototype.run.apply(this,i)},e=vC([Oq(3,za),Oq(4,Qb)],e)}(xC);Sb.MenuItemAction=zC;var $h=L("telemetryService");var Pq=Ya&&Ya.__extends||function(){var t=function(r,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])})(r,n)};return function(r,n){function i(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gU=Ya&&Ya.__assign||function(){return(gU=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var e in r=arguments[n])Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t}).apply(this,arguments)},cl=function(){function t(t){this.id=t.id,this.precondition=t.precondition,this._kbOpts=t.kbOpts,this._menubarOpts=t.menubarOpts,this._description=t.description}return t.prototype.register=function(){var t=this;if(this._menubarOpts&&mg.appendMenuItem(this._menubarOpts.menuId,{group:this._menubarOpts.group,command:{id:this.id,title:this._menubarOpts.title},when:this._menubarOpts.when,order:this._menubarOpts.order}),this._kbOpts){var r=this._kbOpts.kbExpr;this.precondition&&(r=r?lb.and(r,this.precondition):this.precondition),Aq.registerCommandAndKeybindingRule({id:this.id,handler:function(r,n){return t.runCommand(r,n)},weight:this._kbOpts.weight,when:r||null,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Fd.registerCommand({id:this.id,handler:function(r,n){return t.runCommand(r,n)},description:this._description})},t}();Ya.Command=cl;var dl=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Pq(r,t),r.bindToContribution=function(t){return function(r){function n(t){var n=r.call(this,t)||this;return n._callback=t.handler,n}return Pq(n,r),n.prototype.runEditorCommand=function(r,n,i){t(n)&&this._callback(t(n),i)},n}(r)},r.prototype.runCommand=function(t,r){var n=this,i=t.get(Sa),e=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(e)return e.invokeWithinContext(function(t){if(t.get(za).contextMatchesRules(n.precondition))return n.runEditorCommand(t,e,r)})},r}(cl);Ya.EditorCommand=dl;var ng,Qq=function(t){function r(r){var n=t.call(this,r)||this;return n.label=r.label,n.alias=r.alias,n.menuOpts=r.menuOpts,n}return Pq(r,t),r.prototype.register=function(){this.menuOpts&&mg.appendMenuItem(7,{command:{id:this.id,title:this.label},when:lb.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}),t.prototype.register.call(this)},r.prototype.runEditorCommand=function(t,r,n){return this.reportTelemetry(t,r),this.run(t,r,n||{})},r.prototype.reportTelemetry=function(t,r){t.get($h).publicLog("editorActionInvoked",gU({name:this.label,id:this.id},r.getTelemetryData()))},r}(dl);function AC(t,r){Fd.registerCommand(t,function(t,n){return r(t,n||{})})}function hU(t,r){AC(t,function(t,n){var i=n.resource,e=n.position;if(!(i instanceof hb))throw ik("resource");if(!x.isIPosition(e))throw ik("position");var o=t.get(Oh).getModel(i);if(o){var s=x.lift(e);return r(o,s,n)}return t.get(_p).createModelReference(i).then(function(t){return new Promise(function(i,o){try{i(r(t.object.textEditorModel,x.lift(e),n))}catch(s){o(s)}}).finally(function(){t.dispose()})})})}function g(t){return Jd.INSTANCE.registerEditorCommand(t),t}function Rq(t){Jd.INSTANCE.registerEditorAction(new t)}function iU(t){Jd.INSTANCE.registerEditorAction(t)}function jU(t){Jd.INSTANCE.registerEditorContribution(t)}Ya.EditorAction=Qq,Ya.registerLanguageCommand=AC,Ya.registerDefaultLanguageCommand=hU,Ya.registerEditorCommand=g,Ya.registerEditorAction=Rq,Ya.registerInstantiatedEditorAction=iU,Ya.registerEditorContribution=jU,Ya.EditorExtensionsRegistry=ng,function(t){t.getEditorCommand=function(t){return Jd.INSTANCE.getEditorCommand(t)},t.getEditorActions=function(){return Jd.INSTANCE.getEditorActions()},t.getEditorContributions=function(){return Jd.INSTANCE.getEditorContributions()}}(ng||(eU=ng={},Ya.EditorExtensionsRegistry=ng,eU));var kU={EditorCommonContributions:"editor.contributions"},Jd=function(){function t(){this.editorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return t.prototype.registerEditorContribution=function(t){this.editorContributions.push(t)},t.prototype.registerEditorAction=function(t){t.register(),this.editorActions.push(t)},t.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},t.prototype.getEditorActions=function(){return this.editorActions.slice(0)},t.prototype.registerEditorCommand=function(t){t.register(),this.editorCommands[t.id]=t},t.prototype.getEditorCommand=function(t){return this.editorCommands[t]||null},t.INSTANCE=new t,t}();Ab.add(kU.EditorCommonContributions,Jd.INSTANCE);var Sq={};var BC=function(){function t(t){this.domNode=t,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._layerHint=!1}return t.prototype.setMaxWidth=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.domNode.style.maxWidth=this._maxWidth+"px")},t.prototype.setWidth=function(t){this._width!==t&&(this._width=t,this.domNode.style.width=this._width+"px")},t.prototype.setHeight=function(t){this._height!==t&&(this._height=t,this.domNode.style.height=this._height+"px")},t.prototype.setTop=function(t){this._top!==t&&(this._top=t,this.domNode.style.top=this._top+"px")},t.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},t.prototype.setLeft=function(t){this._left!==t&&(this._left=t,this.domNode.style.left=this._left+"px")},t.prototype.setBottom=function(t){this._bottom!==t&&(this._bottom=t,this.domNode.style.bottom=this._bottom+"px")},t.prototype.setRight=function(t){this._right!==t&&(this._right=t,this.domNode.style.right=this._right+"px")},t.prototype.setFontFamily=function(t){this._fontFamily!==t&&(this._fontFamily=t,this.domNode.style.fontFamily=this._fontFamily)},t.prototype.setFontWeight=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.domNode.style.fontWeight=this._fontWeight)},t.prototype.setFontSize=function(t){this._fontSize!==t&&(this._fontSize=t,this.domNode.style.fontSize=this._fontSize+"px")},t.prototype.setLineHeight=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.domNode.style.lineHeight=this._lineHeight+"px")},t.prototype.setLetterSpacing=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.domNode.style.letterSpacing=this._letterSpacing+"px")},t.prototype.setClassName=function(t){this._className!==t&&(this._className=t,this.domNode.className=this._className)},t.prototype.toggleClassName=function(t,i){q.toggleClass(this.domNode,t,i),this._className=this.domNode.className},t.prototype.setDisplay=function(t){this._display!==t&&(this._display=t,this.domNode.style.display=this._display)},t.prototype.setPosition=function(t){this._position!==t&&(this._position=t,this.domNode.style.position=this._position)},t.prototype.setVisibility=function(t){this._visibility!==t&&(this._visibility=t,this.domNode.style.visibility=this._visibility)},t.prototype.setLayerHinting=function(t){this._layerHint!==t&&(this._layerHint=t,this.domNode.style.willChange=this._layerHint?"transform":"auto")},t.prototype.setAttribute=function(t,i){this.domNode.setAttribute(t,i)},t.prototype.removeAttribute=function(t){this.domNode.removeAttribute(t)},t.prototype.appendChild=function(t){this.domNode.appendChild(t.domNode)},t.prototype.removeChild=function(t){this.domNode.removeChild(t.domNode)},t}();function H(t){return new BC(t)}var Tq={};var lU,Ee={};function Tb(e,t,o){var r=null,n=null;if("function"==typeof o.value?(r="value",0!==(n=o.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof o.get&&(r="get",n=o.get),!n)throw new Error("not supported");var i="$memoize$"+t;o[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.hasOwnProperty(i)||Object.defineProperty(this,i,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,e)}),this[i]}}var Aa,mU=Ee&&Ee.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function i(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}}(),nU=Ee&&Ee.__decorate||function(e,t,a,i){var r,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,i);else for(var p=e.length-1;p>=0;p--)(r=e[p])&&(o=(n<3?r(o):n>3?r(t,a,o):r(t,a))||o);return n>3&&o&&Object.defineProperty(t,a,o),o};Ee.EventType=Aa,function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(Aa||(lU=Aa={},Ee.EventType=Aa,lU));var og=function(e){function t(){var t=e.call(this)||this;return t.activeTouches={},t.handle=null,t.targets=[],t._register(q.addDisposableListener(document,"touchstart",function(e){return t.onTouchStart(e)})),t._register(q.addDisposableListener(document,"touchend",function(e){return t.onTouchEnd(e)})),t._register(q.addDisposableListener(document,"touchmove",function(e){return t.onTouchMove(e)})),t}return mU(t,e),t.addTarget=function(e){t.isTouchDevice()&&(t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE.targets.push(e))},t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},t.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),e.prototype.dispose.call(this)},t.prototype.onTouchStart=function(e){var t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var a=0,i=e.targetTouches.length;a<i;a++){var r=e.targetTouches.item(a);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};var n=this.newGestureEvent(Aa.Start,r.target);n.pageX=r.pageX,n.pageY=r.pageY,this.dispatchEvent(n)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.prototype.onTouchEnd=function(e){for(var a=Date.now(),i=Object.keys(this.activeTouches).length,r=function(r,o){var p=e.changedTouches.item(r);if(!n.activeTouches.hasOwnProperty(String(p.identifier)))return console.warn("move of an UNKNOWN touch",p),"continue";var c=n.activeTouches[p.identifier],s=Date.now()-c.initialTimeStamp;if(s<t.HOLD_DELAY&&Math.abs(c.initialPageX-yb(c.rollingPageX))<30&&Math.abs(c.initialPageY-yb(c.rollingPageY))<30)(l=n.newGestureEvent(Aa.Tap,c.initialTarget)).pageX=yb(c.rollingPageX),l.pageY=yb(c.rollingPageY),n.dispatchEvent(l);else if(s>=t.HOLD_DELAY&&Math.abs(c.initialPageX-yb(c.rollingPageX))<30&&Math.abs(c.initialPageY-yb(c.rollingPageY))<30){var l;(l=n.newGestureEvent(Aa.Contextmenu,c.initialTarget)).pageX=yb(c.rollingPageX),l.pageY=yb(c.rollingPageY),n.dispatchEvent(l)}else if(1===i){var $=yb(c.rollingPageX),g=yb(c.rollingPageY),h=yb(c.rollingTimestamps)-c.rollingTimestamps[0],u=$-c.rollingPageX[0],v=g-c.rollingPageY[0],d=n.targets.filter(function(e){return c.initialTarget instanceof Node&&e.contains(c.initialTarget)});n.inertia(d,a,Math.abs(u)/h,u>0?1:-1,$,Math.abs(v)/h,v>0?1:-1,g)}n.dispatchEvent(n.newGestureEvent(Aa.End,c.initialTarget)),delete n.activeTouches[p.identifier]},n=this,o=0,p=e.changedTouches.length;o<p;o++)r(o);this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.prototype.newGestureEvent=function(e,t){var a=document.createEvent("CustomEvent");return a.initEvent(e,!1,!0),a.initialTarget=t,a},t.prototype.dispatchEvent=function(e){var t=this;this.targets.forEach(function(a){e.initialTarget instanceof Node&&a.contains(e.initialTarget)&&(a.dispatchEvent(e),t.dispatched=!0)})},t.prototype.inertia=function(e,a,i,r,n,o,p,c){var s=this;this.handle=q.scheduleAtNextAnimationFrame(function(){var l=Date.now(),$=l-a,g=0,h=0,u=!0;i+=t.SCROLL_FRICTION*$,o+=t.SCROLL_FRICTION*$,i>0&&(u=!1,g=r*i*$),o>0&&(u=!1,h=p*o*$);var v=s.newGestureEvent(Aa.Change);v.translationX=g,v.translationY=h,e.forEach(function(e){return e.dispatchEvent(v)}),u||s.inertia(e,l,i,r,n+g,o,p,c+h)})},t.prototype.onTouchMove=function(e){for(var t=Date.now(),a=0,i=e.changedTouches.length;a<i;a++){var r=e.changedTouches.item(a);if(this.activeTouches.hasOwnProperty(String(r.identifier))){var n=this.activeTouches[r.identifier],o=this.newGestureEvent(Aa.Change,n.initialTarget);o.translationX=r.pageX-yb(n.rollingPageX),o.translationY=r.pageY-yb(n.rollingPageY),o.pageX=r.pageX,o.pageY=r.pageY,this.dispatchEvent(o),n.rollingPageX.length>3&&(n.rollingPageX.shift(),n.rollingPageY.shift(),n.rollingTimestamps.shift()),n.rollingPageX.push(r.pageX),n.rollingPageY.push(r.pageY),n.rollingTimestamps.push(t)}else console.warn("end of an UNKNOWN touch",r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.SCROLL_FRICTION=-.005,t.HOLD_DELAY=700,nU([Tb],t,"isTouchDevice",null),t}(B);Ee.Gesture=og;var Uq={};var _h={};var _c={};var el={};var oU=el&&el.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])})(t,e)};return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();function fl(o,t){var e=new ib(t);return e.preventDefault(),{leftButton:e.leftButton,posx:e.posx,posy:e.posy}}el.standardMouseMoveMerger=fl;var ai=function(o){function t(){var t=o.call(this)||this;return t.hooks=[],t.mouseMoveEventMerger=null,t.mouseMoveCallback=null,t.onStopCallback=null,t}return oU(t,o),t.prototype.dispose=function(){this.stopMonitoring(!1),o.prototype.dispose.call(this)},t.prototype.stopMonitoring=function(o){if(this.isMonitoring()){this.hooks=C(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,o&&t&&t()}},t.prototype.isMonitoring=function(){return this.hooks.length>0},t.prototype.startMonitoring=function(o,t,e){var r=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=o,this.mouseMoveCallback=t,this.onStopCallback=e;for(var n=yp.getSameOriginWindowChain(),s=0,i=n;s<i.length;s++){var a=i[s];this.hooks.push(q.addDisposableThrottledListener(a.window.document,"mousemove",function(o){return r.mouseMoveCallback(o)},function(o,t){return r.mouseMoveEventMerger(o,t)})),this.hooks.push(q.addDisposableListener(a.window.document,"mouseup",function(o){return r.stopMonitoring(!0)}))}if(yp.hasDifferentOriginAncestor()){var u=n[n.length-1];this.hooks.push(q.addDisposableListener(u.window.document,"mouseout",function(o){"html"===new ib(o).target.tagName.toLowerCase()&&r.stopMonitoring(!0)})),this.hooks.push(q.addDisposableListener(u.window.document,"mouseover",function(o){"html"===new ib(o).target.tagName.toLowerCase()&&r.stopMonitoring(!0)})),this.hooks.push(q.addDisposableListener(u.window.document.body,"mouseleave",function(o){r.stopMonitoring(!0)}))}}},t}(B);el.GlobalMouseMoveMonitor=ai;var CC=_c&&_c.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e])})(t,e)};return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gl=function(){function o(o,t){this.x=o,this.y=t}return o.prototype.toClientCoordinates=function(){return new Vq(this.x-q.StandardWindow.scrollX,this.y-q.StandardWindow.scrollY)},o}();_c.PageCoordinates=gl;var Vq=function(){function o(o,t){this.clientX=o,this.clientY=t}return o.prototype.toPageCoordinates=function(){return new gl(this.clientX+q.StandardWindow.scrollX,this.clientY+q.StandardWindow.scrollY)},o}();_c.ClientCoordinates=Vq;var DC=function(){return function(o,t,e,r){this.x=o,this.y=t,this.width=e,this.height=r}}();function Wq(o){var t=q.getDomNodePagePosition(o);return new DC(t.left,t.top,t.width,t.height)}_c.EditorPagePosition=DC,_c.createEditorPagePosition=Wq;var Fe=function(o){function t(t,e){var r=o.call(this,t)||this;return r.pos=new gl(r.posx,r.posy),r.editorPos=Wq(e),r}return CC(t,o),t}(ib);_c.EditorMouseEvent=Fe;var EC=function(){function o(o){this._editorViewDomNode=o}return o.prototype._create=function(o){return new Fe(o,this._editorViewDomNode)},o.prototype.onContextMenu=function(o,t){var e=this;return q.addDisposableListener(o,"contextmenu",function(o){t(e._create(o))})},o.prototype.onMouseUp=function(o,t){var e=this;return q.addDisposableListener(o,"mouseup",function(o){t(e._create(o))})},o.prototype.onMouseDown=function(o,t){var e=this;return q.addDisposableListener(o,"mousedown",function(o){t(e._create(o))})},o.prototype.onMouseLeave=function(o,t){var e=this;return q.addDisposableNonBubblingMouseOutListener(o,function(o){t(e._create(o))})},o.prototype.onMouseMoveThrottled=function(o,t,e,r){var n=this;return q.addDisposableThrottledListener(o,"mousemove",t,function(o,t){return e(o,n._create(t))},r)},o}();_c.EditorMouseEventFactory=EC;var FC=function(o){function t(t){var e=o.call(this)||this;return e._editorViewDomNode=t,e._globalMouseMoveMonitor=e._register(new ai),e._keydownListener=null,e}return CC(t,o),t.prototype.startMonitoring=function(o,t,e){var r=this;this._keydownListener=q.addStandardDisposableListener(document,"keydown",function(o){o.toKeybinding().isModifierKey()||r._globalMouseMoveMonitor.stopMonitoring(!0)},!0);this._globalMouseMoveMonitor.startMonitoring(function(t,e){return o(t,new Fe(e,r._editorViewDomNode))},t,function(){r._keydownListener.dispose(),e()})},t}(B);_c.GlobalEditorMouseMoveMonitor=FC;var hl={};var Xq={};var pU=Xq&&Xq.__extends||function(){var e=function(n,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])})(n,o)};return function(n,o){function t(){this.constructor=n}e(n,o),n.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}}(),pg=function(e){function n(){var n=e.call(this)||this;return n._shouldRender=!0,n}return pU(n,e),n.prototype.shouldRender=function(){return this._shouldRender},n.prototype.forceShouldRender=function(){this._shouldRender=!0},n.prototype.setShouldRender=function(){this._shouldRender=!0},n.prototype.onDidRender=function(){this._shouldRender=!1},n.prototype.onConfigurationChanged=function(e){return!1},n.prototype.onCursorStateChanged=function(e){return!1},n.prototype.onDecorationsChanged=function(e){return!1},n.prototype.onFlushed=function(e){return!1},n.prototype.onFocusChanged=function(e){return!1},n.prototype.onLanguageConfigurationChanged=function(e){return!1},n.prototype.onLineMappingChanged=function(e){return!1},n.prototype.onLinesChanged=function(e){return!1},n.prototype.onLinesDeleted=function(e){return!1},n.prototype.onLinesInserted=function(e){return!1},n.prototype.onRevealRangeRequest=function(e){return!1},n.prototype.onScrollChanged=function(e){return!1},n.prototype.onTokensChanged=function(e){return!1},n.prototype.onTokensColorsChanged=function(e){return!1},n.prototype.onZonesChanged=function(e){return!1},n.prototype.onThemeChanged=function(e){return!1},n.prototype.handleEvents=function(e){for(var n=!1,o=0,t=e.length;o<t;o++){var r=e[o];switch(r.type){case 1:this.onConfigurationChanged(r)&&(n=!0);break;case 2:this.onCursorStateChanged(r)&&(n=!0);break;case 3:this.onDecorationsChanged(r)&&(n=!0);break;case 4:this.onFlushed(r)&&(n=!0);break;case 5:this.onFocusChanged(r)&&(n=!0);break;case 16:this.onLanguageConfigurationChanged(r)&&(n=!0);break;case 6:this.onLineMappingChanged(r)&&(n=!0);break;case 7:this.onLinesChanged(r)&&(n=!0);break;case 8:this.onLinesDeleted(r)&&(n=!0);break;case 9:this.onLinesInserted(r)&&(n=!0);break;case 10:this.onRevealRangeRequest(r)&&(n=!0);break;case 11:this.onScrollChanged(r)&&(n=!0);break;case 12:this.onTokensChanged(r)&&(n=!0);break;case 13:this.onTokensColorsChanged(r)&&(n=!0);break;case 14:this.onZonesChanged(r)&&(n=!0);break;case 15:this.onThemeChanged(r)&&(n=!0);break;default:console.info("View received unknown event: "),console.info(r);}}n&&(this._shouldRender=!0)},n}(B);Xq.ViewEventHandler=pg;var qU=hl&&hl.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(r,e)};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nb=function(t){function r(r){var e=t.call(this)||this;return e._context=r,e._context.addEventHandler(e),e}return qU(r,t),r.prototype.dispose=function(){this._context.removeEventHandler(this),t.prototype.dispose.call(this)},r}(pg);hl.ViewPart=nb;var ic=function(){function t(){}return t.write=function(t,r){BC,t.setAttribute("data-mprt",String(r))},t.read=function(t){var r=t.getAttribute("data-mprt");return null===r?0:parseInt(r,10)},t.collect=function(t,r){for(var e=[],n=0;t&&t!==document.body&&t!==r;)t.nodeType===t.ELEMENT_NODE&&(e[n++]=this.read(t)),t=t.parentElement;for(var o=new Uint8Array(n),i=0;i<n;i++)o[i]=e[n-i-1];return o},t}();hl.PartFingerprints=ic;var bi={};var qg={},rU=qg&&qg.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),GC=function(){function t(t,e){this._viewLayout=t,this.viewportData=e,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}return t.prototype.getScrolledTopFromAbsoluteTop=function(t){return t-this.scrollTop},t.prototype.getVerticalOffsetForLineNumber=function(t){return this._viewLayout.getVerticalOffsetForLineNumber(t)},t.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},t}();qg.RestrictedRenderingContext=GC;var HC=function(t){function e(e,i,r){var o=t.call(this,e,i)||this;return o._viewLines=r,o}return rU(e,t),e.prototype.linesVisibleRangesForRange=function(t,e){return this._viewLines.linesVisibleRangesForRange(t,e)},e.prototype.visibleRangeForPosition=function(t){return this._viewLines.visibleRangeForPosition(t)},e}(GC);qg.RenderingContext=HC;var IC=function(){return function(t,e){this.lineNumber=t,this.ranges=e}}();qg.LineVisibleRanges=IC;var ad=function(){function t(t,e){this.left=Math.round(t),this.width=Math.round(e)}return t.prototype.toString=function(){return"["+this.left+","+this.width+"]"},t}();qg.HorizontalRange=ad;var JC=function(){function t(t,n){this.left=t,this.width=n}return t.prototype.toString=function(){return"["+this.left+","+this.width+"]"},t.compare=function(t,n){return t.left-n.left},t}(),Yq=function(){function t(){}return t._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},t._detachRange=function(t,n){t.selectNodeContents(n)},t._readClientRects=function(t,n,e,r,a){var i=this._createRange();try{return i.setStart(t,n),i.setEnd(e,r),i.getClientRects()}catch(l){return null}finally{this._detachRange(i,a)}},t._mergeAdjacentRanges=function(t){if(1===t.length)return[new ad(t[0].left,t[0].width)];t.sort(JC.compare);for(var n=[],e=0,r=t[0].left,a=t[0].width,i=1,l=t.length;i<l;i++){var o=t[i],h=o.left,c=o.width;r+a+.9>=h?a=Math.max(a,h+c-r):(n[e++]=new ad(r,a),r=h,a=c)}return n[e++]=new ad(r,a),n},t._createHorizontalRangesFromClientRects=function(t,n){if(!t||0===t.length)return null;for(var e=[],r=0,a=t.length;r<a;r++){var i=t[r];e[r]=new JC(Math.max(0,i.left-n),i.width)}return this._mergeAdjacentRanges(e)},t.readHorizontalRanges=function(t,n,e,r,a,i,l){var o=t.children.length-1;if(0>o)return null;(n=Math.min(o,Math.max(0,n)))!==(r=Math.min(o,Math.max(0,r)))&&r>0&&0===a&&(r--,a=Number.MAX_VALUE);var h=t.children[n].firstChild,c=t.children[r].firstChild;if(h&&c||(!h&&0===e&&n>0&&(h=t.children[n-1].firstChild,e=1073741824),!c&&0===a&&r>0&&(c=t.children[r-1].firstChild,a=1073741824)),!h||!c)return null;e=Math.min(h.textContent.length,Math.max(0,e)),a=Math.min(c.textContent.length,Math.max(0,a));var g=this._readClientRects(h,e,c,a,l);return this._createHorizontalRangesFromClientRects(g,i)},t}();var Ge=L("themeService");function Zq(e){return{id:e}}var sU="dark";var $q="hc";function il(e){switch(e){case sU:return"vs-dark";case $q:return"hc-black";default:return"vs";}}var KC={ThemingContribution:"base.contributions.theming"};var tU=function(){function e(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new b}return e.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),ka(function(){var r=t.themingParticipants.indexOf(e);t.themingParticipants.splice(r,1)})},e.prototype.getThemingParticipants=function(){return this.themingParticipants},e}(),LC=new tU;function Bb(e){return LC.onThemeChange(e)}Sh.Registry.add(KC.ThemingContribution,LC);var uU=bi&&bi.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),vU=!!jz||!(zd||Wc||pk),MC=ue,_q=function(){function e(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(e.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),e}();bi.DomReadingContext=_q;var ar=function(){function e(e,t){this.themeType=t,this.renderWhitespace=e.editor.viewInfo.renderWhitespace,this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters,this.spaceWidth=e.editor.fontInfo.spaceWidth,this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations,this.canUseHalfwidthRightwardsArrow=e.editor.fontInfo.canUseHalfwidthRightwardsArrow,this.lineHeight=e.editor.lineHeight,this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter,this.fontLigatures=e.editor.viewInfo.fontLigatures}return e.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},e}();bi.ViewLineOptions=ar;var He=function(){function e(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return e.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},e.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=H(e)},e.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},e.prototype.onSelectionChanged=function(){return!(!MC&&this._options.themeType!==$q)&&(this._isMaybeInvalid=!0,!0)},e.prototype.renderLine=function(t,i,n,r){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var a=n.getViewLineRenderingData(t),o=this._options,s=Rh.filter(a.inlineDecorations,t,a.minColumn,a.maxColumn);if(MC||o.themeType===$q)for(var h=0,d=n.selections;h<d.length;h++){var p=d[h];if(!(p.endLineNumber<t||p.startLineNumber>t)){var f=p.startLineNumber===t?p.startColumn:a.minColumn,c=p.endLineNumber===t?p.endColumn:a.maxColumn;f<c&&s.push(new Rh(f,c,"inline-selected-text",0))}}var l=new fg(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,a.content,a.continuesWithWrappedLine,a.isBasicASCII,a.containsRTL,a.minColumn-1,a.tokens,s,a.tabSize,o.spaceWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;r.appendASCIIString("<div style=\"top:"),r.appendASCIIString(String(i)),r.appendASCIIString("px;height:"),r.appendASCIIString(String(this._options.lineHeight)),r.appendASCIIString("px;\" class=\""),r.appendASCIIString(e.CLASS_NAME),r.appendASCIIString("\">");var $=gq(l,r);r.appendASCIIString("</div>");var g=null;return vU&&a.isBasicASCII&&o.useMonospaceOptimizations&&0===$.containsForeignElements&&a.content.length<300&&l.lineTokens.getCount()<100&&(g=new wU(this._renderedViewLine?this._renderedViewLine.domNode:null,l,$.characterMapping)),g||(g=yU(this._renderedViewLine?this._renderedViewLine.domNode:null,l,$.characterMapping,$.containsRTL,$.containsForeignElements)),this._renderedViewLine=g,!0},e.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},e.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},e.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},e.prototype.getVisibleRangesForRange=function(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var n=0|this._renderedViewLine.input.stopRenderingLineAfter;return-1!==n&&e>n&&t>n?null:(-1!==n&&e>n&&(e=n),-1!==n&&t>n&&(t=n),this._renderedViewLine.getVisibleRangesForRange(e,t,i))},e.prototype.getColumnOfNodeOffset=function(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1},e.CLASS_NAME="view-line",e}();bi.ViewLine=He;var wU=function(){function e(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}return e.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},e.prototype.getWidthIsFast=function(){return!0},e.prototype.getVisibleRangesForRange=function(e,t,i){var n=this._getCharPosition(e),r=this._getCharPosition(t);return[new ad(n,r-n)]},e.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},e.prototype.getColumnOfNodeOffset=function(e,t,i){for(var n=t.textContent.length,r=-1;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,n,i)+1},e}(),NC=function(){function e(e,t,i,n,r){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var a=0,o=this._characterMapping.length;a<=o;a++)this._pixelOffsetCache[a]=-1}}return e.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild},e.prototype.getWidth=function(){return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,i){if(null!==this._pixelOffsetCache){var n=this._readPixelOffset(e,i);if(-1===n)return null;var r=this._readPixelOffset(t,i);return-1===r?null:[new ad(n,r-n)]}return this._readVisibleRangesForRange(e,t,i)},e.prototype._readVisibleRangesForRange=function(e,t,i){if(e===t){var n=this._readPixelOffset(e,i);return-1===n?null:[new ad(n,0)]}return this._readRawVisibleRangesForRange(e,t,i)},e.prototype._readPixelOffset=function(e,t){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth()}if(null!==this._pixelOffsetCache){var i=this._pixelOffsetCache[e];if(-1!==i)return i;var n=this._actualReadPixelOffset(e,t);return this._pixelOffsetCache[e]=n,n}return this._actualReadPixelOffset(e,t)},e.prototype._actualReadPixelOffset=function(e,t){if(0===this._characterMapping.length){var i=Yq.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,t.clientRectDeltaLeft,t.endNode);return i&&0!==i.length?i[0].left:-1}if(e===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var n=this._characterMapping.charOffsetToPartData(e-1),r=Id.getPartIndex(n),a=Id.getCharIndex(n),o=Yq.readHorizontalRanges(this._getReadingTarget(),r,a,r,a,t.clientRectDeltaLeft,t.endNode);return o&&0!==o.length?o[0].left:-1},e.prototype._readRawVisibleRangesForRange=function(e,t,i){if(1===e&&t===this._characterMapping.length)return[new ad(0,this.getWidth())];var n=this._characterMapping.charOffsetToPartData(e-1),r=Id.getPartIndex(n),a=Id.getCharIndex(n),o=this._characterMapping.charOffsetToPartData(t-1),s=Id.getPartIndex(o),h=Id.getCharIndex(o);return Yq.readHorizontalRanges(this._getReadingTarget(),r,a,s,h,i.clientRectDeltaLeft,i.endNode)},e.prototype.getColumnOfNodeOffset=function(e,t,i){for(var n=t.textContent.length,r=-1;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,n,i)+1},e}(),xU=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uU(t,e),t.prototype._readVisibleRangesForRange=function(t,i,n){var r=e.prototype._readVisibleRangesForRange.call(this,t,i,n);if(!r||0===r.length||t===i||1===t&&i===this._characterMapping.length)return r;if(!this.input.containsRTL){var a=this._readPixelOffset(i,n);if(-1!==a){var o=r[r.length-1];o.left<a&&(o.width=a-o.left)}}return r},t}(NC),yU=ve?zU:AU;function zU(e,t,i,n,r){return new xU(e,t,i,n,r)}function AU(e,t,i,n,r){return new NC(e,t,i,n,r)}var BU=_h&&_h.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ac=function(){function t(t,e,i,n,o,r){void 0===i&&(i=0),void 0===n&&(n=null),void 0===o&&(o=null),void 0===r&&(r=null),this.element=t,this.type=e,this.mouseColumn=i,this.position=n,!o&&n&&(o=new j(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=r}return t._typeToString=function(t){return 1===t?"TEXTAREA":2===t?"GUTTER_GLYPH_MARGIN":3===t?"GUTTER_LINE_NUMBERS":4===t?"GUTTER_LINE_DECORATIONS":5===t?"GUTTER_VIEW_ZONE":6===t?"CONTENT_TEXT":7===t?"CONTENT_EMPTY":8===t?"CONTENT_VIEW_ZONE":9===t?"CONTENT_WIDGET":10===t?"OVERVIEW_RULER":11===t?"SCROLLBAR":12===t?"OVERLAY_WIDGET":"UNKNOWN"},t.toString=function(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+t.detail},t.prototype.toString=function(){return t.toString(this)},t}();_h.MouseTarget=Ac;var Ub=function(){function t(){}return t.isTextArea=function(t){return 2===t.length&&3===t[0]&&6===t[1]},t.isChildOfViewLines=function(t){return t.length>=4&&3===t[0]&&7===t[3]},t.isStrictChildOfViewLines=function(t){return t.length>4&&3===t[0]&&7===t[3]},t.isChildOfScrollableElement=function(t){return t.length>=2&&3===t[0]&&5===t[1]},t.isChildOfMinimap=function(t){return t.length>=2&&3===t[0]&&8===t[1]},t.isChildOfContentWidgets=function(t){return t.length>=4&&3===t[0]&&1===t[3]},t.isChildOfOverflowingContentWidgets=function(t){return t.length>=1&&2===t[0]},t.isChildOfOverlayWidgets=function(t){return t.length>=2&&3===t[0]&&4===t[1]},t}(),jl=function(){function t(t,e,i){this.model=t.model,this.layoutInfo=t.configuration.editor.layoutInfo,this.viewDomNode=e.viewDomNode,this.lineHeight=t.configuration.editor.lineHeight,this.typicalHalfwidthCharacterWidth=t.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this.lastViewCursorsRenderData=i,this._context=t,this._viewHelper=e}return t.prototype.getZoneAtCoord=function(e){return t.getZoneAtCoord(this._context,e)},t.getZoneAtCoord=function(t,e){var i=t.viewLayout.getWhitespaceAtVerticalOffset(e);if(i){var n=i.verticalOffset+i.height/2,o=t.model.getLineCount(),r=null,l=void 0,a=null;return i.afterLineNumber!==o&&(a=new x(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new x(i.afterLineNumber,t.model.getLineMaxColumn(i.afterLineNumber))),l=null===a?r:null===r?a:e<n?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:l}}return null},t.prototype.getFullLineRangeAtCoord=function(t){if(this._context.viewLayout.isAfterLines(t)){var e=this._context.model.getLineCount(),i=this._context.model.getLineMaxColumn(e);return{range:new j(e,i,e,i),isAfterLines:!0}}var n=this._context.viewLayout.getLineNumberAtVerticalOffset(t),o=this._context.model.getLineMaxColumn(n);return{range:new j(n,1,n,o),isAfterLines:!1}},t.prototype.getLineNumberAtVerticalOffset=function(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)},t.prototype.isAfterLines=function(t){return this._context.viewLayout.isAfterLines(t)},t.prototype.getVerticalOffsetForLineNumber=function(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)},t.prototype.findAttribute=function(e,i){return t._findAttribute(e,i,this._viewHelper.viewDomNode)},t._findAttribute=function(t,e,i){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(e))return t.getAttribute(e);if(t===i)return null;t=t.parentNode}return null},t.prototype.getLineWidth=function(t){return this._viewHelper.getLineWidth(t)},t.prototype.visibleRangeForPosition2=function(t,e){return this._viewHelper.visibleRangeForPosition2(t,e)},t.prototype.getPositionFromDOMInfo=function(t,e){return this._viewHelper.getPositionFromDOMInfo(t,e)},t.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},t.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},t}();_h.HitTestContext=jl;var CU=function(){return function(t,e,i){this.editorPos=e,this.pos=i,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+i.y-e.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+i.x-e.x-t.layoutInfo.contentLeft,this.isInMarginArea=i.x-e.x<t.layoutInfo.contentLeft&&i.x-e.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,cr._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}(),DU=function(t){function e(e,i,n,o){var r=t.call(this,e,i,n)||this;return r._ctx=e,o?(r.target=o,r.targetPath=ic.collect(o,e.viewDomNode)):(r.target=null,r.targetPath=new Uint8Array(0)),r}return BU(e,t),e.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},e.prototype.fulfill=function(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),new Ac(this.target,t,this.mouseColumn,e,i,n)},e.prototype.withTarget=function(t){return new e(this._ctx,this.editorPos,this.pos,t)},e}(CU),EU={isAfterLines:!0};function br(t){return{isAfterLines:!1,horizontalDistanceToText:t}}var cr=function(){function t(t,e){this._context=t,this._viewHelper=e}return t.prototype.mouseTargetIsWidget=function(t){var e=t.target,i=ic.collect(e,this._viewHelper.viewDomNode);return!(!Ub.isChildOfContentWidgets(i)&&!Ub.isChildOfOverflowingContentWidgets(i))||!!Ub.isChildOfOverlayWidgets(i)},t.prototype.createMouseTarget=function(e,i,n,o){var r=new jl(this._context,this._viewHelper,e),l=new DU(r,i,n,o);try{return t._createMouseTarget(r,l,!1)}catch(a){return l.fulfill(0)}},t._createMouseTarget=function(e,i,n){if(null===i.target){if(n)return i.fulfill(0);var o=t._doHitTest(e,i);return o.position?t.createMouseTargetFromHitTestPosition(e,i,o.position.lineNumber,o.position.column):this._createMouseTarget(e,i.withTarget(o.hitTarget),!0)}var r=i,l=null;return(l=(l=(l=(l=(l=(l=(l=(l=(l=(l=l||t._hitTestContentWidget(e,r))||t._hitTestOverlayWidget(e,r))||t._hitTestMinimap(e,r))||t._hitTestScrollbarSlider(e,r))||t._hitTestViewZone(e,r))||t._hitTestMargin(e,r))||t._hitTestViewCursor(e,r))||t._hitTestTextArea(e,r))||t._hitTestViewLines(e,r,n))||t._hitTestScrollbar(e,r))||i.fulfill(0)},t._hitTestContentWidget=function(t,e){if(Ub.isChildOfContentWidgets(e.targetPath)||Ub.isChildOfOverflowingContentWidgets(e.targetPath)){var i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(9,null,null,i):e.fulfill(0)}return null},t._hitTestOverlayWidget=function(t,e){if(Ub.isChildOfOverlayWidgets(e.targetPath)){var i=t.findAttribute(e.target,"widgetId");return i?e.fulfill(12,null,null,i):e.fulfill(0)}return null},t._hitTestViewCursor=function(t,e){if(e.target)for(var i=0,n=r=t.lastViewCursorsRenderData;i<n.length;i++){var o=n[i];if(e.target===o.domNode)return e.fulfill(6,o.position)}if(e.isInContentArea)for(var r=t.lastViewCursorsRenderData,l=e.mouseContentHorizontalOffset,a=e.mouseVerticalOffset,s=0,u=r;s<u.length;s++){if(!(l<(o=u[s]).contentLeft)&&!(l>o.contentLeft+o.width)){var f=t.getVerticalOffsetForLineNumber(o.position.lineNumber);if(f<=a&&a<=f+o.height)return e.fulfill(6,o.position)}}return null},t._hitTestViewZone=function(t,e){var i=t.getZoneAtCoord(e.mouseVerticalOffset);if(i){var n=e.isInContentArea?8:5;return e.fulfill(n,i.position,null,i)}return null},t._hitTestTextArea=function(t,e){return Ub.isTextArea(e.targetPath)?e.fulfill(1):null},t._hitTestMargin=function(t,e){if(e.isInMarginArea){var i=t.getFullLineRangeAtCoord(e.mouseVerticalOffset),n=i.range.getStartPosition(),o=Math.abs(e.pos.x-e.editorPos.x),r={isAfterLines:i.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:o};return(o-=t.layoutInfo.glyphMarginLeft)<=t.layoutInfo.glyphMarginWidth?e.fulfill(2,n,i.range,r):(o-=t.layoutInfo.glyphMarginWidth)<=t.layoutInfo.lineNumbersWidth?e.fulfill(3,n,i.range,r):(o-=t.layoutInfo.lineNumbersWidth,e.fulfill(4,n,i.range,r))}return null},t._hitTestViewLines=function(e,i,n){if(!Ub.isChildOfViewLines(i.targetPath))return null;if(e.isAfterLines(i.mouseVerticalOffset)){var o=e.model.getLineCount(),r=e.model.getLineMaxColumn(o);return i.fulfill(7,new x(o,r),void 0,EU)}if(n){if(Ub.isStrictChildOfViewLines(i.targetPath)){var l=e.getLineNumberAtVerticalOffset(i.mouseVerticalOffset);if(0===e.model.getLineLength(l)){var a=e.getLineWidth(l),s=br(i.mouseContentHorizontalOffset-a);return i.fulfill(7,new x(l,1),void 0,s)}}return i.fulfill(0)}var u=t._doHitTest(e,i);return u.position?t.createMouseTargetFromHitTestPosition(e,i,u.position.lineNumber,u.position.column):this._createMouseTarget(e,i.withTarget(u.hitTarget),!0)},t._hitTestMinimap=function(t,e){if(Ub.isChildOfMinimap(e.targetPath)){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.model.getLineMaxColumn(i);return e.fulfill(11,new x(i,n))}return null},t._hitTestScrollbarSlider=function(t,e){if(Ub.isChildOfScrollableElement(e.targetPath)&&e.target&&1===e.target.nodeType){var i=e.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){var n=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),o=t.model.getLineMaxColumn(n);return e.fulfill(11,new x(n,o))}}return null},t._hitTestScrollbar=function(t,e){if(Ub.isChildOfScrollableElement(e.targetPath)){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.model.getLineMaxColumn(i);return e.fulfill(11,new x(i,n))}return null},t.prototype.getMouseColumn=function(e,i){var n=this._context.configuration.editor.layoutInfo,o=this._context.viewLayout.getCurrentScrollLeft()+i.x-e.x-n.contentLeft;return t._getMouseColumn(o,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)},t._getMouseColumn=function(t,e){return t<0?1:Math.round(t/e)+1},t.createMouseTargetFromHitTestPosition=function(t,e,i,n){var o=new x(i,n),r=t.getLineWidth(i);if(e.mouseContentHorizontalOffset>r){if(Jh&&1===o.column){var l=br(e.mouseContentHorizontalOffset-r);return e.fulfill(7,new x(i,t.model.getLineMaxColumn(i)),void 0,l)}var a=br(e.mouseContentHorizontalOffset-r);return e.fulfill(7,o,void 0,a)}var s=t.visibleRangeForPosition2(i,n);if(!s)return e.fulfill(0,o);var u=s.left;if(e.mouseContentHorizontalOffset===u)return e.fulfill(6,o);var f=[];if(f.push({offset:s.left,column:n}),n>1){var c=t.visibleRangeForPosition2(i,n-1);c&&f.push({offset:c.left,column:n-1})}if(n<t.model.getLineMaxColumn(i)){var h=t.visibleRangeForPosition2(i,n+1);h&&f.push({offset:h.left,column:n+1})}f.sort(function(t,e){return t.offset-e.offset});for(var g=1;g<f.length;g++){var m=f[g-1],d=f[g];if(m.offset<=e.mouseContentHorizontalOffset&&e.mouseContentHorizontalOffset<=d.offset){var p=new j(i,m.column,i,d.column);return e.fulfill(6,o,p)}}return e.fulfill(6,o)},t._doHitTestWithCaretRangeFromPoint=function(t,e){var i=t.getLineNumberAtVerticalOffset(e.mouseVerticalOffset),n=t.getVerticalOffsetForLineNumber(i)+Math.floor(t.lineHeight/2),o=e.pos.y+(n-e.mouseVerticalOffset);o<=e.editorPos.y&&(o=e.editorPos.y+1),o>=e.editorPos.y+t.layoutInfo.height&&(o=e.editorPos.y+t.layoutInfo.height-1);var r=new gl(e.pos.x,o),l=this._actualDoHitTestWithCaretRangeFromPoint(t,r.toClientCoordinates());return l.position?l:this._actualDoHitTestWithCaretRangeFromPoint(t,e.pos.toClientCoordinates())},t._actualDoHitTestWithCaretRangeFromPoint=function(t,e){var i=document.caretRangeFromPoint(e.clientX,e.clientY);if(!i||!i.startContainer)return{position:null,hitTarget:null};var n=i.startContainer,o=null;if(n.nodeType===n.TEXT_NODE){var r=(a=(l=n.parentNode)?l.parentNode:null)?a.parentNode:null;if((r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===He.CLASS_NAME)return{position:t.getPositionFromDOMInfo(l,i.startOffset),hitTarget:null};o=n.parentNode}else if(n.nodeType===n.ELEMENT_NODE){var l,a;if(((a=(l=n.parentNode)?l.parentNode:null)&&a.nodeType===a.ELEMENT_NODE?a.className:null)===He.CLASS_NAME)return{position:t.getPositionFromDOMInfo(n,n.textContent.length),hitTarget:null};o=n}return{position:null,hitTarget:o}},t._doHitTestWithCaretPositionFromPoint=function(t,e){var i=document.caretPositionFromPoint(e.clientX,e.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){var n=i.offsetNode.parentNode,o=n?n.parentNode:null,r=o?o.parentNode:null;return(r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===He.CLASS_NAME?{position:t.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset),hitTarget:null}:{position:null,hitTarget:i.offsetNode.parentNode}}return{position:null,hitTarget:i.offsetNode}},t._doHitTestWithMoveToPoint=function(t,e){var i=null,n=null,o=document.body.createTextRange();try{o.moveToPoint(e.clientX,e.clientY)}catch(u){return{position:null,hitTarget:null}}o.collapse(!0);var r=o?o.parentElement():null,l=r?r.parentNode:null,a=l?l.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===He.CLASS_NAME){var s=o.duplicate();s.moveToElementText(r),s.setEndPoint("EndToStart",o),i=t.getPositionFromDOMInfo(r,s.text.length),s.moveToElementText(t.viewDomNode)}else n=r;return o.moveToElementText(t.viewDomNode),{position:i,hitTarget:n}},t._doHitTest=function(t,e){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(t,e):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(t,e.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(t,e.pos.toClientCoordinates()):{position:null,hitTarget:null}},t}();_h.MouseTargetFactory=cr;var OC=Uq&&Uq.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function dr(e){return function(t,o){var n=!1;return e&&(n=e.mouseTargetIsWidget(o)),n||o.preventDefault(),o}}var ci=function(e){function t(o,n,r){var i=e.call(this)||this;i._isFocused=!1,i._context=o,i.viewController=n,i.viewHelper=r,i.mouseTargetFactory=new cr(i._context,r),i._mouseDownOperation=i._register(new FU(i._context,i.viewController,i.viewHelper,function(e,t){return i._createMouseTarget(e,t)},function(e){return i._getMouseColumn(e)})),i._asyncFocus=i._register(new wc(function(){return i.viewHelper.focusTextArea()},0)),i.lastMouseLeaveTime=-1;var s=new EC(i.viewHelper.viewDomNode);i._register(s.onContextMenu(i.viewHelper.viewDomNode,function(e){return i._onContextMenu(e,!0)})),i._register(s.onMouseMoveThrottled(i.viewHelper.viewDomNode,function(e){return i._onMouseMove(e)},dr(i.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),i._register(s.onMouseUp(i.viewHelper.viewDomNode,function(e){return i._onMouseUp(e)})),i._register(s.onMouseLeave(i.viewHelper.viewDomNode,function(e){return i._onMouseLeave(e)})),i._register(s.onMouseDown(i.viewHelper.viewDomNode,function(e){return i._onMouseDown(e)}));return i._register(q.addDisposableListener(i.viewHelper.viewDomNode,"mousewheel",function(e){if(i._context.configuration.editor.viewInfo.mouseWheelZoom){var t=new we(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var o=xk.getZoomLevel(),n=t.deltaY>0?1:-1;xk.setZoomLevel(o+n),t.preventDefault(),t.stopPropagation()}}},!0)),i._context.addEventHandler(i),i}return OC(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.getTargetAtClientPoint=function(e,t){var o=new Vq(e,t).toPageCoordinates(),n=Wq(this.viewHelper.viewDomNode);if(o.y<n.y||o.y>n.y+n.height||o.x<n.x||o.x>n.x+n.width)return null;var r=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(r,n,o,null)},t.prototype._createMouseTarget=function(e,t){var o=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(o,e.editorPos,e.pos,t?e.target:null)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,o=this._createMouseTarget(e,!0),n=6===o.type||7===o.type,r=2===o.type||3===o.type||4===o.type,i=3===o.type,s=this._context.configuration.editor.viewInfo.selectOnLineNumbers,u=8===o.type||5===o.type,a=9===o.type,l=e.leftButton||e.middleButton;Z&&e.leftButton&&e.ctrlKey&&(l=!1);var p=function(){te&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(l&&(n||i&&s))p(),this._mouseDownOperation.start(o.type,e);else if(r)e.preventDefault();else if(u){var c=o.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(c.viewZoneId)&&(p(),this._mouseDownOperation.start(o.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(o.detail)&&(p(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:o})},t.MOUSE_MOVE_MINIMUM_TIME=100,t}(pg);Uq.MouseHandler=ci;var FU=function(e){function t(t,o,n,r,i){var s=e.call(this)||this;return s._context=t,s._viewController=o,s._viewHelper=n,s._createMouseTarget=r,s._getMouseColumn=i,s._mouseMoveMonitor=s._register(new FC(s._viewHelper.viewDomNode)),s._onScrollTimeout=s._register(new Bd),s._mouseState=new GU,s._currentSelection=new ba(1,1,1,1),s._isActive=!1,s._lastMouseEvent=null,s}return OC(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},t.prototype.start=function(e,t){var o=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var n=this._findMousePosition(t,!0);if(n&&n.position){if(this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count,!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===n.type&&n.position&&this._currentSelection.containsPosition(n.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(dr(null),function(e){return o._onMouseDownThenMove(e)},function(){var e=o._findMousePosition(o._lastMouseEvent,!0);o._viewController.emitMouseDrop({event:o._lastMouseEvent,target:e?o._createMouseTarget(o._lastMouseEvent,!0):null}),o._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(dr(null),function(e){return o._onMouseDownThenMove(e)},function(){return o._stop()}))}},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}},10)},t.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,o=this._context.model,n=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){var i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0);if(u=jl.getZoneAtCoord(this._context,i))if(a=this._helpPositionJumpOverViewZone(u))return new Ac(null,13,r,a);var s=n.getLineNumberAtVerticalOffset(i);return new Ac(null,13,r,new x(s,1))}if(e.posy>t.y+t.height){var u,a;i=n.getCurrentScrollTop()+(e.posy-t.y);if(u=jl.getZoneAtCoord(this._context,i))if(a=this._helpPositionJumpOverViewZone(u))return new Ac(null,13,r,a);var l=n.getLineNumberAtVerticalOffset(i);return new Ac(null,13,r,new x(l,o.getLineMaxColumn(l)))}var p=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new Ac(null,13,r,new x(p,1)):e.posx>t.x+t.width?new Ac(null,13,r,new x(p,o.getLineMaxColumn(p))):null},t.prototype._findMousePosition=function(e,t){var o=this._getPositionOutsideEditor(e);if(o)return o;var n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){var r=this._helpPositionJumpOverViewZone(n.detail);if(r)return new Ac(n.element,n.type,n.mouseColumn,r,null,n.detail)}return n},t.prototype._helpPositionJumpOverViewZone=function(e){var t=new x(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),o=e.positionBefore,n=e.positionAfter;return o&&n?o.isBefore(t)?o:n:null},t.prototype._dispatchMouse=function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},t}(B),GU=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,o){var n=new Date().getTime();n-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=n,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(o)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=o,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}();var er=Tq&&Tq.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function PC(e,t){var o={translationY:t.translationY,translationX:t.translationX};return e&&(o.translationY+=e.translationY,o.translationX+=e.translationX),o}var HU=function(e){function t(t,o,n){var r=e.call(this,t,o,n)||this;return r.viewHelper.linesContentDomNode.style.msTouchAction="none",r.viewHelper.linesContentDomNode.style.msContentZooming="none",r._installGestureHandlerTimeout=window.setTimeout(function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(o){var n=o.pointerType;n!==(o.MSPOINTER_TYPE_MOUSE||"mouse")?n===(o.MSPOINTER_TYPE_TOUCH||"touch")?(r._lastPointerType="touch",e.addPointer(o.pointerId)):(r._lastPointerType="pen",t.addPointer(o.pointerId)):r._lastPointerType="mouse"}),r._register(q.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},PC)),r._register(q.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},!0))}},100),r._lastPointerType="mouse",r}return er(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,o=new Fe(e,this.viewHelper.viewDomNode),n=this._createMouseTarget(o,!1);n.position&&this.viewController.moveTo(n.position),o.browserEvent.fromElement?(o.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(ci),IU=function(e){function t(t,o,n){var r=e.call(this,t,o,n)||this;return r.viewHelper.linesContentDomNode.style.touchAction="none",r._installGestureHandlerTimeout=window.setTimeout(function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(o){var n=o.pointerType;"mouse"!==n?"touch"===n?(r._lastPointerType="touch",e.addPointer(o.pointerId)):(r._lastPointerType="pen",t.addPointer(o.pointerId)):r._lastPointerType="mouse"}),r._register(q.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},PC)),r._register(q.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},!0))}},100),r._lastPointerType="mouse",r}return er(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,o=new Fe(e,this.viewHelper.viewDomNode),n=this._createMouseTarget(o,!1);n.position&&this.viewController.moveTo(n.position),o.browserEvent.fromElement?(o.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(ci),JU=function(e){function t(t,o,n){var r=e.call(this,t,o,n)||this;return og.addTarget(r.viewHelper.linesContentDomNode),r._register(q.addDisposableListener(r.viewHelper.linesContentDomNode,Aa.Tap,function(e){return r.onTap(e)})),r._register(q.addDisposableListener(r.viewHelper.linesContentDomNode,Aa.Change,function(e){return r.onChange(e)})),r._register(q.addDisposableListener(r.viewHelper.linesContentDomNode,Aa.Contextmenu,function(e){return r._onContextMenu(new Fe(e,r.viewHelper.viewDomNode),!1)})),r}return er(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new Fe(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},t.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t}(ci),QC=function(){function e(e,t,o){window.navigator.msPointerEnabled?this.handler=new HU(e,t,o):window.TouchEvent?this.handler=new JU(e,t,o):window.navigator.pointerEnabled||window.PointerEvent?this.handler=new IU(e,t,o):this.handler=new ci(e,t,o)}return e.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},e.prototype.dispose=function(){this.handler.dispose()},e}();Tq.PointerHandler=QC;var fr={};var kl={};var Cb=function(){function t(t,e,n,i,r){this.value=t,this.selectionStart=e,this.selectionEnd=n,this.selectionStartPosition=i,this.selectionEndPosition=r}return t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},t.readFromTextArea=function(e){return new t(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)},t.prototype.collapseSelection=function(){return new t(this.value,this.value.length,this.value.length,null,null)},t.prototype.writeToTextArea=function(t,e,n){e.setValue(t,this.value),n&&e.setSelectionRange(t,this.selectionStart,this.selectionEnd)},t.prototype.deduceEditorPosition=function(t){if(t<=this.selectionStart){var e=this.value.substring(t,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,e,-1)}if(t>=this.selectionEnd){e=this.value.substring(this.selectionEnd,t);return this._finishDeduceEditorPosition(this.selectionEndPosition,e,1)}var n=this.value.substring(this.selectionStart,t);if(-1===n.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);var i=this.value.substring(t,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)},t.prototype._finishDeduceEditorPosition=function(t,e,n){for(var i=0,r=-1;-1!==(r=e.indexOf("\n",r+1));)i++;return[t,n*e.length,i]},t.selectedText=function(e){return new t(e,0,e.length,null,null)},t.deduceInput=function(t,e,n,i){if(!t)return{text:"",replaceCharCnt:0};var r=t.value,s=t.selectionStart,o=t.selectionEnd,a=e.value,l=e.selectionStart,u=e.selectionEnd;i&&r.length>0&&s===o&&l===u&&!z.startsWith(a,r)&&z.endsWith(a,r)&&(s=0,o=0);var g=r.substring(o),h=a.substring(u),c=z.commonSuffixLength(g,h);a=a.substring(0,a.length-c);var $=(r=r.substring(0,r.length-c)).substring(0,s),d=a.substring(0,l),f=z.commonPrefixLength($,d);if(a=a.substring(f),r=r.substring(f),l-=f,s-=f,u-=f,o-=f,n&&l===u&&r.length>0){var p=null;if(l===a.length?z.startsWith(a,r)&&(p=a.substring(r.length)):z.endsWith(a,r)&&(p=a.substring(0,a.length-r.length)),null!==p&&p.length>0&&(/\uFE0F/.test(p)||z.containsEmoji(p)))return{text:p,replaceCharCnt:0}}return l===u?r===a&&0===s&&o===r.length&&l===a.length&&-1===a.indexOf("\n")&&z.containsFullWidthCharacter(a)?{text:"",replaceCharCnt:0}:{text:a,replaceCharCnt:$.length-f}:{text:a,replaceCharCnt:o-s}},t.EMPTY=new t("",0,0,null,null),t}();var KU=function(){function t(){}return t._getPageOfLine=function(e){return Math.floor((e-1)/t._LINES_PER_PAGE)},t._getRangeForPage=function(e){var n=e*t._LINES_PER_PAGE,i=n+1,r=n+t._LINES_PER_PAGE;return new j(i,1,r+1,1)},t.fromEditorSelection=function(e,n,i,r){var s,o=t._getPageOfLine(i.startLineNumber),a=t._getRangeForPage(o),l=t._getPageOfLine(i.endLineNumber),u=t._getRangeForPage(l),g=a.intersectRanges(new j(1,1,i.startLineNumber,i.startColumn)),h=n.getValueInRange(g,1),c=n.getLineCount(),$=n.getLineMaxColumn(c),d=u.intersectRanges(new j(i.endLineNumber,i.endColumn,c,$)),f=n.getValueInRange(d,1);if(o===l||o+1===l)s=n.getValueInRange(i,1);else{var p=a.intersectRanges(i),m=u.intersectRanges(i);s=n.getValueInRange(p,1)+String.fromCharCode(8230)+n.getValueInRange(m,1)}if(r){h.length>500&&(h=h.substring(h.length-500,h.length)),f.length>500&&(f=f.substring(0,500)),s.length>1e3&&(s=s.substring(0,500)+String.fromCharCode(8230)+s.substring(s.length-500,s.length))}return new Cb(h+s+f,h.length,h.length+s.length,new x(i.startLineNumber,i.startColumn),new x(i.endLineNumber,i.endColumn))},t._LINES_PER_PAGE=10,t}();var RC=kl&&kl.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),gr={forceCopyWithSyntaxHighlighting:!1};kl.CopyOptions=gr;var SC=function(e){function t(t,o){var r=e.call(this)||this;r._onFocus=r._register(new b),r.onFocus=r._onFocus.event,r._onBlur=r._register(new b),r.onBlur=r._onBlur.event,r._onKeyDown=r._register(new b),r.onKeyDown=r._onKeyDown.event,r._onKeyUp=r._register(new b),r.onKeyUp=r._onKeyUp.event,r._onCut=r._register(new b),r.onCut=r._onCut.event,r._onPaste=r._register(new b),r.onPaste=r._onPaste.event,r._onType=r._register(new b),r.onType=r._onType.event,r._onCompositionStart=r._register(new b),r.onCompositionStart=r._onCompositionStart.event,r._onCompositionUpdate=r._register(new b),r.onCompositionUpdate=r._onCompositionUpdate.event,r._onCompositionEnd=r._register(new b),r.onCompositionEnd=r._onCompositionEnd.event,r._onSelectionChangeRequest=r._register(new b),r.onSelectionChangeRequest=r._onSelectionChangeRequest.event,r._host=t,r._textArea=r._register(new LU(o)),r._lastTextAreaEvent=0,r._asyncTriggerCut=r._register(new wc(function(){return r._onCut.fire()},0)),r._textAreaState=Cb.EMPTY,r.writeScreenReaderContent("ctor"),r._hasFocus=!1,r._isDoingComposition=!1,r._nextCommand=0,r._register(q.addStandardDisposableListener(o.domNode,"keydown",function(e){!r._isDoingComposition||109!==e.keyCode&&1!==e.keyCode||e.stopPropagation(),e.equals(9)&&e.preventDefault(),r._onKeyDown.fire(e)})),r._register(q.addStandardDisposableListener(o.domNode,"keyup",function(e){r._onKeyUp.fire(e)})),r._register(q.addDisposableListener(o.domNode,"compositionstart",function(e){r._lastTextAreaEvent=1,r._isDoingComposition||(r._isDoingComposition=!0,ue||r._setAndWriteTextAreaState("compositionstart",Cb.EMPTY),r._onCompositionStart.fire())}));var i=function(e,t){var o=r._textAreaState,i=Cb.readFromTextArea(r._textArea);return[i,Cb.deduceInput(o,i,e,t)]},n=function(e){var t=r._textAreaState,o=Cb.selectedText(e);return[o,{text:o.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},a=function(e){return!(!ue||"ja"!==e)||!(!te||0!==e.indexOf("zh-Han"))};return r._register(q.addDisposableListener(o.domNode,"compositionupdate",function(e){if(r._lastTextAreaEvent=2,a(e.locale)){var t=i(!1,!1),o=t[0],s=t[1];return r._textAreaState=o,r._onType.fire(s),void r._onCompositionUpdate.fire(e)}var p=n(e.data),$=p[0],c=p[1];r._textAreaState=$,r._onType.fire(c),r._onCompositionUpdate.fire(e)})),r._register(q.addDisposableListener(o.domNode,"compositionend",function(e){if(r._lastTextAreaEvent=3,a(e.locale)){var t=i(!1,!1),o=t[0],s=t[1];r._textAreaState=o,r._onType.fire(s)}else{var p=n(e.data);o=p[0],s=p[1];r._textAreaState=o,r._onType.fire(s)}(ue||ok)&&(r._textAreaState=Cb.readFromTextArea(r._textArea)),r._isDoingComposition&&(r._isDoingComposition=!1,r._onCompositionEnd.fire())})),r._register(q.addDisposableListener(o.domNode,"input",function(){var e=8===r._lastTextAreaEvent;if(r._lastTextAreaEvent=4,r._textArea.setIgnoreSelectionChangeTime("received input event"),!r._isDoingComposition){var t=i(Z,e&&Z),o=t[0],n=t[1];0===n.replaceCharCnt&&1===n.text.length&&z.isHighSurrogate(n.text.charCodeAt(0))||(r._textAreaState=o,0===r._nextCommand?""!==n.text&&r._onType.fire(n):(""!==n.text&&r._onPaste.fire({text:n.text}),r._nextCommand=0))}})),r._register(q.addDisposableListener(o.domNode,"cut",function(e){r._lastTextAreaEvent=5,r._textArea.setIgnoreSelectionChangeTime("received cut event"),r._ensureClipboardGetsEditorSelection(e),r._asyncTriggerCut.schedule()})),r._register(q.addDisposableListener(o.domNode,"copy",function(e){r._lastTextAreaEvent=6,r._ensureClipboardGetsEditorSelection(e)})),r._register(q.addDisposableListener(o.domNode,"paste",function(e){if(r._lastTextAreaEvent=7,r._textArea.setIgnoreSelectionChangeTime("received paste event"),ll.canUseTextData(e)){var t=ll.getTextData(e);""!==t&&r._onPaste.fire({text:t})}else r._textArea.getSelectionStart()!==r._textArea.getSelectionEnd()&&r._setAndWriteTextAreaState("paste",Cb.EMPTY),r._nextCommand=1})),r._register(q.addDisposableListener(o.domNode,"focus",function(){r._lastTextAreaEvent=8,r._setHasFocus(!0)})),r._register(q.addDisposableListener(o.domNode,"blur",function(){r._lastTextAreaEvent=9,r._setHasFocus(!1)})),r}return RC(t,e),t.prototype._installSelectionChangeListener=function(){var e=this,t=0;return q.addDisposableListener(document,"selectionchange",function(o){if(e._hasFocus&&!e._isDoingComposition&&ok&&ac){var r=Date.now(),i=r-t;if(t=r,!(i<5)){var n=r-e._textArea.getIgnoreSelectionChangeTime();if(e._textArea.resetSelectionChangeTime(),!(n<100)&&e._textAreaState.selectionStartPosition&&e._textAreaState.selectionEndPosition){var a=e._textArea.getValue();if(e._textAreaState.value===a){var s=e._textArea.getSelectionStart(),p=e._textArea.getSelectionEnd();if(e._textAreaState.selectionStart!==s||e._textAreaState.selectionEnd!==p){var $=e._textAreaState.deduceEditorPosition(s),c=e._host.deduceModelPosition($[0],$[1],$[2]),l=e._textAreaState.deduceEditorPosition(p),d=e._host.deduceModelPosition(l[0],l[1],l[2]),_=new ba(c.lineNumber,c.column,d.lineNumber,d.column);e._onSelectionChangeRequest.fire(_)}}}}}})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},t.prototype.focusTextArea=function(){this._setHasFocus(!0)},t.prototype.isFocused=function(){return this._hasFocus},t.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(Jh?this._setAndWriteTextAreaState("focusgain",Cb.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},t.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},t.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getPlainTextToCopy();if(ll.canUseTextData(e)){var o=null;jP()&&(t.length<65536||gr.forceCopyWithSyntaxHighlighting)&&(o=this._host.getHTMLToCopy()),ll.setTextData(e,t,o)}else this._setAndWriteTextAreaState("copy or cut",Cb.selectedText(t))},t}(B);kl.TextAreaInput=SC;var ll=function(){function e(){}return e.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},e.getTextData=function(e){if(e.clipboardData)return e.preventDefault(),e.clipboardData.getData("text/plain");if(window.clipboardData)return e.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},e.setTextData=function(e,t,o){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),null!==o&&e.clipboardData.setData("text/html",o),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},e}(),LU=function(e){function t(t){var o=e.call(this)||this;return o._actual=t,o._ignoreSelectionChangeTime=0,o}return RC(t,e),t.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()},t.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},t.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},t.prototype.getValue=function(){return this._actual.domNode.value},t.prototype.setValue=function(e,t){var o=this._actual.domNode;o.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),o.value=t)},t.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},t.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},t.prototype.setSelectionRange=function(e,t,o){var r=this._actual.domNode,i=document.activeElement===r,n=r.selectionStart,a=r.selectionEnd;if(i&&n===t&&a===o)Wc&&window.parent!==window&&r.focus();else{if(i)return this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,o),void(Wc&&window.parent!==window&&r.focus());try{var s=q.saveParentsScrollTop(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,o),q.restoreParentsScrollTop(r,s)}catch(p){}}},t}(B);var hr={};var ir={};var MU=ir&&ir.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return MU(t,e),t}(pg);ir.DynamicViewOverlay=Kd;var NU;function Ld(t,r){var e=Math.pow(10,r);return Math.round(t*e)/e}var N=function(){function t(t,r,e,a){void 0===a&&(a=1),this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,r)),this.b=0|Math.min(255,Math.max(0,e)),this.a=Ld(Math.max(Math.min(1,a),0),3)}return t.equals=function(t,r){return t.r===r.r&&t.g===r.g&&t.b===r.b&&t.a===r.a},t}();var rg=function(){function t(t,r,e,a){this.h=0|Math.max(Math.min(360,t),0),this.s=Ld(Math.max(Math.min(1,r),0),3),this.l=Ld(Math.max(Math.min(1,e),0),3),this.a=Ld(Math.max(Math.min(1,a),0),3)}return t.equals=function(t,r){return t.h===r.h&&t.s===r.s&&t.l===r.l&&t.a===r.a},t.fromRGBA=function(r){var e=r.r/255,a=r.g/255,n=r.b/255,o=r.a,i=Math.max(e,a,n),h=Math.min(e,a,n),u=0,$=0,s=(h+i)/2,c=i-h;if(c>0){switch($=Math.min(s<=.5?c/(2*s):c/(2-2*s),1),i){case e:u=(a-n)/c+(a<n?6:0);break;case a:u=(n-e)/c+2;break;case n:u=(e-a)/c+4;}u*=60,u=Math.round(u)}return new t(u,$,s,o)},t._hue2rgb=function(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+(r-t)*(2/3-e)*6:t},t.toRGBA=function(r){var e,a,n,o=r.h/360,i=r.s,h=r.l,u=r.a;if(0===i)e=a=n=h;else{var $=h<.5?h*(1+i):h+i-h*i,s=2*h-$;e=t._hue2rgb(s,$,o+1/3),a=t._hue2rgb(s,$,o),n=t._hue2rgb(s,$,o-1/3)}return new N(Math.round(255*e),Math.round(255*a),Math.round(255*n),u)},t}();var ml=function(){function t(t,r,e,a){this.h=0|Math.max(Math.min(360,t),0),this.s=Ld(Math.max(Math.min(1,r),0),3),this.v=Ld(Math.max(Math.min(1,e),0),3),this.a=Ld(Math.max(Math.min(1,a),0),3)}return t.equals=function(t,r){return t.h===r.h&&t.s===r.s&&t.v===r.v&&t.a===r.a},t.fromRGBA=function(r){var e,a=r.r/255,n=r.g/255,o=r.b/255,i=Math.max(a,n,o),h=i-Math.min(a,n,o),u=0===i?0:h/i;return e=0===h?0:i===a?((n-o)/h%6+6)%6:i===n?(o-a)/h+2:(a-n)/h+4,new t(Math.round(60*e),u,i,r.a)},t.toRGBA=function(t){var r=t.h,e=t.s,a=t.v,n=t.a,o=a*e,i=o*(1-Math.abs(r/60%2-1)),h=a-o,u=[0,0,0],$=u[0],s=u[1],c=u[2];return r<60?($=o,s=i):r<120?($=i,s=o):r<180?(s=o,c=i):r<240?(s=i,c=o):r<300?($=i,c=o):r<360&&($=o,c=i),$=Math.round(255*($+h)),s=Math.round(255*(s+h)),c=Math.round(255*(c+h)),new N($,s,c,n)},t}();var c=function(){function t(t){if(!t)throw new Error("Color needs a value");if(t instanceof N)this.rgba=t;else if(t instanceof rg)this._hsla=t,this.rgba=rg.toRGBA(t);else{if(!(t instanceof ml))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=ml.toRGBA(t)}}return t.fromHex=function(r){return t.Format.CSS.parseHex(r)||t.red},Object.defineProperty(t.prototype,"hsla",{get:function(){return this._hsla?this._hsla:rg.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hsva",{get:function(){return this._hsva?this._hsva:ml.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return!!t&&N.equals(this.rgba,t.rgba)&&rg.equals(this.hsla,t.hsla)&&ml.equals(this.hsva,t.hsva)},t.prototype.getRelativeLuminance=function(){return Ld(.2126*t._relativeLuminanceForComponent(this.rgba.r)+.7152*t._relativeLuminanceForComponent(this.rgba.g)+.0722*t._relativeLuminanceForComponent(this.rgba.b),4)},t._relativeLuminanceForComponent=function(t){var r=t/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)},t.prototype.isLighter=function(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128},t.prototype.isLighterThan=function(t){return this.getRelativeLuminance()>t.getRelativeLuminance()},t.prototype.isDarkerThan=function(t){return this.getRelativeLuminance()<t.getRelativeLuminance()},t.prototype.lighten=function(r){return new t(new rg(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*r,this.hsla.a))},t.prototype.darken=function(r){return new t(new rg(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*r,this.hsla.a))},t.prototype.transparent=function(r){var e=this.rgba,a=e.r,n=e.g,o=e.b,i=e.a;return new t(new N(a,n,o,i*r))},t.prototype.isTransparent=function(){return 0===this.rgba.a},t.prototype.isOpaque=function(){return 1===this.rgba.a},t.prototype.opposite=function(){return new t(new N(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},t.prototype.toString=function(){return""+t.Format.CSS.format(this)},t.getLighterColor=function(t,r,e){if(t.isLighterThan(r))return t;e=e||.5;var a=t.getRelativeLuminance(),n=r.getRelativeLuminance();return e=e*(n-a)/n,t.lighten(e)},t.getDarkerColor=function(t,r,e){if(t.isDarkerThan(r))return t;e=e||.5;var a=t.getRelativeLuminance();return e=e*(a-r.getRelativeLuminance())/a,t.darken(e)},t.white=new t(new N(255,255,255,1)),t.black=new t(new N(0,0,0,1)),t.red=new t(new N(255,0,0,1)),t.blue=new t(new N(0,0,255,1)),t.cyan=new t(new N(0,255,255,1)),t.lightgrey=new t(new N(211,211,211,1)),t.transparent=new t(new N(0,0,0,0)),t}();(function(t){!function(r){!function(r){function e(t){var r=t.toString(16);return 2!==r.length?"0"+r:r}function a(t){switch(t){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15;}return 0}r.formatRGB=function(r){return 1===r.rgba.a?"rgb("+r.rgba.r+", "+r.rgba.g+", "+r.rgba.b+")":t.Format.CSS.formatRGBA(r)},r.formatRGBA=function(t){return"rgba("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+", "+ +t.rgba.a.toFixed(2)+")"},r.formatHSL=function(r){return 1===r.hsla.a?"hsl("+r.hsla.h+", "+(100*r.hsla.s).toFixed(2)+"%, "+(100*r.hsla.l).toFixed(2)+"%)":t.Format.CSS.formatHSLA(r)},r.formatHSLA=function(t){return"hsla("+t.hsla.h+", "+(100*t.hsla.s).toFixed(2)+"%, "+(100*t.hsla.l).toFixed(2)+"%, "+t.hsla.a.toFixed(2)+")"},r.formatHex=function(t){return"#"+e(t.rgba.r)+e(t.rgba.g)+e(t.rgba.b)},r.formatHexA=function(r,a){return void 0===a&&(a=!1),a&&1===r.rgba.a?t.Format.CSS.formatHex(r):"#"+e(r.rgba.r)+e(r.rgba.g)+e(r.rgba.b)+e(Math.round(255*r.rgba.a))},r.format=function(r){return r?r.isOpaque()?t.Format.CSS.formatHex(r):t.Format.CSS.formatRGBA(r):null},r.parseHex=function(r){if(!r)return null;var e=r.length;if(0===e)return null;if(35!==r.charCodeAt(0))return null;if(7===e){var n=16*a(r.charCodeAt(1))+a(r.charCodeAt(2)),o=16*a(r.charCodeAt(3))+a(r.charCodeAt(4)),i=16*a(r.charCodeAt(5))+a(r.charCodeAt(6));return new t(new N(n,o,i,1))}if(9===e){n=16*a(r.charCodeAt(1))+a(r.charCodeAt(2)),o=16*a(r.charCodeAt(3))+a(r.charCodeAt(4)),i=16*a(r.charCodeAt(5))+a(r.charCodeAt(6));var h=16*a(r.charCodeAt(7))+a(r.charCodeAt(8));return new t(new N(n,o,i,h/255))}if(4===e)return n=a(r.charCodeAt(1)),o=a(r.charCodeAt(2)),i=a(r.charCodeAt(3)),new t(new N(16*n+n,16*o+o,16*i+i));if(5===e)return n=a(r.charCodeAt(1)),o=a(r.charCodeAt(2)),i=a(r.charCodeAt(3)),h=a(r.charCodeAt(4)),new t(new N(16*n+n,16*o+o,16*i+i,(16*h+h)/255));return null}}(r.CSS||(r.CSS={}))}(t.Format||(t.Format={}))})(c||(NU=c={},NU));var TC={ColorContribution:"base.contributions.colors"};var OU=function(){function r(){this._onDidChangeSchema=new b,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return r.prototype.registerColor=function(r,o,e,t,$){void 0===t&&(t=!1);var i={id:r,description:e,defaults:o,needsTransparency:t,deprecationMessage:$};this.colorsById[r]=i;var g={type:"string",description:e,format:"color-hex",default:"#ff0000"};return $&&(g.deprecationMessage=$),this.colorSchema.properties[r]=g,this.colorReferenceSchema.enum.push(r),this.colorReferenceSchema.enumDescriptions.push(e),this._onDidChangeSchema.fire(),r},r.prototype.resolveDefaultColor=function(r,o){var e=this.colorsById[r];if(e&&e.defaults)return ug(e.defaults[o.type],o)},r.prototype.getColorSchema=function(){return this.colorSchema},r.prototype.toString=function(){var r=this;return Object.keys(this.colorsById).sort(function(r,o){var e=-1===r.indexOf(".")?0:1,t=-1===o.indexOf(".")?0:1;return e!==t?e-t:r.localeCompare(o)}).map(function(o){return"- `"+o+"`: "+r.colorsById[o].description}).join("\n")},r}(),nl=new OU;function a(r,o,e,t,$){return nl.registerColor(r,o,e,t,$)}Sh.Registry.add(TC.ColorContribution,nl);var di=a("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},k.localize("foreground","Overall foreground color. This color is only used if not overridden by a component."));var oia=a("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},k.localize("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));var UC=a("focusBorder",{dark:c.fromHex("#0E639C").transparent(.8),light:c.fromHex("#007ACC").transparent(.4),hc:"#F38518"},k.localize("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component."));var Za=a("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},k.localize("contrastBorder","An extra border around elements to separate them from others for greater contrast."));var ob=a("contrastActiveBorder",{light:null,dark:null,hc:UC},k.localize("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));var pia=a("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},k.localize("textLinkForeground","Foreground color for links in text."));var qia=a("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:c.black},k.localize("textCodeBlockBackground","Background color for code blocks in text."));var jr=a("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},k.localize("widgetShadow","Shadow color of widgets such as find/replace inside the editor."));var PU=a("input.background",{dark:"#3C3C3C",light:c.white,hc:c.black},k.localize("inputBoxBackground","Input box background."));var QU=a("input.foreground",{dark:di,light:di,hc:di},k.localize("inputBoxForeground","Input box foreground."));var RU=a("input.border",{dark:null,light:null,hc:Za},k.localize("inputBoxBorder","Input box border."));var ria=a("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:ob},k.localize("inputBoxActiveOptionBorder","Border color of activated options in input fields."));var SU=a("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:c.black},k.localize("inputValidationInfoBackground","Input validation background color for information severity."));var TU=a("inputValidation.infoForeground",{dark:null,light:null,hc:null},k.localize("inputValidationInfoForeground","Input validation foreground color for information severity."));var UU=a("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Za},k.localize("inputValidationInfoBorder","Input validation border color for information severity."));var VU=a("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:c.black},k.localize("inputValidationWarningBackground","Input validation background color for warning severity."));var WU=a("inputValidation.warningForeground",{dark:null,light:null,hc:null},k.localize("inputValidationWarningForeground","Input validation foreground color for warning severity."));var XU=a("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Za},k.localize("inputValidationWarningBorder","Input validation border color for warning severity."));var YU=a("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:c.black},k.localize("inputValidationErrorBackground","Input validation background color for error severity."));var ZU=a("inputValidation.errorForeground",{dark:null,light:null,hc:null},k.localize("inputValidationErrorForeground","Input validation foreground color for error severity."));var $U=a("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Za},k.localize("inputValidationErrorBorder","Input validation border color for error severity."));var kr=a("dropdown.background",{dark:"#3C3C3C",light:c.white,hc:c.black},k.localize("dropdownBackground","Dropdown background."));var VC=a("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:c.white},k.localize("dropdownForeground","Dropdown foreground."));var ol=a("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},k.localize("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));var WC=a("list.focusForeground",{dark:null,light:null,hc:null},k.localize("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));var Ie=a("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},k.localize("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));var Je=a("list.activeSelectionForeground",{dark:c.white,light:c.white,hc:null},k.localize("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));var XC=a("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},k.localize("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));var YC=a("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},k.localize("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));var ZC=a("list.inactiveFocusBackground",{dark:"#313135",light:"#d8dae6",hc:null},k.localize("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));var $C=a("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},k.localize("listHoverBackground","List/Tree background when hovering over items using the mouse."));var _C=a("list.hoverForeground",{dark:null,light:null,hc:null},k.localize("listHoverForeground","List/Tree foreground when hovering over items using the mouse."));var aD=a("list.dropBackground",{dark:ol,light:ol,hc:null},k.localize("listDropBackground","List/Tree drag and drop background when moving items around using the mouse."));var sia=a("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:UC},k.localize("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));var _U=a("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:c.black},k.localize("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."));var aV=a("listFilterWidget.outline",{dark:c.transparent,light:c.transparent,hc:"#f38518"},k.localize("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees."));var bV=a("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Za},k.localize("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches."));var cV=a("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:c.white},k.localize("pickerGroupForeground","Quick picker color for grouping labels."));var dV=a("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:c.white},k.localize("pickerGroupBorder","Quick picker color for grouping borders."));var eV=a("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:c.black},k.localize("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count."));var fV=a("badge.foreground",{dark:c.white,light:"#333",hc:c.white},k.localize("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count."));var pl=a("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},k.localize("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled."));var gV=a("scrollbarSlider.background",{dark:c.fromHex("#797979").transparent(.4),light:c.fromHex("#646464").transparent(.4),hc:tg(Za,.6)},k.localize("scrollbarSliderBackground","Scrollbar slider background color."));var hV=a("scrollbarSlider.hoverBackground",{dark:c.fromHex("#646464").transparent(.7),light:c.fromHex("#646464").transparent(.7),hc:tg(Za,.8)},k.localize("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering."));var iV=a("scrollbarSlider.activeBackground",{dark:c.fromHex("#BFBFBF").transparent(.4),light:c.fromHex("#000000").transparent(.6),hc:Za},k.localize("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on."));var jV=a("progressBar.background",{dark:c.fromHex("#0E70C0"),light:c.fromHex("#0E70C0"),hc:Za},k.localize("progressBarBackground","Background color of the progress bar that can show for long running operations."));var kV=a("menu.border",{dark:null,light:null,hc:Za},k.localize("menuBorder","Border color of menus."));var lV=a("menu.foreground",{dark:VC,light:di,hc:VC},k.localize("menuForeground","Foreground color of menu items."));var mV=a("menu.background",{dark:kr,light:kr,hc:kr},k.localize("menuBackground","Background color of menu items."));var nV=a("menu.selectionForeground",{dark:Je,light:Je,hc:Je},k.localize("menuSelectionForeground","Foreground color of the selected menu item in menus."));var oV=a("menu.selectionBackground",{dark:Ie,light:Ie,hc:Ie},k.localize("menuSelectionBackground","Background color of the selected menu item in menus."));var pV=a("menu.selectionBorder",{dark:null,light:null,hc:ob},k.localize("menuSelectionBorder","Border color of the selected menu item in menus."));var qV=a("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Za},k.localize("menuSeparatorBackground","Color of a separator menu item in menus."));var Bc=a("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:c.black},k.localize("editorBackground","Editor background color."));var ql=a("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:c.white},k.localize("editorForeground","Editor default foreground color."));var rl=a("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},k.localize("editorWidgetBackground","Background color of editor widgets, such as find/replace."));var lr=a("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Za},k.localize("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));var tia=a("editorWidget.resizeBorder",{light:null,dark:null,hc:null},k.localize("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));var sg=a("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},k.localize("editorSelectionBackground","Color of the editor selection."));var rV=a("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},k.localize("editorSelectionForeground","Color of the selected text for high contrast."));var mr=a("editor.inactiveSelectionBackground",{light:tg(sg,.5),dark:tg(sg,.5),hc:tg(sg,.5)},k.localize("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0);var bD=a("editor.selectionHighlightBackground",{light:fD(sg,Bc,.3,.6),dark:fD(sg,Bc,.3,.6),hc:null},k.localize("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);var uia=a("editor.selectionHighlightBorder",{light:null,dark:null,hc:ob},k.localize("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));var via=a("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},k.localize("editorFindMatch","Color of the current search match."));var wia=a("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},k.localize("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);var xia=a("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},k.localize("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);var yia=a("editor.findMatchBorder",{light:null,dark:null,hc:ob},k.localize("editorFindMatchBorder","Border color of the current search match."));var zia=a("editor.findMatchHighlightBorder",{light:null,dark:null,hc:ob},k.localize("findMatchHighlightBorder","Border color of the other search matches."));var Aia=a("editor.findRangeHighlightBorder",{dark:null,light:null,hc:tg(ob,.4)},k.localize("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);var Bia=a("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},k.localize("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);var cD=a("editorHoverWidget.background",{light:rl,dark:rl,hc:rl},k.localize("hoverBackground","Background color of the editor hover."));var Cia=a("editorHoverWidget.border",{light:lr,dark:lr,hc:lr},k.localize("hoverBorder","Border color of the editor hover."));var Dia=a("editorHoverWidget.statusBarBackground",{dark:vV(cD,.2),light:qr(cD,.05),hc:rl},k.localize("statusBarBackground","Background color of the editor hover status bar."));var Eia=a("editorLink.activeForeground",{dark:"#4E94CE",light:c.blue,hc:c.cyan},k.localize("activeLinkForeground","Color of active links."));var nr=new c(new N(155,185,85,.2));var or=new c(new N(255,0,0,.2));var dD=a("diffEditor.insertedTextBackground",{dark:nr,light:nr,hc:null},k.localize("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);var eD=a("diffEditor.removedTextBackground",{dark:or,light:or,hc:null},k.localize("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);var sV=a("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},k.localize("diffEditorInsertedOutline","Outline color for the text that got inserted."));var tV=a("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},k.localize("diffEditorRemovedOutline","Outline color for text that got removed."));var uV=a("diffEditor.border",{dark:null,light:null,hc:Za},k.localize("diffEditorBorder","Border color between the two text editors."));var Fia=a("editor.snippetTabstopHighlightBackground",{dark:new c(new N(124,124,124,.3)),light:new c(new N(10,50,100,.2)),hc:new c(new N(124,124,124,.3))},k.localize("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));var Gia=a("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},k.localize("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));var Hia=a("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},k.localize("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));var Iia=a("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new c(new N(10,50,100,.5)),hc:"#525252"},k.localize("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet."));var pr=new c(new N(246,185,77,.7)),Jia=a("editorOverviewRuler.findMatchForeground",{dark:pr,light:pr,hc:pr},k.localize("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);var Kia=a("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},k.localize("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);function qr(r,o){return function(e){var t=ug(r,e);if(t)return t.darken(o)}}function vV(r,o){return function(e){var t=ug(r,e);if(t)return t.lighten(o)}}function tg(r,o){return function(e){var t=ug(r,e);if(t)return t.transparent(o)}}function fD(r,o,e,t){return function($){var i=ug(r,$);if(i){var g=ug(o,$);return g?i.isDarkerThan(g)?c.getLighterColor(i,g,e).transparent(t):c.getDarkerColor(i,g,e).transparent(t):i.transparent(e*t)}}}function ug(r,o){if(null!==r)return"string"==typeof r?"#"===r[0]?c.fromHex(r):o.getColor(r):r instanceof c?r:"function"==typeof r?r(o):void 0}var gD="vscode://schemas/workbench-colors";var hD=Sh.Registry.as(oq.JSONContribution);hD.registerSchema(gD,nl.getColorSchema());var iD=new wc(function(){return hD.notifySchemaChanged(gD)},200);nl.onDidChangeSchema(function(){iD.isScheduled()||iD.schedule()});var jD=a("editor.lineHighlightBackground",{dark:null,light:null,hc:null},k.localize("lineHighlight","Background color for the highlight of line at the cursor position."));var rr=a("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},k.localize("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));var wV=a("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},k.localize("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);var xV=a("editor.rangeHighlightBorder",{dark:null,light:null,hc:ob},k.localize("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0);var kD=a("editorCursor.foreground",{dark:"#AEAFAD",light:c.black,hc:c.white},k.localize("caret","Color of the editor cursor."));var yV=a("editorCursor.background",null,k.localize("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor."));var Ke=a("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},k.localize("editorWhitespaces","Color of whitespace characters in the editor."));var sl=a("editorIndentGuide.background",{dark:Ke,light:Ke,hc:Ke},k.localize("editorIndentGuides","Color of the editor indentation guides."));var tl=a("editorIndentGuide.activeBackground",{dark:Ke,light:Ke,hc:Ke},k.localize("editorActiveIndentGuide","Color of the active editor indentation guides."));var lD=a("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:c.white},k.localize("editorLineNumbers","Color of editor line numbers."));var sr=a("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:ob},k.localize("editorActiveLineNumber","Color of editor active line number"),!1,k.localize("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),zV=a("editorLineNumber.activeForeground",{dark:sr,light:sr,hc:sr},k.localize("editorActiveLineNumber","Color of editor active line number"));var AV=a("editorRuler.foreground",{dark:"#5A5A5A",light:c.lightgrey,hc:c.white},k.localize("editorRuler","Color of the editor rulers."));var Lia=a("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},k.localize("editorCodeLensForeground","Foreground color of editor code lenses"));var Mia=a("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},k.localize("editorBracketMatchBackground","Background color behind matching brackets"));var Nia=a("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},k.localize("editorBracketMatchBorder","Color for matching brackets boxes"));var BV=a("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},k.localize("editorOverviewRulerBorder","Color of the overview ruler border."));var CV=a("editorGutter.background",{dark:Bc,light:Bc,hc:Bc},k.localize("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));var DV=a("editorError.foreground",{dark:"#ea4646",light:"#d60a0a",hc:null},k.localize("errorForeground","Foreground color of error squigglies in the editor."));var EV=a("editorError.border",{dark:null,light:null,hc:c.fromHex("#E47777").transparent(.8)},k.localize("errorBorder","Border color of error squigglies in the editor."));var FV=a("editorWarning.foreground",{dark:"#4d9e4d",light:"#117711",hc:null},k.localize("warningForeground","Foreground color of warning squigglies in the editor."));var GV=a("editorWarning.border",{dark:null,light:null,hc:c.fromHex("#71B771").transparent(.8)},k.localize("warningBorder","Border color of warning squigglies in the editor."));var HV=a("editorInfo.foreground",{dark:"#008000",light:"#008000",hc:null},k.localize("infoForeground","Foreground color of info squigglies in the editor."));var IV=a("editorInfo.border",{dark:null,light:null,hc:c.fromHex("#71B771").transparent(.8)},k.localize("infoBorder","Border color of info squigglies in the editor."));var JV=a("editorHint.foreground",{dark:c.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},k.localize("hintForeground","Foreground color of hint squigglies in the editor."));var KV=a("editorHint.border",{dark:null,light:null,hc:c.fromHex("#eeeeee").transparent(.8)},k.localize("hintBorder","Border color of hint squigglies in the editor."));var LV=a("editorUnnecessaryCode.border",{dark:null,light:null,hc:c.fromHex("#fff").transparent(.8)},k.localize("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));var MV=a("editorUnnecessaryCode.opacity",{dark:c.fromHex("#000a"),light:c.fromHex("#0007"),hc:null},k.localize("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."));var NV=a("editorOverviewRuler.errorForeground",{dark:new c(new N(255,18,18,.7)),light:new c(new N(255,18,18,.7)),hc:new c(new N(255,50,50,1))},k.localize("overviewRuleError","Overview ruler marker color for errors."));var OV=a("editorOverviewRuler.warningForeground",{dark:new c(new N(18,136,18,.7)),light:new c(new N(18,136,18,.7)),hc:new c(new N(50,255,50,1))},k.localize("overviewRuleWarning","Overview ruler marker color for warnings."));var PV=a("editorOverviewRuler.infoForeground",{dark:new c(new N(18,18,136,.7)),light:new c(new N(18,18,136,.7)),hc:new c(new N(50,50,255,1))},k.localize("overviewRuleInfo","Overview ruler marker color for infos."));Bb(function(r,e){var o=r.getColor(Bc);o&&e.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+o+"; }");var t=r.getColor(ql);t&&e.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+t+"; }");var i=r.getColor(CV);i&&e.addRule(".monaco-editor .margin { background-color: "+i+"; }");var $=r.getColor(wV);$&&e.addRule(".monaco-editor .rangeHighlight { background-color: "+$+"; }");var N=r.getColor(xV);N&&e.addRule(".monaco-editor .rangeHighlight { border: 1px "+("hc"===r.type?"dotted":"solid")+" "+N+"; }");var d=r.getColor(Ke);d&&e.addRule(".vs-whitespace { color: "+d+" !important; }")});var QV=hr&&hr.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),tr=function(e){function r(r){var t=e.call(this)||this;return t._context=r,t._readConfig(),t._lastCursorModelPosition=new x(1,1),t._renderResult=null,t._context.addEventHandler(t),t}return QV(r,e),r.prototype._readConfig=function(){var e=this._context.configuration.editor;this._lineHeight=e.lineHeight,this._renderLineNumbers=e.viewInfo.renderLineNumbers,this._renderCustomLineNumbers=e.viewInfo.renderCustomLineNumbers,this._renderFinalNewline=e.viewInfo.renderFinalNewline,this._lineNumbersLeft=e.layoutInfo.lineNumbersLeft,this._lineNumbersWidth=e.layoutInfo.lineNumbersWidth},r.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},r.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},r.prototype.onCursorStateChanged=function(e){var r=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(r),2===this._renderLineNumbers||3===this._renderLineNumbers},r.prototype.onFlushed=function(e){return!0},r.prototype.onLinesChanged=function(e){return!0},r.prototype.onLinesDeleted=function(e){return!0},r.prototype.onLinesInserted=function(e){return!0},r.prototype.onScrollChanged=function(e){return e.scrollTopChanged},r.prototype.onZonesChanged=function(e){return!0},r.prototype._getLineRenderLineNumber=function(e){var r=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new x(e,1));if(1!==r.column)return"";var t=r.lineNumber;if(!this._renderFinalNewline){var n=this._context.model.getLineCount(),i=this._context.model.getLineContent(t);if(t===n&&""===i)return""}if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(t);if(2===this._renderLineNumbers){var o=Math.abs(this._lastCursorModelPosition.lineNumber-t);return 0===o?"<span class=\"relative-current-line-number\">"+t+"</span>":String(o)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===t?String(t):t%10==0?String(t):"":String(t)},r.prototype.prepareRender=function(e){if(0!==this._renderLineNumbers){for(var t=zd?this._lineHeight%2==0?" lh-even":" lh-odd":"",n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o="<div class=\""+r.CLASS_NAME+t+"\" style=\"left:"+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+"px;\">",s=[],u=n;u<=i;u++){var l=u-n,m=this._getLineRenderLineNumber(u);s[l]=m?o+m+"</div>":""}this._renderResult=s}else this._renderResult=null},r.prototype.render=function(e,r){if(!this._renderResult)return"";var t=r-e;return t<0||t>=this._renderResult.length?"":this._renderResult[t]},r.CLASS_NAME="line-numbers",r}(Kd);hr.LineNumbersOverlay=tr,Bb(function(e,r){var t=e.getColor(lD);t&&r.addRule(".monaco-editor .line-numbers { color: "+t+"; }");var n=e.getColor(zV);n&&r.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+n+"; }")});var ur={};var RV=ur&&ur.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vr=function(t){function e(e){var o=t.call(this,e)||this;return o._canUseLayerHinting=o._context.configuration.editor.canUseLayerHinting,o._contentLeft=o._context.configuration.editor.layoutInfo.contentLeft,o._glyphMarginLeft=o._context.configuration.editor.layoutInfo.glyphMarginLeft,o._glyphMarginWidth=o._context.configuration.editor.layoutInfo.glyphMarginWidth,o._domNode=o._createDomNode(),o}return RV(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this)},e.prototype.getDomNode=function(){return this._domNode},e.prototype._createDomNode=function(){var t=H(document.createElement("div"));return t.setClassName(e.OUTER_CLASS_NAME),t.setPosition("absolute"),t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=H(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(e.CLASS_NAME),t.appendChild(this._glyphMarginBackgroundDomNode),t},e.prototype.onConfigurationChanged=function(t){return t.canUseLayerHinting&&(this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onScrollChanged=function(e){return t.prototype.onScrollChanged.call(this,e)||e.scrollTopChanged},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setLayerHinting(this._canUseLayerHinting);var e=t.scrollTop-t.bigNumbersDelta;this._domNode.setTop(-e);var o=Math.min(t.scrollHeight,1e6);this._domNode.setHeight(o),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(o)},e.CLASS_NAME="glyph-margin",e.OUTER_CLASS_NAME="margin",e}(nb);ur.Margin=vr;var ul={};var SV=ul&&ul.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),mD=function(r){function t(t){for(var e=r.call(this,0)||this,o=0,a=t.length;o<a;o++)e.set(t.charCodeAt(o),2);return e.set(32,1),e.set(9,1),e}return SV(t,r),t}(Tk);function TV(r){var t={};return function(e){return t.hasOwnProperty(e)||(t[e]=r(e)),t[e]}}ul.WordCharacterClassifier=mD;var vg=TV(function(r){return new mD(r)});ul.getMapForWordSeparators=vg;var y={};var UV=y&&y.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VV=function(){return function(t){this.type=1,this.canUseLayerHinting=t.canUseLayerHinting,this.pixelRatio=t.pixelRatio,this.editorClassName=t.editorClassName,this.lineHeight=t.lineHeight,this.readOnly=t.readOnly,this.accessibilitySupport=t.accessibilitySupport,this.emptySelectionClipboard=t.emptySelectionClipboard,this.copyWithSyntaxHighlighting=t.copyWithSyntaxHighlighting,this.layoutInfo=t.layoutInfo,this.fontInfo=t.fontInfo,this.viewInfo=t.viewInfo,this.wrappingInfo=t.wrappingInfo}}();y.ViewConfigurationChangedEvent=VV;var WV=function(){return function(t){this.type=2,this.selections=t}}();y.ViewCursorStateChangedEvent=WV;var XV=function(){return function(){this.type=3}}();y.ViewDecorationsChangedEvent=XV;var YV=function(){return function(){this.type=4}}();y.ViewFlushedEvent=YV;var ZV=function(){return function(t){this.type=5,this.isFocused=t}}();y.ViewFocusChangedEvent=ZV;var $V=function(){return function(){this.type=6}}();y.ViewLineMappingChangedEvent=$V;var _V=function(){return function(t,e){this.type=7,this.fromLineNumber=t,this.toLineNumber=e}}();y.ViewLinesChangedEvent=_V;var aW=function(){return function(t,e){this.type=8,this.fromLineNumber=t,this.toLineNumber=e}}();y.ViewLinesDeletedEvent=aW;var bW=function(){return function(t,e){this.type=9,this.fromLineNumber=t,this.toLineNumber=e}}();y.ViewLinesInsertedEvent=bW;var cW=function(){return function(t,e,n,i){this.type=10,this.range=t,this.verticalType=e,this.revealHorizontal=n,this.scrollType=i}}();y.ViewRevealRangeRequestEvent=cW;var dW=function(){return function(t){this.type=11,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}();y.ViewScrollChangedEvent=dW;var eW=function(){return function(t){this.type=12,this.ranges=t}}();y.ViewTokensChangedEvent=eW;var fW=function(){return function(){this.type=15}}();y.ViewThemeChangedEvent=fW;var gW=function(){return function(){this.type=13}}();y.ViewTokensColorsChangedEvent=gW;var hW=function(){return function(){this.type=14}}();y.ViewZonesChangedEvent=hW;var iW=function(){return function(){this.type=16}}();y.ViewLanguageConfigurationEvent=iW;var jW=function(t){function e(){var e=t.call(this)||this;return e._listeners=[],e._collector=null,e._collectorCnt=0,e}return UV(e,t),e.prototype.dispose=function(){this._listeners=[],t.prototype.dispose.call(this)},e.prototype._beginEmit=function(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new nD),this._collector},e.prototype._endEmit=function(){if(this._collectorCnt--,0===this._collectorCnt){var t=this._collector.finalize();this._collector=null,t.length>0&&this._emit(t)}},e.prototype._emit=function(t){for(var e=this._listeners.slice(0),n=0,i=e.length;n<i;n++)kW(e[n],t)},e.prototype.addEventListener=function(t){var e=this;return this._listeners.push(t),ka(function(){for(var n=e._listeners,i=0,o=n.length;i<o;i++)if(n[i]===t){n.splice(i,1);break}})},e}(B);y.ViewEventEmitter=jW;var nD=function(){function t(){this._eventsLen=0,this._events=[],this._eventsLen=0}return t.prototype.emit=function(t){this._events[this._eventsLen++]=t},t.prototype.finalize=function(){var t=this._events;return this._events=[],t},t}();function kW(t,e){try{t(e)}catch(n){S(n)}}y.ViewEventsCollector=nD;var lW=fr&&fr.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mW=function(){function e(e,t,r){this.top=e,this.left=t,this.width=r}return e.prototype.setWidth=function(t){return new e(this.top,this.left,t)},e}(),vl=ue||Wc,oD=function(){function e(){this._lastState=null}return e.prototype.set=function(e){this._lastState=e},e.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState:(this._lastState=null,null)},e.INSTANCE=new e,e}(),pD=function(e){function t(t,r,o){var i=e.call(this,t)||this;i._primaryCursorVisibleRange=null,i._viewController=r,i._viewHelper=o;var n=i._context.configuration.editor;i._accessibilitySupport=n.accessibilitySupport,i._contentLeft=n.layoutInfo.contentLeft,i._contentWidth=n.layoutInfo.contentWidth,i._contentHeight=n.layoutInfo.contentHeight,i._scrollLeft=0,i._scrollTop=0,i._fontInfo=n.fontInfo,i._lineHeight=n.lineHeight,i._emptySelectionClipboard=n.emptySelectionClipboard,i._copyWithSyntaxHighlighting=n.copyWithSyntaxHighlighting,i._visibleTextArea=null,i._selections=[new ba(1,1,1,1)],i.textArea=H(document.createElement("textarea")),ic.write(i.textArea,6),i.textArea.setClassName("inputarea"),i.textArea.setAttribute("wrap","off"),i.textArea.setAttribute("autocorrect","off"),i.textArea.setAttribute("autocapitalize","off"),i.textArea.setAttribute("autocomplete","off"),i.textArea.setAttribute("spellcheck","false"),i.textArea.setAttribute("aria-label",n.viewInfo.ariaLabel),i.textArea.setAttribute("role","textbox"),i.textArea.setAttribute("aria-multiline","true"),i.textArea.setAttribute("aria-haspopup","false"),i.textArea.setAttribute("aria-autocomplete","both"),i.textAreaCover=H(document.createElement("div")),i.textAreaCover.setPosition("absolute");var a={getLineCount:function(){return i._context.model.getLineCount()},getLineMaxColumn:function(e){return i._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return i._context.model.getValueInRange(e,t)}},s={getPlainTextToCopy:function(){var e=i._context.model.getPlainTextToCopy(i._selections,i._emptySelectionClipboard,ac),t=i._context.model.getEOL(),r=i._emptySelectionClipboard&&1===i._selections.length&&i._selections[0].isEmpty(),o=Array.isArray(e)?e:null,n=Array.isArray(e)?e.join(t):e,a=null;(r||o)&&(a={lastCopiedValue:Wc?n.replace(/\r\n/g,"\n"):n,isFromEmptySelection:i._emptySelectionClipboard&&1===i._selections.length&&i._selections[0].isEmpty(),multicursorText:o});return oD.INSTANCE.set(a),n},getHTMLToCopy:function(){return i._copyWithSyntaxHighlighting||gr.forceCopyWithSyntaxHighlighting?i._context.model.getHTMLToCopy(i._selections,i._emptySelectionClipboard):null},getScreenReaderContent:function(e){if(wp)return Cb.EMPTY;if(1===i._accessibilitySupport){if(Z){var t=i._selections[0];if(t.isEmpty()){var r=t.getStartPosition(),o=i._getWordBeforePosition(r);if(0===o.length&&(o=i._getCharacterBeforePosition(r)),o.length>0)return new Cb(o,o.length,o.length,r,r)}}return Cb.EMPTY}return KU.fromEditorSelection(e,a,i._selections[0],0===i._accessibilitySupport)},deduceModelPosition:function(e,t,r){return i._context.model.deduceModelPositionRelativeToViewPosition(e,t,r)}};return i._textAreaInput=i._register(new SC(s,i.textArea)),i._register(i._textAreaInput.onKeyDown(function(e){i._viewController.emitKeyDown(e)})),i._register(i._textAreaInput.onKeyUp(function(e){i._viewController.emitKeyUp(e)})),i._register(i._textAreaInput.onPaste(function(e){var t=oD.INSTANCE.get(e.text),r=!1,o=null;t&&(r=i._emptySelectionClipboard&&t.isFromEmptySelection,o=t.multicursorText),i._viewController.paste("keyboard",e.text,r,o)})),i._register(i._textAreaInput.onCut(function(){i._viewController.cut("keyboard")})),i._register(i._textAreaInput.onType(function(e){e.replaceCharCnt?i._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):i._viewController.type("keyboard",e.text)})),i._register(i._textAreaInput.onSelectionChangeRequest(function(e){i._viewController.setSelection("keyboard",e)})),i._register(i._textAreaInput.onCompositionStart(function(){var e=i._selections[0].startLineNumber,t=i._selections[0].startColumn;i._context.privateViewEventBus.emit(new y.ViewRevealRangeRequestEvent(new j(e,t,e,t),0,!0,1));var r=i._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);r&&(i._visibleTextArea=new mW(i._context.viewLayout.getVerticalOffsetForLineNumber(e),r.left,vl?0:1),i._render()),i.textArea.setClassName("inputarea ime-input"),i._viewController.compositionStart("keyboard")})),i._register(i._textAreaInput.onCompositionUpdate(function(e){ue?i._visibleTextArea=i._visibleTextArea.setWidth(0):i._visibleTextArea=i._visibleTextArea.setWidth(nW(e.data,i._fontInfo)),i._render()})),i._register(i._textAreaInput.onCompositionEnd(function(){i._visibleTextArea=null,i._render(),i.textArea.setClassName("inputarea"),i._viewController.compositionEnd("keyboard")})),i._register(i._textAreaInput.onFocus(function(){i._context.privateViewEventBus.emit(new y.ViewFocusChangedEvent(!0))})),i._register(i._textAreaInput.onBlur(function(){i._context.privateViewEventBus.emit(new y.ViewFocusChangedEvent(!1))})),i}return lW(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getWordBeforePosition=function(e){for(var t=this._context.model.getLineContent(e.lineNumber),r=vg(this._context.configuration.editor.wordSeparators),o=e.column,i=0;o>1;){var n=t.charCodeAt(o-2);if(0!==r.get(n)||i>50)return t.substring(o-1,e.column-1);i++,o--}return t.substring(0,e.column-1)},t.prototype._getCharacterBeforePosition=function(e){if(e.column>1){var t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!z.isHighSurrogate(t.charCodeAt(0)))return t}return""},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.editor;return e.fontInfo&&(this._fontInfo=t.fontInfo),e.viewInfo&&this.textArea.setAttribute("aria-label",t.viewInfo.ariaLabel),e.layoutInfo&&(this._contentLeft=t.layoutInfo.contentLeft,this._contentWidth=t.layoutInfo.contentWidth,this._contentHeight=t.layoutInfo.contentHeight),e.lineHeight&&(this._lineHeight=t.lineHeight),e.accessibilitySupport&&(this._accessibilitySupport=t.accessibilitySupport,this._textAreaInput.writeScreenReaderContent("strategy changed")),e.emptySelectionClipboard&&(this._emptySelectionClipboard=t.emptySelectionClipboard),e.copyWithSyntaxHighlighting&&(this._copyWithSyntaxHighlighting=t.copyWithSyntaxHighlighting),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.isFocused=function(){return this._textAreaInput.isFocused()},t.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},t.prototype.prepareRender=function(e){if(2===this._accessibilitySupport)this._primaryCursorVisibleRange=null;else{var t=new x(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=e.visibleRangeForPosition(t)}},t.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},t.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,!0);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():this._renderInsideEditor(t,e,vl?0:1,vl?0:1,!1)}}else this._renderAtTopLeft()},t.prototype._renderInsideEditor=function(e,t,r,o,i){var n=this.textArea,a=this.textAreaCover;i?mb.applyFontInfo(n,this._fontInfo):(n.setFontSize(1),n.setLineHeight(this._fontInfo.lineHeight)),n.setTop(e),n.setLeft(t),n.setWidth(r),n.setHeight(o),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)},t.prototype._renderAtTopLeft=function(){var e=this.textArea,t=this.textAreaCover;if(mb.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),vl)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1),this._context.configuration.editor.viewInfo.glyphMargin?t.setClassName("monaco-editor-background textAreaCover "+vr.OUTER_CLASS_NAME):0!==this._context.configuration.editor.viewInfo.renderLineNumbers?t.setClassName("monaco-editor-background textAreaCover "+tr.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},t}(nb);function nW(e,t){var r=document.createElement("canvas").getContext("2d");r.font=oW(t);var o=r.measureText(e);return Wc?o.width+2:o.width}function oW(e){return pW("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}function pW(e,t,r,o,i){return e+" normal "+t+" "+r+"px / "+o+"px "+i}fr.TextAreaHandler=pD;var qW,rW,sW,tW,jc={};var Cc={};var uW=gb.performance&&"function"==typeof gb.performance.now,vW=function(){function t(t){this._highResolution=uW&&t,this._startTime=this._now(),this._stopTime=-1}return t.create=function(o){return void 0===o&&(o=!0),new t(o)},t.prototype.stop=function(){this._stopTime=this._now()},t.prototype.elapsed=function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime},t.prototype._now=function(){return this._highResolution?gb.performance.now():new Date().getTime()},t}();var qD=function(){function t(t,e){this.beforeVersionId=t,this.beforeCursorState=e,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return t.prototype.undo=function(t){for(var e=this.editOperations.length-1;e>=0;e--)this.editOperations[e]={operations:t.applyEdits(this.editOperations[e].operations)}},t.prototype.redo=function(t){for(var e=0;e<this.editOperations.length;e++)this.editOperations[e]={operations:t.applyEdits(this.editOperations[e].operations)}},t}();function wr(t){return"\n"===t.getEOL()?0:1}var wW=function(){function t(t,e){this.beforeVersionId=t,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=e}return t.prototype.undo=function(t){var e=wr(t);t.setEOL(this.eol),this.eol=e},t.prototype.redo=function(t){var e=wr(t);t.setEOL(this.eol),this.eol=e},t}(),rD=function(){function t(t){this.model=t,this.currentOpenStackElement=null,this.past=[],this.future=[]}return t.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},t.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},t.prototype.pushEOL=function(t){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var e=wr(this.model),r=new wW(this.model.getAlternativeVersionId(),e);this.model.setEOL(t),r.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=r,this.pushStackElement()},t.prototype.pushEditOperation=function(e,r,n){this.future=[];var s=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof qD?s=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(s=new qD(this.model.getAlternativeVersionId(),e),this.currentOpenStackElement=s);var o={operations:this.model.applyEdits(r)};return s.editOperations.push(o),s.afterCursorState=t._computeCursorState(n,o.operations),s.afterVersionId=this.model.getVersionId(),s.afterCursorState},t._computeCursorState=function(t,e){try{return t?t(e):null}catch(r){return S(r),null}},t.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var t=this.past.pop();try{t.undo(this.model)}catch(e){return S(e),this.clear(),null}return this.future.push(t),{selections:t.beforeCursorState,recordedVersionId:t.beforeVersionId}}return null},t.prototype.canUndo=function(){return this.past.length>0||null!==this.currentOpenStackElement},t.prototype.redo=function(){if(this.future.length>0){var t=this.future.pop();try{t.redo(this.model)}catch(e){return S(e),this.clear(),null}return this.past.push(t),{selections:t.afterCursorState,recordedVersionId:t.afterVersionId}}return null},t.prototype.canRedo=function(){return this.future.length>0},t}();var xW=function(){return function(){}}();function yW(e,a,t,r,n){var i;for(n.spacesDiff=0,n.looksLikeAlignment=!1,i=0;i<a&&i<r;i++){if(e.charCodeAt(i)!==t.charCodeAt(i))break}for(var o=0,f=0,s=i;s<a;s++){32===e.charCodeAt(s)?o++:f++}var c=0,$=0;for(s=i;s<r;s++){32===t.charCodeAt(s)?c++:$++}if(!(o>0&&f>0||c>0&&$>0)){var v=Math.abs(f-$),h=Math.abs(o-c);if(0===v)return n.spacesDiff=h,void(h>0&&0<=c-1&&c-1<e.length&&c<t.length&&32!==t.charCodeAt(c)&&32===e.charCodeAt(c-1)&&(n.looksLikeAlignment=!0));h%v!=0||(n.spacesDiff=h/v)}}function sD(e,a,t){for(var r=Math.min(e.getLineCount(),1e4),n=0,i=0,o="",f=0,s=[0,0,0,0,0,0,0,0,0],c=new xW,$=1;$<=r;$++){for(var v=e.getLineLength($),h=e.getLineContent($),u=v<=65536,g=!1,p=0,d=0,l=0,C=0,A=v;C<A;C++){var j=u?h.charCodeAt(C):e.getLineCharCode($,C);if(9===j)l++;else{if(32!==j){g=!0,p=C;break}d++}}if(g&&(l>0?n++:d>1&&i++,yW(o,f,h,p,c),!c.looksLikeAlignment)){var k=c.spacesDiff;k<=8&&s[k]++,o=h,f=p}}var D=t;n!==i&&(D=n<i);var L=a,Q=D?0:.1*r;return[2,4,6,8,3,5,7].forEach(function(e){var a=s[e];a>Q&&(Q=a,L=e)}),4===L&&s[4]>0&&s[2]>0&&s[2]>=s[4]/2&&(L=2),{insertSpaces:D,tabSize:L}}function Ma(e){return(1&e.metadata)>>>0}function n(e,t){e.metadata=254&e.metadata|t<<0}function ta(e){return(2&e.metadata)>>>1==1}function K(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function tD(e){return(4&e.metadata)>>>2==1}function uD(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function xr(e){return(8&e.metadata)>>>3==1}function vD(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function zW(e){return(48&e.metadata)>>>4}function wD(e,t){e.metadata=207&e.metadata|t<<4}function AW(e){return(64&e.metadata)>>>6==1}function xD(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}var yD=function(){function e(e,t,a){this.metadata=0,this.parent=this,this.left=this,this.right=this,n(this,1),this.start=t,this.end=a,this.delta=0,this.maxEnd=a,this.id=e,this.ownerId=0,this.options=null,uD(this,!1),wD(this,1),vD(this,!1),xD(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=a,this.range=null,K(this,!1)}return e.prototype.reset=function(e,t,a,r){this.start=t,this.end=a,this.maxEnd=a,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=a,this.range=r},e.prototype.setOptions=function(e){this.options=e;var t=this.options.className;uD(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),wD(this,this.options.stickiness),vD(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),xD(this,this.options.collapseOnReplaceEdit)},e.prototype.setCachedOffsets=function(e,t,a){this.cachedVersionId!==a&&(this.range=null),this.cachedVersionId=a,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}();var h=new yD(null,0,0);h.parent=h,h.left=h,h.right=h,n(h,0);var zD=function(){function e(){this.root=h,this.requestNormalizeDelta=!1}return e.prototype.intervalSearch=function(e,t,a,r,$){return this.root===h?[]:IW(this,e,t,a,r,$)},e.prototype.search=function(e,t,a){return this.root===h?[]:HW(this,e,t,a)},e.prototype.collectNodesFromOwner=function(e){return FW(this,e)},e.prototype.collectNodesPostOrder=function(){return GW(this)},e.prototype.insert=function(e){AD(this,e),this._normalizeDeltaIfNecessary()},e.prototype.delete=function(e){BD(this,e),this._normalizeDeltaIfNecessary()},e.prototype.resolveNode=function(e,t){for(var a=e,r=0;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;var $=a.start+r,o=a.end+r;a.setCachedOffsets($,o,t)},e.prototype.acceptReplace=function(e,t,a,r){for(var $=DW(this,e,e+t),o=0,i=$.length;o<i;o++){BD(this,s=$[o])}this._normalizeDeltaIfNecessary(),EW(this,e,e+t,a),this._normalizeDeltaIfNecessary();for(o=0,i=$.length;o<i;o++){var s;(s=$[o]).start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,CW(s,e,e+t,a,r),s.maxEnd=s.end,AD(this,s)}this._normalizeDeltaIfNecessary()},e.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,BW(this))},e}();function BW(e){for(var t=e.root,a=0;t!==h;)t.left===h||ta(t.left)?t.right===h||ta(t.right)?(t.start=a+t.start,t.end=a+t.end,t.delta=0,Md(t),K(t,!0),K(t.left,!1),K(t.right,!1),t===t.parent.right&&(a-=t.parent.delta),t=t.parent):(a+=t.delta,t=t.right):t=t.left;K(e.root,!1)}function wg(e,t,a,r){return e<a||!(e>a)&&1!==r&&(2===r||t)}function CW(e,t,a,r,$){var o=zW(e),i=0===o||2===o,s=1===o||2===o,n=a-t,d=r,l=Math.min(n,d),p=e.start,J=!1,X=e.end,N=!1;t<=p&&X<=a&&AW(e)&&(e.start=t,J=!0,e.end=t,N=!0);var v=$?1:n>0?2:0;if(!J&&wg(p,i,t,v)&&(J=!0),!N&&wg(X,s,t,v)&&(N=!0),l>0&&!$){v=n>d?2:0;!J&&wg(p,i,t+l,v)&&(J=!0),!N&&wg(X,s,t+l,v)&&(N=!0)}v=$?1:0;!J&&wg(p,i,a,v)&&(e.start=t+d,J=!0),!N&&wg(X,s,a,v)&&(e.end=t+d,N=!0);var f=d-n;J||(e.start=Math.max(0,p+f)),N||(e.end=Math.max(0,X+f)),e.start>e.end&&(e.end=e.start)}function DW(e,t,a){for(var r=e.root,$=0,o=0,i=0,s=[],n=0;r!==h;)if(ta(r))K(r.left,!1),K(r.right,!1),r===r.parent.right&&($-=r.parent.delta),r=r.parent;else{if(!ta(r.left)){if($+r.maxEnd<t){K(r,!0);continue}if(r.left!==h){r=r.left;continue}}(o=$+r.start)>a?K(r,!0):((i=$+r.end)>=t&&(r.setCachedOffsets(o,i,0),s[n++]=r),K(r,!0),r.right===h||ta(r.right)||($+=r.delta,r=r.right))}return K(e.root,!1),s}function EW(e,t,a,r){for(var $=e.root,o=0,i=r-(a-t);$!==h;)if(ta($))K($.left,!1),K($.right,!1),$===$.parent.right&&(o-=$.parent.delta),Md($),$=$.parent;else{if(!ta($.left)){if(o+$.maxEnd<t){K($,!0);continue}if($.left!==h){$=$.left;continue}}o+$.start>a?($.start+=i,$.end+=i,$.delta+=i,($.delta<-1073741824||$.delta>1073741824)&&(e.requestNormalizeDelta=!0),K($,!0)):(K($,!0),$.right===h||ta($.right)||(o+=$.delta,$=$.right))}K(e.root,!1)}function FW(e,t){for(var a=e.root,r=[],$=0;a!==h;)ta(a)?(K(a.left,!1),K(a.right,!1),a=a.parent):a.left===h||ta(a.left)?(a.ownerId===t&&(r[$++]=a),K(a,!0),a.right===h||ta(a.right)||(a=a.right)):a=a.left;return K(e.root,!1),r}function GW(e){for(var t=e.root,a=[],r=0;t!==h;)ta(t)?(K(t.left,!1),K(t.right,!1),t=t.parent):t.left===h||ta(t.left)?t.right===h||ta(t.right)?(a[r++]=t,K(t,!0)):t=t.right:t=t.left;return K(e.root,!1),a}function HW(e,t,a,r){for(var $=e.root,o=0,i=0,s=0,n=[],d=0;$!==h;)if(ta($))K($.left,!1),K($.right,!1),$===$.parent.right&&(o-=$.parent.delta),$=$.parent;else if($.left===h||ta($.left)){i=o+$.start,s=o+$.end,$.setCachedOffsets(i,s,r);var l=!0;t&&$.ownerId&&$.ownerId!==t&&(l=!1),a&&tD($)&&(l=!1),l&&(n[d++]=$),K($,!0),$.right===h||ta($.right)||(o+=$.delta,$=$.right)}else $=$.left;return K(e.root,!1),n}function IW(e,t,a,r,$,o){for(var i=e.root,s=0,n=0,d=0,l=[],p=0;i!==h;)if(ta(i))K(i.left,!1),K(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;else{if(!ta(i.left)){if(s+i.maxEnd<t){K(i,!0);continue}if(i.left!==h){i=i.left;continue}}if((n=s+i.start)>a)K(i,!0);else{if((d=s+i.end)>=t){i.setCachedOffsets(n,d,o);var J=!0;r&&i.ownerId&&i.ownerId!==r&&(J=!1),$&&tD(i)&&(J=!1),J&&(l[p++]=i)}K(i,!0),i.right===h||ta(i.right)||(s+=i.delta,i=i.right)}}return K(e.root,!1),l}function AD(e,t){if(e.root===h)return t.parent=h,t.left=h,t.right=h,n(t,0),e.root=t,e.root;JW(e,t),Nd(t.parent);for(var a=t;a!==e.root&&1===Ma(a.parent);){var r;if(a.parent===a.parent.parent.left)1===Ma(r=a.parent.parent.right)?(n(a.parent,0),n(r,0),n(a.parent.parent,1),a=a.parent.parent):(a===a.parent.right&&ei(e,a=a.parent),n(a.parent,0),n(a.parent.parent,1),fi(e,a.parent.parent));else 1===Ma(r=a.parent.parent.left)?(n(a.parent,0),n(r,0),n(a.parent.parent,1),a=a.parent.parent):(a===a.parent.left&&fi(e,a=a.parent),n(a.parent,0),n(a.parent.parent,1),ei(e,a.parent.parent))}return n(e.root,0),t}function JW(e,t){for(var a=0,r=e.root,$=t.start,o=t.end;;){if(LW($,o,r.start+a,r.end+a)<0){if(r.left===h){t.start-=a,t.end-=a,t.maxEnd-=a,r.left=t;break}r=r.left}else{if(r.right===h){t.start-=a+r.delta,t.end-=a+r.delta,t.maxEnd-=a+r.delta,r.right=t;break}a+=r.delta,r=r.right}}t.parent=r,t.left=h,t.right=h,n(t,1)}function BD(e,t){var a,r;if(t.left===h?(r=t,(a=t.right).delta+=t.delta,(a.delta<-1073741824||a.delta>1073741824)&&(e.requestNormalizeDelta=!0),a.start+=t.delta,a.end+=t.delta):t.right===h?(a=t.left,r=t):((a=(r=KW(t.right)).right).start+=r.delta,a.end+=r.delta,a.delta+=r.delta,(a.delta<-1073741824||a.delta>1073741824)&&(e.requestNormalizeDelta=!0),r.start+=t.delta,r.end+=t.delta,r.delta=t.delta,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0)),r===e.root)return e.root=a,n(a,0),t.detach(),yr(),Md(a),void(e.root.parent=h);var $,o=1===Ma(r);if(r===r.parent.left?r.parent.left=a:r.parent.right=a,r===t?a.parent=r.parent:(r.parent===t?a.parent=r:a.parent=r.parent,r.left=t.left,r.right=t.right,r.parent=t.parent,n(r,Ma(t)),t===e.root?e.root=r:t===t.parent.left?t.parent.left=r:t.parent.right=r,r.left!==h&&(r.left.parent=r),r.right!==h&&(r.right.parent=r)),t.detach(),o)return Nd(a.parent),r!==t&&(Nd(r),Nd(r.parent)),void yr();for(Nd(a),Nd(a.parent),r!==t&&(Nd(r),Nd(r.parent));a!==e.root&&0===Ma(a);)a===a.parent.left?(1===Ma($=a.parent.right)&&(n($,0),n(a.parent,1),ei(e,a.parent),$=a.parent.right),0===Ma($.left)&&0===Ma($.right)?(n($,1),a=a.parent):(0===Ma($.right)&&(n($.left,0),n($,1),fi(e,$),$=a.parent.right),n($,Ma(a.parent)),n(a.parent,0),n($.right,0),ei(e,a.parent),a=e.root)):(1===Ma($=a.parent.left)&&(n($,0),n(a.parent,1),fi(e,a.parent),$=a.parent.left),0===Ma($.left)&&0===Ma($.right)?(n($,1),a=a.parent):(0===Ma($.left)&&(n($.right,0),n($,1),ei(e,$),$=a.parent.left),n($,Ma(a.parent)),n(a.parent,0),n($.left,0),fi(e,a.parent),a=e.root));n(a,0),yr()}function KW(e){for(;e.left!==h;)e=e.left;return e}function yr(){h.parent=h,h.delta=0,h.start=0,h.end=0}function ei(e,t){var a=t.right;a.delta+=t.delta,(a.delta<-1073741824||a.delta>1073741824)&&(e.requestNormalizeDelta=!0),a.start+=t.delta,a.end+=t.delta,t.right=a.left,a.left!==h&&(a.left.parent=t),a.parent=t.parent,t.parent===h?e.root=a:t===t.parent.left?t.parent.left=a:t.parent.right=a,a.left=t,t.parent=a,Md(t),Md(a)}function fi(e,t){var a=t.left;t.delta-=a.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=a.delta,t.end-=a.delta,t.left=a.right,a.right!==h&&(a.right.parent=t),a.parent=t.parent,t.parent===h?e.root=a:t===t.parent.right?t.parent.right=a:t.parent.left=a,a.right=t,t.parent=a,Md(t),Md(a)}function CD(e){var t=e.end;if(e.left!==h){var a=e.left.maxEnd;a>t&&(t=a)}if(e.right!==h){var r=e.right.maxEnd+e.delta;r>t&&(t=r)}return t}function Md(e){e.maxEnd=CD(e)}function Nd(e){for(;e!==h;){var t=CD(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function LW(e,t,a,r){return e===a?t-r:e-a}var zr=function(){function t(t,e){this.piece=t,this.color=e,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return t.prototype.next=function(){if(this.right!==v)return Ar(this.right);for(var t=this;t.parent!==v&&t.parent.left!==t;)t=t.parent;return t.parent===v?v:t.parent},t.prototype.prev=function(){if(this.left!==v)return DD(this.left);for(var t=this;t.parent!==v&&t.parent.right!==t;)t=t.parent;return t.parent===v?v:t.parent},t.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},t}();var v=new zr(null,0);function Ar(t){for(;t.left!==v;)t=t.left;return t}function DD(t){for(;t.right!==v;)t=t.right;return t}function Br(t){return t===v?0:t.size_left+t.piece.length+Br(t.right)}function Cr(t){return t===v?0:t.lf_left+t.piece.lineFeedCnt+Cr(t.right)}function Dr(){v.parent=v}function gi(t,e){var r=e.right;r.size_left+=e.size_left+(e.piece?e.piece.length:0),r.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=r.left,r.left!==v&&(r.left.parent=e),r.parent=e.parent,e.parent===v?t.root=r:e.parent.left===e?e.parent.left=r:e.parent.right=r,r.left=e,e.parent=r}function hi(t,e){var r=e.left;e.left=r.right,r.right!==v&&(r.right.parent=e),r.parent=e.parent,e.size_left-=r.size_left+(r.piece?r.piece.length:0),e.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),e.parent===v?t.root=r:e===e.parent.right?e.parent.right=r:e.parent.left=r,r.right=e,e.parent=r}function wl(t,e){var r,l;if(r=e.left===v?(l=e).right:e.right===v?(l=e).left:(l=Ar(e.right)).right,l===t.root)return t.root=r,r.color=0,e.detach(),Dr(),void(t.root.parent=v);var o=1===l.color;if(l===l.parent.left?l.parent.left=r:l.parent.right=r,l===e?(r.parent=l.parent,ii(t,r)):(l.parent===e?r.parent=l:r.parent=l.parent,ii(t,r),l.left=e.left,l.right=e.right,l.parent=e.parent,l.color=e.color,e===t.root?t.root=l:e===e.parent.left?e.parent.left=l:e.parent.right=l,l.left!==v&&(l.left.parent=l),l.right!==v&&(l.right.parent=l),l.size_left=e.size_left,l.lf_left=e.lf_left,ii(t,l)),e.detach(),r.parent.left===r){var $=Br(r),p=Cr(r);if($!==r.parent.size_left||p!==r.parent.lf_left){var i=$-r.parent.size_left,a=p-r.parent.lf_left;r.parent.size_left=$,r.parent.lf_left=p,bd(t,r.parent,i,a)}}if(ii(t,r.parent),o)Dr();else{for(var n;r!==t.root&&0===r.color;)r===r.parent.left?(1===(n=r.parent.right).color&&(n.color=0,r.parent.color=1,gi(t,r.parent),n=r.parent.right),0===n.left.color&&0===n.right.color?(n.color=1,r=r.parent):(0===n.right.color&&(n.left.color=0,n.color=1,hi(t,n),n=r.parent.right),n.color=r.parent.color,r.parent.color=0,n.right.color=0,gi(t,r.parent),r=t.root)):(1===(n=r.parent.left).color&&(n.color=0,r.parent.color=1,hi(t,r.parent),n=r.parent.left),0===n.left.color&&0===n.right.color?(n.color=1,r=r.parent):(0===n.left.color&&(n.right.color=0,n.color=1,gi(t,n),n=r.parent.left),n.color=r.parent.color,r.parent.color=0,n.left.color=0,hi(t,r.parent),r=t.root));r.color=0,Dr()}}function ED(t,e){for(ii(t,e);e!==t.root&&1===e.parent.color;){var r;if(e.parent===e.parent.parent.left)1===(r=e.parent.parent.right).color?(e.parent.color=0,r.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&gi(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,hi(t,e.parent.parent));else 1===(r=e.parent.parent.left).color?(e.parent.color=0,r.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&hi(t,e=e.parent),e.parent.color=0,e.parent.parent.color=1,gi(t,e.parent.parent))}t.root.color=0}function bd(t,e,r,l){for(;e!==t.root&&e!==v;)e.parent.left===e&&(e.parent.size_left+=r,e.parent.lf_left+=l),e=e.parent}function ii(t,e){var r=0,l=0;if(e!==t.root){if(0===r){for(;e!==t.root&&e===e.parent.right;)e=e.parent;if(e===t.root)return;r=Br((e=e.parent).left)-e.size_left,l=Cr(e.left)-e.lf_left,e.size_left+=r,e.lf_left+=l}for(;e!==t.root&&(0!==r||0!==l);)e.parent.left===e&&(e.parent.size_left+=r,e.parent.lf_left+=l),e=e.parent}}v.parent=v,v.left=v,v.right=v,v.color=0;var MW=999,xg=function(){function e(e,t,r,n){this.searchString=e,this.isRegex=t,this.matchCase=r,this.wordSeparators=n}return e.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var e;e=this.isRegex?NW(this.searchString):this.searchString.indexOf("\n")>=0;var t=null;try{t=z.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0})}catch(n){return null}if(!t)return null;var r=!this.isRegex&&!e;return r&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(r=this.matchCase),new OW(t,this.wordSeparators?vg(this.wordSeparators):null,r?this.searchString:null)},e}();function NW(e){if(!e||0===e.length)return!1;for(var t=0,r=e.length;t<r;t++){if(92===e.charCodeAt(t)){if(++t>=r)break;var n=e.charCodeAt(t);if(110===n||114===n||87===n)return!0}}return!1}var OW=function(){return function(e,t,r){this.regex=e,this.wordSeparators=t,this.simpleSearch=r}}();function Le(e,t,r){if(!r)return new Nh(e,null);for(var n=[],i=0,a=t.length;i<a;i++)n[i]=t[i];return new Nh(e,n)}var FD=function(){function e(e){for(var t=[],r=0,n=0,i=e.length;n<i;n++)10===e.charCodeAt(n)&&(t[r++]=n);this._lineFeedsOffsets=t}return e.prototype.findLineFeedCountBeforeOffset=function(e){var t=this._lineFeedsOffsets,r=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;r<n;){var i=r+((n-r)/2>>0);t[i]>=e?n=i-1:t[i+1]>=e?(r=i,n=i):r=i+1}return r+1},e}(),xl=function(){function e(){}return e.findMatches=function(e,t,r,n,i){var a=t.parseSearchRequest();return a?a.regex.multiline?this._doFindMatchesMultiline(e,r,new ji(a.wordSeparators,a.regex),n,i):this._doFindMatchesLineByLine(e,r,a,n,i):[]},e._getMultilineMatchRange=function(e,t,r,n,i,a){var o,u,s=0;if(o=n?t+i+(s=n.findLineFeedCountBeforeOffset(i)):t+i,n){var h=n.findLineFeedCountBeforeOffset(i+a.length)-s;u=o+a.length+h}else u=o+a.length;var $=e.getPositionAt(o),c=e.getPositionAt(u);return new j($.lineNumber,$.column,c.lineNumber,c.column)},e._doFindMatchesMultiline=function(e,t,r,n,i){var a,o=e.getOffsetAt(t.getStartPosition()),u=e.getValueInRange(t,1),s="\r\n"===e.getEOL()?new FD(u):null,h=[],$=0;for(r.reset(0);a=r.next(u);)if(h[$++]=Le(this._getMultilineMatchRange(e,o,u,s,a.index,a[0]),a,n),$>=i)return h;return h},e._doFindMatchesLineByLine=function(e,t,r,n,i){var a=[],o=0;if(t.startLineNumber===t.endLineNumber){var u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return o=this._findMatchesInLine(r,u,t.startLineNumber,t.startColumn-1,o,a,n,i),a}var s=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);o=this._findMatchesInLine(r,s,t.startLineNumber,t.startColumn-1,o,a,n,i);for(var h=t.startLineNumber+1;h<t.endLineNumber&&o<i;h++)o=this._findMatchesInLine(r,e.getLineContent(h),h,0,o,a,n,i);if(o<i){var $=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);o=this._findMatchesInLine(r,$,t.endLineNumber,0,o,a,n,i)}return a},e._findMatchesInLine=function(e,t,r,n,i,a,o,u){var s=e.wordSeparators;if(!o&&e.simpleSearch){for(var h=e.simpleSearch,$=h.length,c=t.length,l=-$;-1!==(l=t.indexOf(h,l+$));)if((!s||Er(s,t,c,l,$))&&(a[i++]=new Nh(new j(r,l+1+n,r,l+1+$+n),null),i>=u))return i;return i}var m,d=new ji(e.wordSeparators,e.regex);d.reset(0);do{if((m=d.next(t))&&(a[i++]=Le(new j(r,m.index+1+n,r,m.index+1+m[0].length+n),m,o),i>=u))return i}while(m);return i},e.findNextMatch=function(e,t,r,n){var i=t.parseSearchRequest();if(!i)return null;var a=new ji(i.wordSeparators,i.regex);return i.regex.multiline?this._doFindNextMatchMultiline(e,r,a,n):this._doFindNextMatchLineByLine(e,r,a,n)},e._doFindNextMatchMultiline=function(e,t,r,n){var i=new x(t.lineNumber,1),a=e.getOffsetAt(i),o=e.getLineCount(),u=e.getValueInRange(new j(i.lineNumber,i.column,o,e.getLineMaxColumn(o)),1),s="\r\n"===e.getEOL()?new FD(u):null;r.reset(t.column-1);var h=r.next(u);return h?Le(this._getMultilineMatchRange(e,a,u,s,h.index,h[0]),h,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new x(1,1),r,n):null},e._doFindNextMatchLineByLine=function(e,t,r,n){var i=e.getLineCount(),a=t.lineNumber,o=e.getLineContent(a),u=this._findFirstMatchInLine(r,o,a,t.column,n);if(u)return u;for(var s=1;s<=i;s++){var h=(a+s-1)%i,$=e.getLineContent(h+1),c=this._findFirstMatchInLine(r,$,h+1,1,n);if(c)return c}return null},e._findFirstMatchInLine=function(e,t,r,n,i){e.reset(n-1);var a=e.next(t);return a?Le(new j(r,a.index+1,r,a.index+1+a[0].length),a,i):null},e.findPreviousMatch=function(e,t,r,n){var i=t.parseSearchRequest();if(!i)return null;var a=new ji(i.wordSeparators,i.regex);return i.regex.multiline?this._doFindPreviousMatchMultiline(e,r,a,n):this._doFindPreviousMatchLineByLine(e,r,a,n)},e._doFindPreviousMatchMultiline=function(e,t,r,n){var i=this._doFindMatchesMultiline(e,new j(1,1,t.lineNumber,t.column),r,n,10*MW);if(i.length>0)return i[i.length-1];var a=e.getLineCount();return t.lineNumber!==a||t.column!==e.getLineMaxColumn(a)?this._doFindPreviousMatchMultiline(e,new x(a,e.getLineMaxColumn(a)),r,n):null},e._doFindPreviousMatchLineByLine=function(e,t,r,n){var i=e.getLineCount(),a=t.lineNumber,o=e.getLineContent(a).substring(0,t.column-1),u=this._findLastMatchInLine(r,o,a,n);if(u)return u;for(var s=1;s<=i;s++){var h=(i+a-s-1)%i,$=e.getLineContent(h+1),c=this._findLastMatchInLine(r,$,h+1,n);if(c)return c}return null},e._findLastMatchInLine=function(e,t,r,n){var i,a=null;for(e.reset(0);i=e.next(t);)a=Le(new j(r,i.index+1,r,i.index+1+i[0].length),i,n);return a},e}();function PW(e,t,r,n,i){if(0===n)return!0;var a=t.charCodeAt(n-1);if(0!==e.get(a))return!0;if(13===a||10===a)return!0;if(i>0){var o=t.charCodeAt(n);if(0!==e.get(o))return!0}return!1}function QW(e,t,r,n,i){if(n+i===r)return!0;var a=t.charCodeAt(n+i);if(0!==e.get(a))return!0;if(13===a||10===a)return!0;if(i>0){var o=t.charCodeAt(n+i-1);if(0!==e.get(o))return!0}return!1}function Er(e,t,r,n,i){return PW(e,t,r,n,i)&&QW(e,t,r,n,i)}var ji=function(){function e(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return e.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},e.prototype.next=function(e){var t,r=e.length;do{if(this._prevMatchStartIndex+this._prevMatchLength===r)return null;if(!(t=this._searchRegex.exec(e)))return null;var n=t.index,i=t[0].length;if(n===this._prevMatchStartIndex&&i===this._prevMatchLength)return null;if(this._prevMatchStartIndex=n,this._prevMatchLength=i,!this._wordSeparators||Er(this._wordSeparators,e,r,n,i))return t}while(t);return null},e}();var cd=65535;function GD(e){var t;return(t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length)).set(e,0),t}var RW=function(){return function(e,t,r,i,n){this.lineStarts=e,this.cr=t,this.lf=r,this.crlf=i,this.isBasicASCII=n}}();function dd(e,t){void 0===t&&(t=!0);for(var r=[0],i=1,n=0,f=e.length;n<f;n++){var s=e.charCodeAt(n);13===s?n+1<f&&10===e.charCodeAt(n+1)?(r[i++]=n+2,n++):r[i++]=n+1:10===s&&(r[i++]=n+1)}return t?GD(r):r}function SW(e,t){e.length=0,e[0]=0;for(var r=1,i=0,n=0,f=0,s=!0,u=0,o=t.length;u<o;u++){var a=t.charCodeAt(u);13===a?u+1<o&&10===t.charCodeAt(u+1)?(f++,e[r++]=u+2,u++):(i++,e[r++]=u+1):10===a?(n++,e[r++]=u+1):s&&9!==a&&(a<32||a>126)&&(s=!1)}var h=new RW(GD(e),i,n,f,s);return e.length=0,h}var $a=function(){return function(e,t,r,i,n){this.bufferIndex=e,this.start=t,this.end=r,this.lineFeedCnt=i,this.length=n}}();var Me=function(){return function(e,t){this.buffer=e,this.lineStarts=t}}();var TW=function(){function e(e){this._limit=e,this._cache=[]}return e.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartOffset<=e&&r.nodeStartOffset+r.node.piece.length>=e)return r}return null},e.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var r=this._cache[t];if(r.nodeStartLineNumber&&r.nodeStartLineNumber<e&&r.nodeStartLineNumber+r.node.piece.lineFeedCnt>=e)return r}return null},e.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},e.prototype.valdiate=function(e){for(var t=!1,r=this._cache,i=0;i<r.length;i++){var n=r[i];(null===n.node.parent||n.nodeStartOffset>=e)&&(r[i]=null,t=!0)}if(t){for(var f=[],s=0,u=r;s<u.length;s++){var o=u[s];null!==o&&f.push(o)}this._cache=f}},e}(),UW=function(){function e(e,t,r){this.create(e,t,r)}return e.prototype.create=function(e,t,r){this._buffers=[new Me("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=v,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=r;for(var i=null,n=0,f=e.length;n<f;n++)if(e[n].buffer.length>0){e[n].lineStarts||(e[n].lineStarts=dd(e[n].buffer));var s=new $a(n+1,{line:0,column:0},{line:e[n].lineStarts.length-1,column:e[n].buffer.length-e[n].lineStarts[e[n].lineStarts.length-1]},e[n].lineStarts.length-1,e[n].buffer.length);this._buffers.push(e[n]),i=this.rbInsertRight(i,s)}this._searchCache=new TW(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},e.prototype.normalizeEOL=function(e){var t=this,r=cd,i=r-Math.floor(r/3),n=2*i,f="",s=0,u=[];if(this.iterate(this.root,function(r){var o=t.getNodeContent(r),a=o.length;if(s<=i||s+a<n)return f+=o,s+=a,!0;var h=f.replace(/\r\n|\r|\n/g,e);return u.push(new Me(h,dd(h))),f=o,s=a,!0}),s>0){var o=f.replace(/\r\n|\r|\n/g,e);u.push(new Me(o,dd(o)))}this.create(u,e,!0)},e.prototype.getEOL=function(){return this._EOL},e.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},e.prototype.getOffsetAt=function(e,t){for(var r=0,i=this.root;i!==v;)if(i.left!==v&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e)return(r+=i.size_left)+(this.getAccumulatedValue(i,e-i.lf_left-2)+t-1);e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}return r},e.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);for(var t=this.root,r=0,i=e;t!==v;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){var n=this.getIndexOf(t,e-t.size_left);if(r+=t.lf_left+n.index,0===n.index){var f=i-this.getOffsetAt(r+1,1);return new x(r+1,f+1)}return new x(r+1,n.remainder+1)}if(e-=t.size_left+t.piece.length,r+=t.lf_left+t.piece.lineFeedCnt,t.right===v){f=i-e-this.getOffsetAt(r+1,1);return new x(r+1,f+1)}t=t.right}return new x(1,1)},e.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var r=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),n=this.getValueInRange2(r,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?n:n.replace(/\r\n|\r|\n/g,t):n},e.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var r=e.node,i=this._buffers[r.piece.bufferIndex].buffer,n=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i.substring(n+e.remainder,n+t.remainder)}var f=e.node,s=this._buffers[f.piece.bufferIndex].buffer,u=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),o=s.substring(u+e.remainder,u+f.piece.length);for(f=f.next();f!==v;){var a=this._buffers[f.piece.bufferIndex].buffer,h=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start);if(f===t.node){o+=a.substring(h,h+t.remainder);break}o+=a.substr(h,f.piece.length),f=f.next()}return o},e.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)},e.prototype.getLength=function(){return this._length},e.prototype.getLineCount=function(){return this._lineCnt},e.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)},e.prototype.getLineCharCode=function(e,t){var r=this.nodeAt2(e,t+1);if(r.remainder===r.node.piece.length){var i=r.node.next();if(!i)return 0;var n=this._buffers[i.piece.bufferIndex],f=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.buffer.charCodeAt(f)}n=this._buffers[r.node.piece.bufferIndex];var s=(f=this.offsetInBuffer(r.node.piece.bufferIndex,r.node.piece.start))+r.remainder;return n.buffer.charCodeAt(s)},e.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},e.prototype.findMatchesInNode=function(e,t,r,i,n,f,s,u,o,a,h){var l,d=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),c=this.offsetInBuffer(e.piece.bufferIndex,n),$=this.offsetInBuffer(e.piece.bufferIndex,f);t.reset(c);var g={line:0,column:0};do{if(l=t.next(d.buffer)){if(l.index>=$)return a;this.positionInBuffer(e,l.index-p,g);var b=this.getLineFeedCnt(e.piece.bufferIndex,n,g),m=g.line===n.line?g.column-n.column+i:g.column+1,L=m+l[0].length;if(h[a++]=Le(new j(r+b,m,r+b,L),l,u),l.index+l[0].length>=$)return a;if(a>=o)return a}}while(l);return a},e.prototype.findMatchesLineByLine=function(e,t,r,i){var n=[],f=0,s=new ji(t.wordSeparators,t.regex),u=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===u)return[];var o=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===o)return[];var a=this.positionInBuffer(u.node,u.remainder),h=this.positionInBuffer(o.node,o.remainder);if(u.node===o.node)return this.findMatchesInNode(u.node,s,e.startLineNumber,e.startColumn,a,h,t,r,i,f,n),n;for(var l=e.startLineNumber,d=u.node;d!==o.node;){var p=this.getLineFeedCnt(d.piece.bufferIndex,a,d.piece.end);if(p>=1){var c=this._buffers[d.piece.bufferIndex].lineStarts,$=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),g=c[a.line+p],b=l===e.startLineNumber?e.startColumn:1;if((f=this.findMatchesInNode(d,s,l,b,a,this.positionInBuffer(d,g-$),t,r,i,f,n))>=i)return n;l+=p}var m=l===e.startLineNumber?e.startColumn-1:0;if(l===e.endLineNumber){var L=this.getLineContent(l).substring(m,e.endColumn-1);return f=this._findMatchesInLine(t,s,L,e.endLineNumber,m,f,n,r,i),n}if((f=this._findMatchesInLine(t,s,this.getLineContent(l).substr(m),l,m,f,n,r,i))>=i)return n;l++,d=(u=this.nodeAt2(l,1)).node,a=this.positionInBuffer(u.node,u.remainder)}if(l===e.endLineNumber){var v=l===e.startLineNumber?e.startColumn-1:0;L=this.getLineContent(l).substring(v,e.endColumn-1);return f=this._findMatchesInLine(t,s,L,e.endLineNumber,v,f,n,r,i),n}var I=l===e.startLineNumber?e.startColumn:1;return f=this.findMatchesInNode(o.node,s,l,I,a,h,t,r,i,f,n),n},e.prototype._findMatchesInLine=function(e,t,r,i,n,f,s,u,o){var a,h=e.wordSeparators;if(!u&&e.simpleSearch){for(var l=e.simpleSearch,d=l.length,p=r.length,c=-d;-1!==(c=r.indexOf(l,c+d));)if((!h||Er(h,r,p,c,d))&&(s[f++]=new Nh(new j(i,c+1+n,i,c+1+d+n),null),f>=o))return f;return f}t.reset(0);do{if((a=t.next(r))&&(s[f++]=Le(new j(i,a.index+1+n,i,a.index+1+a[0].length+n),a,u),f>=o))return f}while(a);return f},e.prototype.insert=function(e,t,r){if(void 0===r&&(r=!1),this._EOLNormalized=this._EOLNormalized&&r,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==v){var i=this.nodeAt(e),n=i.node,f=i.remainder,s=i.nodeStartOffset,u=n.piece,o=u.bufferIndex,a=this.positionInBuffer(n,f);if(0===n.piece.bufferIndex&&u.end.line===this._lastChangeBufferPos.line&&u.end.column===this._lastChangeBufferPos.column&&s+u.length===e&&t.length<cd)return this.appendToNode(n,t),void this.computeBufferMetadata();if(s===e)this.insertContentToNodeLeft(t,n),this._searchCache.valdiate(e);else if(s+n.piece.length>e){var h=[],l=new $a(u.bufferIndex,a,u.end,this.getLineFeedCnt(u.bufferIndex,a,u.end),this.offsetInBuffer(o,u.end)-this.offsetInBuffer(o,a));if(this.shouldCheckCRLF()&&this.endWithCR(t))if(10===this.nodeCharCodeAt(n,f)){var d={line:l.start.line+1,column:0};l=new $a(l.bufferIndex,d,l.end,this.getLineFeedCnt(l.bufferIndex,d,l.end),l.length-1),t+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(n,f-1)){var p=this.positionInBuffer(n,f-1);this.deleteNodeTail(n,p),t="\r"+t,0===n.piece.length&&h.push(n)}else this.deleteNodeTail(n,a);}else this.deleteNodeTail(n,a);var c=this.createNewPieces(t);l.length>0&&this.rbInsertRight(n,l);for(var $=n,g=0;g<c.length;g++)$=this.rbInsertRight($,c[g]);this.deleteNodes(h)}else this.insertContentToNodeRight(t,n)}else{var b=this.createNewPieces(t);for(n=this.rbInsertLeft(null,b[0]),g=1;g<b.length;g++)n=this.rbInsertRight(n,b[g])}this.computeBufferMetadata()},e.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===v)){var r=this.nodeAt(e),i=this.nodeAt(e+t),n=r.node,f=i.node;if(n===f){var s=this.positionInBuffer(n,r.remainder),u=this.positionInBuffer(n,i.remainder);if(r.nodeStartOffset===e){if(t===n.piece.length){var o=n.next();return wl(this,n),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return this.deleteNodeHead(n,u),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(n),void this.computeBufferMetadata()}return r.nodeStartOffset+n.piece.length===e+t?(this.deleteNodeTail(n,s),this.validateCRLFWithNextNode(n),void this.computeBufferMetadata()):(this.shrinkNode(n,s,u),void this.computeBufferMetadata())}var a=[],h=this.positionInBuffer(n,r.remainder);this.deleteNodeTail(n,h),this._searchCache.valdiate(e),0===n.piece.length&&a.push(n);var l=this.positionInBuffer(f,i.remainder);this.deleteNodeHead(f,l),0===f.piece.length&&a.push(f);for(var d=n.next();d!==v&&d!==f;d=d.next())a.push(d);var p=0===n.piece.length?n.prev():n;this.deleteNodes(a),this.validateCRLFWithNextNode(p),this.computeBufferMetadata()}},e.prototype.insertContentToNodeLeft=function(e,t){var r=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var i=t.piece,n={line:i.start.line+1,column:0},f=new $a(i.bufferIndex,n,i.end,this.getLineFeedCnt(i.bufferIndex,n,i.end),i.length-1);t.piece=f,e+="\n",bd(this,t,-1,-1),0===t.piece.length&&r.push(t)}for(var s=this.createNewPieces(e),u=this.rbInsertLeft(t,s[s.length-1]),o=s.length-2;o>=0;o--)u=this.rbInsertLeft(u,s[o]);this.validateCRLFWithPrevNode(u),this.deleteNodes(r)},e.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");for(var r=this.createNewPieces(e),i=this.rbInsertRight(t,r[0]),n=i,f=1;f<r.length;f++)n=this.rbInsertRight(n,r[f]);this.validateCRLFWithPrevNode(i)},e.prototype.positionInBuffer=function(e,t,r){for(var i=e.piece,n=e.piece.bufferIndex,f=this._buffers[n].lineStarts,s=f[i.start.line]+i.start.column+t,u=i.start.line,o=i.end.line,a=0,h=0,l=0;u<=o&&(l=f[a=u+(o-u)/2|0],a!==o);)if(h=f[a+1],s<l)o=a-1;else{if(!(s>=h))break;u=a+1}return r?(r.line=a,r.column=s-l,null):{line:a,column:s-l}},e.prototype.getLineFeedCnt=function(e,t,r){if(0===r.column)return r.line-t.line;var i=this._buffers[e].lineStarts;if(r.line===i.length-1)return r.line-t.line;var n=i[r.line+1],f=i[r.line]+r.column;if(n>f+1)return r.line-t.line;var s=f-1;return 13===this._buffers[e].buffer.charCodeAt(s)?r.line-t.line+1:r.line-t.line},e.prototype.offsetInBuffer=function(e,t){return this._buffers[e].lineStarts[t.line]+t.column},e.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)wl(this,e[t])},e.prototype.createNewPieces=function(e){if(e.length>cd){for(var t=[];e.length>cd;){var r=e.charCodeAt(cd-1),i=void 0;13===r||r>=55296&&r<=56319?(i=e.substring(0,cd-1),e=e.substring(cd-1)):(i=e.substring(0,cd),e=e.substring(cd));var n=dd(i);t.push(new $a(this._buffers.length,{line:0,column:0},{line:n.length-1,column:i.length-n[n.length-1]},n.length-1,i.length)),this._buffers.push(new Me(i,n))}var f=dd(e);return t.push(new $a(this._buffers.length,{line:0,column:0},{line:f.length-1,column:e.length-f[f.length-1]},f.length-1,e.length)),this._buffers.push(new Me(e,f)),t}var s=this._buffers[0].buffer.length,u=dd(e,!1),o=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&0!==s&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},o=this._lastChangeBufferPos;for(var a=0;a<u.length;a++)u[a]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+="_"+e,s+=1}else{if(0!==s)for(a=0;a<u.length;a++)u[a]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(u.slice(1)),this._buffers[0].buffer+=e}var h=this._buffers[0].buffer.length,l=this._buffers[0].lineStarts.length-1,d={line:l,column:h-this._buffers[0].lineStarts[l]},p=new $a(0,o,d,this.getLineFeedCnt(0,o,d),h-s);return this._lastChangeBufferPos=d,[p]},e.prototype.getLineRawContent=function(e,t){void 0===t&&(t=0);var r=this.root,i="",n=this._searchCache.get2(e);if(n){r=n.node;var f=this.getAccumulatedValue(r,e-n.nodeStartLineNumber-1),s=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(n.nodeStartLineNumber+r.piece.lineFeedCnt!==e){var o=this.getAccumulatedValue(r,e-n.nodeStartLineNumber);return s.substring(u+f,u+o-t)}i=s.substring(u+f,u+r.piece.length)}else for(var a=0,h=e;r!==v;)if(r.left!==v&&r.lf_left>=e-1)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt>e-1){f=this.getAccumulatedValue(r,e-r.lf_left-2),o=this.getAccumulatedValue(r,e-r.lf_left-1),s=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return a+=r.size_left,this._searchCache.set({node:r,nodeStartOffset:a,nodeStartLineNumber:h-(e-1-r.lf_left)}),s.substring(u+f,u+o-t)}if(r.lf_left+r.piece.lineFeedCnt===e-1){f=this.getAccumulatedValue(r,e-r.lf_left-2),s=this._buffers[r.piece.bufferIndex].buffer,u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i=s.substring(u+f,u+r.piece.length);break}e-=r.lf_left+r.piece.lineFeedCnt,a+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==v;){s=this._buffers[r.piece.bufferIndex].buffer;if(r.piece.lineFeedCnt>0){o=this.getAccumulatedValue(r,0),u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return i+=s.substring(u,u+o-t)}u=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);i+=s.substr(u,r.piece.length),r=r.next()}return i},e.prototype.computeBufferMetadata=function(){for(var e=this.root,t=1,r=0;e!==v;)t+=e.lf_left+e.piece.lineFeedCnt,r+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=r,this._searchCache.valdiate(this._length)},e.prototype.getIndexOf=function(e,t){var r=e.piece,i=this.positionInBuffer(e,t),n=i.line-r.start.line;if(this.offsetInBuffer(r.bufferIndex,r.end)-this.offsetInBuffer(r.bufferIndex,r.start)===t){var f=this.getLineFeedCnt(e.piece.bufferIndex,r.start,i);if(f!==n)return{index:f,remainder:0}}return{index:n,remainder:i.column}},e.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var r=e.piece,i=this._buffers[r.bufferIndex].lineStarts,n=r.start.line+t+1;return n>r.end.line?i[r.end.line]+r.end.column-i[r.start.line]-r.start.column:i[n]-i[r.start.line]-r.start.column},e.prototype.deleteNodeTail=function(e,t){var r=e.piece,i=r.lineFeedCnt,n=this.offsetInBuffer(r.bufferIndex,r.end),f=t,s=this.offsetInBuffer(r.bufferIndex,f),u=this.getLineFeedCnt(r.bufferIndex,r.start,f),o=u-i,a=s-n,h=r.length+a;e.piece=new $a(r.bufferIndex,r.start,f,u,h),bd(this,e,a,o)},e.prototype.deleteNodeHead=function(e,t){var r=e.piece,i=r.lineFeedCnt,n=this.offsetInBuffer(r.bufferIndex,r.start),f=t,s=this.getLineFeedCnt(r.bufferIndex,f,r.end),u=s-i,o=n-this.offsetInBuffer(r.bufferIndex,f),a=r.length+o;e.piece=new $a(r.bufferIndex,f,r.end,s,a),bd(this,e,o,u)},e.prototype.shrinkNode=function(e,t,r){var i=e.piece,n=i.start,f=i.end,s=i.length,u=i.lineFeedCnt,o=t,a=this.getLineFeedCnt(i.bufferIndex,i.start,o),h=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,n);e.piece=new $a(i.bufferIndex,i.start,o,a,h),bd(this,e,h-s,a-u);var l=new $a(i.bufferIndex,r,f,this.getLineFeedCnt(i.bufferIndex,r,f),this.offsetInBuffer(i.bufferIndex,f)-this.offsetInBuffer(i.bufferIndex,r)),d=this.rbInsertRight(e,l);this.validateCRLFWithPrevNode(d)},e.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");var r=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var n=dd(t,!1),f=0;f<n.length;f++)n[f]+=i;if(r){var s=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-s}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(n.slice(1));var u=this._buffers[0].lineStarts.length-1,o={line:u,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[u]},a=e.piece.length+t.length,h=e.piece.lineFeedCnt,l=this.getLineFeedCnt(0,e.piece.start,o),d=l-h;e.piece=new $a(e.piece.bufferIndex,e.piece.start,o,l,a),this._lastChangeBufferPos=o,bd(this,e,t.length,d)},e.prototype.nodeAt=function(e){var t=this.root,r=this._searchCache.get(e);if(r)return{node:r.node,nodeStartOffset:r.nodeStartOffset,remainder:e-r.nodeStartOffset};for(var i=0;t!==v;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;var n={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(n),n}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null},e.prototype.nodeAt2=function(e,t){for(var r=this.root,i=0;r!==v;)if(r.left!==v&&r.lf_left>=e-1)r=r.left;else{if(r.lf_left+r.piece.lineFeedCnt>e-1){var n=this.getAccumulatedValue(r,e-r.lf_left-2),f=this.getAccumulatedValue(r,e-r.lf_left-1);return i+=r.size_left,{node:r,remainder:Math.min(n+t-1,f),nodeStartOffset:i}}if(r.lf_left+r.piece.lineFeedCnt===e-1){if((n=this.getAccumulatedValue(r,e-r.lf_left-2))+t-1<=r.piece.length)return{node:r,remainder:n+t-1,nodeStartOffset:i};t-=r.piece.length-n;break}e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right}for(r=r.next();r!==v;){if(r.piece.lineFeedCnt>0){f=this.getAccumulatedValue(r,0);var s=this.offsetOfNode(r);return{node:r,remainder:Math.min(t-1,f),nodeStartOffset:s}}if(r.piece.length>=t-1)return{node:r,remainder:t-1,nodeStartOffset:this.offsetOfNode(r)};t-=r.piece.length,r=r.next()}return null},e.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var r=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return r.buffer.charCodeAt(i)},e.prototype.offsetOfNode=function(e){if(!e)return 0;for(var t=e.size_left;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},e.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&"\n"===this._EOL)},e.prototype.startWithLF=function(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===v||0===e.piece.lineFeedCnt)return!1;var t=e.piece,r=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,n=r[i]+t.start.column;return i!==r.length-1&&!(r[i+1]>n+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(n)},e.prototype.endWithCR=function(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==v&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)},e.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},e.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},e.prototype.fixCRLF=function(e,t){var r,i=[],n=this._buffers[e.piece.bufferIndex].lineStarts;r=0===e.piece.end.column?{line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};var f=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new $a(e.piece.bufferIndex,e.piece.start,r,s,f),bd(this,e,-1,-1),0===e.piece.length&&i.push(e);var u={line:t.piece.start.line+1,column:0},o=t.piece.length-1,a=this.getLineFeedCnt(t.piece.bufferIndex,u,t.piece.end);t.piece=new $a(t.piece.bufferIndex,u,t.piece.end,a,o),bd(this,t,-1,-1),0===t.piece.length&&i.push(t);var h=this.createNewPieces("\r\n");this.rbInsertRight(e,h[0]);for(var l=0;l<i.length;l++)wl(this,i[l])},e.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var r=t.next();if(this.startWithLF(r)){if(e+="\n",1===r.piece.length)wl(this,r);else{var i=r.piece,n={line:i.start.line+1,column:0},f=i.length-1,s=this.getLineFeedCnt(i.bufferIndex,n,i.end);r.piece=new $a(i.bufferIndex,n,i.end,s,f),bd(this,r,-1,-1)}return!0}}return!1},e.prototype.iterate=function(e,t){if(e===v)return t(v);var r=this.iterate(e.left,t);return r?t(e)&&this.iterate(e.right,t):r},e.prototype.getNodeContent=function(e){if(e===v)return"";var t=this._buffers[e.piece.bufferIndex],r=e.piece,i=this.offsetInBuffer(r.bufferIndex,r.start),n=this.offsetInBuffer(r.bufferIndex,r.end);return t.buffer.substring(i,n)},e.prototype.rbInsertRight=function(e,t){var r=new zr(t,1);if(r.left=v,r.right=v,r.parent=v,r.size_left=0,r.lf_left=0,this.root===v)this.root=r,r.color=0;else if(e.right===v)e.right=r,r.parent=e;else{var i=Ar(e.right);i.left=r,r.parent=i}return ED(this,r),r},e.prototype.rbInsertLeft=function(e,t){var r=new zr(t,1);if(r.left=v,r.right=v,r.parent=v,r.size_left=0,r.lf_left=0,this.root===v)this.root=r,r.color=0;else if(e.left===v)e.left=r,r.parent=e;else{var i=DD(e.left);i.right=r,r.parent=i}return ED(this,r),r},e.prototype.getContentOfSubTree=function(e){var t=this,r="";return this.iterate(e,function(e){return r+=t.getNodeContent(e),!0}),r},e}();var VW=function(){function e(e,t,n,r,i,o){this._BOM=t,this._mightContainNonBasicASCII=!i,this._mightContainRTL=r,this._pieceTree=new UW(e,n,o)}return e.prototype.mightContainRTL=function(){return this._mightContainRTL},e.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},e.prototype.getBOM=function(){return this._BOM},e.prototype.getEOL=function(){return this._pieceTree.getEOL()},e.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},e.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},e.prototype.getRangeAt=function(e,t){var n=e+t,r=this.getPositionAt(e),i=this.getPositionAt(n);return new j(r.lineNumber,r.column,i.lineNumber,i.column)},e.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return"";var n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)},e.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var n=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-n},e.prototype.getLength=function(){return this._pieceTree.getLength()},e.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},e.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},e.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},e.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},e.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},e.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=z.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},e.prototype.getLineLastNonWhitespaceColumn=function(e){var t=z.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},e.prototype._getEndOfLine=function(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();}throw new Error("Unknown EOL preference")},e.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},e.prototype.applyEdits=function(t,n){for(var r=this._mightContainRTL,i=this._mightContainNonBasicASCII,o=!0,s=[],a=0;a<t.length;a++){var u=t[a];o&&u._isTracked&&(o=!1);var g=u.range;!r&&u.text&&(r=z.containsRTL(u.text)),!i&&u.text&&(i=!z.isBasicASCII(u.text)),s[a]={sortIndex:a,identifier:u.identifier||null,range:g,rangeOffset:this.getOffsetAt(g.startLineNumber,g.startColumn),rangeLength:this.getValueLengthInRange(g),lines:u.text?u.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:Boolean(u.forceMoveMarkers),isAutoWhitespaceEdit:u.isAutoWhitespaceEdit||!1}}s.sort(e._sortOpsAscending);for(var p=!1,h=(a=0,s.length-1);a<h;a++){var f=s[a].range.getEndPosition(),l=s[a+1].range.getStartPosition();if(l.isBeforeOrEqual(f)){if(l.isBefore(f))throw new Error("Overlapping ranges are not allowed!");p=!0}}o&&(s=this._reduceOperations(s));var c=e._getInverseEditRanges(s),m=[];for(a=0;a<s.length;a++){u=s[a];var L=c[a];if(n&&u.isAutoWhitespaceEdit&&u.range.isEmpty())for(var d=L.startLineNumber;d<=L.endLineNumber;d++){var $="";d===L.startLineNumber&&($=this.getLineContent(u.range.startLineNumber),-1!==z.firstNonWhitespaceIndex($))||m.push({lineNumber:d,oldContent:$})}}var C=[];for(a=0;a<s.length;a++){u=s[a],L=c[a];C[a]={sortIndex:u.sortIndex,identifier:u.identifier,range:L,text:this.getValueInRange(u.range),forceMoveMarkers:u.forceMoveMarkers}}p||C.sort(function(e,t){return e.sortIndex-t.sortIndex}),this._mightContainRTL=r,this._mightContainNonBasicASCII=i;var v=this._doApplyEdits(s),N=null;if(n&&m.length>0){m.sort(function(e,t){return t.lineNumber-e.lineNumber}),N=[];a=0;for(var _=m.length;a<_;a++){d=m[a].lineNumber;if(!(a>0&&m[a-1].lineNumber===d)){var b=m[a].oldContent,O=this.getLineContent(d);0!==O.length&&O!==b&&-1===z.firstNonWhitespaceIndex(O)&&N.push(d)}}}return new mR(C,v,N)},e.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},e.prototype._toSingleEditOperation=function(e){for(var t=!1,n=e[0].range,r=e[e.length-1].range,i=new j(n.startLineNumber,n.startColumn,r.endLineNumber,r.endColumn),o=n.startLineNumber,s=n.startColumn,a=[],u=0,g=e.length;u<g;u++){var p=e[u],h=p.range;t=t||p.forceMoveMarkers;for(var f=o;f<h.startLineNumber;f++)f===o?a.push(this.getLineContent(f).substring(s-1)):(a.push("\n"),a.push(this.getLineContent(f)));if(h.startLineNumber===o?a.push(this.getLineContent(h.startLineNumber).substring(s-1,h.startColumn-1)):(a.push("\n"),a.push(this.getLineContent(h.startLineNumber).substring(0,h.startColumn-1))),p.lines)for(var l=0,c=p.lines.length;l<c;l++)0!==l&&a.push("\n"),a.push(p.lines[l]);o=p.range.endLineNumber,s=p.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i,0),lines:a.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},e.prototype._doApplyEdits=function(t){t.sort(e._sortOpsDescending);for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i.range.startLineNumber,s=i.range.startColumn,a=i.range.endLineNumber,u=i.range.endColumn;if(o!==a||s!==u||i.lines&&0!==i.lines.length){var g=a-o,p=i.lines?i.lines.length-1:0,h=Math.min(g,p),f=i.lines?i.lines.join(this.getEOL()):"";if(f?(this._pieceTree.delete(i.rangeOffset,i.rangeLength),this._pieceTree.insert(i.rangeOffset,f,!0)):this._pieceTree.delete(i.rangeOffset,i.rangeLength),h<p){for(var l=[],c=h+1;c<=p;c++)l.push(i.lines[c]);l[l.length-1]=this.getLineContent(o+p-1)}var m=new j(o,s,a,u);n.push({range:m,rangeLength:i.rangeLength,text:f,rangeOffset:i.rangeOffset,forceMoveMarkers:i.forceMoveMarkers})}}return n},e.prototype.findMatchesLineByLine=function(e,t,n,r){return this._pieceTree.findMatchesLineByLine(e,t,n,r)},e._getInverseEditRanges=function(e){for(var t=[],n=0,r=0,i=null,o=0,s=e.length;o<s;o++){var a=e[o],u=void 0,g=void 0;i?i.range.endLineNumber===a.range.startLineNumber?(u=n,g=r+(a.range.startColumn-i.range.endColumn)):(u=n+(a.range.startLineNumber-i.range.endLineNumber),g=a.range.startColumn):(u=a.range.startLineNumber,g=a.range.startColumn);var p=void 0;if(a.lines&&a.lines.length>0){var h=a.lines.length,f=a.lines[0],l=a.lines[h-1];p=1===h?new j(u,g,u,g+f.length):new j(u,g,u+h-1,l.length+1)}else p=new j(u,g,u,g);n=p.endLineNumber,r=p.endColumn,t.push(p),i=a}return t},e._sortOpsAscending=function(e,t){var n=j.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n},e._sortOpsDescending=function(e,t){var n=j.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n},e}();var WW=function(){function t(t,i,r,s,e,h,n,c){this._chunks=t,this._bom=i,this._cr=r,this._lf=s,this._crlf=e,this._containsRTL=h,this._isBasicASCII=n,this._normalizeEOL=c}return t.prototype._getEOL=function(t){var i=this._cr+this._lf+this._crlf,r=this._cr+this._crlf;return 0===i?1===t?"\n":"\r\n":r>i/2?"\r\n":"\n"},t.prototype.create=function(t){var i=this._getEOL(t),r=this._chunks;if(this._normalizeEOL&&("\r\n"===i&&(this._cr>0||this._lf>0)||"\n"===i&&(this._cr>0||this._crlf>0)))for(var s=0,e=r.length;s<e;s++){var h=r[s].buffer.replace(/\r\n|\r|\n/g,i),n=dd(h);r[s]=new Me(h,n)}return new VW(r,this._bom,i,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},t}();var XW=function(){function t(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return t.prototype.acceptChunk=function(t){if(0!==t.length){0===this.chunks.length&&z.startsWithUTF8BOM(t)&&(this.BOM=z.UTF8_BOM_CHARACTER,t=t.substr(1));var i=t.charCodeAt(t.length-1);13===i||i>=55296&&i<=56319?(this._acceptChunk1(t.substr(0,t.length-1),!1),this._hasPreviousChar=!0,this._previousChar=i):(this._acceptChunk1(t,!1),this._hasPreviousChar=!1,this._previousChar=i)}},t.prototype._acceptChunk1=function(t,i){(i||0!==t.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+t):this._acceptChunk2(t))},t.prototype._acceptChunk2=function(t){var i=SW(this._tmpLineStarts,t);this.chunks.push(new Me(t,i.lineStarts)),this.cr+=i.cr,this.lf+=i.lf,this.crlf+=i.crlf,this.isBasicASCII&&(this.isBasicASCII=i.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=z.containsRTL(t))},t.prototype.finish=function(t){return void 0===t&&(t=!0),this._finish(),new WW(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,t)},t.prototype._finish=function(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var t=this.chunks[this.chunks.length-1];t.buffer+=String.fromCharCode(this._previousChar);var i=dd(t.buffer);t.lineStarts=i,13===this._previousChar&&this.cr++}},t}();var YW=function(){return function(){this.changeType=1}}();var ZW=function(){return function(e,n){this.changeType=2,this.lineNumber=e,this.detail=n}}();var $W=function(){return function(e,n){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=n}}();var _W=function(){return function(e,n,t){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=n,this.detail=t}}();var aX=function(){return function(){this.changeType=5}}();var yl=function(){function e(e,n,t,o){this.changes=e,this.versionId=n,this.isUndoing=t,this.isRedoing=o}return e.prototype.containsEvent=function(e){for(var n=0,t=this.changes.length;n<t;n++){if(this.changes[n].changeType===e)return!0}return!1},e.merge=function(n,t){return new e([].concat(n.changes).concat(t.changes),t.versionId,n.isUndoing||t.isUndoing,n.isRedoing||t.isRedoing)},e}();var bX=function(){function e(e,n){this.rawContentChangedEvent=e,this.contentChangedEvent=n}return e.prototype.merge=function(n){var t=yl.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),o=e._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new e(t,o)},e._mergeChangeEvents=function(e,n){return{changes:[].concat(e.changes).concat(n.changes),eol:n.eol,versionId:n.versionId,isUndoing:e.isUndoing||n.isUndoing,isRedoing:e.isRedoing||n.isRedoing,isFlush:e.isFlush||n.isFlush}},e}();function HD(e){return(16384|e<<0|2<<23)>>>0}var Od=new Uint32Array(0).buffer,zl=function(){function e(e){this._state=e,this._lineTokens=null,this._invalid=!0}return e.prototype.deleteBeginning=function(e){null!==this._lineTokens&&this._lineTokens!==Od&&this.delete(0,e)},e.prototype.deleteEnding=function(e){if(null!==this._lineTokens&&this._lineTokens!==Od){var t=new Uint32Array(this._lineTokens),n=t[t.length-2];this.delete(e,n)}},e.prototype.delete=function(e,t){if(null!==this._lineTokens&&this._lineTokens!==Od&&e!==t){var n=new Uint32Array(this._lineTokens),i=n.length>>>1;if(0!==e||n[n.length-2]!==t){var r=Xc.findIndexInTokensArray(n,e),o=r>0?n[r-1<<1]:0;if(t<n[r<<1])for(var s=t-e,a=r;a<i;a++)n[a<<1]-=s;else{var l,h;o!==e?(n[r<<1]=e,l=r+1<<1,h=e):(l=r<<1,h=o);for(var u=t-e,_=r+1;_<i;_++){var $=n[_<<1]-u;$>h&&(n[l++]=$,n[l++]=n[1+(_<<1)],h=$)}if(l!==n.length){var d=new Uint32Array(l);d.set(n.subarray(0,l),0),this._lineTokens=d.buffer}}}else this._lineTokens=Od}},e.prototype.append=function(e){if(e!==Od)if(this._lineTokens!==Od){if(null!==this._lineTokens)if(null!==e){var t=new Uint32Array(this._lineTokens),n=new Uint32Array(e),i=n.length>>>1,r=new Uint32Array(t.length+n.length);r.set(t,0);for(var o=t.length,s=t[t.length-2],a=0;a<i;a++)r[o++]=n[a<<1]+s,r[o++]=n[1+(a<<1)];this._lineTokens=r.buffer}else this._lineTokens=null}else this._lineTokens=e},e.prototype.insert=function(e,t){if(this._lineTokens){var n=new Uint32Array(this._lineTokens),i=n.length>>>1,r=Xc.findIndexInTokensArray(n,e);if(r>0)n[r-1<<1]===e&&r--;for(var o=r;o<i;o++)n[o<<1]+=t}},e}(),ID=function(){function e(e,t){if(this.languageIdentifier=e,this.tokenizationSupport=t,this._tokens=[],this.tokenizationSupport){var n=null;try{n=this.tokenizationSupport.getInitialState()}catch(i){S(i),this.tokenizationSupport=null}n&&(this._tokens[0]=new zl(n))}this._invalidLineStartIndex=0,this._lastState=null}return Object.defineProperty(e.prototype,"inValidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),e.prototype.getTokens=function(e,t,n){var i=null;if(t<this._tokens.length&&this._tokens[t]&&(i=this._tokens[t]._lineTokens),null!==i&&i!==Od)return new Xc(new Uint32Array(i),n);var r=new Uint32Array(2);return r[0]=n.length,r[1]=HD(e),new Xc(r,n)},e.prototype.isCheapToTokenize=function(e){return this._invalidLineStartIndex+1>=e},e.prototype.hasLinesToTokenize=function(e){return this._invalidLineStartIndex<e.getLineCount()},e.prototype.invalidateLine=function(e){this._setIsInvalid(e,!0),e<this._invalidLineStartIndex&&(this._setIsInvalid(this._invalidLineStartIndex,!0),this._invalidLineStartIndex=e)},e.prototype._setIsInvalid=function(e,t){e<this._tokens.length&&this._tokens[e]&&(this._tokens[e]._invalid=t)},e.prototype._isInvalid=function(e){return!(e<this._tokens.length&&this._tokens[e])||this._tokens[e]._invalid},e.prototype._getState=function(e){return e<this._tokens.length&&this._tokens[e]?this._tokens[e]._state:null},e.prototype._setTokens=function(e,t,n,i){var r;if(t<this._tokens.length&&this._tokens[t]?r=this._tokens[t]:(r=new zl(null),this._tokens[t]=r),0===n){var o=!1;if(i&&i.length>1&&(o=ag.getLanguageId(i[1])!==e),!o)return void(r._lineTokens=Od)}i&&0!==i.length||((i=new Uint32Array(2))[0]=0,i[1]=HD(e)),Xc.convertToEndOffset(i,n),r._lineTokens=i.buffer},e.prototype._setState=function(e,t){if(e<this._tokens.length&&this._tokens[e])this._tokens[e]._state=t;else{var n=new zl(t);this._tokens[e]=n}},e.prototype.applyEdits=function(e,t,n){for(var i=e.endLineNumber-e.startLineNumber,r=t,o=Math.min(i,r);o>=0;o--)this.invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new x(e.startLineNumber,e.startColumn),t,n)},e.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;if(!(t>=this._tokens.length))if(e.startLineNumber!==e.endLineNumber){var n=this._tokens[t];n.deleteEnding(e.startColumn-1);var i=e.endLineNumber-1,r=null;if(i<this._tokens.length){var o=this._tokens[i];o.deleteBeginning(e.endColumn-1),r=o._lineTokens}n.append(r),this._tokens.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber)}else{if(e.startColumn===e.endColumn)return;this._tokens[t].delete(e.startColumn-1,e.endColumn-1)}},e.prototype._acceptInsertText=function(e,t,n){if(0!==t||0!==n){var i=e.lineNumber-1;if(!(i>=this._tokens.length))if(0!==t){var r=this._tokens[i];r.deleteEnding(e.column-1),r.insert(e.column-1,n);for(var o=new Array(t),s=t-1;s>=0;s--)o[s]=new zl(null);this._tokens=dN(this._tokens,e.lineNumber,o)}else this._tokens[i].insert(e.column-1,n)}},e.prototype._tokenizeOneLine=function(e,t){if(!this.hasLinesToTokenize(e))return e.getLineCount()+1;var n=this._invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t,n),n},e.prototype._tokenizeText=function(e,t,n){var i=null;if(this.tokenizationSupport)try{i=this.tokenizationSupport.tokenize2(t,n,0)}catch(r){S(r)}return i||(i=jB(this.languageIdentifier.id,t,n,0)),i},e.prototype._updateTokensUntilLine=function(e,t,n){if(this.tokenizationSupport){for(var i=e.getLineCount(),r=n-1,o=this._invalidLineStartIndex;o<=r;o++){var s=o+1,a=e.getLineContent(o+1),l=this._getState(o),h=null;try{var u=l.clone();h=this.tokenizationSupport.tokenize2(a,u,0)}catch(d){S(d)}if(h||(h=jB(this.languageIdentifier.id,a,l,0)),this._setTokens(this.languageIdentifier.id,o,a.length,h.tokens),t.registerChangedTokens(o+1),this._setIsInvalid(o,!1),s<i){var _=this._getState(s);if(null!==_&&h.endState.equals(_)){for(var $=o+1;$<i&&!this._isInvalid($);){if($+1<i){if(null===this._getState($+1))break}else if(null===this._lastState)break;$++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,$),o=$-1}else this._setState(s,h.endState)}else this._lastState=h.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,r+1)}else this._invalidLineStartIndex=e.getLineCount()},e}();var Fr=function(){function e(){this._ranges=[]}return e.prototype.registerChangedTokens=function(e){var t=this._ranges,n=t.length,i=n>0?t[n-1]:null;i&&i.toLineNumber===e-1?i.toLineNumber++:t[n]={fromLineNumber:e,toLineNumber:e}},e.prototype.build=function(){return 0===this._ranges.length?null:{tokenizationSupportChanged:!1,ranges:this._ranges}},e}();var Gr=Cc&&Cc.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cX=2048;function dX(){return new XW}function JD(e){var t=dX();return t.acceptChunk(e),t.finish()}function Hr(e,t){return("string"==typeof e?JD(e):e).create(t)}Cc.createTextBufferFactory=JD,Cc.createTextBuffer=Hr;var Al=0;function eX(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}var fX=999,KD=1e4;Cc.LONG_LINE_BOUNDARY=KD;var ki=function(){throw new Error("Invalid change accessor")},Ir=function(e){function t(n,i,r,o){void 0===o&&(o=null);var s=e.call(this)||this;s._onWillDispose=s._register(new b),s.onWillDispose=s._onWillDispose.event,s._onDidChangeDecorations=s._register(new PD),s.onDidChangeDecorations=s._onDidChangeDecorations.event,s._onDidChangeLanguage=s._register(new b),s.onDidChangeLanguage=s._onDidChangeLanguage.event,s._onDidChangeLanguageConfiguration=s._register(new b),s.onDidChangeLanguageConfiguration=s._onDidChangeLanguageConfiguration.event,s._onDidChangeTokens=s._register(new b),s.onDidChangeTokens=s._onDidChangeTokens.event,s._onDidChangeOptions=s._register(new b),s.onDidChangeOptions=s._onDidChangeOptions.event,s._eventEmitter=s._register(new QD),Al++,s.id="$model"+Al,s.isForSimpleWidget=i.isForSimpleWidget,s._associatedResource=null==o?hb.parse("inmemory://model/"+Al):o,s._attachedEditorCount=0,s._buffer=Hr(n,i.defaultEOL),s._options=t.resolveOptions(s._buffer,i);var a=s._buffer.getLineCount(),h=s._buffer.getValueLengthInRange(new j(1,1,a,s._buffer.getLineLength(a)+1),0);return i.largeFileOptimizations?s._isTooLargeForTokenization=h>t.LARGE_FILE_SIZE_THRESHOLD||a>t.LARGE_FILE_LINE_COUNT_THRESHOLD:s._isTooLargeForTokenization=!1,s._isTooLargeForSyncing=h>t.MODEL_SYNC_LIMIT,s._setVersionId(1),s._isDisposed=!1,s._isDisposing=!1,s._languageIdentifier=r||Mk,s._tokenizationListener=ca.onDidChange(function(e){-1!==e.changedLanguages.indexOf(s._languageIdentifier.language)&&(s._resetTokenizationState(),s.emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:s.getLineCount()}]}),s._shouldAutoTokenize()&&s._warmUpTokens())}),s._revalidateTokensTimeout=-1,s._languageRegistryListener=U.onDidChange(function(e){e.languageIdentifier.id===s._languageIdentifier.id&&s._onDidChangeLanguageConfiguration.fire({})}),s._resetTokenizationState(),s._instanceId=eX(Al),s._lastDecorationId=0,s._decorations=Object.create(null),s._decorationsTree=new LD,s._commandManager=new rD(s),s._isUndoing=!1,s._isRedoing=!1,s._trimAutoWhitespaceLines=null,s}return Gr(t,e),t.createFromString=function(e,n,i,r){return void 0===n&&(n=t.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===r&&(r=null),new t(e,n,i,r)},t.resolveOptions=function(e,t){if(t.detectIndentation){var n=sD(e,t.tabSize,t.insertSpaces);return new Ck({tabSize:n.tabSize,indentSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new Ck({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})},t.prototype.onDidChangeRawContentFast=function(e){return this._eventEmitter.fastEvent(function(t){return e(t.rawContentChangedEvent)})},t.prototype.onDidChangeRawContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.rawContentChangedEvent)})},t.prototype.onDidChangeContent=function(e){return this._eventEmitter.slowEvent(function(t){return e(t.contentChangedEvent)})},t.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._tokenizationListener.dispose(),this._languageRegistryListener.dispose(),this._clearTimers(),this._isDisposed=!0,e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},t.prototype._emitContentChangedEvent=function(e,t){this._isDisposing||this._eventEmitter.fire(new bX(e,t))},t.prototype.setValue=function(e){if(this._assertNotDisposed(),null!==e){var t=Hr(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)}},t.prototype._createContentChanged2=function(e,t,n,i,r,o,s){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:r,isRedoing:o,isFlush:s}},t.prototype.setValueFromTextBuffer=function(e){if(this._assertNotDisposed(),null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),r=this.getLineMaxColumn(i);this._buffer=e,this._increaseVersionId(),this._resetTokenizationState(),this._decorations=Object.create(null),this._decorationsTree=new LD,this._commandManager=new rD(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new yl([new YW],this._versionId,!1,!1),this._createContentChanged2(new j(1,1,i,r),0,n,this.getValue(),!1,!1,!0))}},t.prototype.setEOL=function(e){this._assertNotDisposed();var t=1===e?"\r\n":"\n";if(this._buffer.getEOL()!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new yl([new aX],this._versionId,!1,!1),this._createContentChanged2(new j(1,1,r,o),0,i,this.getValue(),!1,!1,!1))}},t.prototype._onBeforeEOLChange=function(){var e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)},t.prototype._onAfterEOLChange=function(){for(var e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder(),n=0,i=t.length;n<i;n++){var r=t[n],o=r.cachedAbsoluteStart-r.start,s=this._buffer.getOffsetAt(r.range.startLineNumber,r.range.startColumn),a=this._buffer.getOffsetAt(r.range.endLineNumber,r.range.endColumn);r.cachedAbsoluteStart=s,r.cachedAbsoluteEnd=a,r.cachedVersionId=e,r.start=s-o,r.end=a-o,Md(r)}},t.prototype._resetTokenizationState=function(){this._clearTimers();var e=this._isTooLargeForTokenization?null:ca.get(this._languageIdentifier.language);this._tokens=new ID(this._languageIdentifier,e),this._beginBackgroundTokenization()},t.prototype._clearTimers=function(){-1!==this._revalidateTokensTimeout&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--},t.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},t.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},t.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},t.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var e=0,t=0,n=this._buffer.getLineCount(),i=1;i<=n;i++){var r=this._buffer.getLineLength(i);r>=KD?t+=r:e+=r}return t>e},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},t.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},t.prototype.updateOptions=function(e){this._assertNotDisposed();var t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,n=void 0!==e.indentSize?e.indentSize:this._options.indentSize,i=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,r=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=new Ck({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r});if(!this._options.equals(o)){var s=this._options.createChangeEvent(o);this._options=o,this._onDidChangeOptions.fire(s)}},t.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var n=sD(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})},t._normalizeIndentationFromWhitespace=function(e,t,n){for(var i=0,r=0;r<e.length;r++)"\t"===e.charAt(r)?i+=t:i++;var o="";if(!n){var s=Math.floor(i/t);i%=t;for(r=0;r<s;r++)o+="\t"}for(r=0;r<i;r++)o+=" ";return o},t.normalizeIndentation=function(e,n,i){var r=z.firstNonWhitespaceIndex(e);return-1===r&&(r=e.length),t._normalizeIndentationFromWhitespace(e.substring(0,r),n,i)+e.substring(r)},t.prototype.normalizeIndentation=function(e){return this._assertNotDisposed(),t.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)},t.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},t.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},t.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},t.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},t.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,!1);return this._buffer.getOffsetAt(t.lineNumber,t.column)},t.prototype.getPositionAt=function(e){this._assertNotDisposed();var t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)},t.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},t.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},t.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},t.prototype.getValue=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i},t.prototype.getValueLength=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i},t.prototype.getValueInRange=function(e,t){return void 0===t&&(t=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)},t.prototype.getValueLengthInRange=function(e,t){return void 0===t&&(t=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)},t.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},t.prototype.getLineContent=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)},t.prototype.getLineLength=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)},t.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},t.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},t.prototype.getLineMinColumn=function(e){return this._assertNotDisposed(),1},t.prototype.getLineMaxColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)},t.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)},t.prototype._validateRangeRelaxedNoAllocations=function(e){var t,n,i=this._buffer.getLineCount(),r=e.startLineNumber,o=e.startColumn;if(r<1)t=1,n=1;else if(r>i)t=i,n=this.getLineMaxColumn(t);else{if(t=0|r,o<=1)n=1;else n=o>=(d=this.getLineMaxColumn(t))?d:0|o}var s,a,h=e.endLineNumber,u=e.endColumn;if(h<1)s=1,a=1;else if(h>i)s=i,a=this.getLineMaxColumn(s);else{var d;if(s=0|h,u<=1)a=1;else a=u>=(d=this.getLineMaxColumn(s))?d:0|u}return r===t&&o===n&&h===s&&u===a&&e instanceof j&&!(e instanceof ba)?e:new j(t,n,s,a)},t.prototype._isValidPosition=function(e,t,n){if(isNaN(e))return!1;if(e<1)return!1;if(e>this._buffer.getLineCount())return!1;if(isNaN(t))return!1;if(t<1)return!1;if(t>this.getLineMaxColumn(e))return!1;if(n&&t>1){var i=this._buffer.getLineCharCode(e,t-2);if(z.isHighSurrogate(i))return!1}return!0},t.prototype._validatePosition=function(e,t,n){var i=Math.floor("number"!=typeof e||isNaN(e)?1:e),r=Math.floor("number"!=typeof t||isNaN(t)?1:t),o=this._buffer.getLineCount();if(i<1)return new x(1,1);if(i>o)return new x(o,this.getLineMaxColumn(o));if(r<=1)return new x(i,1);var s=this.getLineMaxColumn(i);if(r>=s)return new x(i,s);if(n){var a=this._buffer.getLineCharCode(i,r-2);if(z.isHighSurrogate(a))return new x(i,r-1)}return new x(i,r)},t.prototype.validatePosition=function(e){return this._assertNotDisposed(),e instanceof x&&this._isValidPosition(e.lineNumber,e.column,!0)?e:this._validatePosition(e.lineNumber,e.column,!0)},t.prototype._isValidRange=function(e,t){var n=e.startLineNumber,i=e.startColumn,r=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(n,i,!1))return!1;if(!this._isValidPosition(r,o,!1))return!1;if(t){var s=i>1?this._buffer.getLineCharCode(n,i-2):0,a=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,h=z.isHighSurrogate(s),u=z.isHighSurrogate(a);return!h&&!u}return!0},t.prototype.validateRange=function(e){if(this._assertNotDisposed(),e instanceof j&&!(e instanceof ba)&&this._isValidRange(e,!0))return e;var t=this._validatePosition(e.startLineNumber,e.startColumn,!1),n=this._validatePosition(e.endLineNumber,e.endColumn,!1),i=t.lineNumber,r=t.column,o=n.lineNumber,s=n.column,a=r>1?this._buffer.getLineCharCode(i,r-2):0,h=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,u=z.isHighSurrogate(a),d=z.isHighSurrogate(h);return u||d?i===o&&r===s?new j(i,r-1,o,s-1):u&&d?new j(i,r-1,o,s+1):u?new j(i,r-1,o,s):new j(i,r,o,s+1):new j(i,r,o,s)},t.prototype.modifyPosition=function(e,t){this._assertNotDisposed();var n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))},t.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new j(1,1,e,this.getLineMaxColumn(e))},t.prototype.findMatchesLineByLine=function(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)},t.prototype.findMatches=function(e,t,n,i,r,o,s){var a;if(void 0===s&&(s=fX),this._assertNotDisposed(),a=j.isIRange(t)?this.validateRange(t):this.getFullModelRange(),!n&&e.indexOf("\n")<0){var h=new xg(e,n,i,r).parseSearchRequest();return h?this.findMatchesLineByLine(a,h,o,s):[]}return xl.findMatches(this,new xg(e,n,i,r),a,o,s)},t.prototype.findNextMatch=function(e,t,n,i,r,o){this._assertNotDisposed();var s=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){var a=new xg(e,n,i,r).parseSearchRequest();if(!a)return null;var h=this.getLineCount(),u=new j(s.lineNumber,s.column,h,this.getLineMaxColumn(h)),d=this.findMatchesLineByLine(u,a,o,1);return xl.findNextMatch(this,new xg(e,n,i,r),s,o),d.length>0?d[0]:(u=new j(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),(d=this.findMatchesLineByLine(u,a,o,1)).length>0?d[0]:null)}return xl.findNextMatch(this,new xg(e,n,i,r),s,o)},t.prototype.findPreviousMatch=function(e,t,n,i,r,o){this._assertNotDisposed();var s=this.validatePosition(t);return xl.findPreviousMatch(this,new xg(e,n,i,r),s,o)},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEOL=function(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.pushEditOperations=function(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,t,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._pushEditOperations=function(e,t,n){var i=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var r=t.map(function(e){return{range:i.validateRange(e.range),text:e.text}}),o=!0,s=0,a=e.length;s<a;s++){for(var h=e[s],u=!1,d=0,l=r.length;d<l;d++){var g=(_=r[d].range).startLineNumber>h.endLineNumber,f=h.startLineNumber>_.endLineNumber;if(!g&&!f){u=!0;break}}if(!u){o=!1;break}}if(o)for(s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){var c=this._trimAutoWhitespaceLines[s],p=this.getLineMaxColumn(c),$=!0;for(d=0,l=r.length;d<l;d++){var _=r[d].range,m=r[d].text;if(!(c<_.startLineNumber||c>_.endLineNumber)&&!(c===_.startLineNumber&&_.startColumn===p&&_.isEmpty()&&m&&m.length>0&&"\n"===m.charAt(0)||c===_.startLineNumber&&1===_.startColumn&&_.isEmpty()&&m&&m.length>0&&"\n"===m.charAt(m.length-1))){$=!1;break}}$&&t.push({range:new j(c,1,c,p),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,n)},t.prototype.applyEdits=function(e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t._eolCount=function(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++){var o=e.charCodeAt(i);13===o?(0===t&&(n=i),t++,i+1<r&&10===e.charCodeAt(i+1)&&i++):10===o&&(0===t&&(n=i),t++)}return 0===t&&(n=e.length),[t,n]},t.prototype._applyEdits=function(e){for(var n=0,i=e.length;n<i;n++)e[n].range=this.validateRange(e[n].range);var r=this._buffer.getLineCount(),o=this._buffer.applyEdits(e,this._options.trimAutoWhitespace),s=this._buffer.getLineCount(),a=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,0!==a.length){var h=[],u=r;for(n=0,i=a.length;n<i;n++){var d=a[n],l=t._eolCount(d.text),g=l[0],f=l[1];try{this._tokens.applyEdits(d.range,g,f)}catch(y){this._tokens=new ID(this._tokens.languageIdentifier,this._tokens.tokenizationSupport)}this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers);for(var c=d.range.startLineNumber,p=d.range.endLineNumber,$=p-c,_=g,m=Math.min($,_),v=_-$,C=m;C>=0;C--){var L=c+C,F=s-u-v+L;h.push(new ZW(L,this.getLineContent(F)))}if(m<$){var D=c+m;h.push(new $W(D+1,p))}if(m<_){for(var T=c+m,I=_-m,E=s-u-I+T+1,b=[],k=0;k<I;k++){var N=E+k;b[N-E]=this.getLineContent(N)}h.push(new _W(T+1,c+_,b))}u+=v}this._increaseVersionId(),this._emitContentChangedEvent(new yl(h,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:a,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization(),o.reverseEdits},t.prototype._undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canUndo=function(){return this._commandManager.canUndo()},t.prototype._redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canRedo=function(){return this._commandManager.canRedo()},t.prototype.changeDecorations=function(e,t){void 0===t&&(t=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._changeDecorations=function(e,t){var n=this,i={addDecoration:function(t,i){return n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0]},changeDecoration:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationImpl(e,t)},changeDecorationOptions:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationOptionsImpl(e,OD(t))},removeDecoration:function(t){n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[t],[])},deltaDecorations:function(t,i){return 0===t.length&&0===i.length?[]:(n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,t,i))}},r=null;try{r=t(i)}catch(o){S(o)}return i.addDecoration=ki,i.changeDecoration=ki,i.changeDecorationOptions=ki,i.removeDecoration=ki,i.deltaDecorations=ki,r},t.prototype.deltaDecorations=function(e,t,n){if(void 0===n&&(n=0),this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._getTrackedRange=function(e){return this.getDecorationRange(e)},t.prototype._setTrackedRange=function(e,t,n){var i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:ND[n]}])[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;var r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,r),i.setOptions(ND[n]),this._decorationsTree.insert(i),i.id},t.prototype.removeAllDecorationsWithOwnerId=function(e){if(!this._isDisposed)for(var t=this._decorationsTree.collectNodesFromOwner(e),n=0,i=t.length;n<i;n++){var r=t[n];this._decorationsTree.delete(r),delete this._decorations[r.id]}},t.prototype.getDecorationOptions=function(e){var t=this._decorations[e];return t?t.options:null},t.prototype.getDecorationRange=function(e){var t=this._decorations[e];if(!t)return null;var n=this.getVersionId();return t.cachedVersionId!==n&&this._decorationsTree.resolveNode(t,n),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range},t.prototype.getLineDecorations=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype.getLinesDecorations=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var r=this.getLineCount(),o=Math.min(r,Math.max(1,e)),s=Math.min(r,Math.max(1,t)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new j(o,1,s,a),n,i)},t.prototype.getDecorationsInRange=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)},t.prototype.getOverviewRulerDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!0,n);return this._ensureNodesHaveRanges(i)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!1,n);return this._ensureNodesHaveRanges(i)},t.prototype._getDecorationsInRange=function(e,t,n){var i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),o=this.getVersionId(),s=this._decorationsTree.intervalSearch(i,r,t,n,o);return this._ensureNodesHaveRanges(s)},t.prototype._ensureNodesHaveRanges=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];null===i.range&&(i.range=this._getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd))}return e},t.prototype._getRangeAt=function(e,t){return this._buffer.getRangeAt(e,t-e)},t.prototype._changeDecorationImpl=function(e,t){var n=this._decorations[e];if(n){var i=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),o=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),r,o,i),this._decorationsTree.insert(n)}},t.prototype._changeDecorationOptionsImpl=function(e,t){var n=this._decorations[e];n&&(!(!n.options.overviewRuler||!n.options.overviewRuler.color)!==!(!t.overviewRuler||!t.overviewRuler.color)?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t))},t.prototype._deltaDecorationsImpl=function(e,t,n){for(var i=this.getVersionId(),r=t.length,o=0,s=n.length,a=0,h=new Array(s);o<r||a<s;){var u=null;if(o<r){do{u=this._decorations[t[o++]]}while(!u&&o<r);u&&this._decorationsTree.delete(u)}if(a<s){if(!u){var d=++this._lastDecorationId,l=this._instanceId+";"+d;u=new yD(l,0,0),this._decorations[l]=u}var g=n[a],f=this._validateRangeRelaxedNoAllocations(g.range),c=OD(g.options),p=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),$=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);u.ownerId=e,u.reset(i,p,$,f),u.setOptions(c),this._decorationsTree.insert(u),h[a]=u.id,a++}else u&&delete this._decorations[u.id]}return h},t.prototype.tokenizeViewport=function(e,t){if(this._tokens.tokenizationSupport&&(e=Math.max(1,e),!((t=Math.min(this.getLineCount(),t))<=this._tokens.inValidLineStartIndex)))if(e<=this._tokens.inValidLineStartIndex)this.forceTokenization(t);else{for(var n=this.getLineFirstNonWhitespaceColumn(e),i=[],r=null,o=e-1;n>0&&o>=1;o--){var s=this.getLineFirstNonWhitespaceColumn(o);if(0!==s&&s<n){if(r=this._tokens._getState(o-1))break;i.push(this.getLineContent(o)),n=s}}r||(r=this._tokens.tokenizationSupport.getInitialState());var a=r.clone();for(o=i.length-1;o>=0;o--){a=(u=this._tokens._tokenizeText(this._buffer,i[o],a))?u.endState.clone():r.clone()}var h=new Fr;for(o=e;o<=t;o++){var u,d=this.getLineContent(o);(u=this._tokens._tokenizeText(this._buffer,d,a))?(this._tokens._setTokens(this._tokens.languageIdentifier.id,o-1,d.length,u.tokens),this._tokens._setIsInvalid(o-1,!0),this._tokens._setState(o-1,a),a=u.endState.clone(),h.registerChangedTokens(o)):a=r.clone()}var l=h.build();l&&this._onDidChangeTokens.fire(l)}},t.prototype.flushTokens=function(){this._resetTokenizationState(),this.emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})},t.prototype.forceTokenization=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");var t=new Fr;this._tokens._updateTokensUntilLine(this._buffer,t,e);var n=t.build();n&&this._onDidChangeTokens.fire(n)},t.prototype.isCheapToTokenize=function(e){return!!this._tokens.isCheapToTokenize(e)&&(e<this._tokens.inValidLineStartIndex+1||this.getLineLength(e)<cX)},t.prototype.tokenizeIfCheap=function(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)},t.prototype.getLineTokens=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)},t.prototype._getLineTokens=function(e){var t=this._buffer.getLineContent(e);return this._tokens.getTokens(this._languageIdentifier.id,e-1,t)},t.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},t.prototype.getModeId=function(){return this._languageIdentifier.language},t.prototype.setMode=function(e){if(this._languageIdentifier.id!==e.id){var t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._resetTokenizationState(),this.emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]}),this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}},t.prototype.getLanguageIdAtPosition=function(e,t){if(!this._tokens.tokenizationSupport)return this._languageIdentifier.id;var n=this.validatePosition({lineNumber:e,column:t}),i=n.lineNumber,r=n.column,o=this._getLineTokens(i);return o.getLanguageId(o.findTokenIndexAtOffset(r-1))},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize()&&-1===this._revalidateTokensTimeout&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){var e=Math.min(100,this.getLineCount());this._revalidateTokensNow(e),this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization()},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._buffer.getLineCount());for(var t=new Fr,n=vW.create(!1);this._tokens.hasLinesToTokenize(this._buffer)&&!(n.elapsed()>20);){if(this._tokens._tokenizeOneLine(this._buffer,t)>=e)break}this._tokens.hasLinesToTokenize(this._buffer)&&this._beginBackgroundTokenization();var i=t.build();i&&this._onDidChangeTokens.fire(i)},t.prototype.emitModelTokensChangedEvent=function(e){this._isDisposing||this._onDidChangeTokens.fire(e)},t.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var n=this.validatePosition(e),i=this.getLineContent(n.lineNumber),r=this._getLineTokens(n.lineNumber),o=r.findTokenIndexAtOffset(n.column-1),s=t._findLanguageBoundaries(r,o),a=s[0],h=s[1],u=dp(n.column,U.getWordDefinition(r.getLanguageId(o)),i.substring(a,h),a);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u;if(o>0&&a===n.column-1){var d=t._findLanguageBoundaries(r,o-1),l=d[0],g=d[1],f=dp(n.column,U.getWordDefinition(r.getLanguageId(o-1)),i.substring(l,g),l);if(f&&f.startColumn<=e.column&&e.column<=f.endColumn)return f}return null},t._findLanguageBoundaries=function(e,t){for(var n=e.getLanguageId(t),i=0,r=t;r>=0&&e.getLanguageId(r)===n;r--)i=e.getStartOffset(r);for(var o=e.getLineContent().length,s=(r=t,e.getCount());r<s&&e.getLanguageId(r)===n;r++)o=e.getEndOffset(r);return[i,o]},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.findMatchingBracketUp=function(e,t){var n=e.toLowerCase(),i=this.validatePosition(t),r=this._getLineTokens(i.lineNumber),o=r.getLanguageId(r.findTokenIndexAtOffset(i.column-1)),s=U.getBracketsSupport(o);if(!s)return null;var a=s.textIsBracket[n];return a?this._findMatchingBracketUp(a,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,n=this._getLineTokens(t),i=this._buffer.getLineContent(t),r=n.findTokenIndexAtOffset(e.column-1);if(r<0)return null;var o=U.getBracketsSupport(n.getLanguageId(r));if(o&&!ye(n.getStandardTokenType(r))){for(var s=Math.max(n.getStartOffset(r),e.column-1-o.maxBracketLength),a=Math.min(n.getEndOffset(r),e.column-1+o.maxBracketLength),h=null;;){if(!(d=ze.findNextBracketInToken(o.forwardRegex,t,i,s,a)))break;if(d.startColumn<=e.column&&e.column<=d.endColumn)l=(l=i.substring(d.startColumn-1,d.endColumn-1)).toLowerCase(),(g=this._matchFoundBracket(d,o.textIsBracket[l],o.textIsOpenBracket[l]))&&(h=g);s=d.endColumn-1}if(h)return h}if(r>0&&n.getStartOffset(r)===e.column-1){a=n.getStartOffset(r);r--;var u=U.getBracketsSupport(n.getLanguageId(r));if(u&&!ye(n.getStandardTokenType(r))){var d,l,g;s=Math.max(n.getStartOffset(r),e.column-1-u.maxBracketLength);if((d=ze.findPrevBracketInToken(u.reversedRegex,t,i,s,a))&&d.startColumn<=e.column&&e.column<=d.endColumn)if(l=(l=i.substring(d.startColumn-1,d.endColumn-1)).toLowerCase(),g=this._matchFoundBracket(d,u.textIsBracket[l],u.textIsOpenBracket[l]))return g}}return null},t.prototype._matchFoundBracket=function(e,t,n){if(!t)return null;var i;if(n){if(i=this._findMatchingBracketDown(t,e.getEndPosition()))return[e,i]}else if(i=this._findMatchingBracketUp(t,e.getStartPosition()))return[e,i];return null},t.prototype._findMatchingBracketUp=function(e,t){for(var n=e.languageIdentifier.id,i=e.reversedRegex,r=-1,o=t.lineNumber;o>=1;o--){var s=this._getLineTokens(o),a=s.getCount(),h=this._buffer.getLineContent(o),u=a-1,d=-1;for(o===t.lineNumber&&(u=s.findTokenIndexAtOffset(t.column-1),d=t.column-1);u>=0;u--){var l=s.getLanguageId(u),g=s.getStandardTokenType(u),f=s.getStartOffset(u),c=s.getEndOffset(u);if(-1===d&&(d=c),l===n&&!ye(g))for(;;){var p=ze.findPrevBracketInToken(i,o,h,f,d);if(!p)break;var $=h.substring(p.startColumn-1,p.endColumn-1);if(($=$.toLowerCase())===e.open?r++:$===e.close&&r--,0===r)return p;d=p.startColumn-1}d=-1}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var n=e.languageIdentifier.id,i=e.forwardRegex,r=1,o=t.lineNumber,s=this.getLineCount();o<=s;o++){var a=this._getLineTokens(o),h=a.getCount(),u=this._buffer.getLineContent(o),d=0,l=0;for(o===t.lineNumber&&(d=a.findTokenIndexAtOffset(t.column-1),l=t.column-1);d<h;d++){var g=a.getLanguageId(d),f=a.getStandardTokenType(d),c=a.getStartOffset(d),p=a.getEndOffset(d);if(0===l&&(l=c),g===n&&!ye(f))for(;;){var $=ze.findNextBracketInToken(i,o,u,l,p);if(!$)break;var _=u.substring($.startColumn-1,$.endColumn-1);if((_=_.toLowerCase())===e.open?r++:_===e.close&&r--,0===r)return $;l=$.endColumn-1}l=0}}return null},t.prototype.findPrevBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,r=t.lineNumber;r>=1;r--){var o=this._getLineTokens(r),s=o.getCount(),a=this._buffer.getLineContent(r),h=s-1,u=-1;for(r===t.lineNumber&&(h=o.findTokenIndexAtOffset(t.column-1),u=t.column-1);h>=0;h--){var d=o.getLanguageId(h),l=o.getStandardTokenType(h),g=o.getStartOffset(h),f=o.getEndOffset(h);if(-1===u&&(u=f),n!==d&&(n=d,i=U.getBracketsSupport(n)),i&&!ye(l)){var c=ze.findPrevBracketInToken(i.reversedRegex,r,a,g,u);if(c)return this._toFoundBracket(i,c)}u=-1}}return null},t.prototype.findNextBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,r=t.lineNumber,o=this.getLineCount();r<=o;r++){var s=this._getLineTokens(r),a=s.getCount(),h=this._buffer.getLineContent(r),u=0,d=0;for(r===t.lineNumber&&(u=s.findTokenIndexAtOffset(t.column-1),d=t.column-1);u<a;u++){var l=s.getLanguageId(u),g=s.getStandardTokenType(u),f=s.getStartOffset(u),c=s.getEndOffset(u);if(0===d&&(d=f),n!==l&&(n=l,i=U.getBracketsSupport(n)),i&&!ye(g)){var p=ze.findNextBracketInToken(i.forwardRegex,r,h,d,c);if(p)return this._toFoundBracket(i,p)}d=0}}return null},t.prototype._toFoundBracket=function(e,t){if(!t)return null;var n=this.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null},t.computeIndentLevel=function(e,t){for(var n=0,i=0,r=e.length;i<r;){var o=e.charCodeAt(i);if(32===o)n++;else{if(9!==o)break;n=n-n%t+t}i++}return i===r?-1:n},t.prototype._computeIndentLevel=function(e){return t.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)},t.prototype.getActiveIndentGuide=function(e,t,n){var i=this;this._assertNotDisposed();var r=this.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");for(var o=U.getFoldingRules(this._languageIdentifier.id),s=Boolean(o&&o.offSide),a=-2,h=-1,u=-2,d=-1,l=function(e){if(-1!==a&&(-2===a||a>e-1)){a=-1,h=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){a=t,h=n;break}}}if(-2===u){u=-1,d=-1;for(t=e;t<r;t++){var o=i._computeIndentLevel(t);if(o>=0){u=t,d=o;break}}}},g=-2,f=-1,c=-2,p=-1,$=function(e){if(-2===g){g=-1,f=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){g=t,f=n;break}}}if(-1!==c&&(-2===c||c<e-1)){c=-1,p=-1;for(t=e;t<r;t++){var o=i._computeIndentLevel(t);if(o>=0){c=t,p=o;break}}}},_=0,m=!0,v=0,C=!0,L=0,F=0;m||C;F++){var D=e-F,T=e+F;if(0!==F&&(D<1||D<t)&&(m=!1),0!==F&&(T>r||T>n)&&(C=!1),F>5e4&&(m=!1,C=!1),m){var I=void 0;if((E=this._computeIndentLevel(D-1))>=0?(u=D-1,d=E,I=Math.ceil(E/this._options.indentSize)):(l(D),I=this._getIndentLevelForWhitespaceLine(s,h,d)),0===F){if(_=D,v=T,0===(L=I))return{startLineNumber:_,endLineNumber:v,indent:L};continue}I>=L?_=D:m=!1}if(C){var E,b=void 0;(E=this._computeIndentLevel(T-1))>=0?(g=T-1,f=E,b=Math.ceil(E/this._options.indentSize)):($(T),b=this._getIndentLevelForWhitespaceLine(s,f,p)),b>=L?v=T:C=!1}}return{startLineNumber:_,endLineNumber:v,indent:L}},t.prototype.getLinesIndentGuides=function(e,t){this._assertNotDisposed();var n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=U.getFoldingRules(this._languageIdentifier.id),r=Boolean(i&&i.offSide),o=new Array(t-e+1),s=-2,a=-1,h=-2,u=-1,d=e;d<=t;d++){var l=d-e,g=this._computeIndentLevel(d-1);if(g>=0)s=d-1,a=g,o[l]=Math.ceil(g/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(var f=d-2;f>=0;f--){if((c=this._computeIndentLevel(f))>=0){s=f,a=c;break}}}if(-1!==h&&(-2===h||h<d-1)){h=-1,u=-1;for(f=d;f<n;f++){var c;if((c=this._computeIndentLevel(f))>=0){h=f,u=c;break}}}o[l]=this._getIndentLevelForWhitespaceLine(r,a,u)}}return o},t.prototype._getIndentLevelForWhitespaceLine=function(e,t,n){return-1===t||-1===n?0:t<n?1+Math.floor(t/this._options.indentSize):t===n?Math.ceil(n/this._options.indentSize):e?Math.ceil(n/this._options.indentSize):1+Math.floor(n/this._options.indentSize)},t.MODEL_SYNC_LIMIT=52428800,t.LARGE_FILE_SIZE_THRESHOLD=20971520,t.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,t.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:Nb.tabSize,indentSize:Nb.indentSize,insertSpaces:Nb.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:Nb.trimAutoWhitespace,largeFileOptimizations:Nb.largeFileOptimizations},t}(B);Cc.TextModel=Ir;var LD=function(){function e(){this._decorationsTree0=new zD,this._decorationsTree1=new zD}return e.prototype.intervalSearch=function(e,t,n,i,r){var o=this._decorationsTree0.intervalSearch(e,t,n,i,r),s=this._decorationsTree1.intervalSearch(e,t,n,i,r);return o.concat(s)},e.prototype.search=function(e,t,n,i){if(n)return this._decorationsTree1.search(e,t,i);var r=this._decorationsTree0.search(e,t,i),o=this._decorationsTree1.search(e,t,i);return r.concat(o)},e.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(n)},e.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)},e.prototype.insert=function(e){xr(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)},e.prototype.delete=function(e){xr(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)},e.prototype.resolveNode=function(e,t){xr(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)},e.prototype.acceptReplace=function(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i)},e}();function Ne(e){return e.replace(/[^a-z0-9\-_]/gi," ")}var MD=function(){function e(e){this.color=e.color||z.empty,this.darkColor=e.darkColor||z.empty,this.position="number"==typeof e.position?e.position:Bk.Center,this._resolvedColor=null}return e.prototype.getColor=function(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor},e.prototype.invalidateCachedColor=function(){this._resolvedColor=null},e.prototype._resolveColor=function(e,t){if("string"==typeof e)return e;var n=e?t.getColor(e.id):null;return n?n.toString():z.empty},e}();Cc.ModelDecorationOverviewRulerOptions=MD;var ya=function(){function e(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Ne(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new MD(e.overviewRuler):null,this.glyphMarginClassName=e.glyphMarginClassName?Ne(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Ne(e.linesDecorationsClassName):null,this.marginClassName=e.marginClassName?Ne(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Ne(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Ne(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Ne(e.afterContentClassName):null}return e.register=function(t){return new e(t)},e.createDynamic=function(t){return new e(t)},e}();Cc.ModelDecorationOptions=ya,ya.EMPTY=ya.register({});var ND=[ya.register({stickiness:0}),ya.register({stickiness:1}),ya.register({stickiness:2}),ya.register({stickiness:3})];function OD(e){return e instanceof ya?e:ya.createDynamic(e)}var PD=function(e){function t(){var t=e.call(this)||this;return t._actual=t._register(new b),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}return Gr(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){this._deferredCnt--,0===this._deferredCnt&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},t.prototype.fire=function(){this._shouldFire=!0},t}(B);Cc.DidChangeDecorationsEmitter=PD;var QD=function(e){function t(){var t=e.call(this)||this;return t._fastEmitter=t._register(new b),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new b),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}return Gr(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){var e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}},t.prototype.fire=function(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))},t}(B);Cc.DidChangeContentEmitter=QD;var gX=function(t){return!0},RD=function(t){return!1},hX=function(t){return" "===t||"\t"===t},SD=function(){function t(e,o,r){this._languageIdentifier=e;var i=r.editor;this.readOnly=i.readOnly,this.tabSize=o.tabSize,this.indentSize=o.indentSize,this.insertSpaces=o.insertSpaces,this.pageSize=Math.max(1,Math.floor(i.layoutInfo.height/i.fontInfo.lineHeight)-2),this.lineHeight=i.lineHeight,this.useTabStops=i.useTabStops,this.wordSeparators=i.wordSeparators,this.emptySelectionClipboard=i.emptySelectionClipboard,this.copyWithSyntaxHighlighting=i.copyWithSyntaxHighlighting,this.multiCursorMergeOverlapping=i.multiCursorMergeOverlapping,this.autoClosingBrackets=i.autoClosingBrackets,this.autoClosingQuotes=i.autoClosingQuotes,this.autoSurround=i.autoSurround,this.autoIndent=i.autoIndent,this.autoClosingPairsOpen={},this.autoClosingPairsClose={},this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:t._getShouldAutoClose(e,this.autoClosingQuotes),bracket:t._getShouldAutoClose(e,this.autoClosingBrackets)};var n=t._getAutoClosingPairs(e);if(n)for(var s=0,u=n;s<u.length;s++){var a=u[s];this.autoClosingPairsOpen[a.open]=a.close,this.autoClosingPairsClose[a.close]=a.open}var l=t._getSurroundingPairs(e);if(l)for(var c=0,$=l;c<$.length;c++){a=$[c];this.surroundingPairs[a.open]=a.close}}return t.shouldRecreate=function(t){return t.layoutInfo||t.wordSeparators||t.emptySelectionClipboard||t.multiCursorMergeOverlapping||t.autoClosingBrackets||t.autoClosingQuotes||t.autoSurround||t.useTabStops||t.lineHeight||t.readOnly},Object.defineProperty(t.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var e=t._getElectricCharacters(this._languageIdentifier);if(e)for(var o=0,r=e;o<r.length;o++){var i=r[o];this._electricChars[i]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),t.prototype.normalizeIndentation=function(t){return Ir.normalizeIndentation(t,this.indentSize,this.insertSpaces)},t._getElectricCharacters=function(t){try{return U.getElectricCharacters(t.id)}catch(e){return S(e),null}},t._getAutoClosingPairs=function(t){try{return U.getAutoClosingPairs(t.id)}catch(e){return S(e),null}},t._getShouldAutoClose=function(e,o){switch(o){case"beforeWhitespace":return hX;case"languageDefined":return t._getLanguageDefinedShouldAutoClose(e);case"always":return gX;case"never":return RD;}},t._getLanguageDefinedShouldAutoClose=function(t){try{var e=U.getAutoCloseBeforeSet(t.id);return function(t){return-1!==e.indexOf(t)}}catch(o){return S(o),RD}},t._getSurroundingPairs=function(t){try{return U.getSurroundingPairs(t.id)}catch(e){return S(e),null}},t}();var _a=function(){function t(e,o,r,i){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=o,this.position=r,this.leftoverVisibleColumns=i,this.selection=t._computeSelection(this.selectionStart,this.position)}return t.prototype.equals=function(t){return this.selectionStartLeftoverVisibleColumns===t.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===t.leftoverVisibleColumns&&this.position.equals(t.position)&&this.selectionStart.equalsRange(t.selectionStart)},t.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},t.prototype.move=function(e,o,r,i){return e?new t(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new x(o,r),i):new t(new j(o,r,o,r),i,new x(o,r),i)},t._computeSelection=function(t,e){var o,r,i,n;return t.isEmpty()?(o=t.startLineNumber,r=t.startColumn,i=e.lineNumber,n=e.column):e.isBeforeOrEqual(t.getStartPosition())?(o=t.endLineNumber,r=t.endColumn,i=e.lineNumber,n=e.column):(o=t.startLineNumber,r=t.startColumn,i=e.lineNumber,n=e.column),new ba(o,r,i,n)},t}();var TD=function(){function t(t,e,o){this.model=e,this.viewModel=o,this.config=new SD(this.model.getLanguageIdentifier(),this.model.getOptions(),t)}return t.prototype.validateViewPosition=function(t,e){return this.viewModel.coordinatesConverter.validateViewPosition(t,e)},t.prototype.validateViewRange=function(t,e){return this.viewModel.coordinatesConverter.validateViewRange(t,e)},t.prototype.convertViewRangeToModelRange=function(t){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},t.prototype.convertViewPositionToModelPosition=function(t,e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new x(t,e))},t.prototype.convertModelPositionToViewPosition=function(t){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(t)},t.prototype.convertModelRangeToViewRange=function(t){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(t)},t.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},t.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},t.prototype.getCompletelyVisibleModelRange=function(){var t=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(t)},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(t){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(t)},t.prototype.getVerticalOffsetForViewLine=function(t){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(t)},t}();var iX=function(){return function(t){this.modelState=t,this.viewState=null}}();var jX=function(){return function(t){this.modelState=null,this.viewState=t}}();var D=function(){function t(t,e){this.modelState=t,this.viewState=e}return t.fromModelState=function(t){return new iX(t)},t.fromViewState=function(t){return new jX(t)},t.fromModelSelection=function(e){var o=e.selectionStartLineNumber,r=e.selectionStartColumn,i=e.positionLineNumber,n=e.positionColumn,s=new _a(new j(o,r,o,r),0,new x(i,n),0);return t.fromModelState(s)},t.fromModelSelections=function(t){for(var e=[],o=0,r=t.length;o<r;o++)e[o]=this.fromModelSelection(t[o]);return e},t.prototype.equals=function(t){return this.viewState.equals(t.viewState)&&this.modelState.equals(t.modelState)},t}();var Na=function(){return function(t,e,o){this.type=t,this.commands=e,this.shouldPushStackElementBefore=o.shouldPushStackElementBefore,this.shouldPushStackElementAfter=o.shouldPushStackElementAfter}}();var Q=function(){function t(){}return t.isLowSurrogate=function(t,e,o){var r=t.getLineContent(e);return!(o<0||o>=r.length)&&z.isLowSurrogate(r.charCodeAt(o))},t.isHighSurrogate=function(t,e,o){var r=t.getLineContent(e);return!(o<0||o>=r.length)&&z.isHighSurrogate(r.charCodeAt(o))},t.isInsideSurrogatePair=function(t,e,o){return this.isHighSurrogate(t,e,o-2)},t.visibleColumnFromColumn=function(t,e,o){var r=t.length;r>e-1&&(r=e-1);for(var i=0,n=0;n<r;n++){var s=t.charCodeAt(n);9===s?i=this.nextRenderTabStop(i,o):z.isFullWidthCharacter(s)?i+=2:i+=1}return i},t.visibleColumnFromColumn2=function(t,e,o){return this.visibleColumnFromColumn(e.getLineContent(o.lineNumber),o.column,t.tabSize)},t.columnFromVisibleColumn=function(t,e,o){if(e<=0)return 1;for(var r=t.length,i=0,n=0;n<r;n++){var s=t.charCodeAt(n),u=void 0;if((u=9===s?this.nextRenderTabStop(i,o):z.isFullWidthCharacter(s)?i+2:i+1)>=e)return u-e<e-i?n+2:n+1;i=u}return r+1},t.columnFromVisibleColumn2=function(t,e,o,r){var i=this.columnFromVisibleColumn(e.getLineContent(o),r,t.tabSize),n=e.getLineMinColumn(o);if(i<n)return n;var s=e.getLineMaxColumn(o);return i>s?s:i},t.nextRenderTabStop=function(t,e){return t+e-t%e},t.nextIndentTabStop=function(t,e){return t+e-t%e},t.prevRenderTabStop=function(t,e){return t-1-(t-1)%e},t.prevIndentTabStop=function(t,e){return t-1-(t-1)%e},t}();function Pd(t){return"'"===t||"\""===t||"`"===t}var li=function(){function e(){}return e._columnSelect=function(e,o,n,i,t,r){for(var u=Math.abs(t-n)+1,l=n>t,m=i>r,$=i<r,c=[],s=0;s<u;s++){var a=n+(l?-s:s),C=Q.columnFromVisibleColumn2(e,o,a,i),p=Q.columnFromVisibleColumn2(e,o,a,r),S=Q.visibleColumnFromColumn2(e,o,new x(a,C)),f=Q.visibleColumnFromColumn2(e,o,new x(a,p));if($){if(S>r)continue;if(f<i)continue}if(m){if(f>i)continue;if(S<r)continue}c.push(new _a(new j(a,C,a,C),0,new x(a,p),0))}return{viewStates:c,reversed:l,toLineNumber:t,toVisualColumn:r}},e.columnSelect=function(o,n,i,t,r){var u=new x(i.selectionStartLineNumber,i.selectionStartColumn),l=Q.visibleColumnFromColumn2(o,n,u);return e._columnSelect(o,n,u.lineNumber,l,t,r)},e.columnSelectLeft=function(e,o,n,i,t){return t>1&&t--,this.columnSelect(e,o,n.selection,i,t)},e.columnSelectRight=function(e,o,n,i,t){for(var r=0,u=Math.min(n.position.lineNumber,i),l=Math.max(n.position.lineNumber,i),m=u;m<=l;m++){var $=o.getLineMaxColumn(m),c=Q.visibleColumnFromColumn2(e,o,new x(m,$));r=Math.max(r,c)}return t<r&&t++,this.columnSelect(e,o,n.selection,i,t)},e.columnSelectUp=function(e,o,n,i,t,r){return(t-=i?e.pageSize:1)<1&&(t=1),this.columnSelect(e,o,n.selection,t,r)},e.columnSelectDown=function(e,o,n,i,t,r){return(t+=i?e.pageSize:1)>o.getLineCount()&&(t=o.getLineCount()),this.columnSelect(e,o,n.selection,t,r)},e}();var Oa=function(){function t(t,e,n){void 0===n&&(n=!1),this._range=t,this._text=e,this.insertsAutoWhitespace=n}return t.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(t,e){var n=e.getInverseEditOperations()[0].range;return new ba(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)},t}();var Bl=function(){function t(t,e,n){void 0===n&&(n=!1),this._range=t,this._text=e,this.insertsAutoWhitespace=n}return t.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(t,e){var n=e.getInverseEditOperations()[0].range;return new ba(n.startLineNumber,n.startColumn,n.startLineNumber,n.startColumn)},t}();var mi=function(){function t(t,e,n,i,o){void 0===o&&(o=!1),this._range=t,this._text=e,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=o}return t.prototype.getEditOperations=function(t,e){e.addTrackedEditOperation(this._range,this._text)},t.prototype.computeCursorState=function(t,e){var n=e.getInverseEditOperations()[0].range;return new ba(n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset,n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset)},t}();var Oia=function(){function t(t,e,n){this._range=t,this._text=e,this._initialSelection=n}return t.prototype.getEditOperations=function(t,e){e.addEditOperation(this._range,this._text),this._selectionId=e.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(t,e){return e.getTrackedSelection(this._selectionId)},t}();var Cl=function(){return function(e,o,n){this.lineNumber=e,this.column=o,this.leftoverVisibleColumns=n}}();var ja=function(){function e(){}return e.left=function(e,o,n,i){return i>o.getLineMinColumn(n)?Q.isLowSurrogate(o,n,i-2)?i-=2:i-=1:n>1&&(n-=1,i=o.getLineMaxColumn(n)),new Cl(n,i,0)},e.moveLeft=function(o,n,i,r,t){var u,l;if(i.hasSelection()&&!r)u=i.selection.startLineNumber,l=i.selection.startColumn;else{var s=e.left(o,n,i.position.lineNumber,i.position.column-(t-1));u=s.lineNumber,l=s.column}return i.move(r,u,l,0)},e.right=function(e,o,n,i){return i<o.getLineMaxColumn(n)?Q.isHighSurrogate(o,n,i-1)?i+=2:i+=1:n<o.getLineCount()&&(n+=1,i=o.getLineMinColumn(n)),new Cl(n,i,0)},e.moveRight=function(o,n,i,r,t){var u,l;if(i.hasSelection()&&!r)u=i.selection.endLineNumber,l=i.selection.endColumn;else{var s=e.right(o,n,i.position.lineNumber,i.position.column+(t-1));u=s.lineNumber,l=s.column}return i.move(r,u,l,0)},e.down=function(e,o,n,i,r,t,u){var l=Q.visibleColumnFromColumn(o.getLineContent(n),i,e.tabSize)+r;n+=t;var s=o.getLineCount();return n>s?(n=s,u?i=o.getLineMaxColumn(n):(i=Math.min(o.getLineMaxColumn(n),i),Q.isInsideSurrogatePair(o,n,i)&&(i-=1))):(i=Q.columnFromVisibleColumn2(e,o,n,l),Q.isInsideSurrogatePair(o,n,i)&&(i-=1)),r=l-Q.visibleColumnFromColumn(o.getLineContent(n),i,e.tabSize),new Cl(n,i,r)},e.moveDown=function(o,n,i,r,t){var u,l;i.hasSelection()&&!r?(u=i.selection.endLineNumber,l=i.selection.endColumn):(u=i.position.lineNumber,l=i.position.column);var s=e.down(o,n,u,l,i.leftoverVisibleColumns,t,!0);return i.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)},e.translateDown=function(o,n,i){var r=i.selection,t=e.down(o,n,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),u=e.down(o,n,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new _a(new j(t.lineNumber,t.column,t.lineNumber,t.column),t.leftoverVisibleColumns,new x(u.lineNumber,u.column),u.leftoverVisibleColumns)},e.up=function(e,o,n,i,r,t,u){var l=Q.visibleColumnFromColumn(o.getLineContent(n),i,e.tabSize)+r;return(n-=t)<1?(n=1,u?i=o.getLineMinColumn(n):(i=Math.min(o.getLineMaxColumn(n),i),Q.isInsideSurrogatePair(o,n,i)&&(i-=1))):(i=Q.columnFromVisibleColumn2(e,o,n,l),Q.isInsideSurrogatePair(o,n,i)&&(i-=1)),r=l-Q.visibleColumnFromColumn(o.getLineContent(n),i,e.tabSize),new Cl(n,i,r)},e.moveUp=function(o,n,i,r,t){var u,l;i.hasSelection()&&!r?(u=i.selection.startLineNumber,l=i.selection.startColumn):(u=i.position.lineNumber,l=i.position.column);var s=e.up(o,n,u,l,i.leftoverVisibleColumns,t,!0);return i.move(r,s.lineNumber,s.column,s.leftoverVisibleColumns)},e.translateUp=function(o,n,i){var r=i.selection,t=e.up(o,n,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),u=e.up(o,n,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new _a(new j(t.lineNumber,t.column,t.lineNumber,t.column),t.leftoverVisibleColumns,new x(u.lineNumber,u.column),u.leftoverVisibleColumns)},e.moveToBeginningOfLine=function(e,o,n,i){var r,t=n.position.lineNumber,u=o.getLineMinColumn(t),l=o.getLineFirstNonWhitespaceColumn(t)||u;return r=n.position.column===l?u:l,n.move(i,t,r,0)},e.moveToEndOfLine=function(e,o,n,i){var r=n.position.lineNumber,t=o.getLineMaxColumn(r);return n.move(i,r,t,0)},e.moveToBeginningOfBuffer=function(e,o,n,i){return n.move(i,1,1,0)},e.moveToEndOfBuffer=function(e,o,n,i){var r=o.getLineCount(),t=o.getLineMaxColumn(r);return n.move(i,r,t,0)},e}();var Jr=function(){function e(){}return e.deleteRight=function(e,n,r,i){for(var l=[],o=3!==e,t=0,u=i.length;t<u;t++){var m=i[t],a=m;if(a.isEmpty()){var s=m.getPosition(),$=ja.right(n,r,s.lineNumber,s.column);a=new j($.lineNumber,$.column,s.lineNumber,s.column)}a.isEmpty()?l[t]=null:(a.startLineNumber!==a.endLineNumber&&(o=!0),l[t]=new Oa(a,""))}return[o,l]},e._isAutoClosingPairDelete=function(e,n,r){if("never"===e.autoClosingBrackets&&"never"===e.autoClosingQuotes)return!1;for(var i=0,l=r.length;i<l;i++){var o=r[i],t=o.getPosition();if(!o.isEmpty())return!1;var u=n.getLineContent(t.lineNumber),m=u[t.column-2];if(!e.autoClosingPairsOpen.hasOwnProperty(m))return!1;if(Pd(m)){if("never"===e.autoClosingQuotes)return!1}else if("never"===e.autoClosingBrackets)return!1;if(u[t.column-1]!==e.autoClosingPairsOpen[m])return!1}return!0},e._runAutoClosingPairDelete=function(e,n,r){for(var i=[],l=0,o=r.length;l<o;l++){var t=r[l].getPosition(),u=new j(t.lineNumber,t.column-1,t.lineNumber,t.column+1);i[l]=new Oa(u,"")}return[!0,i]},e.deleteLeft=function(e,n,r,i){if(this._isAutoClosingPairDelete(n,r,i))return this._runAutoClosingPairDelete(n,r,i);for(var l=[],o=2!==e,t=0,u=i.length;t<u;t++){var m=i[t],a=m;if(a.isEmpty()){var s=m.getPosition();if(n.useTabStops&&s.column>1){var $=r.getLineContent(s.lineNumber),p=z.firstNonWhitespaceIndex($),c=-1===p?$.length+1:p+1;if(s.column<=c){var g=Q.visibleColumnFromColumn2(n,r,s),b=Q.prevIndentTabStop(g,n.indentSize),D=Q.columnFromVisibleColumn2(n,r,s.lineNumber,b);a=new j(s.lineNumber,D,s.lineNumber,s.column)}else a=new j(s.lineNumber,s.column-1,s.lineNumber,s.column)}else{var v=ja.left(n,r,s.lineNumber,s.column);a=new j(v.lineNumber,v.column,s.lineNumber,s.column)}}a.isEmpty()?l[t]=null:(a.startLineNumber!==a.endLineNumber&&(o=!0),l[t]=new Oa(a,""))}return[o,l]},e.cut=function(e,n,r){for(var i=[],l=0,o=r.length;l<o;l++){var t=r[l];if(t.isEmpty()){if(e.emptySelectionClipboard){var u=t.getPosition(),m=void 0,a=void 0,s=void 0,$=void 0;u.lineNumber<n.getLineCount()?(m=u.lineNumber,a=1,s=u.lineNumber+1,$=1):u.lineNumber>1?(m=u.lineNumber-1,a=n.getLineMaxColumn(u.lineNumber-1),s=u.lineNumber,$=n.getLineMaxColumn(u.lineNumber)):(m=u.lineNumber,a=1,s=u.lineNumber,$=n.getLineMaxColumn(u.lineNumber));var p=new j(m,a,s,$);p.isEmpty()?i[l]=null:i[l]=new Oa(p,"")}else i[l]=null;}else i[l]=new Oa(t,"")}return new Na(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e}();var kX;var Dl={};var lX=Dl&&Dl.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),ab=function(){function e(){}return e._createWord=function(e,r,t,n,o){return{start:n,end:o,wordType:r,nextCharClass:t}},e._findPreviousWordOnLine=function(e,r,t){var n=r.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(n,e,t)},e._doFindPreviousWordOnLine=function(e,r,t){for(var n=0,o=t.column-2;o>=0;o--){var i=e.charCodeAt(o),$=r.get(i);if(0===$){if(2===n)return this._createWord(e,n,$,o+1,this._findEndOfWord(e,r,n,o+1));n=1}else if(2===$){if(1===n)return this._createWord(e,n,$,o+1,this._findEndOfWord(e,r,n,o+1));n=2}else if(1===$&&0!==n)return this._createWord(e,n,$,o+1,this._findEndOfWord(e,r,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,r,n,0)):null},e._findEndOfWord=function(e,r,t,n){for(var o=e.length,i=n;i<o;i++){var $=e.charCodeAt(i),s=r.get($);if(1===s)return i;if(1===t&&2===s)return i;if(2===t&&0===s)return i}return o},e._findNextWordOnLine=function(e,r,t){var n=r.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(n,e,t)},e._doFindNextWordOnLine=function(e,r,t){for(var n=0,o=e.length,i=t.column-1;i<o;i++){var $=e.charCodeAt(i),s=r.get($);if(0===s){if(2===n)return this._createWord(e,n,s,this._findStartOfWord(e,r,n,i-1),i);n=1}else if(2===s){if(1===n)return this._createWord(e,n,s,this._findStartOfWord(e,r,n,i-1),i);n=2}else if(1===s&&0!==n)return this._createWord(e,n,s,this._findStartOfWord(e,r,n,i-1),i)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,r,n,o-1),o):null},e._findStartOfWord=function(e,r,t,n){for(var o=n;o>=0;o--){var i=e.charCodeAt(o),$=r.get(i);if(1===$)return o+1;if(1===t&&2===$)return o+1;if(2===t&&0===$)return o+1}return 0},e.moveWordLeft=function(r,t,n,o){var i=n.lineNumber,$=n.column,s=!1;1===$&&i>1&&(s=!0,i-=1,$=t.getLineMaxColumn(i));var a=e._findPreviousWordOnLine(r,t,new x(i,$));if(0===o){if(a&&!s)if(t.getLineLastNonWhitespaceColumn(i)<$)return new x(i,a.end+1);return new x(i,a?a.start+1:1)}return 1===o?(a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=e._findPreviousWordOnLine(r,t,new x(i,a.start+1))),new x(i,a?a.start+1:1)):(a&&$<=a.end+1&&(a=e._findPreviousWordOnLine(r,t,new x(i,a.start+1))),new x(i,a?a.end+1:1))},e._moveWordPartLeft=function(e,r){var t=r.lineNumber,n=e.getLineMaxColumn(t);if(1===r.column)return t>1?new x(t-1,e.getLineMaxColumn(t-1)):r;for(var o=e.getLineContent(t),i=r.column-1;i>1;i--){var $=o.charCodeAt(i-2),s=o.charCodeAt(i-1);if(95!==$&&95===s)return new x(t,i);if(z.isLowerAsciiLetter($)&&z.isUpperAsciiLetter(s))return new x(t,i);if(z.isUpperAsciiLetter($)&&z.isUpperAsciiLetter(s)&&i+1<n){var a=o.charCodeAt(i);if(z.isLowerAsciiLetter(a))return new x(t,i)}}return new x(t,1)},e.moveWordRight=function(r,t,n,o){var i=n.lineNumber,$=n.column,s=!1;$===t.getLineMaxColumn(i)&&i<t.getLineCount()&&(s=!0,i+=1,$=1);var a=e._findNextWordOnLine(r,t,new x(i,$));return 2===o?(a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=e._findNextWordOnLine(r,t,new x(i,a.end+1))),$=a?a.end+1:t.getLineMaxColumn(i)):(a&&!s&&$>=a.start+1&&(a=e._findNextWordOnLine(r,t,new x(i,a.end+1))),$=a?a.start+1:t.getLineMaxColumn(i)),new x(i,$)},e._moveWordPartRight=function(e,r){var t=r.lineNumber,n=e.getLineMaxColumn(t);if(r.column===n)return t<e.getLineCount()?new x(t+1,1):r;for(var o=e.getLineContent(t),i=r.column+1;i<n;i++){var $=o.charCodeAt(i-2),s=o.charCodeAt(i-1);if(95===$&&95!==s)return new x(t,i);if(z.isLowerAsciiLetter($)&&z.isUpperAsciiLetter(s))return new x(t,i);if(z.isUpperAsciiLetter($)&&z.isUpperAsciiLetter(s)&&i+1<n){var a=o.charCodeAt(i);if(z.isLowerAsciiLetter(a))return new x(t,i)}}return new x(t,n)},e._deleteWordLeftWhitespace=function(e,r){var t=e.getLineContent(r.lineNumber),n=r.column-2,o=z.lastNonWhitespaceIndex(t,n);return o+1<n?new j(r.lineNumber,o+2,r.lineNumber,r.column):null},e.deleteWordLeft=function(r,t,n,o,i){if(!n.isEmpty())return n;var $=new x(n.positionLineNumber,n.positionColumn),s=$.lineNumber,a=$.column;if(1===s&&1===a)return null;if(o){var u=this._deleteWordLeftWhitespace(t,$);if(u)return u}var d=e._findPreviousWordOnLine(r,t,$);return 0===i?d?a=d.start+1:a>1?a=1:(s--,a=t.getLineMaxColumn(s)):(d&&a<=d.end+1&&(d=e._findPreviousWordOnLine(r,t,new x(s,d.start+1))),d?a=d.end+1:a>1?a=1:(s--,a=t.getLineMaxColumn(s))),new j(s,a,$.lineNumber,$.column)},e._deleteWordPartLeft=function(r,t){if(!t.isEmpty())return t;var n=t.getPosition(),o=e._moveWordPartLeft(r,n);return new j(n.lineNumber,n.column,o.lineNumber,o.column)},e._findFirstNonWhitespaceChar=function(e,r){for(var t=e.length,n=r;n<t;n++){var o=e.charAt(n);if(" "!==o&&"\t"!==o)return n}return t},e._deleteWordRightWhitespace=function(e,r){var t=e.getLineContent(r.lineNumber),n=r.column-1,o=this._findFirstNonWhitespaceChar(t,n);return n+1<o?new j(r.lineNumber,r.column,r.lineNumber,o+1):null},e.deleteWordRight=function(r,t,n,o,i){if(!n.isEmpty())return n;var $=new x(n.positionLineNumber,n.positionColumn),s=$.lineNumber,a=$.column,u=t.getLineCount(),d=t.getLineMaxColumn(s);if(s===u&&a===d)return null;if(o){var m=this._deleteWordRightWhitespace(t,$);if(m)return m}var p=e._findNextWordOnLine(r,t,$);return 2===i?p?a=p.end+1:a<d||s===u?a=d:(s++,a=(p=e._findNextWordOnLine(r,t,new x(s,1)))?p.start+1:t.getLineMaxColumn(s)):(p&&a>=p.start+1&&(p=e._findNextWordOnLine(r,t,new x(s,p.end+1))),p?a=p.start+1:a<d||s===u?a=d:(s++,a=(p=e._findNextWordOnLine(r,t,new x(s,1)))?p.start+1:t.getLineMaxColumn(s))),new j(s,a,$.lineNumber,$.column)},e._deleteWordPartRight=function(r,t){if(!t.isEmpty())return t;var n=t.getPosition(),o=e._moveWordPartRight(r,n);return new j(n.lineNumber,n.column,o.lineNumber,o.column)},e.word=function(r,t,n,o,i){var $,s,a,u,d=vg(r.wordSeparators),m=e._findPreviousWordOnLine(d,t,i),p=e._findNextWordOnLine(d,t,i);if(!o)return m&&1===m.wordType&&m.start<=i.column-1&&i.column-1<=m.end?($=m.start+1,s=m.end+1):p&&1===p.wordType&&p.start<=i.column-1&&i.column-1<=p.end?($=p.start+1,s=p.end+1):($=m?m.end+1:1,s=p?p.start+1:t.getLineMaxColumn(i.lineNumber)),new _a(new j(i.lineNumber,$,i.lineNumber,s),0,new x(i.lineNumber,s),0);m&&1===m.wordType&&m.start<i.column-1&&i.column-1<m.end?(a=m.start+1,u=m.end+1):p&&1===p.wordType&&p.start<i.column-1&&i.column-1<p.end?(a=p.start+1,u=p.end+1):(a=i.column,u=i.column);var f,c=i.lineNumber;if(n.selectionStart.containsPosition(i))f=n.selectionStart.endColumn;else if(i.isBeforeOrEqual(n.selectionStart.getStartPosition())){f=a;var l=new x(c,f);n.selectionStart.containsPosition(l)&&(f=n.selectionStart.endColumn)}else{f=u;l=new x(c,f);n.selectionStart.containsPosition(l)&&(f=n.selectionStart.startColumn)}return n.move(!0,c,f,0)},e}();Dl.WordOperations=ab;var mX=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return lX(r,e),r.deleteWordPartLeft=function(e,r,t,n){var o=El([ab.deleteWordLeft(e,r,t,n,0),ab.deleteWordLeft(e,r,t,n,2),ab._deleteWordPartLeft(r,t)]);return o.sort(j.compareRangesUsingEnds),o[2]},r.deleteWordPartRight=function(e,r,t,n){var o=El([ab.deleteWordRight(e,r,t,n,0),ab.deleteWordRight(e,r,t,n,2),ab._deleteWordPartRight(r,t)]);return o.sort(j.compareRangesUsingStarts),o[0]},r.moveWordPartLeft=function(e,r,t){var n=El([ab.moveWordLeft(e,r,t,0),ab.moveWordLeft(e,r,t,2),ab._moveWordPartLeft(r,t)]);return n.sort(x.compare),n[2]},r.moveWordPartRight=function(e,r,t){var n=El([ab.moveWordRight(e,r,t,0),ab.moveWordRight(e,r,t,2),ab._moveWordPartRight(r,t)]);return n.sort(x.compare),n[0]},r}(ab);function El(e){return e.filter(function(e){return Boolean(e)})}Dl.WordPartOperations=mX;var Kr,Ha=function(){function e(){}return e.addCursorDown=function(e,t,o){for(var i=[],r=0,n=0,a=t.length;n<a;n++){var m=t[n];i[r++]=new D(m.modelState,m.viewState),i[r++]=o?D.fromModelState(ja.translateDown(e.config,e.model,m.modelState)):D.fromViewState(ja.translateDown(e.config,e.viewModel,m.viewState))}return i},e.addCursorUp=function(e,t,o){for(var i=[],r=0,n=0,a=t.length;n<a;n++){var m=t[n];i[r++]=new D(m.modelState,m.viewState),i[r++]=o?D.fromModelState(ja.translateUp(e.config,e.model,m.modelState)):D.fromViewState(ja.translateUp(e.config,e.viewModel,m.viewState))}return i},e.moveToBeginningOfLine=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r];i[r]=this._moveToLineStart(e,a,o)}return i},e._moveToLineStart=function(e,t,o){var i=t.viewState.position.column,r=i===t.modelState.position.column,n=t.viewState.position.lineNumber,a=e.viewModel.getLineFirstNonWhitespaceColumn(n);return r||i===a?this._moveToLineStartByModel(e,t,o):this._moveToLineStartByView(e,t,o)},e._moveToLineStartByView=function(e,t,o){return D.fromViewState(ja.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,o))},e._moveToLineStartByModel=function(e,t,o){return D.fromModelState(ja.moveToBeginningOfLine(e.config,e.model,t.modelState,o))},e.moveToEndOfLine=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r];i[r]=this._moveToLineEnd(e,a,o)}return i},e._moveToLineEnd=function(e,t,o){var i=t.viewState.position,r=e.viewModel.getLineMaxColumn(i.lineNumber),n=i.column===r,a=t.modelState.position,m=e.model.getLineMaxColumn(a.lineNumber),s=r-i.column==m-a.column;return n||s?this._moveToLineEndByModel(e,t,o):this._moveToLineEndByView(e,t,o)},e._moveToLineEndByView=function(e,t,o){return D.fromViewState(ja.moveToEndOfLine(e.config,e.viewModel,t.viewState,o))},e._moveToLineEndByModel=function(e,t,o){return D.fromModelState(ja.moveToEndOfLine(e.config,e.model,t.modelState,o))},e.expandLineSelection=function(e,t){for(var o=[],i=0,r=t.length;i<r;i++){var n=t[i].viewState.selection,a=n.startLineNumber,m=e.viewModel.getLineCount(),s=n.endLineNumber,u=void 0;s===m?u=e.viewModel.getLineMaxColumn(m):(s++,u=1),o[i]=D.fromViewState(new _a(new j(a,1,a,1),0,new x(s,u),0))}return o},e.moveToBeginningOfBuffer=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r];i[r]=D.fromModelState(ja.moveToBeginningOfBuffer(e.config,e.model,a.modelState,o))}return i},e.moveToEndOfBuffer=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r];i[r]=D.fromModelState(ja.moveToEndOfBuffer(e.config,e.model,a.modelState,o))}return i},e.selectAll=function(e,t){var o=e.model.getLineCount(),i=e.model.getLineMaxColumn(o);return D.fromModelState(new _a(new j(1,1,1,1),0,new x(o,i),0))},e.line=function(e,t,o,i,r){var n=e.model.validatePosition(i),a=r?e.validateViewPosition(new x(r.lineNumber,r.column),n):e.convertModelPositionToViewPosition(n);if(!o||!t.modelState.hasSelection()){var m=e.model.getLineCount(),s=n.lineNumber+1,u=1;return s>m&&(s=m,u=e.model.getLineMaxColumn(s)),D.fromModelState(new _a(new j(n.lineNumber,1,s,u),0,new x(s,u),0))}var d=t.modelState.selectionStart.getStartPosition().lineNumber;if(n.lineNumber<d)return D.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(n.lineNumber>d){m=e.viewModel.getLineCount();var l=a.lineNumber+1,v=1;return l>m&&(l=m,v=e.viewModel.getLineMaxColumn(l)),D.fromViewState(t.viewState.move(t.modelState.hasSelection(),l,v,0))}var $=t.modelState.selectionStart.getEndPosition();return D.fromModelState(t.modelState.move(t.modelState.hasSelection(),$.lineNumber,$.column,0))},e.word=function(e,t,o,i){var r=e.model.validatePosition(i);return D.fromModelState(ab.word(e.config,e.model,t.modelState,o,r))},e.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new D(t.modelState,t.viewState);var o=t.viewState.position.lineNumber,i=t.viewState.position.column;return D.fromViewState(new _a(new j(o,i,o,i),0,new x(o,i),0))},e.moveTo=function(e,t,o,i,r){var n=e.model.validatePosition(i),a=r?e.validateViewPosition(new x(r.lineNumber,r.column),n):e.convertModelPositionToViewPosition(n);return D.fromViewState(t.viewState.move(o,a.lineNumber,a.column,0))},e.move=function(e,t,o){var i=o.select,r=o.value;switch(o.direction){case 0:return 4===o.unit?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,r);case 1:return 4===o.unit?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,r);case 2:return 2===o.unit?this._moveUpByViewLines(e,t,i,r):this._moveUpByModelLines(e,t,i,r);case 3:return 2===o.unit?this._moveDownByViewLines(e,t,i,r):this._moveDownByModelLines(e,t,i,r);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:var n=t[0],a=e.getCompletelyVisibleModelRange(),m=this._firstLineNumberInRange(e.model,a,r),s=e.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(e,n,i,m,s)];case 11:n=t[0],a=e.getCompletelyVisibleModelRange(),m=this._lastLineNumberInRange(e.model,a,r),s=e.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(e,n,i,m,s)];case 10:n=t[0],a=e.getCompletelyVisibleModelRange(),m=Math.round((a.startLineNumber+a.endLineNumber)/2),s=e.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(e,n,i,m,s)];case 12:for(var u=e.getCompletelyVisibleViewRange(),d=[],l=0,v=t.length;l<v;l++){n=t[l];d[l]=this.findPositionInViewportIfOutside(e,n,u,i)}return d;}return null},e.findPositionInViewportIfOutside=function(e,t,o,i){var r=t.viewState.position.lineNumber;if(o.startLineNumber<=r&&r<=o.endLineNumber-1)return new D(t.modelState,t.viewState);r>o.endLineNumber-1&&(r=o.endLineNumber-1),r<o.startLineNumber&&(r=o.startLineNumber);var n=e.viewModel.getLineFirstNonWhitespaceColumn(r);return this._moveToViewPosition(e,t,i,r,n)},e._firstLineNumberInRange=function(e,t,o){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+o-1)},e._lastLineNumberInRange=function(e,t,o){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-o+1)},e._moveLeft=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n],s=ja.moveLeft(e.config,e.viewModel,m.viewState,o,i);if(1===i&&s.position.lineNumber!==m.viewState.position.lineNumber)e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(s.position).lineNumber===m.modelState.position.lineNumber&&(s=ja.moveLeft(e.config,e.viewModel,s,o,1));r[n]=D.fromViewState(s)}return r},e._moveHalfLineLeft=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=Math.round(e.viewModel.getLineContent(m).length/2);i[r]=D.fromViewState(ja.moveLeft(e.config,e.viewModel,a.viewState,o,s))}return i},e._moveRight=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n],s=ja.moveRight(e.config,e.viewModel,m.viewState,o,i);if(1===i&&s.position.lineNumber!==m.viewState.position.lineNumber)e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(s.position).lineNumber===m.modelState.position.lineNumber&&(s=ja.moveRight(e.config,e.viewModel,s,o,1));r[n]=D.fromViewState(s)}return r},e._moveHalfLineRight=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=Math.round(e.viewModel.getLineContent(m).length/2);i[r]=D.fromViewState(ja.moveRight(e.config,e.viewModel,a.viewState,o,s))}return i},e._moveDownByViewLines=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n];r[n]=D.fromViewState(ja.moveDown(e.config,e.viewModel,m.viewState,o,i))}return r},e._moveDownByModelLines=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n];r[n]=D.fromModelState(ja.moveDown(e.config,e.model,m.modelState,o,i))}return r},e._moveUpByViewLines=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n];r[n]=D.fromViewState(ja.moveUp(e.config,e.viewModel,m.viewState,o,i))}return r},e._moveUpByModelLines=function(e,t,o,i){for(var r=[],n=0,a=t.length;n<a;n++){var m=t[n];r[n]=D.fromModelState(ja.moveUp(e.config,e.model,m.modelState,o,i))}return r},e._moveToViewPosition=function(e,t,o,i,r){return D.fromViewState(t.viewState.move(o,i,r,0))},e._moveToModelPosition=function(e,t,o,i,r){return D.fromModelState(t.modelState.move(o,i,r,0))},e._moveToViewMinColumn=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=e.viewModel.getLineMinColumn(m);i[r]=this._moveToViewPosition(e,a,o,m,s)}return i},e._moveToViewFirstNonWhitespaceColumn=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=e.viewModel.getLineFirstNonWhitespaceColumn(m);i[r]=this._moveToViewPosition(e,a,o,m,s)}return i},e._moveToViewCenterColumn=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=Math.round((e.viewModel.getLineMaxColumn(m)+e.viewModel.getLineMinColumn(m))/2);i[r]=this._moveToViewPosition(e,a,o,m,s)}return i},e._moveToViewMaxColumn=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=e.viewModel.getLineMaxColumn(m);i[r]=this._moveToViewPosition(e,a,o,m,s)}return i},e._moveToViewLastNonWhitespaceColumn=function(e,t,o){for(var i=[],r=0,n=t.length;r<n;r++){var a=t[r],m=a.viewState.position.lineNumber,s=e.viewModel.getLineLastNonWhitespaceColumn(m);i[r]=this._moveToViewPosition(e,a,o,m,s)}return i},e}();(function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!fb(e))return!1;var t=e;return!(!oe(t.to)||!Tc(t.select)&&!Yy(t.select)||!Tc(t.by)&&!oe(t.by)||!Tc(t.value)&&!pe(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;var o;switch(t.to){case e.RawDirection.Left:o=0;break;case e.RawDirection.Right:o=1;break;case e.RawDirection.Up:o=2;break;case e.RawDirection.Down:o=3;break;case e.RawDirection.WrappedLineStart:o=4;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=5;break;case e.RawDirection.WrappedLineColumnCenter:o=6;break;case e.RawDirection.WrappedLineEnd:o=7;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=8;break;case e.RawDirection.ViewPortTop:o=9;break;case e.RawDirection.ViewPortBottom:o=11;break;case e.RawDirection.ViewPortCenter:o=10;break;case e.RawDirection.ViewPortIfOutside:o=12;break;default:return null;}var i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4;}return{direction:o,unit:i,select:!!t.select,value:t.value||1}}})(Kr||(kX=Kr={},kX));var Lr=Object.create(null);function Oe(t,e){Lr[t]||(Lr[t]=["",t]);for(var n=Lr[t],r=n.length;r<=e;r++)n[r]=n[r-1]+t;return n[e]}var ni=function(){function t(t,e){this._opts=e,this._selection=t,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return t.unshiftIndent=function(t,e,n,r,i){var o=Q.visibleColumnFromColumn(t,e,n);if(i){var a=Oe(" ",r);return Oe(a,Q.prevIndentTabStop(o,r)/r)}return Oe(a="\t",Q.prevRenderTabStop(o,n)/n)},t.shiftIndent=function(t,e,n,r,i){var o=Q.visibleColumnFromColumn(t,e,n);if(i){var a=Oe(" ",r);return Oe(a,Q.nextIndentTabStop(o,r)/r)}return Oe(a="\t",Q.nextRenderTabStop(o,n)/n)},t.prototype._addEditOperation=function(t,e,n){this._useLastEditRangeForCursorEndPosition?t.addTrackedEditOperation(e,n):t.addEditOperation(e,n)},t.prototype.getEditOperations=function(e,n){var r=this._selection.startLineNumber,i=this._selection.endLineNumber;1===this._selection.endColumn&&r!==i&&(i-=1);var o=this._opts,a=o.tabSize,s=o.indentSize,d=o.insertSpaces,l=r===i;if(this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(r))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var $=0,p=0,u=r;u<=i;u++,$=p){p=0;var h=e.getLineContent(u),c=z.firstNonWhitespaceIndex(h);if((!this._opts.isUnshift||0!==h.length&&0!==c)&&(l||this._opts.isUnshift||0!==h.length)){if(-1===c&&(c=h.length),u>1)if(Q.visibleColumnFromColumn(h,c+1,a)%s!=0&&e.isCheapToTokenize(u-1)){var m=U.getRawEnterActionAtPosition(e,u-1,e.getLineMaxColumn(u-1));if(m){if(p=$,m.appendText)for(var C=0,g=m.appendText.length;C<g&&p<s&&32===m.appendText.charCodeAt(C);C++)p++;m.removeText&&(p=Math.max(0,p-m.removeText));for(C=0;C<p&&0!==c&&32===h.charCodeAt(c-1);C++)c--}}if(!this._opts.isUnshift||0!==c){var f=void 0;f=this._opts.isUnshift?t.unshiftIndent(h,c+1,a,s,d):t.shiftIndent(h,c+1,a,s,d),this._addEditOperation(n,new j(u,1,u,c+1),f),u===r&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=c+1)}}}else{var G=d?Oe(" ",s):"\t";for(u=r;u<=i;u++){h=e.getLineContent(u),c=z.firstNonWhitespaceIndex(h);if((!this._opts.isUnshift||0!==h.length&&0!==c)&&(l||this._opts.isUnshift||0!==h.length)&&(-1===c&&(c=h.length),!this._opts.isUnshift||0!==c))if(this._opts.isUnshift){c=Math.min(c,s);for(var S=0;S<c;S++){if(9===h.charCodeAt(S)){c=S+1;break}}this._addEditOperation(n,new j(u,1,u,c+1),"")}else this._addEditOperation(n,new j(u,1,u,1),G),u===r&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=n.trackSelection(this._selection)},t.prototype.computeCursorState=function(t,e){if(this._useLastEditRangeForCursorEndPosition){var n=e.getInverseEditOperations()[0];return new ba(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}var r=e.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var i=this._selection.startColumn;return r.startColumn<=i?r:0===r.getDirection()?new ba(r.startLineNumber,i,r.endLineNumber,r.endColumn):new ba(r.endLineNumber,r.endColumn,r.startLineNumber,i)}return r},t}();var nX=function(){function e(e,r,n){this._range=e,this._charBeforeSelection=r,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,r){r.addTrackedEditOperation(new j(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),r.addTrackedEditOperation(new j(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,r){var n=r.getInverseEditOperations(),t=n[0].range,i=n[1].range;return new ba(t.endLineNumber,t.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)},e}();var Qd=function(){function e(){}return e.indent=function(e,n,t){if(null===n||null===t)return[];for(var r=[],i=0,o=t.length;i<o;i++)r[i]=new ni(t[i],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return r},e.outdent=function(e,n,t){for(var r=[],i=0,o=t.length;i<o;i++)r[i]=new ni(t[i],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops});return r},e.shiftIndent=function(e,n,t){return t=t||1,ni.shiftIndent(n,n.length+t,e.tabSize,e.indentSize,e.insertSpaces)},e.unshiftIndent=function(e,n,t){return t=t||1,ni.unshiftIndent(n,n.length+t,e.tabSize,e.indentSize,e.insertSpaces)},e._distributedPaste=function(e,n,t,r){for(var i=[],o=0,a=t.length;o<a;o++)i[o]=new Oa(t[o],r[o]);return new Na(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._simplePaste=function(e,n,t,r,i){for(var o=[],a=0,u=t.length;a<u;a++){var s=t[a],l=s.getPosition();if(i&&r.indexOf("\n")!==r.length-1&&(i=!1),i&&s.startLineNumber!==s.endLineNumber&&(i=!1),i&&s.startColumn===n.getLineMinColumn(s.startLineNumber)&&s.endColumn===n.getLineMaxColumn(s.startLineNumber)&&(i=!1),i){var m=new j(l.lineNumber,1,l.lineNumber,1);o[a]=new Oa(m,r)}else o[a]=new Oa(s,r)}return new Na(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._distributePasteToCursors=function(e,n,t,r){if(t)return null;if(1===e.length)return null;if(r&&r.length===e.length)return r;10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));var i=n.split(/\r\n|\r|\n/);return i.length===e.length?i:null},e.paste=function(e,n,t,r,i,o){var a=this._distributePasteToCursors(t,r,i,o);return a?(t=t.sort(j.compareRangesUsingStarts),this._distributedPaste(e,n,t,a)):this._simplePaste(e,n,t,r,i)},e._goodIndentForLine=function(n,t,r){var i=null,o="",a=n.autoIndent?U.getInheritIndentForLine(t,r,!1):null;if(a)i=a.action,o=a.indentation;else if(r>1){var u=void 0;for(u=r-1;u>=1;u--){var s=t.getLineContent(u);if(z.lastNonWhitespaceIndex(s)>=0)break}if(u<1)return null;var l=t.getLineMaxColumn(u),m=U.getEnterAction(t,new j(u,l,u,l));m&&(o=m.indentation,(i=m.enterAction)&&(o+=i.appendText))}return i&&(i===na.Indent&&(o=e.shiftIndent(n,o)),i===na.Outdent&&(o=e.unshiftIndent(n,o)),o=n.normalizeIndentation(o)),o||null},e._replaceJumpToNextIndent=function(e,n,t,r){var i="",o=t.getStartPosition();if(e.insertSpaces)for(var a=Q.visibleColumnFromColumn2(e,n,o),u=e.indentSize,s=u-a%u,l=0;l<s;l++)i+=" ";else i="\t";return new Oa(t,i,r)},e.tab=function(e,n,t){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i];if(a.isEmpty()){var u=n.getLineContent(a.startLineNumber);if(/^\s*$/.test(u)&&n.isCheapToTokenize(a.startLineNumber)){var s=this._goodIndentForLine(e,n,a.startLineNumber);s=s||"\t";var l=e.normalizeIndentation(s);if(!z.startsWith(u,l)){r[i]=new Oa(new j(a.startLineNumber,1,a.startLineNumber,u.length+1),l,!0);continue}}r[i]=this._replaceJumpToNextIndent(e,n,a,!0)}else{if(a.startLineNumber===a.endLineNumber){var m=n.getLineMaxColumn(a.startLineNumber);if(1!==a.startColumn||a.endColumn!==m){r[i]=this._replaceJumpToNextIndent(e,n,a,!1);continue}}r[i]=new ni(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops})}}return r},e.replacePreviousChar=function(e,n,t,r,i,o){for(var a=[],u=0,s=r.length;u<s;u++){var l=r[u];if(l.isEmpty()){var m=l.getPosition(),$=Math.max(1,m.column-o),p=new j(m.lineNumber,$,m.lineNumber,m.column);a[u]=new Oa(p,i)}else a[u]=null}return new Na(1,a,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._typeCommand=function(e,n,t){return t?new Bl(e,n,!0):new Oa(e,n,!0)},e._enter=function(n,t,r,i){if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)){var o=t.getLineContent(i.startLineNumber),a=z.getLeadingWhitespace(o).substring(0,i.startColumn-1);return e._typeCommand(i,"\n"+n.normalizeIndentation(a),r)}var u=U.getEnterAction(t,i);if(u){var s=u.enterAction,l=u.indentation;if(s.indentAction===na.None)return e._typeCommand(i,"\n"+n.normalizeIndentation(l+s.appendText),r);if(s.indentAction===na.Indent)return e._typeCommand(i,"\n"+n.normalizeIndentation(l+s.appendText),r);if(s.indentAction===na.IndentOutdent){var m=n.normalizeIndentation(l),$=n.normalizeIndentation(l+s.appendText),p="\n"+$+"\n"+m;return r?new Bl(i,p,!0):new mi(i,p,-1,$.length-m.length,!0)}if(s.indentAction===na.Outdent){var d=e.unshiftIndent(n,l);return e._typeCommand(i,"\n"+n.normalizeIndentation(d+s.appendText),r)}}if(!n.autoIndent){var c=t.getLineContent(i.startLineNumber),f=z.getLeadingWhitespace(c).substring(0,i.startColumn-1);return e._typeCommand(i,"\n"+n.normalizeIndentation(f),r)}var h=U.getIndentForEnter(t,i,{unshiftIndent:function(t){return e.unshiftIndent(n,t)},shiftIndent:function(t){return e.shiftIndent(n,t)},normalizeIndentation:function(e){return n.normalizeIndentation(e)}},n.autoIndent),g=t.getLineContent(i.startLineNumber),C=z.getLeadingWhitespace(g).substring(0,i.startColumn-1);if(h){var E=Q.visibleColumnFromColumn2(n,t,i.getEndPosition()),b=i.endColumn,Y="\n";C!==n.normalizeIndentation(h.beforeEnter)&&(Y=n.normalizeIndentation(h.beforeEnter)+g.substring(C.length,i.startColumn-1)+"\n",i=new j(i.startLineNumber,1,i.endLineNumber,i.endColumn));var v=t.getLineContent(i.endLineNumber),S=z.firstNonWhitespaceIndex(v);if(i=S>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,S+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),r)return new Bl(i,Y+n.normalizeIndentation(h.afterEnter),!0);var I=0;return b<=S+1&&(n.insertSpaces||(E=Math.ceil(E/n.indentSize)),I=Math.min(E+1-n.normalizeIndentation(h.afterEnter).length-1,0)),new mi(i,Y+n.normalizeIndentation(h.afterEnter),0,I,!0)}return e._typeCommand(i,"\n"+n.normalizeIndentation(C),r)},e._isAutoIndentType=function(e,n,t){if(!e.autoIndent)return!1;for(var r=0,i=t.length;r<i;r++)if(!n.isCheapToTokenize(t[r].getEndPosition().lineNumber))return!1;return!0},e._runAutoIndentType=function(n,t,r,i){var o=U.getIndentationAtPosition(t,r.startLineNumber,r.startColumn),a=U.getIndentActionForType(t,r,i,{shiftIndent:function(t){return e.shiftIndent(n,t)},unshiftIndent:function(t){return e.unshiftIndent(n,t)}});if(null===a)return null;if(a!==n.normalizeIndentation(o)){var u=t.getLineFirstNonWhitespaceColumn(r.startLineNumber);return 0===u?e._typeCommand(new j(r.startLineNumber,0,r.endLineNumber,r.endColumn),n.normalizeIndentation(a)+i,!1):e._typeCommand(new j(r.startLineNumber,0,r.endLineNumber,r.endColumn),n.normalizeIndentation(a)+t.getLineContent(r.startLineNumber).substring(u-1,r.startColumn-1)+i,!1)}return null},e._isAutoClosingCloseCharType=function(e,n,t,r){if("never"===(Pd(r)?e.autoClosingQuotes:e.autoClosingBrackets)||!e.autoClosingPairsClose.hasOwnProperty(r))return!1;for(var i=r===e.autoClosingPairsClose[r],o=0,a=t.length;o<a;o++){var u=t[o];if(!u.isEmpty())return!1;var s=u.getPosition(),l=n.getLineContent(s.lineNumber);if(l.charAt(s.column-1)!==r)return!1;if(i){var m=l.substr(0,s.column-1);if(this._countNeedlesInHaystack(m,r)%2==0)return!1}}return!0},e._countNeedlesInHaystack=function(e,n){for(var t=0,r=-1;-1!==(r=e.indexOf(n,r+1));)t++;return t},e._runAutoClosingCloseCharType=function(e,n,t,r,i){for(var o=[],a=0,u=r.length;a<u;a++){var s=r[a].getPosition(),l=new j(s.lineNumber,s.column,s.lineNumber,s.column+1);o[a]=new Oa(l,i)}return new Na(1,o,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._isBeforeClosingBrace=function(e,n,t){var r=e.autoClosingPairsOpen[n]===n,i=!1;for(var o in e.autoClosingPairsClose){var a=e.autoClosingPairsOpen[o]===o;if((r||!a)&&t===o){i=!0;break}}return i},e._isAutoClosingOpenCharType=function(n,t,r,i){var o=Pd(i);if("never"===(o?n.autoClosingQuotes:n.autoClosingBrackets)||!n.autoClosingPairsOpen.hasOwnProperty(i))return!1;for(var a=o?n.shouldAutoCloseBefore.quote:n.shouldAutoCloseBefore.bracket,u=0,s=r.length;u<s;u++){var l=r[u];if(!l.isEmpty())return!1;var m=l.getPosition(),$=t.getLineContent(m.lineNumber);if(o&&m.column>1){var p=vg(n.wordSeparators),d=$.charCodeAt(m.column-2);if(0===p.get(d))return!1}var c=$.charAt(m.column-1);if(c)if(!e._isBeforeClosingBrace(n,i,c)&&!a(c))return!1;if(!t.isCheapToTokenize(m.lineNumber))return!1;t.forceTokenization(m.lineNumber);var f=t.getLineTokens(m.lineNumber),h=!1;try{h=U.shouldAutoClosePair(i,f,m.column)}catch(g){S(g)}if(!h)return!1}return!0},e._runAutoClosingOpenCharType=function(e,n,t,r,i){for(var o=[],a=0,u=r.length;a<u;a++){var s=r[a],l=n.autoClosingPairsOpen[i];o[a]=new mi(s,i+l,0,-l.length)}return new Na(1,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e._shouldSurroundChar=function(e,n){return Pd(n)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround},e._isSurroundSelectionType=function(n,t,r,i){if(!e._shouldSurroundChar(n,i)||!n.surroundingPairs.hasOwnProperty(i))return!1;for(var o=Pd(i),a=0,u=r.length;a<u;a++){var s=r[a];if(s.isEmpty())return!1;for(var l=!0,m=s.startLineNumber;m<=s.endLineNumber;m++){var $=t.getLineContent(m),p=m===s.startLineNumber?s.startColumn-1:0,d=m===s.endLineNumber?s.endColumn-1:$.length,c=$.substring(p,d);if(/[^ \t]/.test(c)){l=!1;break}}if(l)return!1;if(o&&s.startLineNumber===s.endLineNumber&&s.startColumn+1===s.endColumn){var f=t.getValueInRange(s);if(Pd(f))return!1}}return!0},e._runSurroundSelectionType=function(e,n,t,r,i){for(var o=[],a=0,u=r.length;a<u;a++){var s=r[a],l=n.surroundingPairs[i];o[a]=new nX(s,i,l)}return new Na(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._isTypeInterceptorElectricChar=function(e,n,t){return!(1!==t.length||!n.isCheapToTokenize(t[0].getEndPosition().lineNumber))},e._typeInterceptorElectricChar=function(e,n,t,r,i){if(!n.electricChars.hasOwnProperty(i)||!r.isEmpty())return null;var o=r.getPosition();t.forceTokenization(o.lineNumber);var a,u=t.getLineTokens(o.lineNumber);try{a=U.onElectricCharacter(i,u,o.column)}catch(C){return S(C),null}if(!a)return null;if(a.appendText){var s=new mi(r,i+a.appendText,0,-a.appendText.length);return new Na(1,[s],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}if(a.matchOpenBracket){var l=(u.getLineContent()+i).lastIndexOf(a.matchOpenBracket)+1,m=t.findMatchingBracketUp(a.matchOpenBracket,{lineNumber:o.lineNumber,column:l});if(m){if(m.startLineNumber===o.lineNumber)return null;var $=t.getLineContent(m.startLineNumber),p=z.getLeadingWhitespace($),d=n.normalizeIndentation(p),c=t.getLineContent(o.lineNumber),f=t.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,h=d+c.substring(f-1,o.column-1)+i,g=new j(o.lineNumber,1,o.lineNumber,o.column);s=new Oa(g,h);return new Na(1,[s],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},e.compositionEndWithInterceptors=function(n,t,r,i){if("never"===t.autoClosingQuotes)return null;for(var o=[],a=0;a<i.length;a++)if(i[a].isEmpty()){var u=i[a].getPosition(),s=r.getLineContent(u.lineNumber),l=s.charAt(u.column-2);if(t.autoClosingPairsClose.hasOwnProperty(l)&&l===t.autoClosingPairsClose[l]){var m=s.substr(0,u.column-2);if(this._countNeedlesInHaystack(m,l)%2==1)continue}if(t.autoClosingPairsOpen.hasOwnProperty(l)){if(Pd(l)&&u.column>2){var $=vg(t.wordSeparators),p=s.charCodeAt(u.column-3);if(0===$.get(p))continue}var d=s.charAt(u.column-1);if(d){var c=e._isBeforeClosingBrace(t,l,d),f=Pd(l)?t.shouldAutoCloseBefore.quote:t.shouldAutoCloseBefore.bracket;if(c)continue;if(!f(d))continue}if(!r.isCheapToTokenize(u.lineNumber))continue;r.forceTokenization(u.lineNumber);var h=r.getLineTokens(u.lineNumber),g=!1;try{g=U.shouldAutoClosePair(l,h,u.column-1)}catch(E){S(E)}if(g){var C=t.autoClosingPairsOpen[l];o[a]=new mi(i[a],C,0,-C.length)}}}return new Na(1,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e.typeWithInterceptors=function(n,t,r,i,o){if("\n"===o){for(var a=[],u=0,s=i.length;u<s;u++)a[u]=e._enter(t,r,!1,i[u]);return new Na(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(t,r,i)){var l=[],m=!1;for(u=0,s=i.length;u<s;u++)if(l[u]=this._runAutoIndentType(t,r,i[u],o),!l[u]){m=!0;break}if(!m)return new Na(1,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingCloseCharType(t,r,i,o))return this._runAutoClosingCloseCharType(n,t,r,i,o);if(this._isAutoClosingOpenCharType(t,r,i,o))return this._runAutoClosingOpenCharType(n,t,r,i,o);if(this._isSurroundSelectionType(t,r,i,o))return this._runSurroundSelectionType(n,t,r,i,o);if(this._isTypeInterceptorElectricChar(t,r,i)){var $=this._typeInterceptorElectricChar(n,t,r,i[0],o);if($)return $}var p=[];for(u=0,s=i.length;u<s;u++)p[u]=new Oa(i[u],o);var d=1!==n;return" "===o&&(d=!0),new Na(1,p,{shouldPushStackElementBefore:d,shouldPushStackElementAfter:!1})},e.typeWithoutInterceptors=function(e,n,t,r,i){for(var o=[],a=0,u=r.length;a<u;a++)o[a]=new Oa(r[a],i);return new Na(1,o,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e.lineInsertBefore=function(e,n,t){if(null===n||null===t)return[];for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i].positionLineNumber;if(1===a)r[i]=new Bl(new j(1,1,1,1),"\n");else{a--;var u=n.getLineMaxColumn(a);r[i]=this._enter(e,n,!1,new j(a,u,a,u))}}return r},e.lineInsertAfter=function(e,n,t){if(null===n||null===t)return[];for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i].positionLineNumber,u=n.getLineMaxColumn(a);r[i]=this._enter(e,n,!1,new j(a,u,a,u))}return r},e.lineBreakInsert=function(e,n,t){for(var r=[],i=0,o=t.length;i<o;i++)r[i]=this._enter(e,n,!0,t[i]);return r},e}();var oX,f;(function(e){e.editorTextFocus=new i("editorTextFocus",!1),e.focus=new i("editorFocus",!1),e.textInputFocus=new i("textInputFocus",!1),e.readOnly=new i("editorReadonly",!1),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new i("editorHasSelection",!1),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new i("editorHasMultipleSelections",!1),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new i("editorTabMovesFocus",!1),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInEmbeddedEditor=new i("isInEmbeddedEditor",!1),e.canUndo=new i("canUndo",!1),e.canRedo=new i("canRedo",!1),e.languageId=new i("editorLangId",""),e.hasCompletionItemProvider=new i("editorHasCompletionItemProvider",!1),e.hasCodeActionsProvider=new i("editorHasCodeActionsProvider",!1),e.hasCodeLensProvider=new i("editorHasCodeLensProvider",!1),e.hasDefinitionProvider=new i("editorHasDefinitionProvider",!1),e.hasDeclarationProvider=new i("editorHasDeclarationProvider",!1),e.hasImplementationProvider=new i("editorHasImplementationProvider",!1),e.hasTypeDefinitionProvider=new i("editorHasTypeDefinitionProvider",!1),e.hasHoverProvider=new i("editorHasHoverProvider",!1),e.hasDocumentHighlightProvider=new i("editorHasDocumentHighlightProvider",!1),e.hasDocumentSymbolProvider=new i("editorHasDocumentSymbolProvider",!1),e.hasReferenceProvider=new i("editorHasReferenceProvider",!1),e.hasRenameProvider=new i("editorHasRenameProvider",!1),e.hasDocumentFormattingProvider=new i("editorHasDocumentFormattingProvider",!1),e.hasDocumentSelectionFormattingProvider=new i("editorHasDocumentSelectionFormattingProvider",!1),e.hasSignatureHelpProvider=new i("editorHasSignatureHelpProvider",!1)})(f||(oX=f={},oX));var oi,Pe,Ba,Mr,I=jc&&jc.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),F=0,Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.runEditorCommand=function(t,e,r){var o=e._getCursors();o&&this.runCoreEditorCommand(o,r||{})},e}(dl);function Qe(t){t.register()}jc.CoreEditorCommand=Y,jc.EditorScroll_=oi,function(t){t.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(t){if(!fb(t))return!1;var e=t;return!(!oe(e.to)||!Tc(e.by)&&!oe(e.by)||!Tc(e.value)&&!pe(e.value)||!Tc(e.revealCursor)&&!Yy(e.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},t.RawDirection={Up:"up",Down:"down"},t.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},t.parse=function(e){var r,o;switch(e.to){case t.RawDirection.Up:r=1;break;case t.RawDirection.Down:r=2;break;default:return null;}switch(e.by){case t.RawUnit.Line:o=1;break;case t.RawUnit.WrappedLine:o=2;break;case t.RawUnit.Page:o=3;break;case t.RawUnit.HalfPage:o=4;break;default:o=2;}return{direction:r,unit:o,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}}}(oi||(qW=oi={},jc.EditorScroll_=oi,qW)),jc.RevealLine_=Pe,function(t){t.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(t){if(!fb(t))return!1;var e=t;return!(!pe(e.lineNumber)||!Tc(e.at)&&!oe(e.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},t.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(Pe||(rW=Pe={},jc.RevealLine_=Pe,rW)),jc.CoreNavigationCommands=Ba,function(t){var e=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ha.moveTo(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),t.reveal(!0,0,0)},e}(Y);t.MoveTo=g(new e({id:"_moveTo",inSelectionMode:!1,precondition:null})),t.MoveToSelect=g(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:null}));var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement();var r=this._getColumnSelectResult(t.context,t.getPrimaryCursor(),t.getColumnSelectData(),e);t.setStates(e.source,3,r.viewStates.map(function(t){return D.fromViewState(t)})),t.setColumnSelectData({toViewLineNumber:r.toLineNumber,toViewVisualColumn:r.toVisualColumn}),t.reveal(!0,r.reversed?1:2,0)},e}(Y);t.ColumnSelect=g(new(function(t){function e(){return t.call(this,{id:"columnSelect",precondition:null})||this}return I(e,t),e.prototype._getColumnSelectResult=function(t,e,r,o){var n,i=t.model.validatePosition(o.position);return n=o.viewPosition?t.validateViewPosition(new x(o.viewPosition.lineNumber,o.viewPosition.column),i):t.convertModelPositionToViewPosition(i),li.columnSelect(t.config,t.viewModel,e.viewState.selection,n.lineNumber,o.mouseColumn-1)},e}(r))),t.CursorColumnSelectLeft=g(new(function(t){function e(){return t.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3599,linux:{primary:0}}})||this}return I(e,t),e.prototype._getColumnSelectResult=function(t,e,r,o){return li.columnSelectLeft(t.config,t.viewModel,e.viewState,r.toViewLineNumber,r.toViewVisualColumn)},e}(r))),t.CursorColumnSelectRight=g(new(function(t){function e(){return t.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3601,linux:{primary:0}}})||this}return I(e,t),e.prototype._getColumnSelectResult=function(t,e,r,o){return li.columnSelectRight(t.config,t.viewModel,e.viewState,r.toViewLineNumber,r.toViewVisualColumn)},e}(r)));var o=function(t){function e(e){var r=t.call(this,e)||this;return r._isPaged=e.isPaged,r}return I(e,t),e.prototype._getColumnSelectResult=function(t,e,r,o){return li.columnSelectUp(t.config,t.viewModel,e.viewState,this._isPaged,r.toViewLineNumber,r.toViewVisualColumn)},e}(r);t.CursorColumnSelectUp=g(new o({isPaged:!1,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3600,linux:{primary:0}}})),t.CursorColumnSelectPageUp=g(new o({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3595,linux:{primary:0}}}));var n=function(t){function e(e){var r=t.call(this,e)||this;return r._isPaged=e.isPaged,r}return I(e,t),e.prototype._getColumnSelectResult=function(t,e,r,o){return li.columnSelectDown(t.config,t.viewModel,e.viewState,this._isPaged,r.toViewLineNumber,r.toViewVisualColumn)},e}(r);t.CursorColumnSelectDown=g(new n({isPaged:!1,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3602,linux:{primary:0}}})),t.CursorColumnSelectPageDown=g(new n({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3596,linux:{primary:0}}}));var i=function(t){function e(){return t.call(this,{id:"cursorMove",precondition:null,description:Kr.description})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=Kr.parse(e);r&&this._runCursorMove(t,e.source,r)},e.prototype._runCursorMove=function(t,e,r){t.context.model.pushStackElement(),t.setStates(e,3,Ha.move(t.context,t.getAll(),r)),t.reveal(!0,0,0)},e}(Y);t.CursorMoveImpl=i,t.CursorMove=g(new i);var $=function(e){function r(t){var r=e.call(this,t)||this;return r._staticArgs=t.args,r}return I(r,e),r.prototype.runCoreEditorCommand=function(e,r){var o=this._staticArgs;-1===this._staticArgs.value&&(o={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.context.config.pageSize}),t.CursorMove._runCursorMove(e,r.source,o)},r}(Y);t.CursorLeft=g(new $({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),t.CursorLeftSelect=g(new $({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1039}})),t.CursorRight=g(new $({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),t.CursorRightSelect=g(new $({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1041}})),t.CursorUp=g(new $({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),t.CursorUpSelect=g(new $({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),t.CursorPageUp=g(new $({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:11}})),t.CursorPageUpSelect=g(new $({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1035}})),t.CursorDown=g(new $({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),t.CursorDownSelect=g(new $({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),t.CursorPageDown=g(new $({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:12}})),t.CursorPageDownSelect=g(new $({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1036}})),t.CreateCursor=g(new(function(t){function e(){return t.call(this,{id:"createCursor",precondition:null})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r,o=t.context;r=e.wholeLine?Ha.line(o,t.getPrimaryCursor(),!1,e.position,e.viewPosition):Ha.moveTo(o,t.getPrimaryCursor(),!1,e.position,e.viewPosition);var n=t.getAll();if(n.length>1)for(var i=r.modelState?r.modelState.position:null,$=r.viewState?r.viewState.position:null,a=0,s=n.length;a<s;a++){var m=n[a];if((!i||m.modelState.selection.containsPosition(i))&&(!$||m.viewState.selection.containsPosition($)))return n.splice(a,1),t.context.model.pushStackElement(),void t.setStates(e.source,3,n)}n.push(r),t.context.model.pushStackElement(),t.setStates(e.source,3,n)},e}(Y))),t.LastCursorMoveToSelect=g(new(function(t){function e(){return t.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=t.context,o=t.getLastAddedCursorIndex(),n=t.getAll(),i=n.slice(0);i[o]=Ha.moveTo(r,n[o],!0,e.position,e.viewPosition),t.context.model.pushStackElement(),t.setStates(e.source,3,i)},e}(Y)));var a=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,Ha.moveToBeginningOfLine(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},e}(Y);t.CursorHome=g(new a({inSelectionMode:!1,id:"cursorHome",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),t.CursorHomeSelect=g(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),t.CursorLineStart=g(new(function(t){function e(){return t.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:0,mac:{primary:287}}})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,this._exec(t.context,t.getAll())),t.reveal(!0,0,0)},e.prototype._exec=function(t,e){for(var r=[],o=0,n=e.length;o<n;o++){var i=e[o],$=i.modelState.position.lineNumber;r[o]=D.fromModelState(i.modelState.move(!1,$,1,0))}return r},e}(Y)));var s=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,Ha.moveToEndOfLine(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},e}(Y);t.CursorEnd=g(new s({inSelectionMode:!1,id:"cursorEnd",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),t.CursorEndSelect=g(new s({inSelectionMode:!0,id:"cursorEndSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),t.CursorLineEnd=g(new(function(t){function e(){return t.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:0,mac:{primary:291}}})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,this._exec(t.context,t.getAll())),t.reveal(!0,0,0)},e.prototype._exec=function(t,e){for(var r=[],o=0,n=e.length;o<n;o++){var i=e[o],$=i.modelState.position.lineNumber,a=t.model.getLineMaxColumn($);r[o]=D.fromModelState(i.modelState.move(!1,$,a,0))}return r},e}(Y)));var m=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,Ha.moveToBeginningOfBuffer(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},e}(Y);t.CursorTop=g(new m({inSelectionMode:!1,id:"cursorTop",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2062,mac:{primary:2064}}})),t.CursorTopSelect=g(new m({inSelectionMode:!0,id:"cursorTopSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3086,mac:{primary:3088}}}));var d=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,Ha.moveToEndOfBuffer(t.context,t.getAll(),this._inSelectionMode)),t.reveal(!0,0,0)},e}(Y);t.CursorBottom=g(new d({inSelectionMode:!1,id:"cursorBottom",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2061,mac:{primary:2066}}})),t.CursorBottomSelect=g(new d({inSelectionMode:!0,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:3085,mac:{primary:3090}}}));var u=function(t){function e(){return t.call(this,{id:"editorScroll",precondition:null,description:oi.description})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=oi.parse(e);r&&this._runEditorScroll(t,e.source,r)},e.prototype._runEditorScroll=function(t,e,r){var o=this._computeDesiredScrollTop(t.context,r);if(r.revealCursor){var n=t.context.getCompletelyVisibleViewRangeAtScrollTop(o);t.setStates(e,3,[Ha.findPositionInViewportIfOutside(t.context,t.getPrimaryCursor(),n,r.select)])}t.scrollTo(o)},e.prototype._computeDesiredScrollTop=function(t,e){if(1===e.unit){var r=t.getCompletelyVisibleModelRange(),o=void 0;o=1===e.direction?Math.max(1,r.startLineNumber-e.value):Math.min(t.model.getLineCount(),r.startLineNumber+e.value);var n=t.convertModelPositionToViewPosition(new x(o,1));return t.getVerticalOffsetForViewLine(n.lineNumber)}var i;i=3===e.unit?t.config.pageSize*e.value:4===e.unit?Math.round(t.config.pageSize/2)*e.value:e.value;var $=(1===e.direction?-1:1)*i;return t.getCurrentScrollTop()+$*t.config.lineHeight},e}(Y);t.EditorScrollImpl=u,t.EditorScroll=g(new u),t.ScrollLineUp=g(new(function(e){function r(){return e.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2064,mac:{primary:267}}})||this}return I(r,e),r.prototype.runCoreEditorCommand=function(e,r){t.EditorScroll._runEditorScroll(e,r.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},r}(Y))),t.ScrollPageUp=g(new(function(e){function r(){return e.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return I(r,e),r.prototype.runCoreEditorCommand=function(e,r){t.EditorScroll._runEditorScroll(e,r.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},r}(Y))),t.ScrollLineDown=g(new(function(e){function r(){return e.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2066,mac:{primary:268}}})||this}return I(r,e),r.prototype.runCoreEditorCommand=function(e,r){t.EditorScroll._runEditorScroll(e,r.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},r}(Y))),t.ScrollPageDown=g(new(function(e){function r(){return e.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return I(r,e),r.prototype.runCoreEditorCommand=function(e,r){t.EditorScroll._runEditorScroll(e,r.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},r}(Y)));var p=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ha.word(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position)]),t.reveal(!0,0,0)},e}(Y);t.WordSelect=g(new p({inSelectionMode:!1,id:"_wordSelect",precondition:null})),t.WordSelectDrag=g(new p({inSelectionMode:!0,id:"_wordSelectDrag",precondition:null})),t.LastCursorWordSelect=g(new(function(t){function e(){return t.call(this,{id:"lastCursorWordSelect",precondition:null})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=t.context,o=t.getLastAddedCursorIndex(),n=t.getAll(),i=n.slice(0),$=n[o];i[o]=Ha.word(r,$,$.modelState.hasSelection(),e.position),r.model.pushStackElement(),t.setStates(e.source,3,i)},e}(Y)));var l=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ha.line(t.context,t.getPrimaryCursor(),this._inSelectionMode,e.position,e.viewPosition)]),t.reveal(!1,0,0)},e}(Y);t.LineSelect=g(new l({inSelectionMode:!1,id:"_lineSelect",precondition:null})),t.LineSelectDrag=g(new l({inSelectionMode:!0,id:"_lineSelectDrag",precondition:null}));var c=function(t){function e(e){var r=t.call(this,e)||this;return r._inSelectionMode=e.inSelectionMode,r}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=t.getLastAddedCursorIndex(),o=t.getAll(),n=o.slice(0);n[r]=Ha.line(t.context,o[r],this._inSelectionMode,e.position,e.viewPosition),t.context.model.pushStackElement(),t.setStates(e.source,3,n)},e}(Y);t.LastCursorLineSelect=g(new c({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:null})),t.LastCursorLineSelectDrag=g(new c({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:null})),t.ExpandLineSelection=g(new(function(t){function e(){return t.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2090}})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,Ha.expandLineSelection(t.context,t.getAll())),t.reveal(!0,0,0)},e}(Y))),t.CancelSelection=g(new(function(t){function e(){return t.call(this,{id:"cancelSelection",precondition:f.hasNonEmptySelection,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:9,secondary:[1033]}})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ha.cancelSelection(t.context,t.getPrimaryCursor())]),t.reveal(!0,0,0)},e}(Y))),t.RemoveSecondaryCursors=g(new(function(t){function e(){return t.call(this,{id:"removeSecondaryCursors",precondition:f.hasMultipleSelections,kbOpts:{weight:F+1,kbExpr:f.textInputFocus,primary:9,secondary:[1033]}})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[t.getPrimaryCursor()]),t.reveal(!0,0,0)},e}(Y))),t.RevealLine=g(new(function(t){function e(){return t.call(this,{id:"revealLine",precondition:null,description:Pe.description})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){var r=e,o=(r.lineNumber||0)+1;o<1&&(o=1);var n=t.context.model.getLineCount();o>n&&(o=n);var i=new j(o,1,o,t.context.model.getLineMaxColumn(o)),$=0;if(r.at)switch(r.at){case Pe.RawAtArgument.Top:$=3;break;case Pe.RawAtArgument.Center:$=1;break;case Pe.RawAtArgument.Bottom:$=4;}var a=t.context.convertModelRangeToViewRange(i);t.revealRange(!1,a,$,0)},e}(Y))),t.SelectAll=g(new(function(t){function e(){return t.call(this,{id:"selectAll",precondition:null})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[Ha.selectAll(t.context,t.getPrimaryCursor())])},e}(Y))),t.SetSelection=g(new(function(t){function e(){return t.call(this,{id:"setSelection",precondition:null})||this}return I(e,t),e.prototype.runCoreEditorCommand=function(t,e){t.context.model.pushStackElement(),t.setStates(e.source,3,[D.fromModelSelection(e.selection)])},e}(Y)))}(Ba||(sW=Ba={},jc.CoreNavigationCommands=Ba,sW)),jc.CoreEditingCommands=Mr,function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.runEditorCommand=function(t,e,r){var o=e._getCursors();o&&this.runCoreEditingCommand(e,o,r||{})},e}(dl);t.CoreEditingCommand=e,t.LineBreakInsert=g(new(function(t){function e(){return t.call(this,{id:"lineBreakInsert",precondition:f.writable,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:0,mac:{primary:301}}})||this}return I(e,t),e.prototype.runCoreEditingCommand=function(t,e,r){t.pushUndoStop(),t.executeCommands(this.id,Qd.lineBreakInsert(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})))},e}(e))),t.Outdent=g(new(function(t){function e(){return t.call(this,{id:"outdent",precondition:f.writable,kbOpts:{weight:F,kbExpr:lb.and(f.editorTextFocus,f.tabDoesNotMoveFocus),primary:1026}})||this}return I(e,t),e.prototype.runCoreEditingCommand=function(t,e,r){t.pushUndoStop(),t.executeCommands(this.id,Qd.outdent(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection}))),t.pushUndoStop()},e}(e))),t.Tab=g(new(function(t){function e(){return t.call(this,{id:"tab",precondition:f.writable,kbOpts:{weight:F,kbExpr:lb.and(f.editorTextFocus,f.tabDoesNotMoveFocus),primary:2}})||this}return I(e,t),e.prototype.runCoreEditingCommand=function(t,e,r){t.pushUndoStop(),t.executeCommands(this.id,Qd.tab(e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection}))),t.pushUndoStop()},e}(e))),t.DeleteLeft=g(new(function(t){function e(){return t.call(this,{id:"deleteLeft",precondition:f.writable,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return I(e,t),e.prototype.runCoreEditingCommand=function(t,e,r){var o=Jr.deleteLeft(e.getPrevEditOperationType(),e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})),n=o[0],i=o[1];n&&t.pushUndoStop(),t.executeCommands(this.id,i),e.setPrevEditOperationType(2)},e}(e))),t.DeleteRight=g(new(function(t){function e(){return t.call(this,{id:"deleteRight",precondition:f.writable,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return I(e,t),e.prototype.runCoreEditingCommand=function(t,e,r){var o=Jr.deleteRight(e.getPrevEditOperationType(),e.context.config,e.context.model,e.getAll().map(function(t){return t.modelState.selection})),n=o[0],i=o[1];n&&t.pushUndoStop(),t.executeCommands(this.id,i),e.setPrevEditOperationType(3)},e}(e)))}(Mr||(tW=Mr={},jc.CoreEditingCommands=Mr,tW));var Nr=function(t){function e(e){var r=t.call(this,e)||this;return r._editorHandler=e.editorHandler,r._inputHandler=e.inputHandler,r}return I(e,t),e.prototype.runCommand=function(t,e){var r=t.get(Sa).getFocusedCodeEditor();if(r&&r.hasTextFocus())return this._runEditorHandler(t,r,e);var o=document.activeElement;if(!(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)){var n=t.get(Sa).getActiveCodeEditor();return n?(n.focus(),this._runEditorHandler(t,n,e)):void 0}document.execCommand(this._inputHandler)},e.prototype._runEditorHandler=function(t,e,r){var o=this._editorHandler;"string"==typeof o?e.trigger("keyboard",o,r):((r=r||{}).source="keyboard",o.runEditorCommand(t,e,r))},e}(cl),Fl=function(t){function e(e,r,o){var n=t.call(this,{id:e,precondition:null,description:o})||this;return n._handlerId=r,n}return I(e,t),e.prototype.runCommand=function(t,e){var r=t.get(Sa).getFocusedCodeEditor();r&&r.trigger("keyboard",this._handlerId,e)},e}(cl);function yg(t,e){Qe(new Fl("default:"+t,t)),Qe(new Fl(t,t,e))}Qe(new Nr({editorHandler:Ba.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:f.textInputFocus,kbOpts:{weight:F,kbExpr:null,primary:2079},menubarOpts:{menuId:22,group:"1_basic",title:k.localize({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),Qe(new Nr({editorHandler:M.Undo,inputHandler:"undo",id:M.Undo,precondition:f.writable,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2104},menubarOpts:{menuId:14,group:"1_do",title:k.localize({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),Qe(new Fl("default:"+M.Undo,M.Undo)),Qe(new Nr({editorHandler:M.Redo,inputHandler:"redo",id:M.Redo,precondition:f.writable,kbOpts:{weight:F,kbExpr:f.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menubarOpts:{menuId:14,group:"1_do",title:k.localize({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),Qe(new Fl("default:"+M.Redo,M.Redo)),yg(M.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),yg(M.ReplacePreviousChar),yg(M.CompositionStart),yg(M.CompositionEnd),yg(M.Paste),yg(M.Cut);var pX=function(){function o(o,t,e,i){this.configuration=o,this.viewModel=t,this.outgoingEvents=e,this.commandDelegate=i}return o.prototype._execMouseCommand=function(o,t){t.source="mouse",this.commandDelegate.executeEditorCommand(o,t)},o.prototype.paste=function(o,t,e,i){this.commandDelegate.paste(o,t,e,i)},o.prototype.type=function(o,t){this.commandDelegate.type(o,t)},o.prototype.replacePreviousChar=function(o,t,e){this.commandDelegate.replacePreviousChar(o,t,e)},o.prototype.compositionStart=function(o){this.commandDelegate.compositionStart(o)},o.prototype.compositionEnd=function(o){this.commandDelegate.compositionEnd(o)},o.prototype.cut=function(o){this.commandDelegate.cut(o)},o.prototype.setSelection=function(o,t){this.commandDelegate.executeEditorCommand(Ba.SetSelection,{source:o,selection:t})},o.prototype._validateViewColumn=function(o){var t=this.viewModel.getLineMinColumn(o.lineNumber);return o.column<t?new x(o.lineNumber,t):o},o.prototype._hasMulticursorModifier=function(o){switch(this.configuration.editor.multiCursorModifier){case"altKey":return o.altKey;case"ctrlKey":return o.ctrlKey;case"metaKey":return o.metaKey;}return!1},o.prototype._hasNonMulticursorModifier=function(o){switch(this.configuration.editor.multiCursorModifier){case"altKey":return o.ctrlKey||o.metaKey;case"ctrlKey":return o.altKey||o.metaKey;case"metaKey":return o.ctrlKey||o.altKey;}return!1},o.prototype.dispatchMouse=function(o){o.middleButton?o.inSelectionMode?this._columnSelect(o.position,o.mouseColumn):this.moveTo(o.position):o.startedOnLineNumbers?this._hasMulticursorModifier(o)?o.inSelectionMode?this._lastCursorLineSelect(o.position):this._createCursor(o.position,!0):o.inSelectionMode?this._lineSelectDrag(o.position):this._lineSelect(o.position):o.mouseDownCount>=4?this._selectAll():3===o.mouseDownCount?this._hasMulticursorModifier(o)?o.inSelectionMode?this._lastCursorLineSelectDrag(o.position):this._lastCursorLineSelect(o.position):o.inSelectionMode?this._lineSelectDrag(o.position):this._lineSelect(o.position):2===o.mouseDownCount?this._hasMulticursorModifier(o)?this._lastCursorWordSelect(o.position):o.inSelectionMode?this._wordSelectDrag(o.position):this._wordSelect(o.position):this._hasMulticursorModifier(o)?this._hasNonMulticursorModifier(o)||(o.shiftKey?this._columnSelect(o.position,o.mouseColumn):o.inSelectionMode?this._lastCursorMoveToSelect(o.position):this._createCursor(o.position,!1)):o.inSelectionMode?o.altKey?this._columnSelect(o.position,o.mouseColumn):this._moveToSelect(o.position):this.moveTo(o.position)},o.prototype._usualArgs=function(o){return o=this._validateViewColumn(o),{position:this._convertViewToModelPosition(o),viewPosition:o}},o.prototype.moveTo=function(o){this._execMouseCommand(Ba.MoveTo,this._usualArgs(o))},o.prototype._moveToSelect=function(o){this._execMouseCommand(Ba.MoveToSelect,this._usualArgs(o))},o.prototype._columnSelect=function(o,t){o=this._validateViewColumn(o),this._execMouseCommand(Ba.ColumnSelect,{position:this._convertViewToModelPosition(o),viewPosition:o,mouseColumn:t})},o.prototype._createCursor=function(o,t){o=this._validateViewColumn(o),this._execMouseCommand(Ba.CreateCursor,{position:this._convertViewToModelPosition(o),viewPosition:o,wholeLine:t})},o.prototype._lastCursorMoveToSelect=function(o){this._execMouseCommand(Ba.LastCursorMoveToSelect,this._usualArgs(o))},o.prototype._wordSelect=function(o){this._execMouseCommand(Ba.WordSelect,this._usualArgs(o))},o.prototype._wordSelectDrag=function(o){this._execMouseCommand(Ba.WordSelectDrag,this._usualArgs(o))},o.prototype._lastCursorWordSelect=function(o){this._execMouseCommand(Ba.LastCursorWordSelect,this._usualArgs(o))},o.prototype._lineSelect=function(o){this._execMouseCommand(Ba.LineSelect,this._usualArgs(o))},o.prototype._lineSelectDrag=function(o){this._execMouseCommand(Ba.LineSelectDrag,this._usualArgs(o))},o.prototype._lastCursorLineSelect=function(o){this._execMouseCommand(Ba.LastCursorLineSelect,this._usualArgs(o))},o.prototype._lastCursorLineSelectDrag=function(o){this._execMouseCommand(Ba.LastCursorLineSelectDrag,this._usualArgs(o))},o.prototype._selectAll=function(){this._execMouseCommand(Ba.SelectAll,{})},o.prototype._convertViewToModelPosition=function(o){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o)},o.prototype.emitKeyDown=function(o){this.outgoingEvents.emitKeyDown(o)},o.prototype.emitKeyUp=function(o){this.outgoingEvents.emitKeyUp(o)},o.prototype.emitContextMenu=function(o){this.outgoingEvents.emitContextMenu(o)},o.prototype.emitMouseMove=function(o){this.outgoingEvents.emitMouseMove(o)},o.prototype.emitMouseLeave=function(o){this.outgoingEvents.emitMouseLeave(o)},o.prototype.emitMouseUp=function(o){this.outgoingEvents.emitMouseUp(o)},o.prototype.emitMouseDown=function(o){this.outgoingEvents.emitMouseDown(o)},o.prototype.emitMouseDrag=function(o){this.outgoingEvents.emitMouseDrag(o)},o.prototype.emitMouseDrop=function(o){this.outgoingEvents.emitMouseDrop(o)},o}();var zg={};var UD=function(){function e(e){this._createLine=e,this._set(1,[])}return e.prototype.flush=function(){this._set(1,[])},e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},e.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){var r=t-e+1;return this._rendLineNumberStart-=r,null}if(e>i)return null;for(var o=0,s=0,l=n;l<=i;l++){var u=l-this._rendLineNumberStart;e<=l&&l<=t&&(0===s?(o=u,s=1):s++)}if(e<n){var a=0;a=t<n?t-e+1:n-e,this._rendLineNumberStart-=a}return this._lines.splice(o,s)},e.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var n=this.getStartLineNumber(),i=this.getEndLineNumber(),r=!1,o=e;o<=t;o++)o>=n&&o<=i&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),r=!0);return r},e.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var n=t-e+1,i=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>r)return null;if(n+e>r)return this._lines.splice(e-this._rendLineNumberStart,r-e+1);for(var o=[],s=0;s<n;s++)o[s]=this._createLine();var l=e-this._rendLineNumberStart,u=this._lines.slice(0,l),a=this._lines.slice(l,this._lines.length-n),h=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=u.concat(o).concat(a),h},e.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,r=0,o=e.length;r<o;r++){var s=e[r];if(!(s.toLineNumber<t||s.fromLineNumber>n))for(var l=Math.max(t,s.fromLineNumber),u=Math.min(n,s.toLineNumber),a=l;a<=u;a++){var h=a-this._rendLineNumberStart;this._lines[h].onTokensChanged(),i=!0}}return i},e}();var VD=function(){function e(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new UD(function(){return t._host.createVisibleLine()})}return e.prototype._createDomNode=function(){var e=H(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},e.prototype.onConfigurationChanged=function(e){return e.layoutInfo},e.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n].getDomNode();r&&this.domNode.domNode.removeChild(r)}return!0},e.prototype.onScrollChanged=function(e){return e.scrollTopChanged},e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},e.prototype.onZonesChanged=function(e){return!0},e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},e.prototype.renderLines=function(e){var t=this._linesCollection._get(),n=new qX(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)},e}();var qX=function(){function e(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}return e.prototype.render=function(e,t,n,i){var r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||n<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=n-t+1,r.lines=[];for(var o=t;o<=n;o++)r.lines[o-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,i),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(n-r.rendLineNumberStart,r.linesLength-1),i,t),r.rendLineNumberStart>t)(u=t)<=(s=Math.min(n,r.rendLineNumberStart-1))&&(this._insertLinesBefore(r,u,s,i,t),r.linesLength+=s-u+1);else if(r.rendLineNumberStart<t){(l=Math.min(r.linesLength,t-r.rendLineNumberStart))>0&&(this._removeLinesBefore(r,l),r.linesLength-=l)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<n)(u=r.rendLineNumberStart+r.linesLength)<=(s=n)&&(this._insertLinesAfter(r,u,s,i,t),r.linesLength+=s-u+1);else if(r.rendLineNumberStart+r.linesLength-1>n){var s,l,u=Math.max(0,n-r.rendLineNumberStart+1);(l=(s=r.linesLength-1)-u+1)>0&&(this._removeLinesAfter(r,l),r.linesLength-=l)}return this._finishRendering(r,!1,i),r},e.prototype._renderUntouchedLines=function(e,t,n,i,r){for(var o=e.rendLineNumberStart,s=e.lines,l=t;l<=n;l++){var u=o+l;s[l].layoutLine(u,i[u-r])}},e.prototype._insertLinesBefore=function(e,t,n,i,r){for(var o=[],s=0,l=t;l<=n;l++)o[s++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){for(var n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n,i,r){for(var o=[],s=0,l=t;l<=n;l++)o[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)},e.prototype._removeLinesAfter=function(e,t){for(var n=e.linesLength-t,i=0;i<t;i++){var r=e.lines[n+i].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(n,t)},e.prototype._finishRenderingNewLines=function(e,t,n,i){var r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=n:r.insertAdjacentHTML("afterend",n);for(var o=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var l=e.lines[s];i[s]&&(l.setDomNode(o),o=o.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,n){var i=document.createElement("div");i.innerHTML=t;for(var r=0;r<e.linesLength;r++){var o=e.lines[r];if(n[r]){var s=i.firstChild,l=o.getDomNode();l.parentNode.replaceChild(s,l),o.setDomNode(s)}}},e.prototype._finishRendering=function(t,n,i){var r=e._sb,o=t.linesLength,s=t.lines,l=t.rendLineNumberStart,u=[];r.reset();for(var a=!1,h=0;h<o;h++){var d=s[h];if(u[h]=!1,!d.getDomNode())d.renderLine(h+l,i[h],this.viewportData,r)&&(u[h]=!0,a=!0)}a&&this._finishRenderingNewLines(t,n,r.build(),u),r.reset();var L=!1,m=[];for(h=0;h<o;h++){d=s[h];if(m[h]=!1,!u[h])d.renderLine(h+l,i[h],this.viewportData,r)&&(m[h]=!0,L=!0)}L&&this._finishRenderingInvalidLines(t,r.build(),m)},e._sb=fq(1e5),e}();var Or=zg&&zg.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pr=function(e){function t(t){var n=e.call(this,t)||this;return n._visibleLines=new VD(n),n.domNode=n._visibleLines.domNode,n._dynamicOverlays=[],n._isFocused=!1,n.domNode.setClassName("view-overlays"),n}return Or(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,n=this._dynamicOverlays.length;t<n;t++){if(this._dynamicOverlays[t].shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,n=this._dynamicOverlays.length;t<n;t++){this._dynamicOverlays[t].dispose()}this._dynamicOverlays=[]},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new WD(this._context.configuration,this._dynamicOverlays)},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),o=t;o<=n;o++){this._visibleLines.getVisibleLine(o).onConfigurationChanged(e)}return!0},t.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()}),n=0,o=t.length;n<o;n++){var i=t[n];i.prepareRender(e),i.onDidRender()}},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},t}(nb);zg.ViewOverlays=Pr;var WD=function(){function e(e,t){this._configuration=e,this._lineHeight=this._configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=H(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._configuration.editor.lineHeight)},e.prototype.renderLine=function(e,t,n,o){for(var i="",r=0,s=this._dynamicOverlays.length;r<s;r++){i+=this._dynamicOverlays[r].render(n.startLineNumber,e)}return this._renderedContent!==i&&(this._renderedContent=i,o.appendASCIIString("<div style=\"position:absolute;top:"),o.appendASCIIString(String(t)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString("px;\">"),o.appendASCIIString(i),o.appendASCIIString("</div>"),!0)},e.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},e}();zg.ViewOverlayLine=WD;var XD=function(e){function t(t){var n=e.call(this,t)||this;return n._contentWidth=n._context.configuration.editor.layoutInfo.contentWidth,n.domNode.setHeight(0),n}return Or(t,e),t.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},t}(Pr);zg.ContentViewOverlays=XD;var YD=function(e){function t(t){var n=e.call(this,t)||this;return n._contentLeft=n._context.configuration.editor.layoutInfo.contentLeft,n.domNode.setClassName("margin-view-overlays"),n.domNode.setWidth(1),mb.applyFontInfo(n.domNode,n._context.configuration.editor.fontInfo),n}return Or(t,e),t.prototype.onConfigurationChanged=function(t){var n=!1;return t.fontInfo&&(mb.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),n=!0),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,n=!0),e.prototype.onConfigurationChanged.call(this,t)||n},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var n=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)},t}(Pr);zg.MarginViewOverlays=YD;var Qr={};var rX=Qr&&Qr.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),pi=function(){return function(t,e){this.top=t,this.left=e}}(),ZD=function(t){function e(e,o){var i=t.call(this,e)||this;return i._viewDomNode=o,i._widgets={},i.domNode=H(document.createElement("div")),ic.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=H(document.createElement("div")),ic.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}return rX(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._widgets={}},e.prototype.onConfigurationChanged=function(t){for(var e=0,o=Object.keys(this._widgets);e<o.length;e++){var i=o[e];this._widgets[i].onConfigurationChanged(t)}return!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLineMappingChanged=function(t){for(var e=0,o=Object.keys(this._widgets);e<o.length;e++){var i=o[e];this._widgets[i].onLineMappingChanged(t)}return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return!0},e.prototype.onZonesChanged=function(t){return!0},e.prototype.addWidget=function(t){var e=new sX(this._context,this._viewDomNode,t);this._widgets[e.id]=e,e.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(e.domNode):this.domNode.appendChild(e.domNode),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,e,o,i){this._widgets[t.getId()].setPosition(e,o,i),this.setShouldRender()},e.prototype.removeWidget=function(t){var e=t.getId();if(this._widgets.hasOwnProperty(e)){var o=this._widgets[e];delete this._widgets[e];var i=o.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},e.prototype.shouldSuppressMouseDownOnWidget=function(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown},e.prototype.onBeforeRender=function(t){for(var e=0,o=Object.keys(this._widgets);e<o.length;e++){var i=o[e];this._widgets[i].onBeforeRender(t)}},e.prototype.prepareRender=function(t){for(var e=0,o=Object.keys(this._widgets);e<o.length;e++){var i=o[e];this._widgets[i].prepareRender(t)}},e.prototype.render=function(t){for(var e=0,o=Object.keys(this._widgets);e<o.length;e++){var i=o[e];this._widgets[i].render(t)}},e}(nb);Qr.ViewContentWidgets=ZD;var sX=function(){function t(t,e,o){this._context=t,this._viewDomNode=e,this._actual=o,this.domNode=H(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1,this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._lineHeight=this._context.configuration.editor.lineHeight,this._setPosition(null,null),this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return t.prototype.onConfigurationChanged=function(t){t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._maxWidth=this._getMaxWidth())},t.prototype.onLineMappingChanged=function(t){this._setPosition(this._position,this._range)},t.prototype._setPosition=function(t,e){if(this._position=t||null,this._range=e||null,this._viewPosition=null,this._viewRange=null,this._position){var o=this._context.model.validateModelPosition(this._position);this._context.model.coordinatesConverter.modelPositionIsVisible(o)&&(this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(o))}if(this._range){var i=this._context.model.validateModelRange(this._range);this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(i)}},t.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},t.prototype.setPosition=function(t,e,o){this._setPosition(t,e),this._preference=o||null,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},t.prototype._layoutBoxInViewport=function(t,e,o,i,n){var r=t.top,s=r,d=e.top+this._lineHeight,h=r-i,l=s>=i,a=d,c=n.viewportHeight-d>=i,f=t.left,p=e.left;return f+o>n.scrollLeft+n.viewportWidth&&(f=n.scrollLeft+n.viewportWidth-o),p+o>n.scrollLeft+n.viewportWidth&&(p=n.scrollLeft+n.viewportWidth-o),f<n.scrollLeft&&(f=n.scrollLeft),p<n.scrollLeft&&(p=n.scrollLeft),{fitsAbove:l,aboveTop:h,aboveLeft:f,fitsBelow:c,belowTop:a,belowLeft:p}},t.prototype._layoutBoxInPage=function(t,e,o,i,n){var r=t.left-n.scrollLeft,s=e.left-n.scrollLeft;if(r<0||r>this._contentWidth)return null;var d,h=t.top-i,l=e.top+this._lineHeight,a=r+this._contentLeft,c=s+this._contentLeft,f=q.getDomNodePagePosition(this._viewDomNode.domNode),p=f.top+h-q.StandardWindow.scrollY,u=f.top+l-q.StandardWindow.scrollY,w=f.left+a-q.StandardWindow.scrollX,_=f.left+c-q.StandardWindow.scrollX,g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=p>=22,v=u+i<=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)-22;w+o+20>g&&(w-=d=w-(g-o-20),a-=d);_+o+20>g&&(_-=d=_-(g-o-20),c-=d);w<0&&(w-=d=w,a-=d);_<0&&(_-=d=_,c-=d);return this._fixedOverflowWidgets&&(h=p,l=u,a=w,c=_),{fitsAbove:m,aboveTop:h,aboveLeft:a,fitsBelow:v,belowTop:l,belowLeft:c}},t.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(t){return new pi(t.top,t.left+this._contentLeft)},t.prototype._getTopAndBottomLeft=function(t){if(!this._viewPosition)return[null,null];var e=t.visibleRangeForPosition(this._viewPosition);if(!e)return[null,null];var o=t.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-t.scrollTop,i=new pi(o,e.left),n=this._viewPosition.lineNumber,r=e.left;if(this._viewRange){var s=t.linesVisibleRangesForRange(this._viewRange,!1);if(s&&s.length>0)for(var d=s.length-1;d>=0;d--){var h=s[d];if(h.lineNumber>=n){h.lineNumber>n&&(n=h.lineNumber,r=1073741824);for(var l=0,a=h.ranges.length;l<a;l++){var c=h.ranges[l];c.left<r&&(r=c.left)}}}}var f=t.getVerticalOffsetForLineNumber(n)-t.scrollTop;return[i,new pi(f,r)]},t.prototype._prepareRenderWidget=function(t){var e,o=this._getTopAndBottomLeft(t),i=o[0],n=o[1];if(!i||!n)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){var r=this.domNode.domNode;this._cachedDomNodeClientWidth=r.clientWidth,this._cachedDomNodeClientHeight=r.clientHeight}if(e=this.allowEditorOverflow?this._layoutBoxInPage(i,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,t):this._layoutBoxInViewport(i,n,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,t),this._preference)for(var s=1;s<=2;s++)for(var d=0,h=this._preference;d<h.length;d++){var l=h[d];if(1===l){if(!e)return null;if(2===s||e.fitsAbove)return new pi(e.aboveTop,e.aboveLeft)}else{if(2!==l)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(i):i;if(!e)return null;if(2===s||e.fitsBelow)return new pi(e.belowTop,e.belowLeft)}}return null},t.prototype.onBeforeRender=function(t){this._viewPosition&&this._preference&&(this._viewPosition.lineNumber<t.startLineNumber||this._viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},t.prototype.prepareRender=function(t){this._renderData=this._prepareRenderWidget(t)},t.prototype.render=function(t){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},t}();var Rr={};var tX=Rr&&Rr.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),$D=function(e){function t(t){var r=e.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._scrollWidth=0,r._contentWidth=r._context.configuration.editor.layoutInfo.contentWidth,r._context.addEventHandler(r),r}return tX(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},t.prototype.onCursorStateChanged=function(e){var t=!1,r=e.selections[0].positionLineNumber;this._primaryCursorLineNumber!==r&&(this._primaryCursorLineNumber=r,t=!0);var i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i?(this._selectionIsEmpty=i,!0):t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){this._scrollWidth=e.scrollWidth},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?"<div class=\""+("current-line"+(this._willRenderMarginCurrentLine()?" current-line-both":""))+"\" style=\"width:"+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+"px;\"></div>":""},t.prototype._shouldShowCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t.prototype._willRenderMarginCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t}(Kd);Rr.CurrentLineHighlightOverlay=$D,Bb(function(e,t){var r=e.getColor(jD);if(r&&t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+r+"; }"),!r||r.isTransparent()||e.defines(rr)){var i=e.getColor(rr);i&&(t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"))}});var Sr={};var uX=Sr&&Sr.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_D=function(e){function t(t){var r=e.call(this)||this;return r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._renderLineHighlight=r._context.configuration.editor.viewInfo.renderLineHighlight,r._selectionIsEmpty=!0,r._primaryCursorLineNumber=1,r._contentLeft=r._context.configuration.editor.layoutInfo.contentLeft,r._context.addEventHandler(r),r}return uX(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight),e.layoutInfo&&(this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0},t.prototype.onCursorStateChanged=function(e){var t=!1,r=e.selections[0].positionLineNumber;this._primaryCursorLineNumber!==r&&(this._primaryCursorLineNumber=r,t=!0);var n=e.selections[0].isEmpty();return this._selectionIsEmpty!==n?(this._selectionIsEmpty=n,!0):t},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e,t){if(t===this._primaryCursorLineNumber){var r="current-line";if(this._shouldShowCurrentLine())r="current-line current-line-margin"+(this._willRenderContentCurrentLine()?" current-line-margin-both":"");return"<div class=\""+r+"\" style=\"width:"+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+"px;\"></div>"}return""},t.prototype._shouldShowCurrentLine=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t.prototype._willRenderContentCurrentLine=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t}(Kd);Sr.CurrentLineMarginHighlightOverlay=_D,Bb(function(e,t){var r=e.getColor(jD);if(r)t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+r+"; border: none; }");else{var n=e.getColor(rr);n&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+n+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}});var Tr={};var vX=Tr&&Tr.__extends||function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),aE=function(e){function n(n){var t=e.call(this)||this;return t._context=n,t._lineHeight=t._context.configuration.editor.lineHeight,t._typicalHalfwidthCharacterWidth=t._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,t._renderResult=null,t._context.addEventHandler(t),t}return vX(n,e),n.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},n.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},n.prototype.onDecorationsChanged=function(e){return!0},n.prototype.onFlushed=function(e){return!0},n.prototype.onLinesChanged=function(e){return!0},n.prototype.onLinesDeleted=function(e){return!0},n.prototype.onLinesInserted=function(e){return!0},n.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},n.prototype.onZonesChanged=function(e){return!0},n.prototype.prepareRender=function(e){for(var n=e.getDecorationsInViewport(),t=[],r=0,o=0,i=n.length;o<i;o++){var a=n[o];a.options.className&&(t[r++]=a)}t=t.sort(function(e,n){if(e.options.zIndex<n.options.zIndex)return-1;if(e.options.zIndex>n.options.zIndex)return 1;var t=e.options.className,r=n.options.className;return t<r?-1:t>r?1:j.compareRangesUsingStarts(e.range,n.range)});for(var s=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,p=[],d=s;d<=l;d++){p[d-s]=""}this._renderWholeLineDecorations(e,t,p),this._renderNormalDecorations(e,t,p),this._renderResult=p},n.prototype._renderWholeLineDecorations=function(e,n,t){for(var r=String(this._lineHeight),o=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,a=0,s=n.length;a<s;a++){var l=n[a];if(l.options.isWholeLine)for(var p="<div class=\"cdr "+l.options.className+"\" style=\"left:0;width:100%;height:"+r+"px;\"></div>",d=Math.max(l.range.startLineNumber,o),c=Math.min(l.range.endLineNumber,i),u=d;u<=c;u++){t[u-o]+=p}}},n.prototype._renderNormalDecorations=function(e,n,t){for(var r=String(this._lineHeight),o=e.visibleRange.startLineNumber,i=null,a=!1,s=null,l=0,p=n.length;l<p;l++){var d=n[l];if(!d.options.isWholeLine){var c=d.options.className,u=Boolean(d.options.showIfCollapsed),h=d.range;u&&1===h.endColumn&&h.endLineNumber!==h.startLineNumber&&(h=new j(h.startLineNumber,h.startColumn,h.endLineNumber-1,this._context.model.getLineMaxColumn(h.endLineNumber-1))),i===c&&a===u&&j.areIntersectingOrTouching(s,h)?s=j.plusRange(s,h):(null!==i&&this._renderNormalDecoration(e,s,i,a,r,o,t),i=c,a=u,s=h)}}null!==i&&this._renderNormalDecoration(e,s,i,a,r,o,t)},n.prototype._renderNormalDecoration=function(e,n,t,r,o,i,a){var s=e.linesVisibleRangesForRange(n,"findMatch"===t);if(s)for(var l=0,p=s.length;l<p;l++){var d=s[l],c=d.lineNumber-i;if(r&&1===d.ranges.length){var u=d.ranges[0];0===u.width&&(d.ranges[0]=new ad(u.left,this._typicalHalfwidthCharacterWidth))}for(var h=0,g=d.ranges.length;h<g;h++){var f=d.ranges[h],$="<div class=\"cdr "+t+"\" style=\"left:"+String(f.left)+"px;width:"+String(f.width)+"px;height:"+o+"px;\"></div>";a[c]+=$}}},n.prototype.render=function(e,n){if(!this._renderResult)return"";var t=n-e;return t<0||t>=this._renderResult.length?"":this._renderResult[t]},n}(Kd);Tr.DecorationsOverlay=aE;var Ur={};var Re={};var Vr={};var Wr={};var Gl={};var Xr={};var wX=Xr&&Xr.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),Hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wX(e,t),e.prototype.onclick=function(t,e){this._register(q.addDisposableListener(t,q.EventType.CLICK,function(t){return e(new ib(t))}))},e.prototype.onmousedown=function(t,e){this._register(q.addDisposableListener(t,q.EventType.MOUSE_DOWN,function(t){return e(new ib(t))}))},e.prototype.onmouseover=function(t,e){this._register(q.addDisposableListener(t,q.EventType.MOUSE_OVER,function(t){return e(new ib(t))}))},e.prototype.onnonbubblingmouseout=function(t,e){this._register(q.addDisposableNonBubblingMouseOutListener(t,function(t){return e(new ib(t))}))},e.prototype.onkeydown=function(t,e){this._register(q.addDisposableListener(t,q.EventType.KEY_DOWN,function(t){return e(new Fa(t))}))},e.prototype.onkeyup=function(t,e){this._register(q.addDisposableListener(t,q.EventType.KEY_UP,function(t){return e(new Fa(t))}))},e.prototype.oninput=function(t,e){this._register(q.addDisposableListener(t,q.EventType.INPUT,e))},e.prototype.onblur=function(t,e){this._register(q.addDisposableListener(t,q.EventType.BLUR,e))},e.prototype.onfocus=function(t,e){this._register(q.addDisposableListener(t,q.EventType.FOCUS,e))},e.prototype.onchange=function(t,e){this._register(q.addDisposableListener(t,q.EventType.CHANGE,e))},e}(B);Xr.Widget=Hl;var xX=Gl&&Gl.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(e,t)};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Se=11;Gl.ARROW_IMG_SIZE=Se;var bE=function(o){function e(e){var t=o.call(this)||this;return t._onActivate=e.onActivate,t.bgDomNode=document.createElement("div"),t.bgDomNode.className="arrow-background",t.bgDomNode.style.position="absolute",t.bgDomNode.style.width=e.bgWidth+"px",t.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(t.bgDomNode.style.top="0px"),void 0!==e.left&&(t.bgDomNode.style.left="0px"),void 0!==e.bottom&&(t.bgDomNode.style.bottom="0px"),void 0!==e.right&&(t.bgDomNode.style.right="0px"),t.domNode=document.createElement("div"),t.domNode.className=e.className,t.domNode.style.position="absolute",t.domNode.style.width=Se+"px",t.domNode.style.height=Se+"px",void 0!==e.top&&(t.domNode.style.top=e.top+"px"),void 0!==e.left&&(t.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(t.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(t.domNode.style.right=e.right+"px"),t._mouseMoveMonitor=t._register(new ai),t.onmousedown(t.bgDomNode,function(o){return t._arrowMouseDown(o)}),t.onmousedown(t.domNode,function(o){return t._arrowMouseDown(o)}),t._mousedownRepeatTimer=t._register(new $f),t._mousedownScheduleRepeatTimer=t._register(new Bd),t}return xX(e,o),e.prototype._arrowMouseDown=function(o){var e=this;this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(function(){e._mousedownRepeatTimer.cancelAndSet(function(){return e._onActivate()},1e3/24)},200),this._mouseMoveMonitor.startMonitoring(fl,function(o){},function(){e._mousedownRepeatTimer.cancel(),e._mousedownScheduleRepeatTimer.cancel()}),o.preventDefault()},e}(Hl);Gl.ScrollbarArrow=bE;var Yr={};var yX=Yr&&Yr.__extends||function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])})(e,t)};return function(e,t){function s(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),cE=function(i){function e(e,t,s){var o=i.call(this)||this;return o._visibility=e,o._visibleClassName=t,o._invisibleClassName=s,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new Bd),o}return yX(e,i),e.prototype.applyVisibilitySetting=function(i){return 2!==this._visibility&&(3===this._visibility||i)},e.prototype.setShouldBeVisible=function(i){var e=this.applyVisibilitySetting(i);this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())},e.prototype.setIsNeeded=function(i){this._isNeeded!==i&&(this._isNeeded=i,this.ensureVisibility())},e.prototype.setDomNode=function(i){this._domNode=i,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},e.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},e.prototype._reveal=function(){var i=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){i._domNode&&i._domNode.setClassName(i._visibleClassName)},0))},e.prototype._hide=function(i){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(i?" fade":"")))},e}(B);Yr.ScrollbarVisibilityController=cE;var zX=Wr&&Wr.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),AX=140,Zr=function(e){function t(t){var o=e.call(this)||this;return o._lazyRender=t.lazyRender,o._host=t.host,o._scrollable=t.scrollable,o._scrollbarState=t.scrollbarState,o._visibilityController=o._register(new cE(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),o._mouseMoveMonitor=o._register(new ai),o._shouldRender=!0,o.domNode=H(document.createElement("div")),o.domNode.setAttribute("role","presentation"),o.domNode.setAttribute("aria-hidden","true"),o._visibilityController.setDomNode(o.domNode),o.domNode.setPosition("absolute"),o.onmousedown(o.domNode.domNode,function(e){return o._domNodeMouseDown(e)}),o}return zX(t,e),t.prototype._createArrow=function(e){var t=this._register(new bE(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,o,r){var i=this;this.slider=H(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof o&&this.slider.setWidth(o),"number"==typeof r&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){e.leftButton&&(e.preventDefault(),i._sliderMouseDown(e,function(){}))})},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=this.domNode.domNode.getClientRects()[0].top,o=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),i=this._sliderMousePosition(e);o<=i&&i<=r?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){})):this._onMouseDown(e)},t.prototype._onMouseDown=function(e){var t,o;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,o=e.browserEvent.offsetY;else{var r=q.getDomNodePagePosition(this.domNode.domNode);t=e.posx-r.left,o=e.posy-r.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,o))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,function(){}))},t.prototype._sliderMouseDown=function(e,t){var o=this,r=this._sliderMousePosition(e),i=this._sliderOrthogonalMousePosition(e),s=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(fl,function(e){var t=o._sliderOrthogonalMousePosition(e),l=Math.abs(t-i);if(ac&&l>AX)o._setDesiredScrollPositionNow(s.getScrollPosition());else{var n=o._sliderMousePosition(e)-r;o._setDesiredScrollPositionNow(s.getDesiredScrollPositionFromDelta(n))}},function(){o.slider.toggleClassName("active",!1),o._host.onDragEnd(),t()}),this._host.onDragStart()},t.prototype._setDesiredScrollPositionNow=function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)},t}(Hl);Wr.AbstractScrollbar=Zr;var BX=20,dE=function(){function e(e,t,i){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.clone=function(){var t=new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);return t.setVisibleSize(this._visibleSize),t.setScrollSize(this._scrollSize),t.setScrollPosition(this._scrollPosition),t},e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e._computeValues=function(e,t,i,o,r){var s=Math.max(0,i-e),l=Math.max(0,s-2*t),u=o>0&&o>i;if(!u)return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(l),computedSliderRatio:0,computedSliderPosition:0};var d=Math.round(Math.max(BX,Math.floor(i*l/o))),n=(l-d)/(o-i),S=r*n;return{computedAvailableSize:Math.round(s),computedIsNeeded:u,computedSliderSize:Math.round(d),computedSliderRatio:n,computedSliderPosition:Math.round(S)}},e.prototype._refreshComputedValues=function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getScrollPosition=function(){return this._scrollPosition},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},e.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},e}();var CX=Vr&&Vr.__extends||function(){var o=function(r,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var t in r)r.hasOwnProperty(t)&&(o[t]=r[t])})(r,t)};return function(r,t){function e(){this.constructor=r}o(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),eE=function(o){function r(r,t,e){var l=o.call(this,{lazyRender:t.lazyRender,host:e,scrollbarState:new dE(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:r})||this;if(t.horizontalHasArrows){var i=(t.arrowSize-Se)/2,n=(t.horizontalScrollbarSize-Se)/2;l._createArrow({className:"left-arrow",top:n,left:i,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:function(){return l._host.onMouseWheel(new we(null,1,0))}}),l._createArrow({className:"right-arrow",top:n,left:void 0,bottom:void 0,right:i,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:function(){return l._host.onMouseWheel(new we(null,-1,0))}})}return l._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize),l}return CX(r,o),r.prototype._updateSlider=function(o,r){this.slider.setWidth(o),this.slider.setLeft(r)},r.prototype._renderDomNode=function(o,r){this.domNode.setWidth(o),this.domNode.setHeight(r),this.domNode.setLeft(0),this.domNode.setBottom(0)},r.prototype.onDidScroll=function(o){return this._shouldRender=this._onElementScrollSize(o.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(o.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(o.width)||this._shouldRender,this._shouldRender},r.prototype._mouseDownRelativePosition=function(o,r){return o},r.prototype._sliderMousePosition=function(o){return o.posx},r.prototype._sliderOrthogonalMousePosition=function(o){return o.posy},r.prototype.writeScrollPosition=function(o,r){o.scrollLeft=r},r}(Zr);Vr.HorizontalScrollbar=eE;var $r={};var DX=$r&&$r.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])})(e,t)};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),fE=function(r){function e(e,t,o){var i=r.call(this,{lazyRender:t.lazyRender,host:o,scrollbarState:new dE(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e})||this;if(t.verticalHasArrows){var l=(t.arrowSize-Se)/2,a=(t.verticalScrollbarSize-Se)/2;i._createArrow({className:"up-arrow",top:l,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:function(){return i._host.onMouseWheel(new we(null,0,1))}}),i._createArrow({className:"down-arrow",top:void 0,left:a,bottom:l,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:function(){return i._host.onMouseWheel(new we(null,0,-1))}})}return i._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0),i}return DX(e,r),e.prototype._updateSlider=function(r,e){this.slider.setHeight(r),this.slider.setTop(e)},e.prototype._renderDomNode=function(r,e){this.domNode.setWidth(e),this.domNode.setHeight(r),this.domNode.setRight(0),this.domNode.setTop(0)},e.prototype.onDidScroll=function(r){return this._shouldRender=this._onElementScrollSize(r.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(r.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(r.height)||this._shouldRender,this._shouldRender},e.prototype._mouseDownRelativePosition=function(r,e){return e},e.prototype._sliderMousePosition=function(r){return r.posy},e.prototype._sliderOrthogonalMousePosition=function(r){return r.posx},e.prototype.writeScrollPosition=function(r,e){r.scrollTop=e},e}(Zr);$r.VerticalScrollbar=fE;var Ag={};var EX=Ag&&Ag.__extends||function(){var t=function(o,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(o,i)};return function(o,i){function r(){this.constructor=o}t(o,i),o.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),gE=function(){function t(t,o,i,r,s,l){(t|=0)<0&&(t=0),(i|=0)+t>(o|=0)&&(i=o-t),i<0&&(i=0),(r|=0)<0&&(r=0),(l|=0)+r>(s|=0)&&(l=s-r),l<0&&(l=0),this.width=t,this.scrollWidth=o,this.scrollLeft=i,this.height=r,this.scrollHeight=s,this.scrollTop=l}return t.prototype.equals=function(t){return this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop},t.prototype.withScrollDimensions=function(o){return new t(void 0!==o.width?o.width:this.width,void 0!==o.scrollWidth?o.scrollWidth:this.scrollWidth,this.scrollLeft,void 0!==o.height?o.height:this.height,void 0!==o.scrollHeight?o.scrollHeight:this.scrollHeight,this.scrollTop)},t.prototype.withScrollPosition=function(o){return new t(this.width,this.scrollWidth,void 0!==o.scrollLeft?o.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,void 0!==o.scrollTop?o.scrollTop:this.scrollTop)},t.prototype.createScrollEvent=function(t){var o=this.width!==t.width,i=this.scrollWidth!==t.scrollWidth,r=this.scrollLeft!==t.scrollLeft,s=this.height!==t.height,l=this.scrollHeight!==t.scrollHeight,e=this.scrollTop!==t.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:o,scrollWidthChanged:i,scrollLeftChanged:r,heightChanged:s,scrollHeightChanged:l,scrollTopChanged:e}},t}();Ag.ScrollState=gE;var _r=function(t){function o(o,i){var r=t.call(this)||this;return r._onScroll=r._register(new b),r.onScroll=r._onScroll.event,r._smoothScrollDuration=o,r._scheduleAtNextAnimationFrame=i,r._state=new gE(0,0,0,0,0,0),r._smoothScrolling=null,r}return EX(o,t),o.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),t.prototype.dispose.call(this)},o.prototype.setSmoothScrollDuration=function(t){this._smoothScrollDuration=t},o.prototype.validateScrollPosition=function(t){return this._state.withScrollPosition(t)},o.prototype.getScrollDimensions=function(){return this._state},o.prototype.setScrollDimensions=function(t){var o=this._state.withScrollDimensions(t);this._setState(o),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},o.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},o.prototype.getCurrentScrollPosition=function(){return this._state},o.prototype.setScrollPositionNow=function(t){var o=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o)},o.prototype.setScrollPositionSmooth=function(t){var o=this;if(0===this._smoothScrollDuration)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:void 0===t.scrollLeft?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:void 0===t.scrollTop?this._smoothScrolling.to.scrollTop:t.scrollTop};var i=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;var r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=r}else{i=this._state.withScrollPosition(t);this._smoothScrolling=hE.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){o._smoothScrolling&&(o._smoothScrolling.animationFrameDisposable=null,o._performSmoothScrolling())})},o.prototype._performSmoothScrolling=function(){var t=this;if(this._smoothScrolling){var o=this._smoothScrolling.tick(),i=this._state.withScrollPosition(o);if(this._setState(i),o.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())})}},o.prototype._setState=function(t){var o=this._state;o.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(o)))},o}(B);Ag.Scrollable=_r;var as=function(){return function(t,o,i){this.scrollLeft=t,this.scrollTop=o,this.isDone=i}}();function bs(t,o){var i=o-t;return function(o){return t+i*HX(o)}}function FX(t,o,i){return function(r){return r<i?t(r/i):o((r-i)/(1-i))}}Ag.SmoothScrollingUpdate=as;var hE=function(){function t(t,o,i,r){this.from=t,this.to=o,this.duration=r,this._startTime=i,this.animationFrameDisposable=null,this._initAnimations()}return t.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},t.prototype._initAnimation=function(t,o,i){if(Math.abs(t-o)>2.5*i){var r=void 0,s=void 0;return t<o?(r=t+.75*i,s=o-.75*i):(r=t-.75*i,s=o+.75*i),FX(bs(t,r),bs(s,o),.33)}return bs(t,o)},t.prototype.dispose=function(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},t.prototype.acceptScrollDimensions=function(t){this.to=t.withScrollPosition(this.to),this._initAnimations()},t.prototype.tick=function(){return this._tick(Date.now())},t.prototype._tick=function(t){var o=(t-this._startTime)/this.duration;if(o<1){var i=this.scrollLeft(o),r=this.scrollTop(o);return new as(i,r,!1)}return new as(this.to.scrollLeft,this.to.scrollTop,!0)},t.prototype.combine=function(o,i,r){return t.start(o,i,r)},t.start=function(o,i,r){return r+=10,new t(o,i,Date.now()-10,r)},t}();function GX(t){return Math.pow(t,3)}function HX(t){return 1-GX(1-t)}Ag.SmoothScrollingOperation=hE;var Il=Re&&Re.__extends||function(){var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(o,t)};return function(o,t){function l(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}}(),IX=500,iE=50,jE=!0,JX=function(){return function(e,o,t){this.timestamp=e,this.deltaX=o,this.deltaY=t,this.score=0}}(),kE=function(){function e(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return e.prototype.isPhysicalMouseWheel=function(){if(-1===this._front&&-1===this._rear)return!1;for(var e=1,o=0,t=1,l=this._rear;;){var r=l===this._front?e:Math.pow(2,-t);if(e-=r,o+=this._memory[l].score*r,l===this._front)break;l=(this._capacity+l-1)%this._capacity,t++}return o<=.5},e.prototype.accept=function(e,o,t){var l=new JX(e,o,t);l.score=this._computeScore(l),-1===this._front&&-1===this._rear?(this._memory[0]=l,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=l)},e.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var o=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0)&&(o+=.25),Math.min(Math.max(o,0),1)},e.INSTANCE=new e,e}();Re.MouseWheelClassifier=kE;var cs=function(e){function o(o,t,l){var r=e.call(this)||this;r._onScroll=r._register(new b),r.onScroll=r._onScroll.event,o.style.overflow="hidden",r._options=mE(t),r._scrollable=l,r._register(r._scrollable.onScroll(function(e){r._onDidScroll(e),r._onScroll.fire(e)}));var i={onMouseWheel:function(e){return r._onMouseWheel(e)},onDragStart:function(){return r._onDragStart()},onDragEnd:function(){return r._onDragEnd()}};return r._verticalScrollbar=r._register(new fE(r._scrollable,r._options,i)),r._horizontalScrollbar=r._register(new eE(r._scrollable,r._options,i)),r._domNode=document.createElement("div"),r._domNode.className="monaco-scrollable-element "+r._options.className,r._domNode.setAttribute("role","presentation"),r._domNode.style.position="relative",r._domNode.style.overflow="hidden",r._domNode.appendChild(o),r._domNode.appendChild(r._horizontalScrollbar.domNode.domNode),r._domNode.appendChild(r._verticalScrollbar.domNode.domNode),r._options.useShadows&&(r._leftShadowDomNode=H(document.createElement("div")),r._leftShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._leftShadowDomNode.domNode),r._topShadowDomNode=H(document.createElement("div")),r._topShadowDomNode.setClassName("shadow"),r._domNode.appendChild(r._topShadowDomNode.domNode),r._topLeftShadowDomNode=H(document.createElement("div")),r._topLeftShadowDomNode.setClassName("shadow top-left-corner"),r._domNode.appendChild(r._topLeftShadowDomNode.domNode)),r._listenOnDomNode=r._options.listenOnDomNode||r._domNode,r._mouseWheelToDispose=[],r._setListeningToMouseWheel(r._options.handleMouseWheel),r.onmouseover(r._listenOnDomNode,function(e){return r._onMouseOver(e)}),r.onnonbubblingmouseout(r._listenOnDomNode,function(e){return r._onMouseOut(e)}),r._hideTimeout=r._register(new Bd),r._isDragging=!1,r._mouseIsOver=!1,r._shouldRender=!0,r._revealOnScroll=!0,r}return Il(o,e),o.prototype.dispose=function(){this._mouseWheelToDispose=C(this._mouseWheelToDispose),e.prototype.dispose.call(this)},o.prototype.getDomNode=function(){return this._domNode},o.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},o.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},o.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},o.prototype.setScrollDimensions=function(e){this._scrollable.setScrollDimensions(e)},o.prototype.updateClassName=function(e){this._options.className=e,Z&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},o.prototype.updateOptions=function(e){var o=mE(e);this._options.handleMouseWheel=o.handleMouseWheel,this._options.mouseWheelScrollSensitivity=o.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=o.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},o.prototype._setListeningToMouseWheel=function(e){var o=this;if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=C(this._mouseWheelToDispose),e)){this._mouseWheelToDispose.push(q.addDisposableListener(this._listenOnDomNode,"mousewheel",function(e){o._onMouseWheel(new we(e))}))}},o.prototype._onMouseWheel=function(e){var o,t=kE.INSTANCE;if(jE&&t.accept(Date.now(),e.deltaX,e.deltaY),e.deltaY||e.deltaX){var l=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(l=(o=[r,l])[0],r=o[1]);var i=!Z&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!i||r||(r=l,l=0),e.browserEvent&&e.browserEvent.altKey&&(r*=this._options.fastScrollSensitivity,l*=this._options.fastScrollSensitivity);var s=this._scrollable.getFutureScrollPosition(),n={};if(l){var a=s.scrollTop-iE*l;this._verticalScrollbar.writeScrollPosition(n,a)}if(r){var c=s.scrollLeft-iE*r;this._horizontalScrollbar.writeScrollPosition(n,c)}if(n=this._scrollable.validateScrollPosition(n),s.scrollLeft!==n.scrollLeft||s.scrollTop!==n.scrollTop)jE&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(n):this._scrollable.setScrollPositionNow(n),this._shouldRender=!0}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())},o.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},o.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},o.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),o=e.scrollTop>0,t=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(t?" left":"")),this._topShadowDomNode.setClassName("shadow"+(o?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(o?" top":"")+(t?" left":""))}},o.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},o.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},o.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},o.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},o.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},o.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},o.prototype._scheduleHide=function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(function(){return e._hide()},IX)},o}(Hl);Re.AbstractScrollableElement=cs;var ds=function(e){function o(o,t){var l=this;(t=t||{}).mouseWheelSmoothScroll=!1;var r=new _r(0,function(e){return q.scheduleAtNextAnimationFrame(e)});return(l=e.call(this,o,t,r)||this)._register(r),l}return Il(o,e),o.prototype.setScrollPosition=function(e){this._scrollable.setScrollPositionNow(e)},o.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},o}(cs);Re.ScrollableElement=ds;var lE=function(e){function o(o,t,l){return e.call(this,o,t,l)||this}return Il(o,e),o}(cs);Re.SmoothScrollableElement=lE;var es=function(e){function o(o,t){var l=e.call(this,o,t)||this;return l._element=o,l.onScroll(function(e){e.scrollTopChanged&&(l._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(l._element.scrollLeft=e.scrollLeft)}),l.scanDomNode(),l}return Il(o,e),o.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},o}(ds);function mE(e){var o={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0};return o.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:o.horizontalScrollbarSize,o.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:o.verticalScrollbarSize,Z&&(o.className+=" mac"),o}Re.DomScrollableElement=es;var KX=Ur&&Ur.__extends||function(){var e=function(o,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var r in o)o.hasOwnProperty(r)&&(e[r]=o[r])})(o,r)};return function(o,r){function t(){this.constructor=o}e(o,r),o.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}(),nE=function(e){function o(o,r,t,i){var l=e.call(this,o)||this,n=l._context.configuration.editor.viewInfo.scrollbar,s={listenOnDomNode:t.domNode,className:"editor-scrollable "+il(o.theme.type),useShadows:!1,lazyRender:!0,vertical:n.vertical,horizontal:n.horizontal,verticalHasArrows:n.verticalHasArrows,horizontalHasArrows:n.horizontalHasArrows,verticalScrollbarSize:n.verticalScrollbarSize,verticalSliderSize:n.verticalSliderSize,horizontalScrollbarSize:n.horizontalScrollbarSize,horizontalSliderSize:n.horizontalSliderSize,handleMouseWheel:n.handleMouseWheel,arrowSize:n.arrowSize,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity};l.scrollbar=l._register(new lE(r.domNode,s,l._context.viewLayout.scrollable)),ic.write(l.scrollbar.getDomNode(),5),l.scrollbarDomNode=H(l.scrollbar.getDomNode()),l.scrollbarDomNode.setPosition("absolute"),l._setLayout();var a=function(e,o,r){var t={};if(o){var i=e.scrollTop;i&&(t.scrollTop=l._context.viewLayout.getCurrentScrollTop()+i,e.scrollTop=0)}if(r){var n=e.scrollLeft;n&&(t.scrollLeft=l._context.viewLayout.getCurrentScrollLeft()+n,e.scrollLeft=0)}l._context.viewLayout.setScrollPositionNow(t)};return l._register(q.addDisposableListener(t.domNode,"scroll",function(e){return a(t.domNode,!0,!0)})),l._register(q.addDisposableListener(r.domNode,"scroll",function(e){return a(r.domNode,!0,!1)})),l._register(q.addDisposableListener(i.domNode,"scroll",function(e){return a(i.domNode,!0,!1)})),l._register(q.addDisposableListener(l.scrollbarDomNode.domNode,"scroll",function(e){return a(l.scrollbarDomNode.domNode,!0,!1)})),l}return KX(o,e),o.prototype.dispose=function(){e.prototype.dispose.call(this)},o.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(e.contentLeft),"right"===this._context.configuration.editor.viewInfo.minimap.side?this.scrollbarDomNode.setWidth(e.contentWidth+e.minimapWidth):this.scrollbarDomNode.setWidth(e.contentWidth),this.scrollbarDomNode.setHeight(e.contentHeight)},o.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},o.prototype.getDomNode=function(){return this.scrollbarDomNode},o.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},o.prototype.onConfigurationChanged=function(e){if(e.viewInfo){var o=this._context.configuration.editor,r={handleMouseWheel:o.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:o.viewInfo.scrollbar.mouseWheelScrollSensitivity,fastScrollSensitivity:o.viewInfo.scrollbar.fastScrollSensitivity};this.scrollbar.updateOptions(r)}return e.layoutInfo&&this._setLayout(),!0},o.prototype.onScrollChanged=function(e){return!0},o.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+il(this._context.theme.type)),!0},o.prototype.prepareRender=function(e){},o.prototype.render=function(e){this.scrollbar.renderNow()},o}(nb);Ur.EditorScrollbar=nE;var qi={};var oE=qi&&qi.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jl=function(){return function(t,e,n){this.startLineNumber=+t,this.endLineNumber=+e,this.className=String(n)}}();qi.DecorationToRender=Jl;var Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return oE(e,t),e.prototype._render=function(t,e,n){for(var r=[],o=t;o<=e;o++){r[o-t]=[]}if(0===n.length)return r;n.sort(function(t,e){return t.className===e.className?t.startLineNumber===e.startLineNumber?t.endLineNumber-e.endLineNumber:t.startLineNumber-e.startLineNumber:t.className<e.className?-1:1});for(var i=null,a=0,s=0,u=n.length;s<u;s++){var l=n[s],p=l.className,h=Math.max(l.startLineNumber,t)-t,d=Math.min(l.endLineNumber,e)-t;i===p?(h=Math.max(a+1,h),a=Math.max(a,d)):(i=p,a=d);for(var c=h;c<=a;c++)r[c].push(i)}return r},e}(Kd);qi.DedupOverlay=Kl;var pE=function(t){function e(e){var n=t.call(this)||this;return n._context=e,n._lineHeight=n._context.configuration.editor.lineHeight,n._glyphMargin=n._context.configuration.editor.viewInfo.glyphMargin,n._glyphMarginLeft=n._context.configuration.editor.layoutInfo.glyphMarginLeft,n._glyphMarginWidth=n._context.configuration.editor.layoutInfo.glyphMarginWidth,n._renderResult=null,n._context.addEventHandler(n),n}return oE(e,t),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.viewInfo&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),t.layoutInfo&&(this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var e=t.getDecorationsInViewport(),n=[],r=0,o=0,i=e.length;o<i;o++){var a=e[o],s=a.options.glyphMarginClassName;s&&(n[r++]=new Jl(a.range.startLineNumber,a.range.endLineNumber,s))}return n},e.prototype.prepareRender=function(t){if(this._glyphMargin){for(var e=t.visibleRange.startLineNumber,n=t.visibleRange.endLineNumber,r=this._render(e,n,this._getDecorations(t)),o=this._lineHeight.toString(),i="\" style=\"left:"+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+"px;\"></div>",a=[],s=e;s<=n;s++){var u=s-e,l=r[u];0===l.length?a[u]="":a[u]="<div class=\"cgmr "+l.join(" ")+i}this._renderResult=a}else this._renderResult=null},e.prototype.render=function(t,e){if(!this._renderResult)return"";var n=e-t;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},e}(Kl);qi.GlyphMarginOverlay=pE;var fs={};var LX=fs&&fs.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qE=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._primaryLineNumber=0,n._lineHeight=n._context.configuration.editor.lineHeight,n._spaceWidth=n._context.configuration.editor.fontInfo.spaceWidth,n._enabled=n._context.configuration.editor.viewInfo.renderIndentGuides,n._activeIndentEnabled=n._context.configuration.editor.viewInfo.highlightActiveIndentGuide,n._renderResult=null,n._context.addEventHandler(n),n}return LX(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.viewInfo&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._activeIndentEnabled=this._context.configuration.editor.viewInfo.highlightActiveIndentGuide),!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0],n=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==n&&(this._primaryLineNumber=n,!0)},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLanguageConfigurationChanged=function(e){return!0},t.prototype.prepareRender=function(e){if(this._enabled){var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._context.model.getOptions().indentSize*this._spaceWidth,r=e.scrollWidth,o=this._lineHeight,c=this._context.model.getLinesIndentGuides(t,n),s=0,d=0,a=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var u=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,n);s=u.startLineNumber,d=u.endLineNumber,a=u.indent}for(var p=[],l=t;l<=n;l++){for(var h=s<=l&&l<=d,f=l-t,_=c[f],g="",$=e.visibleRangeForPosition(new x(l,1)),v=$?$.left:0,m=1;m<=_;m++){if(g+="<div class=\""+(h&&m===a?"cigra":"cigr")+"\" style=\"left:"+v+"px;height:"+o+"px;width:"+i+"px\"></div>",(v+=i)>r)break}p[f]=g}this._renderResult=p}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Kd);fs.IndentGuidesOverlay=qE,Bb(function(e,t){var n=e.getColor(sl);n&&t.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+n+" inset; }");var i=e.getColor(tl)||n;i&&t.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+i+" inset; }")});var gs={};var MX=gs&&gs.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),NX=function(){function e(){this._currentVisibleRange=new j(1,1,1,1)}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e}(),OX=function(){return function(e,t,i,n,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=r}}(),rE=function(e){function t(t,i){var n=e.call(this,t)||this;n._linesContent=i,n._textRangeRestingSpot=document.createElement("div"),n._visibleLines=new VD(n),n.domNode=n._visibleLines.domNode;var o=n._context.configuration;return n._lineHeight=o.editor.lineHeight,n._typicalHalfwidthCharacterWidth=o.editor.fontInfo.typicalHalfwidthCharacterWidth,n._isViewportWrapping=o.editor.wrappingInfo.isViewportWrapping,n._revealHorizontalRightPadding=o.editor.viewInfo.revealHorizontalRightPadding,n._canUseLayerHinting=o.editor.canUseLayerHinting,n._viewLineOptions=new ar(o,n._context.theme.type),ic.write(n.domNode,7),n.domNode.setClassName("view-lines"),mb.applyFontInfo(n.domNode,o.editor.fontInfo),n._maxLineWidth=0,n._asyncUpdateLineWidths=new wc(function(){n._updateLineWidthsSlow()},200),n._lastRenderedData=new NX,n._horizontalRevealRequest=null,n}return MX(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new He(this._viewLineOptions)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.wrappingInfo&&(this._maxLineWidth=0);var t=this._context.configuration;return e.lineHeight&&(this._lineHeight=t.editor.lineHeight),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=t.editor.fontInfo.typicalHalfwidthCharacterWidth),e.wrappingInfo&&(this._isViewportWrapping=t.editor.wrappingInfo.isViewportWrapping),e.viewInfo&&(this._revealHorizontalRightPadding=t.editor.viewInfo.revealHorizontalRightPadding),e.canUseLayerHinting&&(this._canUseLayerHinting=t.editor.canUseLayerHinting),e.fontInfo&&mb.applyFontInfo(this.domNode,t.editor.fontInfo),this._onOptionsMaybeChanged(),e.layoutInfo&&(this._maxLineWidth=0),!0},t.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new ar(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions)}return!0}return!1},t.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=!1,o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n},t.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=t;n<=i;n++)this._visibleLines.getVisibleLine(n).onDecorationsChanged();return!0},t.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.range,e.verticalType),i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new OX(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);return 0===e.scrollType&&n>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(i):this._context.viewLayout.setScrollPositionNow(i),!0},t.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},t.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.getPositionFromDOMInfo=function(e,t){var i=this._getViewLineDomNode(e);if(null===i)return null;var n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new x(n,1);var o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(n<o||n>r)return null;var s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t),a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new x(n,s)},t.prototype._getViewLineDomNode=function(e){for(;e&&1===e.nodeType;){if(e.className===He.CLASS_NAME)return e;e=e.parentElement}return null},t.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1},t.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()},t.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var i=e.endLineNumber,n=j.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;var o=[],r=0,s=new _q(this.domNode.domNode,this._textRangeRestingSpot),a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new x(n.startLineNumber,1)).lineNumber);for(var l=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber(),u=n.startLineNumber;u<=n.endLineNumber;u++)if(!(u<l||u>h)){var p=u===n.startLineNumber?n.startColumn:1,d=u===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(u),c=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(p,d,s);if(c&&0!==c.length){if(t&&u<i)a!==(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new x(u+1,1)).lineNumber)&&(c[c.length-1].width+=this._typicalHalfwidthCharacterWidth);o[r++]=new IC(u,c)}}return 0===r?null:o},t.prototype.visibleRangesForRange2=function(e){if(this.shouldRender())return null;var t=j.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!t)return null;for(var i=[],n=new _q(this.domNode.domNode,this._textRangeRestingSpot),o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber(),s=t.startLineNumber;s<=t.endLineNumber;s++)if(!(s<o||s>r)){var a=s===t.startLineNumber?t.startColumn:1,l=s===t.endLineNumber?t.endColumn:this._context.model.getLineMaxColumn(s),h=this._visibleLines.getVisibleLine(s).getVisibleRangesForRange(a,l,n);h&&0!==h.length&&(i=i.concat(h))}return 0===i.length?null:i},t.prototype.visibleRangeForPosition=function(e){var t=this.visibleRangesForRange2(new j(e.lineNumber,e.column,e.lineNumber,e.column));return t?t[0]:null},t.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},t.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidths=function(e){for(var t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),n=1,o=!0,r=t;r<=i;r++){var s=this._visibleLines.getVisibleLine(r);!e||s.getWidthIsFast()?n=Math.max(n,s.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber,i=this._horizontalRevealRequest.startColumn,n=this._horizontalRevealRequest.endColumn,o=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(t,i,n);this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===o?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting);var s=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,i){var n,o,r,s=e.top,a=e.height,l=s+a;if(n=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber),o=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight,0!==i&&4!==i||(o+=this._lineHeight),1===i||2===i){if(2===i&&s<=n&&o<=l)r=s;else{var h=(n+o)/2;r=Math.max(0,h-a/2)}}else r=this._computeMinimumScrolling(s,l,n,o,3===i,4===i);return r},t.prototype._computeScrollLeftToRevealRange=function(e,i,n){var o=0,r=this._context.viewLayout.getCurrentViewport(),s=r.left,a=s+r.width,l=this.visibleRangesForRange2(new j(e,i,e,n)),h=Number.MAX_VALUE,u=0;if(!l)return{scrollLeft:s,maxHorizontalOffset:o};for(var p=0,d=l;p<d.length;p++){var c=d[p];c.left<h&&(h=c.left),c.left+c.width>u&&(u=c.left+c.width)}return o=u,h=Math.max(0,h-t.HORIZONTAL_EXTRA_PX),u+=this._revealHorizontalRightPadding,{scrollLeft:this._computeMinimumScrolling(s,a,h,u),maxHorizontalOffset:o}},t.prototype._computeMinimumScrolling=function(e,t,i,n,o,r){o=!!o,r=!!r;var s=(t|=0)-(e|=0);return(n|=0)-(i|=0)<s?o?i:r?Math.max(0,n-s):i<e?i:n>t?Math.max(0,n-s):e:i},t.HORIZONTAL_EXTRA_PX=30,t}(nb);gs.ViewLines=rE;var hs={};var PX=hs&&hs.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sE=function(t){function e(e){var o=t.call(this)||this;return o._context=e,o._decorationsLeft=o._context.configuration.editor.layoutInfo.decorationsLeft,o._decorationsWidth=o._context.configuration.editor.layoutInfo.decorationsWidth,o._renderResult=null,o._context.addEventHandler(o),o}return PX(e,t),e.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,t.prototype.dispose.call(this)},e.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft,this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onLinesChanged=function(t){return!0},e.prototype.onLinesDeleted=function(t){return!0},e.prototype.onLinesInserted=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollTopChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype._getDecorations=function(t){for(var e=t.getDecorationsInViewport(),o=[],n=0,r=0,i=e.length;r<i;r++){var s=e[r],a=s.options.linesDecorationsClassName;a&&(o[n++]=new Jl(s.range.startLineNumber,s.range.endLineNumber,a))}return o},e.prototype.prepareRender=function(t){for(var e=t.visibleRange.startLineNumber,o=t.visibleRange.endLineNumber,n=this._render(e,o,this._getDecorations(t)),r="\" style=\"left:"+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+"px;\"></div>",i=[],s=e;s<=o;s++){for(var a=s-e,c=n[a],u="",p=0,d=c.length;p<d;p++)u+="<div class=\"cldr "+c[p]+r;i[a]=u}this._renderResult=i},e.prototype.render=function(t,e){return this._renderResult?this._renderResult[e-t]:""},e}(Kl);hs.LinesDecorationsOverlay=sE;var is={};var QX=is&&is.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),tE=function(e){function r(r){var t=e.call(this)||this;return t._context=r,t._renderResult=null,t._context.addEventHandler(t),t}return QX(r,e),r.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},r.prototype.onConfigurationChanged=function(e){return!0},r.prototype.onDecorationsChanged=function(e){return!0},r.prototype.onFlushed=function(e){return!0},r.prototype.onLinesChanged=function(e){return!0},r.prototype.onLinesDeleted=function(e){return!0},r.prototype.onLinesInserted=function(e){return!0},r.prototype.onScrollChanged=function(e){return e.scrollTopChanged},r.prototype.onZonesChanged=function(e){return!0},r.prototype._getDecorations=function(e){for(var r=e.getDecorationsInViewport(),t=[],n=0,o=0,i=r.length;o<i;o++){var u=r[o],s=u.options.marginClassName;s&&(t[n++]=new Jl(u.range.startLineNumber,u.range.endLineNumber,s))}return t},r.prototype.prepareRender=function(e){for(var r=e.visibleRange.startLineNumber,t=e.visibleRange.endLineNumber,n=this._render(r,t,this._getDecorations(e)),o=[],i=r;i<=t;i++){for(var u=i-r,s=n[u],a="",p=0,c=s.length;p<c;p++)a+="<div class=\"cmdr "+s[p]+"\" style=\"\"></div>";o[u]=a}this._renderResult=o},r.prototype.render=function(e,r){return this._renderResult?this._renderResult[r-e]:""},r}(Kl);is.MarginViewLineDecorationsOverlay=tE;var js={};var ks=function(){function t(n,p,r,$){this.r=t._clamp(n),this.g=t._clamp(p),this.b=t._clamp(r),this.a=t._clamp($)}return t._clamp=function(t){return t<0?0:t>255?255:0|t},t.Empty=new t(0,0,0,0),t}();var uE=function(){function e(){var e=this;this._onDidChange=new b,this.onDidChange=this._onDidChange.event,this._updateColorMap(),ca.onDidChange(function(t){t.changedColorMap&&e._updateColorMap()})}return e.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new e),this._INSTANCE},e.prototype._updateColorMap=function(){var e=ca.getColorMap();if(!e)return this._colors=[ks.Empty],void(this._backgroundIsLight=!0);this._colors=[ks.Empty];for(var t=1;t<e.length;t++){var r=e[t].rgba;this._colors[t]=new ks(r.r,r.g,r.b,Math.round(255*r.a))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},e.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},e.prototype.backgroundIsLight=function(){return this._backgroundIsLight},e._INSTANCE=null,e}();var RX=function(){function e(t,r){if(760!==t.length)throw new Error("Invalid x2CharData");if(190!==r.length)throw new Error("Invalid x1CharData");this.x2charData=t,this.x1charData=r,this.x2charDataLight=e.soften(t,.8),this.x1charDataLight=e.soften(r,50/60)}return e.soften=function(e,t){for(var r=new Uint8ClampedArray(e.length),i=0,a=e.length;i<a;i++)r[i]=e[i]*t;return r},e._getChIndex=function(e){return(e-=32)<0&&(e+=95),e%95},e.prototype.x2RenderChar=function(t,r,i,a,o,n,h){if(r+2>t.width||i+4>t.height)console.warn("bad render request outside image data");else{var s=h?this.x2charDataLight:this.x2charData,u=e._getChIndex(a),d=4*t.width,g=n.r,c=n.g,p=n.b,$=o.r-g,l=o.g-c,C=o.b-p,f=t.data,m=4*u*2,x=i*d+4*r,_=s[m]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_;_=s[m+1]/255;f[x+4]=g+$*_,f[x+5]=c+l*_,f[x+6]=p+C*_,x+=d;_=s[m+2]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_;_=s[m+3]/255;f[x+4]=g+$*_,f[x+5]=c+l*_,f[x+6]=p+C*_,x+=d;_=s[m+4]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_;_=s[m+5]/255;f[x+4]=g+$*_,f[x+5]=c+l*_,f[x+6]=p+C*_,x+=d;_=s[m+6]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_;_=s[m+7]/255;f[x+4]=g+$*_,f[x+5]=c+l*_,f[x+6]=p+C*_}},e.prototype.x1RenderChar=function(t,r,i,a,o,n,h){if(r+1>t.width||i+2>t.height)console.warn("bad render request outside image data");else{var s=h?this.x1charDataLight:this.x1charData,u=e._getChIndex(a),d=4*t.width,g=n.r,c=n.g,p=n.b,$=o.r-g,l=o.g-c,C=o.b-p,f=t.data,m=2*u*1,x=i*d+4*r,_=s[m]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_,x+=d;_=s[m+1]/255;f[x+0]=g+$*_,f[x+1]=c+l*_,f[x+2]=p+C*_}},e.prototype.x2BlockRenderChar=function(e,t,r,i,a,o){if(t+2>e.width||r+4>e.height)console.warn("bad render request outside image data");else{var n=4*e.width,h=a.r,s=a.g,u=a.b,d=h+.5*(i.r-h),g=s+.5*(i.g-s),c=u+.5*(i.b-u),p=e.data,$=r*n+4*t;p[$+0]=d,p[$+1]=g,p[$+2]=c,p[$+4]=d,p[$+5]=g,p[$+6]=c,p[($+=n)+0]=d,p[$+1]=g,p[$+2]=c,p[$+4]=d,p[$+5]=g,p[$+6]=c,p[($+=n)+0]=d,p[$+1]=g,p[$+2]=c,p[$+4]=d,p[$+5]=g,p[$+6]=c,p[($+=n)+0]=d,p[$+1]=g,p[$+2]=c,p[$+4]=d,p[$+5]=g,p[$+6]=c}},e.prototype.x1BlockRenderChar=function(e,t,r,i,a,o){if(t+1>e.width||r+2>e.height)console.warn("bad render request outside image data");else{var n=4*e.width,h=a.r,s=a.g,u=a.b,d=h+.5*(i.r-h),g=s+.5*(i.g-s),c=u+.5*(i.b-u),p=e.data,$=r*n+4*t;p[$+0]=d,p[$+1]=g,p[$+2]=c,p[($+=n)+0]=d,p[$+1]=g,p[$+2]=c}},e}();function vE(r){for(var a=new Uint8ClampedArray(r.length),$=0,e=r.length;$<e;$++)a[$]=r[$];return a}var wE=null;function SX(){if(!wE){var r=vE(UX);UX=null;var a=vE(TX);TX=null,wE=new RX(a,r)}return wE}var TX=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0],UX=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22];var VX=js&&js.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();function ls(e){return 2===e?4:4===e?6:1===e?2:3}function xE(e){return 2===e?2:4===e?2:1}var WX=140,yE=function(){function e(e){var t=e.editor.pixelRatio,i=e.editor.layoutInfo,r=e.editor.viewInfo,n=e.editor.fontInfo;this.renderMinimap=0|i.renderMinimap,this.scrollBeyondLastLine=r.scrollBeyondLastLine,this.showSlider=r.minimap.showSlider,this.pixelRatio=t,this.typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this.lineHeight=e.editor.lineHeight,this.minimapLeft=i.minimapLeft,this.minimapWidth=i.minimapWidth,this.minimapHeight=i.height,this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth)),this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight)),this.canvasOuterWidth=this.canvasInnerWidth/t,this.canvasOuterHeight=this.canvasInnerHeight/t}return e.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},e}(),XX=function(){function e(e,t,i,r,n,o,a){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=i,this.sliderTop=r,this.sliderHeight=n,this.startLineNumber=o,this.endLineNumber=a}return e.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},e.create=function(t,i,r,n,o,a,s,d,h){var l,p,m=t.pixelRatio,u=ls(t.renderMinimap),c=Math.floor(t.canvasInnerHeight/u),_=t.lineHeight;if(o&&r!==a){var $=r-i+1;l=Math.floor($*u/m)}else{var f=n/_;l=Math.floor(f*u/m)}p=t.scrollBeyondLastLine?(a-1)*u/m:Math.max(0,a*u/m-l);var v=(p=Math.min(t.minimapHeight-l,p))/(d-n),g=s*v;if(c>=a)return new e(s,d,v,g,l,V=1,a);var V=Math.max(1,Math.floor(i-g*m/u));return h&&h.scrollHeight===d&&(h.scrollTop>s&&(V=Math.min(V,h.startLineNumber)),h.scrollTop<s&&(V=Math.max(V,h.startLineNumber))),new e(s,d,v,g,l,V,Math.min(a,V+c-1))},e}(),zE=function(){function e(e){this.dy=e}return e.prototype.onContentChanged=function(){this.dy=-1},e.prototype.onTokensChanged=function(){this.dy=-1},e.INVALID=new e(-1),e}(),AE=function(){function e(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new UD(function(){return zE.INVALID}),this._renderedLines._set(e.startLineNumber,i)}return e.prototype.linesEquals=function(e){if(this.renderedLayout.startLineNumber!==e.startLineNumber)return!1;if(this.renderedLayout.endLineNumber!==e.endLineNumber)return!1;for(var t=this._renderedLines._get().lines,i=0,r=t.length;i<r;i++)if(-1===t[i].dy)return!1;return!0},e.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},e.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},e}(),YX=function(){function e(t,i,r,n){this._backgroundFillData=e._createBackgroundFillData(i,r,n),this._buffers=[t.createImageData(i,r),t.createImageData(i,r)],this._lastUsedBuffer=0}return e.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},e._createBackgroundFillData=function(e,t,i){for(var r=i.r,n=i.g,o=i.b,a=new Uint8ClampedArray(e*t*4),s=0,d=0;d<t;d++)for(var h=0;h<e;h++)a[s]=r,a[s+1]=n,a[s+2]=o,a[s+3]=255,s+=4;return a},e}(),BE=function(e){function t(t){var i=e.call(this,t)||this;return i._options=new yE(i._context.configuration),i._lastRenderData=null,i._buffers=null,i._domNode=H(document.createElement("div")),ic.write(i._domNode,8),i._domNode.setClassName(i._getMinimapDomNodeClassName()),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._shadow=H(document.createElement("div")),i._shadow.setClassName("minimap-shadow-hidden"),i._domNode.appendChild(i._shadow),i._canvas=H(document.createElement("canvas")),i._canvas.setPosition("absolute"),i._canvas.setLeft(0),i._domNode.appendChild(i._canvas),i._slider=H(document.createElement("div")),i._slider.setPosition("absolute"),i._slider.setClassName("minimap-slider"),i._slider.setLayerHinting(!0),i._domNode.appendChild(i._slider),i._sliderHorizontal=H(document.createElement("div")),i._sliderHorizontal.setPosition("absolute"),i._sliderHorizontal.setClassName("minimap-slider-horizontal"),i._slider.appendChild(i._sliderHorizontal),i._tokensColorTracker=uE.getInstance(),i._applyLayout(),i._mouseDownListener=q.addStandardDisposableListener(i._canvas.domNode,"mousedown",function(e){e.preventDefault();var t=i._options.renderMinimap;if(0!==t&&i._lastRenderData){var r=ls(t),n=i._options.pixelRatio*e.browserEvent.offsetY,o=Math.floor(n/r)+i._lastRenderData.renderedLayout.startLineNumber;o=Math.min(o,i._context.model.getLineCount()),i._context.privateViewEventBus.emit(new y.ViewRevealRangeRequestEvent(new j(o,1,o,1),1,!1,0))}}),i._sliderMouseMoveMonitor=new ai,i._sliderMouseDownListener=q.addStandardDisposableListener(i._slider.domNode,"mousedown",function(e){if(e.preventDefault(),e.leftButton&&i._lastRenderData){var t=e.posy,r=e.posx,n=i._lastRenderData.renderedLayout;i._slider.toggleClassName("active",!0),i._sliderMouseMoveMonitor.startMonitoring(fl,function(e){var o=Math.abs(e.posx-r);if(ac&&o>WX)i._context.viewLayout.setScrollPositionNow({scrollTop:n.scrollTop});else{var a=e.posy-t;i._context.viewLayout.setScrollPositionNow({scrollTop:n.getDesiredScrollTopFromDelta(a)})}},function(){i._slider.toggleClassName("active",!1)})}}),i}return VX(t,e),t.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),e.prototype.dispose.call(this)},t.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},t.prototype.getDomNode=function(){return this._domNode},t.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},t.prototype._getBuffer=function(){return this._buffers||(this._buffers=new YX(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers.getBuffer()},t.prototype._onOptionsMaybeChanged=function(){var e=new yE(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},t.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},t.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},t.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},t.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},t.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){if(0===this._options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var t=XX.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);var i=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,r=Math.min(this._options.minimapWidth,Math.round(i*xE(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(r),this._sliderHorizontal.setWidth(this._options.minimapWidth-r),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this._lastRenderData=this.renderLines(t)},t.prototype.renderLines=function(e){var i=this._options.renderMinimap,r=e.startLineNumber,n=e.endLineNumber,o=ls(i);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var a=this._lastRenderData._get();return new AE(e,a.imageData,a.lines)}for(var s=this._getBuffer(),d=t._renderUntouchedLines(s,r,n,o,this._lastRenderData),h=d[0],l=d[1],p=d[2],m=this._context.model.getMinimapLinesRenderingData(r,n,p),u=m.tabSize,c=this._tokensColorTracker.getColor(2),_=this._tokensColorTracker.backgroundIsLight(),$=0,f=[],v=0,g=n-r+1;v<g;v++)p[v]&&t._renderLine(s,c,_,i,this._tokensColorTracker,SX(),$,u,m.data[v]),f[v]=new zE($),$+=o;var V=-1===h?0:h,L=(-1===l?s.height:l)-V;return this._canvas.domNode.getContext("2d").putImageData(s,0,0,0,V,s.width,L),new AE(e,s,f)},t._renderUntouchedLines=function(e,t,i,r,n){var o=[];if(!n){for(var a=0,s=i-t+1;a<s;a++)o[a]=!0;return[-1,-1,o]}for(var d=n._get(),h=d.imageData.data,l=d.rendLineNumberStart,p=d.lines,m=p.length,u=e.width,c=e.data,_=(i-t+1)*r*u*4,$=-1,f=-1,v=-1,g=-1,V=-1,L=-1,k=0,M=t;M<=i;M++){var w=M-t,y=M-l,C=y>=0&&y<m?p[y].dy:-1;if(-1!==C){var b=C*u*4,D=(C+r)*u*4,N=k*u*4,R=(k+r)*u*4;g===b&&L===N?(g=D,L=R):(-1!==v&&(c.set(h.subarray(v,g),V),-1===$&&0===v&&v===V&&($=g),-1===f&&g===_&&v===V&&(f=v)),v=b,g=D,V=N,L=R),o[w]=!1,k+=r}else o[w]=!0,k+=r}return-1!==v&&(c.set(h.subarray(v,g),V),-1===$&&0===v&&v===V&&($=g),-1===f&&g===_&&v===V&&(f=v)),[-1===$?-1:$/(4*u),-1===f?-1:f/(4*u),o]},t._renderLine=function(e,t,i,r,n,o,a,s,d){for(var h=d.content,l=d.tokens,p=xE(r),m=e.width-p,u=0,c=0,_=0,$=0,f=l.getCount();$<f;$++)for(var v=l.getEndOffset($),g=l.getForeground($),V=n.getColor(g);c<v;c++){if(u>m)return;var L=h.charCodeAt(c);if(9===L){var k=s-(c+_)%s;_+=k-1,u+=k*p}else if(32===L)u+=p;else for(var M=z.isFullWidthCharacter(L)?2:1,w=0;w<M;w++)if(2===r?o.x2RenderChar(e,u,a,L,V,t,i):1===r?o.x1RenderChar(e,u,a,L,V,t,i):4===r?o.x2BlockRenderChar(e,u,a,V,t,i):o.x1BlockRenderChar(e,u,a,V,t,i),(u+=p)>m)return}},t}(nb);js.Minimap=BE,Bb(function(e,t){var i=e.getColor(gV);if(i){var r=i.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+r+"; }")}var n=e.getColor(hV);if(n){var o=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var a=e.getColor(iV);if(a){var s=a.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+s+"; }")}var d=e.getColor(pl);d&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+d+" -6px 0 6px -6px inset; }")});var ms={};var ZX=ms&&ms.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),CE=function(t){function e(e){var o=t.call(this,e)||this;return o._widgets={},o._verticalScrollbarWidth=o._context.configuration.editor.layoutInfo.verticalScrollbarWidth,o._minimapWidth=o._context.configuration.editor.layoutInfo.minimapWidth,o._horizontalScrollbarHeight=o._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,o._editorHeight=o._context.configuration.editor.layoutInfo.height,o._editorWidth=o._context.configuration.editor.layoutInfo.width,o._domNode=H(document.createElement("div")),ic.write(o._domNode,4),o._domNode.setClassName("overlayWidgets"),o}return ZX(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._widgets={}},e.prototype.getDomNode=function(){return this._domNode},e.prototype.onConfigurationChanged=function(t){return!!t.layoutInfo&&(this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth,this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth,this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight,this._editorHeight=this._context.configuration.editor.layoutInfo.height,this._editorWidth=this._context.configuration.editor.layoutInfo.width,!0)},e.prototype.addWidget=function(t){var e=H(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:e},e.setPosition("absolute"),e.setAttribute("widgetId",t.getId()),this._domNode.appendChild(e),this.setShouldRender()},e.prototype.setWidgetPosition=function(t,e){var o=this._widgets[t.getId()];return o.preference!==e&&(o.preference=e,this.setShouldRender(),!0)},e.prototype.removeWidget=function(t){var e=t.getId();if(this._widgets.hasOwnProperty(e)){var o=this._widgets[e].domNode.domNode;delete this._widgets[e],o.parentNode.removeChild(o),this.setShouldRender()}},e.prototype._renderWidget=function(t){var e=t.domNode;if(null!==t.preference){if(0===t.preference)e.setTop(0),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===t.preference){var o=e.domNode.clientHeight;e.setTop(this._editorHeight-o-2*this._horizontalScrollbarHeight),e.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===t.preference&&(e.setTop(0),e.domNode.style.right="50%");}else e.unsetTop()},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._domNode.setWidth(this._editorWidth);for(var e=Object.keys(this._widgets),o=0,i=e.length;o<i;o++){var r=e[o];this._renderWidget(this._widgets[r])}},e}(nb);ms.ViewOverlayWidgets=CE;var ns={};var $X=ns&&ns.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),_X=function(){function t(t,e){this.lineHeight=t.editor.lineHeight,this.pixelRatio=t.editor.pixelRatio,this.overviewRulerLanes=t.editor.viewInfo.overviewRulerLanes,this.renderBorder=t.editor.viewInfo.overviewRulerBorder;var o=e.getColor(BV);this.borderColor=o?o.toString():null,this.hideCursor=t.editor.viewInfo.hideCursorInOverviewRuler;var i=e.getColor(kD);this.cursorColor=i?i.transparent(.7).toString():null,this.themeType=e.type;var r=t.editor.viewInfo.minimap.enabled,s=t.editor.viewInfo.minimap.side,n=r?ca.getDefaultBackground():null;this.backgroundColor=null===n||"left"===s?null:c.Format.CSS.formatHex(n);var h=t.editor.layoutInfo.overviewRuler;this.top=h.top,this.right=h.right,this.domWidth=h.width,this.domHeight=h.height,this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0;var a=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),d=a[0],l=a[1];this.x=d,this.w=l}return t.prototype._initLanes=function(t,e,o){var i=e-t;if(o>=3){var r,s,n,h=i-(r=Math.floor(i/3))-(s=Math.floor(i/3)),a=(n=t)+r;return[[0,n,a,n,n+r+h,n,a,n],[0,r,h,r+h,s,r+h+s,h+s,r+h+s]]}if(2===o)return[[0,n=t,n,n,n+(r=Math.floor(i/2)),n,n,n],[0,r,r,r,s=i-r,r+s,r+s,r+s]];return[[0,t,t,t,t,t,t,t],[0,i,i,i,i,i,i,i]]},t.prototype.equals=function(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&this.backgroundColor===t.backgroundColor&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight},t}(),DE=function(t){function e(e){var o=t.call(this,e)||this;return o._domNode=H(document.createElement("canvas")),o._domNode.setClassName("decorationsOverviewRuler"),o._domNode.setPosition("absolute"),o._domNode.setLayerHinting(!0),o._domNode.setAttribute("aria-hidden","true"),o._updateSettings(!1),o._tokensColorTrackerListener=ca.onDidChange(function(t){t.changedColorMap&&o._updateSettings(!0)}),o._cursorPositions=[],o}return $X(e,t),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},e.prototype._updateSettings=function(t){var e=new _X(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(e))&&(this._settings=e,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),!0)},e.prototype.onConfigurationChanged=function(t){return this._updateSettings(!1)},e.prototype.onCursorStateChanged=function(t){this._cursorPositions=[];for(var e=0,o=t.selections.length;e<o;e++)this._cursorPositions[e]=t.selections[e].getPosition();return this._cursorPositions.sort(x.compare),!0},e.prototype.onDecorationsChanged=function(t){return!0},e.prototype.onFlushed=function(t){return!0},e.prototype.onScrollChanged=function(t){return t.scrollHeightChanged},e.prototype.onZonesChanged=function(t){return!0},e.prototype.onThemeChanged=function(t){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.prepareRender=function(t){},e.prototype.render=function(t){this._render()},e.prototype._render=function(){var t=this._settings.canvasWidth,e=this._settings.canvasHeight,o=this._settings.lineHeight,i=this._context.viewLayout,r=e/this._context.viewLayout.getScrollHeight(),s=this._context.model.getAllOverviewRulerDecorations(this._context.theme),n=6*this._settings.pixelRatio|0,h=n/2|0,a=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?a.clearRect(0,0,t,e):(a.fillStyle=this._settings.backgroundColor,a.fillRect(0,0,t,e));var d=this._settings.x,l=this._settings.w,g=Object.keys(s);g.sort();for(var u=0,c=g.length;u<c;u++){var p=g[u],f=s[p];a.fillStyle=p;for(var v=0,_=0,m=0,$=0,C=f.length;$<C;$++){var y=f[3*$],w=f[3*$+1],R=f[3*$+2],j=i.getVerticalOffsetForLineNumber(w)*r|0;if((L=(i.getVerticalOffsetForLineNumber(R)+o)*r|0)-j<n)(S=(j+L)/2|0)<h?S=h:S+h>e&&(S=e-h),j=S-h,L=S+h;j>m+1||y!==v?(0!==$&&a.fillRect(d[v],_,l[v],m-_),v=y,_=j,m=L):L>m&&(m=L)}a.fillRect(d[v],_,l[v],m-_)}if(!this._settings.hideCursor&&this._settings.cursorColor){var x=2*this._settings.pixelRatio|0,N=x/2|0,b=this._settings.x[7],H=this._settings.w[7];a.fillStyle=this._settings.cursorColor;for(_=-100,m=-100,$=0,C=this._cursorPositions.length;$<C;$++){var S,k=this._cursorPositions[$];(S=i.getVerticalOffsetForLineNumber(k.lineNumber)*r|0)<N?S=N:S+N>e&&(S=e-N);var L=(j=S-N)+x;j>m+1?(0!==$&&a.fillRect(b,_,H,m-_),_=j,m=L):L>m&&(m=L)}a.fillRect(b,_,H,m-_)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(a.beginPath(),a.lineWidth=1,a.strokeStyle=this._settings.borderColor,a.moveTo(0,0),a.lineTo(0,e),a.stroke(),a.moveTo(0,0),a.lineTo(t,0),a.stroke())},e}(nb);ns.DecorationsOverviewRuler=DE;var os={};var EE=function(){function t(t,o,e){this.from=0|t,this.to=0|o,this.colorId=0|e}return t.compare=function(t,o){return t.colorId===o.colorId?t.from===o.from?t.to-o.to:t.from-o.from:t.colorId-o.colorId},t}();var ri=function(){function t(t,o,e){this.startLineNumber=t,this.endLineNumber=o,this.color=e,this._colorZone=null}return t.compare=function(t,o){return t.color===o.color?t.startLineNumber===o.startLineNumber?t.endLineNumber-o.endLineNumber:t.startLineNumber-o.startLineNumber:t.color<o.color?-1:1},t.prototype.setColorZone=function(t){this._colorZone=t},t.prototype.getColorZones=function(){return this._colorZone},t}();var aY=function(){function t(t){this._getVerticalOffsetForLine=t,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return t.prototype.getId2Color=function(){return this._id2Color},t.prototype.setZones=function(t){this._zones=t,this._zones.sort(ri.compare)},t.prototype.setLineHeight=function(t){return this._lineHeight!==t&&(this._lineHeight=t,this._colorZonesInvalid=!0,!0)},t.prototype.setPixelRatio=function(t){this._pixelRatio=t,this._colorZonesInvalid=!0},t.prototype.getDOMWidth=function(){return this._domWidth},t.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},t.prototype.setDOMWidth=function(t){return this._domWidth!==t&&(this._domWidth=t,this._colorZonesInvalid=!0,!0)},t.prototype.getDOMHeight=function(){return this._domHeight},t.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},t.prototype.setDOMHeight=function(t){return this._domHeight!==t&&(this._domHeight=t,this._colorZonesInvalid=!0,!0)},t.prototype.getOuterHeight=function(){return this._outerHeight},t.prototype.setOuterHeight=function(t){return this._outerHeight!==t&&(this._outerHeight=t,this._colorZonesInvalid=!0,!0)},t.prototype.resolveColorZones=function(){for(var t=this._colorZonesInvalid,o=Math.floor(this._lineHeight),e=Math.floor(this.getCanvasHeight()),r=e/Math.floor(this._outerHeight),i=Math.floor(4*this._pixelRatio/2),n=[],s=0,h=this._zones.length;s<h;s++){var l=this._zones[s];if(!t){var u=l.getColorZones();if(u){n.push(u);continue}}var c=Math.floor(r*this._getVerticalOffsetForLine(l.startLineNumber)),a=Math.floor(r*(this._getVerticalOffsetForLine(l.endLineNumber)+o)),p=Math.floor((c+a)/2),_=a-p;_<i&&(_=i),p-_<0&&(p=_),p+_>e&&(p=e-_);var d=l.color,f=this._color2Id[d];f||(f=++this._lastAssignedId,this._color2Id[d]=f,this._id2Color[f]=d);var g=new EE(p-_,p+_,f);l.setColorZone(g),n.push(g)}return this._colorZonesInvalid=!1,n.sort(EE.compare),n},t}();var bY=os&&os.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),FE=function(e){function t(t,o){var n=e.call(this)||this;return n._context=t,n._domNode=H(document.createElement("canvas")),n._domNode.setClassName(o),n._domNode.setPosition("absolute"),n._domNode.setLayerHinting(!0),n._zoneManager=new aY(function(e){return n._context.viewLayout.getVerticalOffsetForLineNumber(e)}),n._zoneManager.setDOMWidth(0),n._zoneManager.setDOMHeight(0),n._zoneManager.setOuterHeight(n._context.viewLayout.getScrollHeight()),n._zoneManager.setLineHeight(n._context.configuration.editor.lineHeight),n._zoneManager.setPixelRatio(n._context.configuration.editor.pixelRatio),n._context.addEventHandler(n),n}return bY(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight),this._render()),e.pixelRatio&&(this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},t.prototype.onFlushed=function(e){return this._render(),!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},t.prototype.onZonesChanged=function(e){return this._render(),!0},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.setLayout=function(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,(t=this._zoneManager.setDOMHeight(e.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},t.prototype.setZones=function(e){this._zoneManager.setZones(e),this._render()},t.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),o=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,e,t),o.length>0&&this._renderOneLane(r,o,n,e),!0},t.prototype._renderOneLane=function(e,t,o,n){for(var r=0,i=0,a=0,s=0,h=t;s<h.length;s++){var d=h[s],l=d.colorId,g=d.from,_=d.to;l!==r?(e.fillRect(0,i,n,a-i),r=l,e.fillStyle=o[r],i=g,a=_):a>=g?a=Math.max(a,_):(e.fillRect(0,i,n,a-i),i=g,a=_)}e.fillRect(0,i,n,a-i)},t}(pg);os.OverviewRuler=FE;var ps={};var cY=ps&&ps.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),GE=function(e){function t(t){var r=e.call(this,t)||this;return r.domNode=H(document.createElement("div")),r.domNode.setAttribute("role","presentation"),r.domNode.setAttribute("aria-hidden","true"),r.domNode.setClassName("view-rulers"),r._renderedRulers=[],r._rulers=r._context.configuration.editor.viewInfo.rulers,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r}return cY(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!!(e.viewInfo||e.layoutInfo||e.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.prepareRender=function(e){},t.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t)for(var r=this._context.model.getOptions().tabSize,o=t-e;o>0;){(n=H(document.createElement("div"))).setClassName("view-ruler"),n.setWidth(r),this.domNode.appendChild(n),this._renderedRulers.push(n),o--}else for(var i=e-t;i>0;){var n=this._renderedRulers.pop();this.domNode.removeChild(n),i--}},t.prototype.render=function(e){this._ensureRulersCount();for(var t=0,r=this._rulers.length;t<r;t++){var o=this._renderedRulers[t];o.setHeight(Math.min(e.scrollHeight,1e6)),o.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},t}(nb);ps.Rulers=GE,Bb(function(e,t){var r=e.getColor(AV);r&&t.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+r+" inset; }")});var qs={};var dY=qs&&qs.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),HE=function(t){function o(o){var e=t.call(this,o)||this;return e._scrollTop=0,e._width=0,e._updateWidth(),e._shouldShow=!1,e._useShadows=e._context.configuration.editor.viewInfo.scrollbar.useShadows,e._domNode=H(document.createElement("div")),e._domNode.setAttribute("role","presentation"),e._domNode.setAttribute("aria-hidden","true"),e}return dY(o,t),o.prototype.dispose=function(){t.prototype.dispose.call(this)},o.prototype._updateShouldShow=function(){var t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t&&(this._shouldShow=t,!0)},o.prototype.getDomNode=function(){return this._domNode},o.prototype._updateWidth=function(){var t=this._context.configuration.editor.layoutInfo,o=0;return o=0===t.renderMinimap||t.minimapWidth>0&&0===t.minimapLeft?t.width:t.width-t.minimapWidth-t.verticalScrollbarWidth,this._width!==o&&(this._width=o,!0)},o.prototype.onConfigurationChanged=function(t){var o=!1;return t.viewInfo&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),t.layoutInfo&&(o=this._updateWidth()),this._updateShouldShow()||o},o.prototype.onScrollChanged=function(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()},o.prototype.prepareRender=function(t){},o.prototype.render=function(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},o}(nb);qs.ScrollDecorationViewPart=HE,Bb(function(t,o){var e=t.getColor(pl);e&&o.addRule(".monaco-editor .scroll-decoration { box-shadow: "+e+" 0 6px 6px -6px inset; }")});var rs={};var eY=rs&&rs.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),fY=function(){return function(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}(),gY=function(){return function(e,t){this.lineNumber=e,this.ranges=t}}();function hY(e){return new fY(e)}function iY(e){return new gY(e.lineNumber,e.ranges.map(hY))}var jY=ue,IE=function(e){function t(t){var r=e.call(this)||this;return r._previousFrameVisibleRangesWithStyle=[],r._context=t,r._lineHeight=r._context.configuration.editor.lineHeight,r._roundedSelection=r._context.configuration.editor.viewInfo.roundedSelection,r._typicalHalfwidthCharacterWidth=r._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,r._selections=[],r._renderResult=null,r._context.addEventHandler(r),r}return eY(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),e.fontInfo&&(this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._visibleRangesHaveGaps=function(e){for(var t=0,r=e.length;t<r;t++){if(e[t].ranges.length>1)return!0}return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t,r){var n=this._typicalHalfwidthCharacterWidth/4,o=null,i=null;if(r&&r.length>0&&t.length>0){var l=t[0].lineNumber;if(l===e.startLineNumber)for(var a=0;!o&&a<r.length;a++)r[a].lineNumber===l&&(o=r[a].ranges[0]);var s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(a=r.length-1;!i&&a>=0;a--)r[a].lineNumber===s&&(i=r[a].ranges[0]);o&&!o.startStyle&&(o=null),i&&!i.startStyle&&(i=null)}a=0;for(var c=t.length;a<c;a++){var u=t[a].ranges[0],h=u.left,_=u.left+u.width,d={top:0,bottom:0},p={top:0,bottom:0};if(a>0){var g=t[a-1].ranges[0].left,f=t[a-1].ranges[0].left+t[a-1].ranges[0].width;Ll(h-g)<n?d.top=2:h>g&&(d.top=1),Ll(_-f)<n?p.top=2:g<_&&_<f&&(p.top=1)}else o&&(d.top=o.startStyle.top,p.top=o.endStyle.top);if(a+1<c){var $=t[a+1].ranges[0].left,S=t[a+1].ranges[0].left+t[a+1].ranges[0].width;Ll(h-$)<n?d.bottom=2:$<h&&h<S&&(d.bottom=1),Ll(_-S)<n?p.bottom=2:_<S&&(p.bottom=1)}else i&&(d.bottom=i.startStyle.bottom,p.bottom=i.endStyle.bottom);u.startStyle=d,u.endStyle=p}},t.prototype._getVisibleRangesWithStyle=function(e,t,r){var n=(t.linesVisibleRangesForRange(e,!0)||[]).map(iY),o=this._visibleRangesHaveGaps(n);return jY||o||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,n,r),n},t.prototype._createSelectionPiece=function(e,t,r,n,o){return"<div class=\"cslr "+r+"\" style=\"top:"+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+"px;\"></div>"},t.prototype._actualRenderOneSelection=function(e,r,n,o){for(var i=o.length>0&&o[0].ranges[0].startStyle,l=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),s=o.length>0?o[0].lineNumber:0,c=o.length>0?o[o.length-1].lineNumber:0,u=0,h=o.length;u<h;u++){for(var _=o[u],d=_.lineNumber,p=d-r,g=n&&(d===c||d===s)?a:l,f=n&&d===s?1:0,$="",S=0,E=_.ranges.length;S<E;S++){var v=_.ranges[S];if(i){var y=v.startStyle,m=v.endStyle;if(1===y.top||1===y.bottom){$+=this._createSelectionPiece(f,g,t.SELECTION_CLASS_NAME,v.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var b=t.EDITOR_BACKGROUND_CLASS_NAME;1===y.top&&(b+=" "+t.SELECTION_TOP_RIGHT),1===y.bottom&&(b+=" "+t.SELECTION_BOTTOM_RIGHT),$+=this._createSelectionPiece(f,g,b,v.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(1===m.top||1===m.bottom){$+=this._createSelectionPiece(f,g,t.SELECTION_CLASS_NAME,v.left+v.width,t.ROUNDED_PIECE_WIDTH);var O=t.EDITOR_BACKGROUND_CLASS_NAME;1===m.top&&(O+=" "+t.SELECTION_TOP_LEFT),1===m.bottom&&(O+=" "+t.SELECTION_BOTTOM_LEFT),$+=this._createSelectionPiece(f,g,O,v.left+v.width,t.ROUNDED_PIECE_WIDTH)}}var W=t.SELECTION_CLASS_NAME;if(i){y=v.startStyle,m=v.endStyle;0===y.top&&(W+=" "+t.SELECTION_TOP_LEFT),0===y.bottom&&(W+=" "+t.SELECTION_BOTTOM_LEFT),0===m.top&&(W+=" "+t.SELECTION_TOP_RIGHT),0===m.bottom&&(W+=" "+t.SELECTION_BOTTOM_RIGHT)}$+=this._createSelectionPiece(f,g,W,v.left,v.width)}e[p]+=$}},t.prototype.prepareRender=function(e){for(var t=[],r=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=r;o<=n;o++){t[o-r]=""}for(var i=[],l=0,a=this._selections.length;l<a;l++){var s=this._selections[l];if(s.isEmpty())i[l]=null;else{var c=this._getVisibleRangesWithStyle(s,e,this._previousFrameVisibleRangesWithStyle[l]);i[l]=c,this._actualRenderOneSelection(t,r,this._selections.length>1,c)}}this._previousFrameVisibleRangesWithStyle=i,this._renderResult=t},t.prototype.render=function(e,t){if(!this._renderResult)return"";var r=t-e;return r<0||r>=this._renderResult.length?"":this._renderResult[r]},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(Kd);function Ll(e){return e<0?-e:e}rs.SelectionsOverlay=IE,Bb(function(e,t){var r=e.getColor(sg);r&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+r+"; }");var n=e.getColor(mr);n&&t.addRule(".monaco-editor .selected-text { background-color: "+n+"; }");var o=e.getColor(rV);o&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")});var ss={};var JE=function(){return function(t,i,e,o,r,n){this.top=t,this.left=i,this.width=e,this.height=o,this.textContent=r,this.textContentClassName=n}}(),KE=function(){function t(t){this._context=t,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=H(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),mb.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._domNode.setDisplay("none"),this.updatePosition(new x(1,1)),this._lastRenderedContent="",this._renderData=null}return t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._position},t.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},t.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},t.prototype.onConfigurationChanged=function(t){return t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.fontInfo&&(mb.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth),t.viewInfo&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)),!0},t.prototype.onCursorPositionChanged=function(t){return this.updatePosition(t),!0},t.prototype._prepareRender=function(t){var i="",e="";if(this._cursorStyle===T.Line||this._cursorStyle===T.LineThin){var o,r=t.visibleRangeForPosition(this._position);if(!r)return null;if(this._cursorStyle===T.Line){if((o=q.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2))>2)i=this._context.model.getLineContent(this._position.lineNumber).charAt(this._position.column-1)}else o=q.computeScreenAwareSize(1);var n=r.left;o>=2&&n>=1&&(n-=1);var s=t.getVerticalOffsetForLineNumber(this._position.lineNumber)-t.bigNumbersDelta;return new JE(s,n,o,this._lineHeight,i,e)}var h=t.linesVisibleRangesForRange(new j(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),!1);if(!h||0===h.length||0===h[0].ranges.length)return null;var a=h[0].ranges[0],d=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;if(this._cursorStyle===T.Block){var l=this._context.model.getViewLineData(this._position.lineNumber);i=l.content.charAt(this._position.column-1),z.isHighSurrogate(l.content.charCodeAt(this._position.column-1))&&(i+=l.content.charAt(this._position.column));var c=l.tokens.findTokenIndexAtOffset(this._position.column-1);e=l.tokens.getClassName(c)}var u=t.getVerticalOffsetForLineNumber(this._position.lineNumber)-t.bigNumbersDelta,_=this._lineHeight;return this._cursorStyle!==T.Underline&&this._cursorStyle!==T.UnderlineThin||(u+=this._lineHeight-2,_=2),new JE(u,a.left,d,_,i,e)},t.prototype.prepareRender=function(t){this._renderData=this._prepareRender(t)},t.prototype.render=function(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},t.prototype.updatePosition=function(t){this._position=t},t}();var kY=ss&&ss.__extends||function(){var r=function(o,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var e in o)o.hasOwnProperty(e)&&(r[e]=o[e])})(o,e)};return function(o,e){function t(){this.constructor=o}r(o,e),o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),LE=function(r){function o(o){var e=r.call(this,o)||this;return e._readOnly=e._context.configuration.editor.readOnly,e._cursorBlinking=e._context.configuration.editor.viewInfo.cursorBlinking,e._cursorStyle=e._context.configuration.editor.viewInfo.cursorStyle,e._cursorSmoothCaretAnimation=e._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation,e._selectionIsEmpty=!0,e._primaryCursor=new KE(e._context),e._secondaryCursors=[],e._renderData=[],e._domNode=H(document.createElement("div")),e._domNode.setAttribute("role","presentation"),e._domNode.setAttribute("aria-hidden","true"),e._updateDomClassName(),e._domNode.appendChild(e._primaryCursor.getDomNode()),e._startCursorBlinkAnimation=new Bd,e._cursorFlatBlinkInterval=new $f,e._blinkingEnabled=!1,e._editorHasFocus=!1,e._updateBlinking(),e}return kY(o,r),o.prototype.dispose=function(){r.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},o.prototype.getDomNode=function(){return this._domNode},o.prototype.onConfigurationChanged=function(r){r.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),r.viewInfo&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._cursorSmoothCaretAnimation=this._context.configuration.editor.viewInfo.cursorSmoothCaretAnimation),this._primaryCursor.onConfigurationChanged(r),this._updateBlinking(),r.viewInfo&&this._updateDomClassName();for(var o=0,e=this._secondaryCursors.length;o<e;o++)this._secondaryCursors[o].onConfigurationChanged(r);return!0},o.prototype._onCursorPositionChanged=function(r,o){if(this._primaryCursor.onCursorPositionChanged(r),this._updateBlinking(),this._secondaryCursors.length<o.length)for(var e=o.length-this._secondaryCursors.length,t=0;t<e;t++){var i=new KE(this._context);this._domNode.domNode.insertBefore(i.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(i)}else if(this._secondaryCursors.length>o.length){var n=this._secondaryCursors.length-o.length;for(t=0;t<n;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(t=0;t<o.length;t++)this._secondaryCursors[t].onCursorPositionChanged(o[t])},o.prototype.onCursorStateChanged=function(r){for(var o=[],e=0,t=r.selections.length;e<t;e++)o[e]=r.selections[e].getPosition();this._onCursorPositionChanged(o[0],o.slice(1));var i=r.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0},o.prototype.onDecorationsChanged=function(r){return!0},o.prototype.onFlushed=function(r){return!0},o.prototype.onFocusChanged=function(r){return this._editorHasFocus=r.isFocused,this._updateBlinking(),!1},o.prototype.onLinesChanged=function(r){return!0},o.prototype.onLinesDeleted=function(r){return!0},o.prototype.onLinesInserted=function(r){return!0},o.prototype.onScrollChanged=function(r){return!0},o.prototype.onTokensChanged=function(r){var o=function(o){for(var e=0,t=r.ranges.length;e<t;e++)if(r.ranges[e].fromLineNumber<=o.lineNumber&&o.lineNumber<=r.ranges[e].toLineNumber)return!0;return!1};if(o(this._primaryCursor.getPosition()))return!0;for(var e=0,t=this._secondaryCursors;e<t.length;e++){if(o(t[e].getPosition()))return!0}return!1},o.prototype.onZonesChanged=function(r){return!0},o.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},o.prototype._updateBlinking=function(){var r=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet(function(){r._isVisible?r._hide():r._show()},o.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(function(){r._blinkingEnabled=!0,r._updateDomClassName()},o.BLINK_INTERVAL))},o.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},o.prototype._getClassName=function(){var r="cursors-layer";switch(this._selectionIsEmpty||(r+=" has-selection"),this._cursorStyle){case T.Line:r+=" cursor-line-style";break;case T.Block:r+=" cursor-block-style";break;case T.Underline:r+=" cursor-underline-style";break;case T.LineThin:r+=" cursor-line-thin-style";break;case T.BlockOutline:r+=" cursor-block-outline-style";break;case T.UnderlineThin:r+=" cursor-underline-thin-style";break;default:r+=" cursor-line-style";}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:r+=" cursor-blink";break;case 2:r+=" cursor-smooth";break;case 3:r+=" cursor-phase";break;case 4:r+=" cursor-expand";break;case 5:r+=" cursor-solid";break;default:r+=" cursor-solid";}else r+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(r+=" cursor-smooth-caret-animation"),r},o.prototype._show=function(){this._primaryCursor.show();for(var r=0,o=this._secondaryCursors.length;r<o;r++)this._secondaryCursors[r].show();this._isVisible=!0},o.prototype._hide=function(){this._primaryCursor.hide();for(var r=0,o=this._secondaryCursors.length;r<o;r++)this._secondaryCursors[r].hide();this._isVisible=!1},o.prototype.prepareRender=function(r){this._primaryCursor.prepareRender(r);for(var o=0,e=this._secondaryCursors.length;o<e;o++)this._secondaryCursors[o].prepareRender(r)},o.prototype.render=function(r){var o=[],e=0,t=this._primaryCursor.render(r);t&&(o[e++]=t);for(var i=0,n=this._secondaryCursors.length;i<n;i++){var s=this._secondaryCursors[i].render(r);s&&(o[e++]=s)}this._renderData=o},o.prototype.getLastRenderData=function(){return this._renderData},o.BLINK_INTERVAL=500,o}(nb);ss.ViewCursors=LE,Bb(function(r,o){var e=r.getColor(kD);if(e){var t=r.getColor(yV);t||(t=e.opposite()),o.addRule(".monaco-editor .cursor { background-color: "+e+"; border-color: "+e+"; color: "+t+"; }"),"hc"===r.type&&o.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+t+"; border-right: 1px solid "+t+"; }")}});var ts={};var lY=ts&&ts.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),ME=function(e){function t(t){var o=e.call(this,t)||this;return o._lineHeight=o._context.configuration.editor.lineHeight,o._contentWidth=o._context.configuration.editor.layoutInfo.contentWidth,o._contentLeft=o._context.configuration.editor.layoutInfo.contentLeft,o.domNode=H(document.createElement("div")),o.domNode.setClassName("view-zones"),o.domNode.setPosition("absolute"),o.domNode.setAttribute("role","presentation"),o.domNode.setAttribute("aria-hidden","true"),o.marginDomNode=H(document.createElement("div")),o.marginDomNode.setClassName("margin-view-zones"),o.marginDomNode.setPosition("absolute"),o.marginDomNode.setAttribute("role","presentation"),o.marginDomNode.setAttribute("aria-hidden","true"),o._zones={},o}return lY(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=!1,t=Object.keys(this._zones),o=0,i=t.length;o<i;o++){var n=t[o],r=this._zones[n],s=this._computeWhitespaceProps(r.delegate);this._context.viewLayout.changeWhitespace(parseInt(n,10),s.afterViewLineNumber,s.heightInPx)&&(this._safeCallOnComputedHeight(r.delegate,s.heightInPx),e=!0)}return e},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft),!0)},t.prototype.onLineMappingChanged=function(e){var t=this._recomputeWhitespacesProps();return t&&this._context.viewLayout.onHeightMaybeChanged(),t},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return void 0!==e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};var t,o;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new x(i,this._context.model.getModelLineMaxColumn(i))}o=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(o);return{afterViewLineNumber:n.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}},t.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e),o={whitespaceId:this._context.viewLayout.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx,t.minWidthInPx),delegate:e,isVisible:!1,domNode:H(e.domNode),marginDomNode:e.marginDomNode?H(e.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,t.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId.toString()),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId.toString()),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId.toString()]=o,this.setShouldRender(),o.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._context.viewLayout.removeWhitespace(t.whitespaceId),t.domNode.removeAttribute("monaco-visible-view-zone"),t.domNode.removeAttribute("monaco-view-zone"),t.domNode.domNode.parentNode.removeChild(t.domNode.domNode),t.marginDomNode&&(t.marginDomNode.removeAttribute("monaco-visible-view-zone"),t.marginDomNode.removeAttribute("monaco-view-zone"),t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){var o=this._zones[e.toString()],i=this._computeWhitespaceProps(o.delegate);(t=this._context.viewLayout.changeWhitespace(o.whitespaceId,i.afterViewLineNumber,i.heightInPx)||t)&&(this._safeCallOnComputedHeight(o.delegate,i.heightInPx),this.setShouldRender())}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return Boolean(t.delegate.suppressMouseDown)}return!1},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._minWidthInPixels=function(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(o){S(o)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(o){S(o)}},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,o={},i=!1,n=0,r=t.length;n<r;n++)o[t[n].id.toString()]=t[n],i=!0;var s=Object.keys(this._zones);for(n=0,r=s.length;n<r;n++){var a=s[n],d=this._zones[a],m=0,h=0,p="none";o.hasOwnProperty(a)?(m=o[a].verticalOffset-e.bigNumbersDelta,h=o[a].height,p="block",d.isVisible||(d.domNode.setAttribute("monaco-visible-view-zone","true"),d.isVisible=!0),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(o[a].verticalOffset))):(d.isVisible&&(d.domNode.removeAttribute("monaco-visible-view-zone"),d.isVisible=!1),this._safeCallOnDomNodeTop(d.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),d.domNode.setTop(m),d.domNode.setHeight(h),d.domNode.setDisplay(p),d.marginDomNode&&(d.marginDomNode.setTop(m),d.marginDomNode.setHeight(h),d.marginDomNode.setDisplay(p))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},t}(nb);ts.ViewZones=ME;var mY=function(){function t(t,e,n,i){this.configuration=t,this.theme=e,this.model=n,this.viewLayout=n.viewLayout,this.privateViewEventBus=i}return t.prototype.addEventHandler=function(t){this.privateViewEventBus.addEventHandler(t)},t.prototype.removeEventHandler=function(t){this.privateViewEventBus.removeEventHandler(t)},t}();var nY=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},e.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),n=0,u=t.length;n<u;n++)t[n].handleEvents(e)}},e}();var oY=function(){function e(e,t,i,r){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new j(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return e.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},e.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},e}();var pY=Sq&&Sq.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),us=function(){throw new Error("Invalid change accessor")},NE=function(e){function t(t,i,r,o,n,s){var a=e.call(this)||this;a._cursor=n,a._renderAnimationFrame=null,a.outgoingEvents=s;var c=new pX(i,o,a.outgoingEvents,t);return a.eventDispatcher=new nY(function(e){return a._renderOnce(e)}),a.eventDispatcher.addEventHandler(a),a._context=new mY(i,r.getTheme(),o,a.eventDispatcher),a._register(r.onThemeChange(function(e){a._context.theme=e,a.eventDispatcher.emit(new y.ViewThemeChangedEvent),a.render(!0,!1)})),a.viewParts=[],a._textAreaHandler=new pD(a._context,c,a.createTextAreaHandlerHelper()),a.viewParts.push(a._textAreaHandler),a.createViewParts(),a._setLayout(),a.pointerHandler=new QC(a._context,c,a.createPointerHandlerHelper()),a._register(o.addEventListener(function(e){a.eventDispatcher.emitMany(e)})),a._register(a._cursor.addEventListener(function(e){a.eventDispatcher.emitMany(e)})),a}return pY(t,e),t.prototype.createViewParts=function(){this.linesContent=H(document.createElement("div")),this.linesContent.setClassName("lines-content monaco-editor-background"),this.linesContent.setPosition("absolute"),this.domNode=H(document.createElement("div")),this.domNode.setClassName(this.getEditorClassName()),this.overflowGuardContainer=H(document.createElement("div")),ic.write(this.overflowGuardContainer,3),this.overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new nE(this._context,this.linesContent,this.domNode,this.overflowGuardContainer),this.viewParts.push(this._scrollbar),this.viewLines=new rE(this._context,this.linesContent),this.viewZones=new ME(this._context),this.viewParts.push(this.viewZones);var e=new DE(this._context);this.viewParts.push(e);var t=new HE(this._context);this.viewParts.push(t);var i=new XD(this._context);this.viewParts.push(i),i.addDynamicOverlay(new $D(this._context)),i.addDynamicOverlay(new IE(this._context)),i.addDynamicOverlay(new qE(this._context)),i.addDynamicOverlay(new aE(this._context));var r=new YD(this._context);this.viewParts.push(r),r.addDynamicOverlay(new _D(this._context)),r.addDynamicOverlay(new pE(this._context)),r.addDynamicOverlay(new tE(this._context)),r.addDynamicOverlay(new sE(this._context)),r.addDynamicOverlay(new tr(this._context));var o=new vr(this._context);o.getDomNode().appendChild(this.viewZones.marginDomNode),o.getDomNode().appendChild(r.getDomNode()),this.viewParts.push(o),this.contentWidgets=new ZD(this._context,this.domNode),this.viewParts.push(this.contentWidgets),this.viewCursors=new LE(this._context),this.viewParts.push(this.viewCursors),this.overlayWidgets=new CE(this._context),this.viewParts.push(this.overlayWidgets);var n=new GE(this._context);this.viewParts.push(n);var s=new BE(this._context);if(this.viewParts.push(s),e){var a=this._scrollbar.getOverviewRulerLayoutInfo();a.parent.insertBefore(e.getDomNode(),a.insertBefore)}this.linesContent.appendChild(i.getDomNode()),this.linesContent.appendChild(n.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(this.viewCursors.getDomNode()),this.overflowGuardContainer.appendChild(o.getDomNode()),this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this.overflowGuardContainer.appendChild(t.getDomNode()),this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode()),this.overflowGuardContainer.appendChild(s.getDomNode()),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},t.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastViewCursorsRenderData:function(){return e.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,i)},visibleRangeForPosition2:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new x(t,i))},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,i){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new x(t,i))}}},t.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this.overflowGuardContainer.setWidth(e.width),this.overflowGuardContainer.setHeight(e.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},t.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+il(this._context.theme.type)+e},t.prototype.onConfigurationChanged=function(e){return e.editorClassName&&this.domNode.setClassName(this.getEditorClassName()),e.layoutInfo&&this._setLayout(),!1},t.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},t.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var t=0,i=this.viewParts.length;t<i;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},t.prototype._renderOnce=function(e){var t=OE(e);return this._scheduleRender(),t},t.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=q.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;OE(function(){return e._actualRender()})},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,i=0,r=this.viewParts.length;i<r;i++){var o=this.viewParts[i];o.shouldRender()&&(e[t++]=o)}return e},t.prototype._actualRender=function(){if(q.isInDOM(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var i=new oY(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(i),this.viewLines.shouldRender()&&(this.viewLines.renderText(i),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var r=new HC(this._context.viewLayout,i,this.viewLines),o=0,n=e.length;o<n;o++){(s=e[o]).prepareRender(r)}for(o=0,n=e.length;o<n;o++){var s;(s=e[o]).render(r),s.onDidRender()}}}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},t.prototype.getOffsetForColumn=function(e,t){var i=this._context.model.validateModelPosition({lineNumber:e,column:t}),r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var o=this.viewLines.visibleRangeForPosition(new x(r.lineNumber,r.column));return o?o.left:-1},t.prototype.getTargetAtClientPoint=function(e,t){return this.pointerHandler.getTargetAtClientPoint(e,t)},t.prototype.createOverviewRuler=function(e){return new FE(this._context,e)},t.prototype.change=function(e){var t=this,i=!1;return this._renderOnce(function(){var r={addZone:function(e){return i=!0,t.viewZones.addZone(e)},removeZone:function(e){e&&(i=t.viewZones.removeZone(e)||i)},layoutZone:function(e){e&&(i=t.viewZones.layoutZone(e)||i)}};qY(e,r),r.addZone=us,r.removeZone=us,r.layoutZone=us,i&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new y.ViewZonesChangedEvent))}),i},t.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var i=0,r=this.viewParts.length;i<r;i++){this.viewParts[i].forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},t.prototype.focus=function(){this._textAreaHandler.focusTextArea()},t.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},t.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){var t=e.position?e.position.position:null,i=e.position?e.position.range:null,r=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,i,r),this._scheduleRender()},t.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;this.overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t}(pg);function OE(e){try{return e()}catch(t){S(t)}}function qY(e,t){try{return e(t)}catch(i){S(i)}}Sq.View=NE;var vs={};var rY=vs&&vs.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(e,t)};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),PE=function(o){function e(e){var t=o.call(this)||this;return t.onDidScroll=null,t.onDidGainFocus=null,t.onDidLoseFocus=null,t.onKeyDown=null,t.onKeyUp=null,t.onContextMenu=null,t.onMouseMove=null,t.onMouseLeave=null,t.onMouseUp=null,t.onMouseDown=null,t.onMouseDrag=null,t.onMouseDrop=null,t._viewModel=e,t}return rY(e,o),e.prototype.emitScrollChanged=function(o){this.onDidScroll&&this.onDidScroll(o)},e.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},e.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},e.prototype.emitKeyDown=function(o){this.onKeyDown&&this.onKeyDown(o)},e.prototype.emitKeyUp=function(o){this.onKeyUp&&this.onKeyUp(o)},e.prototype.emitContextMenu=function(o){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseMove=function(o){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseLeave=function(o){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseUp=function(o){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseDown=function(o){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseDrag=function(o){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(o))},e.prototype.emitMouseDrop=function(o){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(o))},e.prototype._convertViewToModelMouseEvent=function(o){return o.target?{event:o.event,target:this._convertViewToModelMouseTarget(o.target)}:o},e.prototype._convertViewToModelMouseTarget=function(o){return new sY(o.element,o.type,o.mouseColumn,o.position?this._convertViewToModelPosition(o.position):null,o.range?this._convertViewToModelRange(o.range):null,o.detail)},e.prototype._convertViewToModelPosition=function(o){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(o)},e.prototype._convertViewToModelRange=function(o){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(o)},e}(B);vs.ViewOutgoingEvents=PE;var sY=function(){function o(o,e,t,n,i,r){this.element=o,this.type=e,this.mouseColumn=t,this.position=n,this.range=i,this.detail=r}return o.prototype.toString=function(){return Ac.toString(this)},o}();var si={};var QE=function(){function e(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new _a(new j(1,1,1,1),0,new x(1,1),0),new _a(new j(1,1,1,1),0,new x(1,1),0))}return e.prototype.dispose=function(e){this._removeTrackedRange(e)},e.prototype.startTrackingSelection=function(e){this._trackSelection=!0,this._updateTrackedRange(e)},e.prototype.stopTrackingSelection=function(e){this._trackSelection=!1,this._removeTrackedRange(e)},e.prototype._updateTrackedRange=function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},e.prototype._removeTrackedRange=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)},e.prototype.asCursorState=function(){return new D(this.modelState,this.viewState)},e.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new ba(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new ba(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)},e.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},e.prototype.setState=function(e,t,o){this._setState(e,t,o)},e.prototype._setState=function(e,t,o){if(t){r=e.model.validateRange(t.selectionStart);var i=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,n=(s=e.model.validatePosition(t.position),t.position.equals(s)?t.leftoverVisibleColumns:0);t=new _a(r,i,s,n)}else{if(!o)return;var r=e.model.validateRange(e.convertViewRangeToModelRange(o.selectionStart)),s=e.model.validatePosition(e.convertViewPositionToModelPosition(o.position.lineNumber,o.position.column));t=new _a(r,o.selectionStartLeftoverVisibleColumns,s,o.leftoverVisibleColumns)}if(o){c=e.validateViewRange(o.selectionStart,t.selectionStart),S=e.validateViewPosition(o.position,t.position);o=new _a(c,t.selectionStartLeftoverVisibleColumns,S,t.leftoverVisibleColumns)}else{var a=e.convertModelPositionToViewPosition(new x(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.convertModelPositionToViewPosition(new x(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),c=new j(a.lineNumber,a.column,l.lineNumber,l.column),S=e.convertModelPositionToViewPosition(t.position);o=new _a(c,t.selectionStartLeftoverVisibleColumns,S,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=o,this._updateTrackedRange(e)},e}();var RE=function(){function t(t){this.context=t,this.primaryCursor=new QE(t),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return t.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},t.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var t=0,r=this.secondaryCursors.length;t<r;t++)this.secondaryCursors[t].startTrackingSelection(this.context)},t.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var t=0,r=this.secondaryCursors.length;t<r;t++)this.secondaryCursors[t].stopTrackingSelection(this.context)},t.prototype.updateContext=function(t){this.context=t},t.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var t=0,r=this.secondaryCursors.length;t<r;t++)this.secondaryCursors[t].ensureValidState(this.context)},t.prototype.readSelectionFromMarkers=function(){var t=[];t[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r].readSelectionFromMarkers(this.context);return t},t.prototype.getAll=function(){var t=[];t[0]=this.primaryCursor.asCursorState();for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r].asCursorState();return t},t.prototype.getViewPositions=function(){var t=[];t[0]=this.primaryCursor.viewState.position;for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r].viewState.position;return t},t.prototype.getSelections=function(){var t=[];t[0]=this.primaryCursor.modelState.selection;for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r].modelState.selection;return t},t.prototype.getViewSelections=function(){var t=[];t[0]=this.primaryCursor.viewState.selection;for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r].viewState.selection;return t},t.prototype.setSelections=function(t){this.setStates(D.fromModelSelections(t))},t.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},t.prototype.setStates=function(t){null!==t&&(this.primaryCursor.setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))},t.prototype._setSecondaryStates=function(t){var r=this.secondaryCursors.length,e=t.length;if(r<e)for(var s=e-r,o=0;o<s;o++)this._addSecondaryCursor();else if(r>e){var n=r-e;for(o=0;o<n;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(o=0;o<e;o++)this.secondaryCursors[o].setState(this.context,t[o].modelState,t[o].viewState)},t.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},t.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new QE(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},t.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},t.prototype._removeSecondaryCursor=function(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.secondaryCursors[t].dispose(this.context),this.secondaryCursors.splice(t,1)},t.prototype._getAll=function(){var t=[];t[0]=this.primaryCursor;for(var r=0,e=this.secondaryCursors.length;r<e;r++)t[r+1]=this.secondaryCursors[r];return t},t.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var t=this._getAll(),r=[],e=0,s=t.length;e<s;e++)r.push({index:e,selection:t[e].modelState.selection});r.sort(function(t,r){return t.selection.startLineNumber===r.selection.startLineNumber?t.selection.startColumn-r.selection.startColumn:t.selection.startLineNumber-r.selection.startLineNumber});for(var o=0;o<r.length-1;o++){var n=r[o],i=r[o+1],a=n.selection,u=i.selection;if(this.context.config.multiCursorMergeOverlapping){if(u.isEmpty()||a.isEmpty()?u.getStartPosition().isBeforeOrEqual(a.getEndPosition()):u.getStartPosition().isBefore(a.getEndPosition())){var c=n.index<i.index?o:o+1,l=n.index<i.index?o+1:o,d=r[l].index,h=r[c].index,p=r[l].selection,C=r[c].selection;if(!p.equalsSelection(C)){var S=p.plusRange(C),y=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,m=C.selectionStartLineNumber===C.startLineNumber&&C.selectionStartColumn===C.startColumn,f=void 0;d===this.lastAddedCursorIndex?(f=y,this.lastAddedCursorIndex=h):f=m;var v=void 0;v=f?new ba(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn):new ba(S.endLineNumber,S.endColumn,S.startLineNumber,S.startColumn),r[c].selection=v;var g=D.fromModelSelection(v);t[h].setState(this.context,g.modelState,g.viewState)}for(var x=0,$=r;x<$.length;x++){var q=$[x];q.index>d&&q.index--}t.splice(d,1),r.splice(l,1),this._removeSecondaryCursor(d-1),o--}}}}},t}();var tY=si&&si.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();function uY(e){for(var t=0,r=e.length;t<r;t++)if(6===e[t].type)return!0;return!1}var SE=function(){return function(e,t,r){this.selections=e,this.source=t,this.reason=r}}();si.CursorStateChangedEvent=SE;var Ml=function(){function e(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return e.prototype.equals=function(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,r=this.cursorState.length;t<r;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},e}();si.CursorModelState=Ml;var ws=function(e){function t(t,r,o){var n=e.call(this)||this;n._onDidReachMaxCursorCount=n._register(new b),n.onDidReachMaxCursorCount=n._onDidReachMaxCursorCount.event,n._onDidAttemptReadOnlyEdit=n._register(new b),n.onDidAttemptReadOnlyEdit=n._onDidAttemptReadOnlyEdit.event,n._onDidChange=n._register(new b),n.onDidChange=n._onDidChange.event,n._configuration=t,n._model=r,n._knownModelVersionId=n._model.getVersionId(),n._viewModel=o,n.context=new TD(n._configuration,n._model,n._viewModel),n._cursors=new RE(n.context),n._isHandling=!1,n._isDoingComposition=!1,n._columnSelectData=null,n._prevEditOperationType=0,n._register(n._model.onDidChangeRawContent(function(e){if(n._knownModelVersionId=e.versionId,!n._isHandling){var t=e.containsEvent(1);n._onModelContentChanged(t)}})),n._register(o.addEventListener(function(e){uY(e)&&n._knownModelVersionId===n._model.getVersionId()&&n.setStates("viewModel",0,n.getAll())}));var i=function(){n.context=new TD(n._configuration,n._model,n._viewModel),n._cursors.updateContext(n.context)};return n._register(n._model.onDidChangeLanguage(function(e){i()})),n._register(n._model.onDidChangeLanguageConfiguration(function(){i()})),n._register(n._model.onDidChangeOptions(function(){i()})),n._register(n._configuration.onDidChange(function(e){SD.shouldRecreate(e)&&i()})),n}return tY(t,e),t.prototype.dispose=function(){this._cursors.dispose(),e.prototype.dispose.call(this)},t.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},t.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},t.prototype.getAll=function(){return this._cursors.getAll()},t.prototype.setStates=function(e,r,o){null!==o&&o.length>t.MAX_CURSOR_COUNT&&(o=o.slice(0,t.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var n=new Ml(this._model,this);this._cursors.setStates(o),this._cursors.normalize(),this._columnSelectData=null,this._emitStateChangedIfNecessary(e,r,n)},t.prototype.setColumnSelectData=function(e){this._columnSelectData=e},t.prototype.reveal=function(e,t,r){this._revealRange(t,0,e,r)},t.prototype.revealRange=function(e,t,r,o){this.emitCursorRevealRange(t,r,e,o)},t.prototype.scrollTo=function(e){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:e})},t.prototype.saveState=function(){for(var e=[],t=this._cursors.getSelections(),r=0,o=t.length;r<o;r++){var n=t[r];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e},t.prototype.restoreState=function(e){for(var t=[],r=0,o=e.length;r<o;r++){var n=e[r],i=1,s=1;n.position&&n.position.lineNumber&&(i=n.position.lineNumber),n.position&&n.position.column&&(s=n.position.column);var a=i,c=s;n.selectionStart&&n.selectionStart.lineNumber&&(a=n.selectionStart.lineNumber),n.selectionStart&&n.selectionStart.column&&(c=n.selectionStart.column),t.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:i,positionColumn:s})}this.setStates("restoreState",0,D.fromModelSelections(t)),this.reveal(!0,0,1)},t.prototype._onModelContentChanged=function(e){if(this._prevEditOperationType=0,e)this._cursors.dispose(),this._cursors=new RE(this.context),this._emitStateChangedIfNecessary("model",1,null);else{var t=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,D.fromModelSelections(t))}},t.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},t.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var e=this._cursors.getPrimaryCursor().viewState.position;return{toViewLineNumber:e.lineNumber,toViewVisualColumn:Q.visibleColumnFromColumn2(this.context.config,this.context.viewModel,e)}},t.prototype.getSelections=function(){return this._cursors.getSelections()},t.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},t.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},t.prototype.setSelections=function(e,t){this.setStates(e,0,D.fromModelSelections(t))},t.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},t.prototype.setPrevEditOperationType=function(e){this._prevEditOperationType=e},t.prototype._executeEditOperation=function(e){if(e){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=vY.executeCommands(this._model,this._cursors.getSelections(),e.commands);t&&(this._interpretCommandResult(t),this._prevEditOperationType=e.type),e.shouldPushStackElementAfter&&this._model.pushStackElement()}},t.prototype._interpretCommandResult=function(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()},t.prototype._emitStateChangedIfNecessary=function(e,t,r){var o=new Ml(this._model,this);if(o.equals(r))return!1;var n=this._cursors.getSelections(),i=this._cursors.getViewSelections();try{this._beginEmit().emit(new y.ViewCursorStateChangedEvent(i))}finally{this._endEmit()}return r&&r.cursorState.length===o.cursorState.length&&!o.cursorState.some(function(e,t){return!e.modelState.equals(r.cursorState[t].modelState)})||this._onDidChange.fire(new SE(n,e||"keyboard",t)),!0},t.prototype._revealRange=function(e,t,r,o){var n=this._cursors.getViewPositions(),i=n[0];if(1===e)for(var s=1;s<n.length;s++)n[s].isBefore(i)&&(i=n[s]);else if(2===e)for(s=1;s<n.length;s++)i.isBeforeOrEqual(n[s])&&(i=n[s]);else if(n.length>1)return;var a=new j(i.lineNumber,i.column,i.lineNumber,i.column);this.emitCursorRevealRange(a,t,r,o)},t.prototype.emitCursorRevealRange=function(e,t,r,o){try{this._beginEmit().emit(new y.ViewRevealRangeRequestEvent(e,t,r,o))}finally{this._endEmit()}},t.prototype.trigger=function(e,t,r){var o=M;if(t!==o.CompositionStart){if(t===o.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.editor.readOnly)this._onDidAttemptReadOnlyEdit.fire(void 0);else{var n=new Ml(this._model,this),i=0;t!==o.Undo&&t!==o.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(t){case o.Type:this._type(e,r.text);break;case o.ReplacePreviousChar:this._replacePreviousChar(r.text,r.replaceCharCnt);break;case o.Paste:i=4,this._paste(r.text,r.pasteOnNewLine,r.multicursorText);break;case o.Cut:this._cut();break;case o.Undo:i=5,this._interpretCommandResult(this._model.undo());break;case o.Redo:i=6,this._interpretCommandResult(this._model.redo());break;case o.ExecuteCommand:this._externalExecuteCommand(r);break;case o.ExecuteCommands:this._externalExecuteCommands(r);break;case o.CompositionEnd:this._interpretCompositionEnd(e);}}catch(s){S(s)}this._isHandling=!1,t!==o.Undo&&t!==o.Redo&&this._cursors.startTrackingSelections(),this._emitStateChangedIfNecessary(e,i,n)&&this._revealRange(0,0,!0,0)}}else this._isDoingComposition=!0},t.prototype._interpretCompositionEnd=function(e){this._isDoingComposition||"keyboard"!==e||this._executeEditOperation(Qd.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections()))},t.prototype._type=function(e,t){if(this._isDoingComposition||"keyboard"!==e)this._executeEditOperation(Qd.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t));else for(var r=0,o=t.length;r<o;r++){var n=t.charCodeAt(r),i=void 0;z.isHighSurrogate(n)&&r+1<o?(i=t.charAt(r)+t.charAt(r+1),r++):i=t.charAt(r),this._executeEditOperation(Qd.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),i))}},t.prototype._replacePreviousChar=function(e,t){this._executeEditOperation(Qd.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),e,t))},t.prototype._paste=function(e,t,r){this._executeEditOperation(Qd.paste(this.context.config,this.context.model,this.getSelections(),e,t,r))},t.prototype._cut=function(){this._executeEditOperation(Jr.cut(this.context.config,this.context.model,this.getSelections()))},t.prototype._externalExecuteCommand=function(e){this._cursors.killSecondaryCursors(),this._executeEditOperation(new Na(0,[e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.prototype._externalExecuteCommands=function(e){this._executeEditOperation(new Na(0,e,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.MAX_CURSOR_COUNT=1e4,t}(y.ViewEventEmitter);si.Cursor=ws;var vY=function(){function e(){}return e.executeCommands=function(e,t,r){for(var o={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},n=this._innerExecuteCommands(o,r),i=0,s=o.trackedRanges.length;i<s;i++)o.model._setTrackedRange(o.trackedRanges[i],null,0);return n},e._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var r=this._getEditOperations(e,t);if(0===r.operations.length)return null;var o=r.operations,n=this._getLoserCursorMap(o);if(n.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var i=[],s=0,a=o.length;s<a;s++)n.hasOwnProperty(o[s].identifier.major.toString())||i.push(o[s]);r.hadTrackedEditOperation&&i.length>0&&(i[0]._isTracked=!0);var c=e.model.pushEditOperations(e.selectionsBefore,i,function(r){for(var o=[],n=0;n<e.selectionsBefore.length;n++)o[n]=[];for(var i=0,s=r;i<s.length;i++){var a=s[i];a.identifier&&o[a.identifier.major].push(a)}var c=function(e,t){return e.identifier.minor-t.identifier.minor},u=[],l=function(r){o[r].length>0?(o[r].sort(c),u[r]=t[r].computeCursorState(e.model,{getInverseEditOperations:function(){return o[r]},getTrackedSelection:function(t){var r=parseInt(t,10),o=e.model._getTrackedRange(e.trackedRanges[r]);return 0===e.trackedRangesDirection[r]?new ba(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn):new ba(o.endLineNumber,o.endColumn,o.startLineNumber,o.startColumn)}})):u[r]=e.selectionsBefore[r]};for(n=0;n<e.selectionsBefore.length;n++)l(n);return u});c||(c=e.selectionsBefore);var u=[];for(var l in n)n.hasOwnProperty(l)&&u.push(parseInt(l,10));u.sort(function(e,t){return t-e});for(var p=0,d=u;p<d.length;p++){var m=d[p];c.splice(m,1)}return c},e._arrayIsEmpty=function(e){for(var t=0,r=e.length;t<r;t++)if(e[t])return!1;return!0},e._getEditOperations=function(e,t){for(var r=[],o=!1,n=0,i=t.length;n<i;n++){var s=t[n];if(s){var a=this._getEditOperationsFromCommand(e,n,s);r=r.concat(a.operations),o=o||a.hadTrackedEditOperation}}return{operations:r,hadTrackedEditOperation:o}},e._getEditOperationsFromCommand=function(e,t,r){var o=[],n=0,i=function(e,i){e.isEmpty()&&""===i||o.push({identifier:{major:t,minor:n++},range:e,text:i,forceMoveMarkers:!1,isAutoWhitespaceEdit:r.insertsAutoWhitespace})},s=!1,a={addEditOperation:i,addTrackedEditOperation:function(e,t){s=!0,i(e,t)},trackSelection:function(t,r){var o;if(t.isEmpty()){if("boolean"==typeof r)o=r?2:3;else{var n=e.model.getLineMaxColumn(t.startLineNumber);o=t.startColumn===n?2:3}}else o=1;var i=e.trackedRanges.length,s=e.model._setTrackedRange(null,t,o);return e.trackedRanges[i]=s,e.trackedRangesDirection[i]=t.getDirection(),i.toString()}};try{r.getEditOperations(e.model,a)}catch(c){return c.friendlyMessage=k.localize("corrupt.commands","Unexpected exception while executing command."),S(c),{operations:[],hadTrackedEditOperation:!1}}return{operations:o,hadTrackedEditOperation:s}},e._getLoserCursorMap=function(e){(e=e.slice(0)).sort(function(e,t){return-j.compareRangesUsingEnds(e.range,t.range)});for(var t={},r=1;r<e.length;r++){var o=e[r-1],n=e[r];if(o.range.getStartPosition().isBefore(n.range.getEndPosition())){var i=void 0;t[(i=o.identifier.major>n.identifier.major?o.identifier.major:n.identifier.major).toString()]=!0;for(var s=0;s<e.length;s++)e[s].identifier.major===i&&(e.splice(s,1),s<r&&r--,s--);r>0&&r--}}return t},e}();var TE=function(){function t(t,e,i,r,o,n){this.id=t,this.label=e,this.alias=i,this._precondition=r,this._run=o,this._contextKeyService=n}return t.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},t.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var t=this._run();return t||Promise.resolve(void 0)},t}();var xs={};function wY(e,t,r,n,a,o){for(var i="<div>",$=n,s=0,u=0,c=t.getCount();u<c;u++){var k=t.getEndOffset(u);if(!(k<=n)){for(var l="";$<k&&$<a;$++){var f=e.charCodeAt($);switch(f){case 9:var p=o-($+s)%o;for(s+=p-1;p>0;)l+="&nbsp;",p--;break;case 60:l+="&lt;";break;case 62:l+="&gt;";break;case 38:l+="&amp;";break;case 0:l+="&#00;";break;case 65279:case 8232:l+="\uFFFD";break;case 13:l+="&#8203";break;default:l+=String.fromCharCode(f);}}if(i+="<span style=\""+t.getInlineStyle(u,r)+"\">"+l+"</span>",k>a||$>=a)break}}return i+="</div>"}var ys={};var xY=function(){function e(){this._heights=[],this._minWidths=[],this._ids=[],this._afterLineNumbers=[],this._ordinals=[],this._prefixSum=[],this._prefixSumValidIndex=-1,this._whitespaceId2Index={},this._lastWhitespaceId=0,this._minWidth=-1}return e.findInsertionIndex=function(e,t,i,s){for(var h=0,r=e.length;h<r;){var n=h+r>>>1;t===e[n]?s<i[n]?r=n:h=n+1:t<e[n]?r=n:h=n+1}return h},e.prototype.insertWhitespace=function(t,i,s,h){t|=0,i|=0,s|=0,h|=0;var r=++this._lastWhitespaceId,n=e.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,i);return this._insertWhitespaceAtIndex(r,n,t,i,s,h),this._minWidth=-1,r},e.prototype._insertWhitespaceAtIndex=function(e,t,i,s,h,r){e|=0,t|=0,i|=0,s|=0,h|=0,r|=0,this._heights.splice(t,0,h),this._minWidths.splice(t,0,r),this._ids.splice(t,0,e),this._afterLineNumbers.splice(t,0,i),this._ordinals.splice(t,0,s),this._prefixSum.splice(t,0,0);for(var n=Object.keys(this._whitespaceId2Index),a=0,p=n.length;a<p;a++){var o=n[a],d=this._whitespaceId2Index[o];d>=t&&(this._whitespaceId2Index[o]=d+1)}this._whitespaceId2Index[e.toString()]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t,i){e|=0,t|=0,i|=0;var s=!1;return s=this.changeWhitespaceHeight(e,i)||s,s=this.changeWhitespaceAfterLineNumber(e,t)||s},e.prototype.changeWhitespaceHeight=function(e,t){t|=0;var i=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var s=this._whitespaceId2Index[i];if(this._heights[s]!==t)return this._heights[s]=t,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,s-1),!0}return!1},e.prototype.changeWhitespaceAfterLineNumber=function(t,i){i|=0;var s=(t|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(s)){var h=this._whitespaceId2Index[s];if(this._afterLineNumbers[h]!==i){var r=this._ordinals[h],n=this._heights[h],a=this._minWidths[h];this.removeWhitespace(t);var p=e.findInsertionIndex(this._afterLineNumbers,i,this._ordinals,r);return this._insertWhitespaceAtIndex(t,p,i,r,n,a),!0}}return!1},e.prototype.removeWhitespace=function(e){var t=(e|=0).toString();if(this._whitespaceId2Index.hasOwnProperty(t)){var i=this._whitespaceId2Index[t];return delete this._whitespaceId2Index[t],this._removeWhitespaceAtIndex(i),this._minWidth=-1,!0}return!1},e.prototype._removeWhitespaceAtIndex=function(e){e|=0,this._heights.splice(e,1),this._minWidths.splice(e,1),this._ids.splice(e,1),this._afterLineNumbers.splice(e,1),this._ordinals.splice(e,1),this._prefixSum.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);for(var t=Object.keys(this._whitespaceId2Index),i=0,s=t.length;i<s;i++){var h=t[i],r=this._whitespaceId2Index[h];r>=e&&(this._whitespaceId2Index[h]=r-1)}},e.prototype.onLinesDeleted=function(e,t){e|=0,t|=0;for(var i=0,s=this._afterLineNumbers.length;i<s;i++){var h=this._afterLineNumbers[i];e<=h&&h<=t?this._afterLineNumbers[i]=e-1:h>t&&(this._afterLineNumbers[i]-=t-e+1)}},e.prototype.onLinesInserted=function(e,t){e|=0,t|=0;for(var i=0,s=this._afterLineNumbers.length;i<s;i++){e<=this._afterLineNumbers[i]&&(this._afterLineNumbers[i]+=t-e+1)}},e.prototype.getTotalHeight=function(){return 0===this._heights.length?0:this.getAccumulatedHeight(this._heights.length-1)},e.prototype.getAccumulatedHeight=function(e){e|=0;var t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._prefixSum[0]=this._heights[0],t++);for(var i=t;i<=e;i++)this._prefixSum[i]=this._prefixSum[i-1]+this._heights[i];return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getAccumulatedHeight(t)},e.prototype._findLastWhitespaceBeforeLineNumber=function(e){e|=0;for(var t=this._afterLineNumbers,i=0,s=t.length-1;i<=s;){var h=i+((s-i|0)/2|0)|0;if(t[h]<e){if(h+1>=t.length||t[h+1]>=e)return h;i=h+1|0}else s=h-1|0}return-1},e.prototype._findFirstWhitespaceAfterLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._heights.length?t:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e|=0,this._findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this._heights.length},e.prototype.getMinWidth=function(){if(-1===this._minWidth){for(var e=0,t=0,i=this._minWidths.length;t<i;t++)e=Math.max(e,this._minWidths[t]);this._minWidth=e}return this._minWidth},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e|=0,this._afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return e|=0,this._ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return e|=0,this._heights[e]},e.prototype.getWhitespaces=function(e){e|=0;for(var t=[],i=0;i<this._heights.length;i++)t.push({id:this._ids[i],afterLineNumber:this._afterLineNumbers[i],heightInLines:this._heights[i]/e});return t},e}();var yY=function(){function e(e,t){this._lineCount=e,this._lineHeight=t,this._whitespaces=new xY}return e.prototype.setLineHeight=function(e){this._lineHeight=e},e.prototype.onFlushed=function(e){this._lineCount=e},e.prototype.insertWhitespace=function(e,t,i,r){return this._whitespaces.insertWhitespace(e,t,i,r)},e.prototype.changeWhitespace=function(e,t,i){return this._whitespaces.changeWhitespace(e,t,i)},e.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)},e.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1,this._whitespaces.onLinesDeleted(e,t)},e.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1,this._whitespaces.onLinesInserted(e,t)},e.prototype.getLinesTotalHeight=function(){return this._lineHeight*this._lineCount+this._whitespaces.getTotalHeight()},e.prototype.getVerticalOffsetForLineNumber=function(e){return((e|=0)>1?this._lineHeight*(e-1):0)+this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.getWhitespaceMinWidth=function(){return this._whitespaces.getMinWidth()},e.prototype.isAfterLines=function(e){return e>this.getLinesTotalHeight()},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if((e|=0)<0)return 1;for(var t=0|this._lineCount,i=this._lineHeight,r=1,s=t;r<s;){var n=(r+s)/2|0,h=0|this.getVerticalOffsetForLineNumber(n);if(e>=h+i)r=n+1;else{if(e>=h)return n;s=n}}return r>t?t:r},e.prototype.getLinesViewportData=function(e,t){e|=0,t|=0;var i,r,s=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),h=0|this.getVerticalOffsetForLineNumber(n),o=0|this._lineCount,a=0|this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(n),c=0|this._whitespaces.getCount();-1===a?(a=c,r=o+1,i=0):(r=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(a),i=0|this._whitespaces.getHeightForWhitespaceIndex(a));var p=h,f=p,u=0;h>=5e5&&(u=5e5*Math.floor(h/5e5),f-=u=Math.floor(u/s)*s);for(var g=[],l=e+(t-e)/2,_=-1,L=n;L<=o;L++){if(-1===_){(p<=l&&l<p+s||p>l)&&(_=L)}for(p+=s,g[L-n]=f,f+=s;r===L;)f+=i,p+=i,++a>=c?r=o+1:(r=0|this._whitespaces.getAfterLineNumberForWhitespaceIndex(a),i=0|this._whitespaces.getHeightForWhitespaceIndex(a));if(p>=t){o=L;break}}-1===_&&(_=o);var d=0|this.getVerticalOffsetForLineNumber(o),W=n,m=o;return W<m&&h<e&&W++,W<m&&d+s>t&&m--,{bigNumbersDelta:u,startLineNumber:n,endLineNumber:o,relativeVerticalOffset:g,centeredLineNumber:_,completelyVisibleStartLineNumber:W,completelyVisibleEndLineNumber:m}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e|=0;var t=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e);return(t>=1?this._lineHeight*t:0)+(e>0?this._whitespaces.getAccumulatedHeight(e-1):0)},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e|=0;var t,i,r=0,s=this._whitespaces.getCount()-1;if(s<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(s)+this._whitespaces.getHeightForWhitespaceIndex(s))return-1;for(;r<s;)if(t=Math.floor((r+s)/2),e>=(i=this.getVerticalOffsetForWhitespaceIndex(t))+this._whitespaces.getHeightForWhitespaceIndex(t))r=t+1;else{if(e>=i)return t;s=t}return r},e.prototype.getWhitespaceAtVerticalOffset=function(e){e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this._whitespaces.getCount())return null;var i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;var r=this._whitespaces.getHeightForWhitespaceIndex(t);return{id:this._whitespaces.getIdForWhitespaceIndex(t),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:r}},e.prototype.getWhitespaceViewportData=function(e,t){e|=0,t|=0;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this._whitespaces.getCount()-1;if(i<0)return[];for(var s=[],n=i;n<=r;n++){var h=this.getVerticalOffsetForWhitespaceIndex(n),o=this._whitespaces.getHeightForWhitespaceIndex(n);if(h>=t)break;s.push({id:this._whitespaces.getIdForWhitespaceIndex(n),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:h,height:o})}return s},e.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)},e}();var zY=ys&&ys.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function i(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),AY=125,UE=function(t){function o(o,e,i){var r=t.call(this)||this;return r._configuration=o,r._linesLayout=new yY(e,r._configuration.editor.lineHeight),r.scrollable=r._register(new _r(0,i)),r._configureSmoothScrollDuration(),r.scrollable.setScrollDimensions({width:o.editor.layoutInfo.contentWidth,height:o.editor.layoutInfo.contentHeight}),r.onDidScroll=r.scrollable.onScroll,r._updateHeight(),r}return zY(o,t),o.prototype.dispose=function(){t.prototype.dispose.call(this)},o.prototype.onHeightMaybeChanged=function(){this._updateHeight()},o.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?AY:0)},o.prototype.onConfigurationChanged=function(t){t.lineHeight&&this._linesLayout.setLineHeight(this._configuration.editor.lineHeight),t.layoutInfo&&this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight}),t.viewInfo&&this._configureSmoothScrollDuration(),this._updateHeight()},o.prototype.onFlushed=function(t){this._linesLayout.onFlushed(t)},o.prototype.onLinesDeleted=function(t,o){this._linesLayout.onLinesDeleted(t,o)},o.prototype.onLinesInserted=function(t,o){this._linesLayout.onLinesInserted(t,o)},o.prototype._getHorizontalScrollbarHeight=function(t){return 2===this._configuration.editor.viewInfo.scrollbar.horizontal?0:t.width>=t.scrollWidth?0:this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize},o.prototype._getTotalHeight=function(){var t=this.scrollable.getScrollDimensions(),o=this._linesLayout.getLinesTotalHeight();return this._configuration.editor.viewInfo.scrollBeyondLastLine?o+=t.height-this._configuration.editor.lineHeight:o+=this._getHorizontalScrollbarHeight(t),Math.max(t.height,o)},o.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})},o.prototype.getCurrentViewport=function(){var t=this.scrollable.getScrollDimensions(),o=this.scrollable.getCurrentScrollPosition();return new HB(o.scrollTop,o.scrollLeft,t.width,t.height)},o.prototype.getFutureViewport=function(){var t=this.scrollable.getScrollDimensions(),o=this.scrollable.getFutureScrollPosition();return new HB(o.scrollTop,o.scrollLeft,t.width,t.height)},o.prototype._computeScrollWidth=function(t,o){if(!this._configuration.editor.wrappingInfo.isViewportWrapping){var e=this._configuration.editor.viewInfo.scrollBeyondLastColumn*this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,i=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+e,o,i)}return Math.max(t,o)},o.prototype.onMaxLineWidthChanged=function(t){var o=this._computeScrollWidth(t,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:o}),this._updateHeight()},o.prototype.saveState=function(){var t=this.scrollable.getFutureScrollPosition(),o=t.scrollTop,e=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o);return{scrollTop:o,scrollTopWithoutViewZones:o-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(e),scrollLeft:t.scrollLeft}},o.prototype.addWhitespace=function(t,o,e,i){return this._linesLayout.insertWhitespace(t,o,e,i)},o.prototype.changeWhitespace=function(t,o,e){return this._linesLayout.changeWhitespace(t,o,e)},o.prototype.removeWhitespace=function(t){return this._linesLayout.removeWhitespace(t)},o.prototype.getVerticalOffsetForLineNumber=function(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)},o.prototype.isAfterLines=function(t){return this._linesLayout.isAfterLines(t)},o.prototype.getLineNumberAtVerticalOffset=function(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)},o.prototype.getWhitespaceAtVerticalOffset=function(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)},o.prototype.getLinesViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)},o.prototype.getLinesViewportDataAtScrollTop=function(t){var o=this.scrollable.getScrollDimensions();return t+o.height>o.scrollHeight&&(t=o.scrollHeight-o.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+o.height)},o.prototype.getWhitespaceViewportData=function(){var t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)},o.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},o.prototype.getScrollWidth=function(){return this.scrollable.getScrollDimensions().scrollWidth},o.prototype.getScrollHeight=function(){return this.scrollable.getScrollDimensions().scrollHeight},o.prototype.getCurrentScrollLeft=function(){return this.scrollable.getCurrentScrollPosition().scrollLeft},o.prototype.getCurrentScrollTop=function(){return this.scrollable.getCurrentScrollPosition().scrollTop},o.prototype.validateScrollPosition=function(t){return this.scrollable.validateScrollPosition(t)},o.prototype.setScrollPositionNow=function(t){this.scrollable.setScrollPositionNow(t)},o.prototype.setScrollPositionSmooth=function(t){this.scrollable.setScrollPositionSmooth(t)},o.prototype.deltaScrollNow=function(t,o){var e=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:e.scrollLeft+t,scrollTop:e.scrollTop+o})},o}(B);ys.ViewLayout=UE;var Nl={};var BY=function(){return function(e,t){this.outputLineIndex=e,this.outputOffset=t}}();var CY=function(){function e(e){this._lines=e}return e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new j(t.lineNumber,t.column,i.lineNumber,i.column)},e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},e.prototype.validateViewRange=function(e,t){var i=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new j(i.lineNumber,i.column,n.lineNumber,n.column)},e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},e.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),i=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new j(t.lineNumber,t.column,i.lineNumber,i.column)},e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},e}();var DY=function(){function e(e,t,i,n,o,r){this.model=e,this._validModelVersionId=-1,this.tabSize=i,this.wrappingColumn=n,this.columnsForFullWidthChar=o,this.wrappingIndent=r,this.linePositionMapperFactory=t,this._constructLines(!0)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype.createCoordinatesConverter=function(){return new CY(this)},e.prototype._ensureValidState=function(){if(this.model.getVersionId()!==this._validModelVersionId)throw new Error("ViewModel is out of sync with Model!");this.lines.length!==this.model.getLineCount()&&this._constructLines(!1)},e.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var i=this.model.getLinesContent(),n=i.length,o=new Uint32Array(n),r=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(j.compareRangesUsingStarts),s=1,u=0,l=-1,p=l+1<r.length?u+1:n+2,a=0;a<n;a++){var h=a+1;h===p&&(s=r[++l].startLineNumber,u=r[l].endLineNumber,p=l+1<r.length?u+1:n+2);var d=h>=s&&h<=u,m=zs(this.linePositionMapperFactory,i[a],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!d);o[a]=m.getViewLineCount(),this.lines[a]=m}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new sS(o)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)})},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var i=e.map(function(e){return t.model.validateRange(e)}).sort(j.compareRangesUsingStarts),n=[],o=i[0].startLineNumber,r=i[0].endLineNumber,s=1,u=i.length;s<u;s++){var l=i[s];l.startLineNumber>r+1?(n.push(new j(o,1,r,1)),o=l.startLineNumber,r=l.endLineNumber):l.endLineNumber>r&&(r=l.endLineNumber)}return n.push(new j(o,1,r,1)),n},e.prototype.setHiddenAreas=function(e){var t=this,i=this._reduceRanges(e),n=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(j.compareRangesUsingStarts);if(i.length===n.length){for(var o=!1,r=0;r<i.length;r++)if(!i[r].equalsRange(n[r])){o=!0;break}if(!o)return!1}for(var s=[],u=0,l=i;u<l.length;u++){var p=l[u];s.push({range:p,options:ya.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,s);var a=i,h=1,d=0,m=-1,c=m+1<a.length?d+1:this.lines.length+2,g=!1;for(r=0;r<this.lines.length;r++){var f=r+1;f===c&&(h=a[++m].startLineNumber,d=a[m].endLineNumber,c=m+1<a.length?d+1:this.lines.length+2);var w=!1;if(f>=h&&f<=d?this.lines[r].isVisible()&&(this.lines[r]=this.lines[r].setVisible(!1),w=!0):(g=!0,this.lines[r].isVisible()||(this.lines[r]=this.lines[r].setVisible(!0),w=!0)),w){var V=this.lines[r].getViewLineCount();this.prefixSumComputer.changeValue(r,V)}}return g||this.setHiddenAreas([]),!0},e.prototype.modelPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),!0)},e.prototype.setWrappingSettings=function(e,t,i){return(this.wrappingIndent!==e||this.wrappingColumn!==t||this.columnsForFullWidthChar!==i)&&(this.wrappingIndent=e,this.wrappingColumn=t,this.columnsForFullWidthChar=i,this._constructLines(!1),!0)},e.prototype.onModelFlushed=function(){this._constructLines(!0)},e.prototype.onModelLinesDeleted=function(e,t,i){if(e<=this._validModelVersionId)return null;var n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new y.ViewLinesDeletedEvent(n,o)},e.prototype.onModelLinesInserted=function(e,t,i,n){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),r=!1,s=new x(t,1),u=0,l=o;u<l.length;u++){if(l[u].containsPosition(s)){r=!0;break}}for(var p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,a=0,h=[],d=new Uint32Array(n.length),m=0,c=n.length;m<c;m++){var g=zs(this.linePositionMapperFactory,n[m],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!r);h.push(g);var f=g.getViewLineCount();a+=f,d[m]=f}return this.lines=this.lines.slice(0,t-1).concat(h).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,d),new y.ViewLinesInsertedEvent(p,p+a-1)},e.prototype.onModelLineChanged=function(e,t,i){if(e<=this._validModelVersionId)return[!1,null,null,null];var n=t-1,o=this.lines[n].getViewLineCount(),r=this.lines[n].isVisible(),s=zs(this.linePositionMapperFactory,i,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,r);this.lines[n]=s;var u=this.lines[n].getViewLineCount(),l=!1,p=0,a=-1,h=0,d=-1,m=0,c=-1;return o>u?(c=(m=(a=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+u-1)+1)+(o-u)-1,l=!0):o<u?(d=(h=(a=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+o-1)+1)+(u-o)-1,l=!0):a=(p=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+u-1,this.prefixSumComputer.changeValue(n,u),[l,p<=a?new y.ViewLinesChangedEvent(p,a):null,h<=d?new y.ViewLinesInsertedEvent(h,d):null,m<=c?new y.ViewLinesDeletedEvent(m,c):null]},e.prototype.acceptVersionId=function(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])},e.prototype.getViewLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:e},e.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)},e.prototype.getActiveIndentGuide=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);var n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,r.lineNumber),u=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:u.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}},e.prototype.getViewLinesIndentGuides=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],r=[],s=[],u=i.lineNumber-1,l=n.lineNumber-1,p=null,a=u;a<=l;a++){var h=this.lines[a];if(h.isVisible()){var d=h.getViewLineNumberOfModelPosition(0,a===u?i.column:1),m=h.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(a+1)),c=0;($=m-d+1)>1&&1===h.getViewLineMinColumn(this.model,a+1,m)&&(c=0===d?1:2),r.push($),s.push(c),null===p&&(p=new x(a+1,0))}else null!==p&&(o=o.concat(this.model.getLinesIndentGuides(p.lineNumber,a)),p=null)}null!==p&&(o=o.concat(this.model.getLinesIndentGuides(p.lineNumber,n.lineNumber)),p=null);for(var g=t-e+1,f=new Array(g),w=0,V=0,L=o.length;V<L;V++){var v=o[V],$=Math.min(g-w,r[V]),C=void 0;C=2===(c=s[V])?0:1===c?1:$;for(var b=0;b<$;b++)b===C&&(v=0),f[w++]=v}return f},e.prototype.getViewLineContent=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)},e.prototype.getViewLineLength=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)},e.prototype.getViewLineMinColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)},e.prototype.getViewLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)},e.prototype.getViewLineData=function(e){this._ensureValidState(),e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)},e.prototype.getViewLinesData=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var n=this.prefixSumComputer.getIndexOf(e-1),o=e,r=n.index,s=n.remainder,u=[],l=r,p=this.model.getLineCount();l<p;l++){var a=this.lines[l];if(a.isVisible()){var h=l===r?s:0,d=a.getViewLineCount()-h,m=!1;o+d>t&&(m=!0,d=t-o+1);var c=h+d;if(a.getViewLinesData(this.model,l+1,h,c,o-e,i,u),o+=d,m)break}}return u},e.prototype.validateViewPosition=function(e,t,i){this._ensureValidState(),e=this._toValidViewLineNumber(e);var n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,r=n.remainder,s=this.lines[o],u=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);t<u&&(t=u),t>l&&(t=l);var p=s.getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new x(o+1,p)).equals(i)?new x(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)},e.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState(),e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,o=i.remainder,r=this.lines[n].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new x(n+1,r))},e.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();for(var i=this.model.validatePosition(new x(e,t)),n=i.lineNumber,o=i.column,r=n-1,s=!1;r>0&&!this.lines[r].isVisible();)r--,s=!0;if(0===r&&!this.lines[r].isVisible())return new x(1,1);var u=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));return s?this.lines[r].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(r+1)):this.lines[n-1].getViewPositionOfModelPosition(u,o)},e.prototype._getViewLineNumberForModelPosition=function(e,t){var i=e-1;if(this.lines[i].isVisible()){var n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;var o=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(i+1))},e.prototype.getAllOverviewRulerDecorations=function(e,t,i){for(var n=this.model.getOverviewRulerDecorations(e,t),o=new XE,r=0,s=n;r<s.length;r++){var u=s[r],l=u.options.overviewRuler,p=l?l.position:0;if(0!==p){var a=l.getColor(i),h=this._getViewLineNumberForModelPosition(u.range.startLineNumber,u.range.startColumn),d=this._getViewLineNumberForModelPosition(u.range.endLineNumber,u.range.endColumn);o.accept(a,h,d,p)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,i){var n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new j(n.lineNumber,1,o.lineNumber,o.column),t,i);for(var r=[],s=n.lineNumber-1,u=o.lineNumber-1,l=null,p=s;p<=u;p++){if(this.lines[p].isVisible())null===l&&(l=new x(p+1,p===s?n.column:1));else if(null!==l){var a=this.model.getLineMaxColumn(p);r=r.concat(this.model.getDecorationsInRange(new j(l.lineNumber,l.column,p,a),t,i)),l=null}}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new j(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),r.sort(function(e,t){var i=j.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i});for(var h=[],d=0,m=null,c=0,g=r;c<g.length;c++){var f=g[c],w=f.id;m!==w&&(m=w,h[d++]=f)}return h},e}();var VE=function(){function e(){}return e.prototype.isVisible=function(){return!0},e.prototype.setVisible=function(e){return e?this:WE.INSTANCE},e.prototype.getViewLineCount=function(){return 1},e.prototype.getViewLineContent=function(e,t,i){return e.getLineContent(t)},e.prototype.getViewLineLength=function(e,t,i){return e.getLineLength(t)},e.prototype.getViewLineMinColumn=function(e,t,i){return e.getLineMinColumn(t)},e.prototype.getViewLineMaxColumn=function(e,t,i){return e.getLineMaxColumn(t)},e.prototype.getViewLineData=function(e,t,i){var n=e.getLineTokens(t),o=n.getLineContent();return new hq(o,!1,1,o.length+1,n.inflate())},e.prototype.getViewLinesData=function(e,t,i,n,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null},e.prototype.getModelColumnOfViewPosition=function(e,t){return t},e.prototype.getViewPositionOfModelPosition=function(e,t){return new x(e,t)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},e.INSTANCE=new e,e}(),WE=function(){function e(){}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(e){return e?VE.INSTANCE:this},e.prototype.getViewLineCount=function(){return 0},e.prototype.getViewLineContent=function(e,t,i){throw new Error("Not supported")},e.prototype.getViewLineLength=function(e,t,i){throw new Error("Not supported")},e.prototype.getViewLineMinColumn=function(e,t,i){throw new Error("Not supported")},e.prototype.getViewLineMaxColumn=function(e,t,i){throw new Error("Not supported")},e.prototype.getViewLineData=function(e,t,i){throw new Error("Not supported")},e.prototype.getViewLinesData=function(e,t,i,n,o,r,s){throw new Error("Not supported")},e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")},e.INSTANCE=new e,e}(),EY=function(){function e(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){return this._isVisible=e,this},e.prototype.getViewLineCount=function(){return this._isVisible?this.outputLineCount:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,i){return i+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(i+1,0)},e.prototype.getViewLineContent=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(r=this.wrappedIndent+r),r},e.prototype.getViewLineLength=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i)-n;return i>0&&(o=this.wrappedIndent.length+o),o},e.prototype.getViewLineMinColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return i>0?this.wrappedIndentLength+1:1},e.prototype.getViewLineMaxColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,i).length+1},e.prototype.getViewLineData=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});i>0&&(r=this.wrappedIndent+r);var s=i>0?this.wrappedIndentLength+1:1,u=r.length+1,l=i+1<this.getViewLineCount(),p=0;i>0&&(p=this.wrappedIndentLength);var a=e.getLineTokens(t);return new hq(r,l,s,u,a.sliceAndInflate(n,o,p))},e.prototype.getViewLinesData=function(e,t,i,n,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(var u=i;u<n;u++){var l=o+u-i;r[l]?s[l]=this.getViewLineData(e,t,u):s[l]=null}},e.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var i=t-1;return e>0&&(i<this.wrappedIndentLength?i=0:i-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,i)+1},e.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var i=this.positionMapper.getOutputPositionOfInputOffset(t-1),n=i.outputLineIndex,o=i.outputOffset+1;return n>0&&(o+=this.wrappedIndentLength),new x(e+n,o)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return e+this.positionMapper.getOutputPositionOfInputOffset(t-1).outputLineIndex},e}();function zs(e,t,i,n,o,r,s){var u=e.createLineMapping(t,i,n,o,r);return null===u?s?VE.INSTANCE:WE.INSTANCE:new EY(u,s)}var FY=function(){function e(e){this._lines=e}return e.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},e.prototype._validRange=function(e){return this._lines.model.validateRange(e)},e.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},e.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},e.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},e.prototype.validateViewRange=function(e,t){return this._validRange(t)},e.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},e.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},e}();var GY=function(){function e(e){this.model=e}return e.prototype.dispose=function(){},e.prototype.createCoordinatesConverter=function(){return new FY(this)},e.prototype.getHiddenAreas=function(){return[]},e.prototype.setHiddenAreas=function(e){return!1},e.prototype.setTabSize=function(e){return!1},e.prototype.setWrappingSettings=function(e,t,i){return!1},e.prototype.onModelFlushed=function(){},e.prototype.onModelLinesDeleted=function(e,t,i){return new y.ViewLinesDeletedEvent(t,i)},e.prototype.onModelLinesInserted=function(e,t,i,n){return new y.ViewLinesInsertedEvent(t,i)},e.prototype.onModelLineChanged=function(e,t,i){return[!1,new y.ViewLinesChangedEvent(t,t),null,null]},e.prototype.acceptVersionId=function(e){},e.prototype.getViewLineCount=function(){return this.model.getLineCount()},e.prototype.warmUpLookupCache=function(e,t){},e.prototype.getActiveIndentGuide=function(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}},e.prototype.getViewLinesIndentGuides=function(e,t){for(var i=t-e+1,n=new Array(i),o=0;o<i;o++)n[o]=0;return n},e.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},e.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},e.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},e.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},e.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),i=t.getLineContent();return new hq(i,!1,1,i.length+1,t.inflate())},e.prototype.getViewLinesData=function(e,t,i){var n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);for(var o=[],r=e;r<=t;r++){var s=r-e;i[s]||(o[s]=null),o[s]=this.getViewLineData(r)}return o},e.prototype.getAllOverviewRulerDecorations=function(e,t,i){for(var n=this.model.getOverviewRulerDecorations(e,t),o=new XE,r=0,s=n;r<s.length;r++){var u=s[r],l=u.options.overviewRuler,p=l?l.position:0;if(0!==p){var a=l.getColor(i),h=u.range.startLineNumber,d=u.range.endLineNumber;o.accept(a,h,d,p)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,i){return this.model.getDecorationsInRange(e,t,i)},e}();var XE=function(){function e(){this.result=Object.create(null)}return e.prototype.accept=function(e,t,i,n){var o=this.result[e];if(o){var r=o[o.length-3],s=o[o.length-1];if(r===n&&s+1>=t)return void(i>s&&(o[o.length-1]=i));o.push(n,t,i)}else this.result[e]=[n,t,i]},e}();var HY=Nl&&Nl.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IY=function(r){function t(t,e,n){for(var i=r.call(this,0)||this,o=0;o<t.length;o++)i.set(t.charCodeAt(o),1);for(o=0;o<e.length;o++)i.set(e.charCodeAt(o),2);for(o=0;o<n.length;o++)i.set(n.charCodeAt(o),3);return i}return HY(t,r),t.prototype.get=function(t){return t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?4:r.prototype.get.call(this,t)},t}(Tk),YE=function(){function r(r,t,e){this.classifier=new IY(r,t,e)}return r.nextVisibleColumn=function(r,t,e,n){return r=+r,t=+t,n=+n,e?r+(t-r%t):r+n},r.prototype.createLineMapping=function(t,e,n,i,o){if(-1===n)return null;e=+e,n=+n,i=+i;var a=0,p="",s=-1;if(0!==(o=+o)&&-1!==(s=z.firstNonWhitespaceIndex(t))){p=t.substring(0,s);for(var u=0;u<s;u++)a=r.nextVisibleColumn(a,e,9===t.charCodeAt(u),1);var l=0;2===o?l=1:3===o&&(l=2);for(u=0;u<l;u++)p+="\t",a=r.nextVisibleColumn(a,e,!0,1);a+i>n&&(p="",a=0)}var c=this.classifier,$=0,f=[],h=0,g=0,C=-1,d=0,x=-1,m=0,K=t.length;for(u=0;u<K;u++){var Y=t.charCodeAt(u),v=9===Y,_=c.get(Y);if(1===_&&(C=u,d=a),4===_&&u>0){var y=t.charCodeAt(u-1);1!==c.get(y)&&(C=u,d=a)}var L=1;if(z.isFullWidthCharacter(Y)&&(L=i),(g=r.nextVisibleColumn(g,e,v,L))>n&&0!==u){var O=void 0,W=void 0;-1!==C&&d<=n?(O=C,W=d):-1!==x&&m<=n?(O=x,W=m):(O=u,W=a),f[h++]=O-$,$=O,g=r.nextVisibleColumn(W,e,v,L),C=-1,d=0,x=-1,m=0}if(-1!==C&&(d=r.nextVisibleColumn(d,e,v,L)),-1!==x&&(m=r.nextVisibleColumn(m,e,v,L)),2===_&&(0===o||u>=s)&&(C=u+1,d=a),4===_&&u<K-1){var b=t.charCodeAt(u+1);2!==c.get(b)&&(C=u+1,d=a)}3===_&&(x=u+1,m=a)}return 0===h?null:(f[h++]=K-$,new ZE(new dq(qS(f)),p))},r}();Nl.CharacterHardWrappingLineMapperFactory=YE;var ZE=function(){function r(r,t){this._prefixSums=r,this._wrappedLinesIndent=t}return r.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},r.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},r.prototype.getInputOffsetOfOutputPosition=function(r,t){return 0===r?t:this._prefixSums.getAccumulatedValue(r-1)+t},r.prototype.getOutputPositionOfInputOffset=function(r){var t=this._prefixSums.getIndexOf(r);return new BY(t.index,t.remainder)},r}();Nl.CharacterHardWrappingLineMapping=ZE;var JY=function(){function e(e,o,t,n,i){this.editorId=e,this.model=o,this.configuration=t,this._linesCollection=n,this._coordinatesConverter=i,this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},e.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype._getOrCreateViewModelDecoration=function(e){var o=e.id,t=this._decorationsCache[o];if(!t){var n=e.range,i=e.options,r=void 0;if(i.isWholeLine){var a=this._coordinatesConverter.convertModelPositionToViewPosition(new x(n.startLineNumber,1)),s=this._coordinatesConverter.convertModelPositionToViewPosition(new x(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)));r=new j(a.lineNumber,a.column,s.lineNumber,s.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(n);t=new WS(r,i),this._decorationsCache[o]=t}return t},e.prototype.getDecorationsViewportData=function(e){var o=null!==this._cachedModelDecorationsResolver;return(o=o&&e.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e){for(var o=this._linesCollection.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly),t=e.startLineNumber,n=e.endLineNumber,i=[],r=0,a=[],s=t;s<=n;s++)a[s-t]=[];for(var c=0,l=o.length;c<l;c++){var d=o[c],h=d.options,u=this._getOrCreateViewModelDecoration(d),v=u.range;if(i[r++]=u,h.inlineClassName){var m=new Yk(v,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),p=Math.max(t,v.startLineNumber),$=Math.min(n,v.endLineNumber);for(s=p;s<=$;s++)a[s-t].push(m)}if(h.beforeContentClassName&&t<=v.startLineNumber&&v.startLineNumber<=n){m=new Yk(new j(v.startLineNumber,v.startColumn,v.startLineNumber,v.startColumn),h.beforeContentClassName,1);a[v.startLineNumber-t].push(m)}if(h.afterContentClassName&&t<=v.endLineNumber&&v.endLineNumber<=n){m=new Yk(new j(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn),h.afterContentClassName,2);a[v.endLineNumber-t].push(m)}}return{decorations:i,inlineDecorations:a}},e}();var KY=xs&&xs.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),LY=!0,$E=function(e){function t(t,i,n,o){var r=e.call(this)||this;if(r.editorId=t,r.configuration=i,r.model=n,r._tokenizeViewportSoon=r._register(new wc(function(){return r.tokenizeViewport()},50)),r.hasFocus=!1,r.viewportStartLine=-1,r.viewportStartLineTrackedRange=null,r.viewportStartLineDelta=0,LY&&r.model.isTooLargeForTokenization())r.lines=new GY(r.model);else{var a=r.configuration.editor,s=new YE(a.wrappingInfo.wordWrapBreakBeforeCharacters,a.wrappingInfo.wordWrapBreakAfterCharacters,a.wrappingInfo.wordWrapBreakObtrusiveCharacters);r.lines=new DY(r.model,s,r.model.getOptions().tabSize,a.wrappingInfo.wrappingColumn,a.fontInfo.typicalFullwidthCharacterWidth/a.fontInfo.typicalHalfwidthCharacterWidth,a.wrappingInfo.wrappingIndent)}return r.coordinatesConverter=r.lines.createCoordinatesConverter(),r.viewLayout=r._register(new UE(r.configuration,r.getLineCount(),o)),r._register(r.viewLayout.onDidScroll(function(e){e.scrollTopChanged&&r._tokenizeViewportSoon.schedule();try{r._beginEmit().emit(new y.ViewScrollChangedEvent(e))}finally{r._endEmit()}})),r.decorations=new JY(r.editorId,r.model,r.configuration,r.lines,r.coordinatesConverter),r._registerModelEvents(),r._register(r.configuration.onDidChange(function(e){try{var t=r._beginEmit();r._onConfigurationChanged(t,e)}finally{r._endEmit()}})),r._register(uE.getInstance().onDidChange(function(){try{r._beginEmit().emit(new y.ViewTokensColorsChangedEvent)}finally{r._endEmit()}})),r}return KY(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},t.prototype.tokenizeViewport=function(){var e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new x(e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new x(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)},t.prototype.setHasFocus=function(e){this.hasFocus=e},t.prototype._onConfigurationChanged=function(e,t){var i=null;if(-1!==this.viewportStartLine){var n=new x(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(n)}var o=!1,r=this.configuration.editor;if(this.lines.setWrappingSettings(r.wrappingInfo.wrappingIndent,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth)&&(e.emit(new y.ViewFlushedEvent),e.emit(new y.ViewLineMappingChangedEvent),e.emit(new y.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(o=!0)),t.readOnly&&(this.decorations.reset(),e.emit(new y.ViewDecorationsChangedEvent)),e.emit(new y.ViewConfigurationChangedEvent(t)),this.viewLayout.onConfigurationChanged(t),o&&i){var a=this.coordinatesConverter.convertModelPositionToViewPosition(i),s=this.viewLayout.getVerticalOffsetForLineNumber(a.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:s+this.viewportStartLineDelta})}},t.prototype._registerModelEvents=function(){var e=this;this._register(this.model.onDidChangeRawContentFast(function(t){try{for(var i=e._beginEmit(),n=!1,o=!1,r=t.changes,a=t.versionId,s=0,l=r.length;s<l;s++){var p=r[s];switch(p.changeType){case 1:e.lines.onModelFlushed(),i.emit(new y.ViewFlushedEvent),e.decorations.reset(),e.viewLayout.onFlushed(e.getLineCount()),n=!0;break;case 3:null!==(m=e.lines.onModelLinesDeleted(a,p.fromLineNumber,p.toLineNumber))&&(i.emit(m),e.viewLayout.onLinesDeleted(m.fromLineNumber,m.toLineNumber)),n=!0;break;case 4:null!==(c=e.lines.onModelLinesInserted(a,p.fromLineNumber,p.toLineNumber,p.detail))&&(i.emit(c),e.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),n=!0;break;case 2:var u=e.lines.onModelLineChanged(a,p.lineNumber,p.detail),g=u[0],d=u[1],c=u[2],m=u[3];o=g,d&&i.emit(d),c&&(i.emit(c),e.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),m&&(i.emit(m),e.viewLayout.onLinesDeleted(m.fromLineNumber,m.toLineNumber));}}e.lines.acceptVersionId(a),e.viewLayout.onHeightMaybeChanged(),!n&&o&&(i.emit(new y.ViewLineMappingChangedEvent),i.emit(new y.ViewDecorationsChangedEvent),e.decorations.onLineMappingChanged())}finally{e._endEmit()}if(e.viewportStartLine=-1,e.configuration.setMaxLineNumber(e.model.getLineCount()),!e.hasFocus&&e.model.getAttachedEditorCount()>=2&&e.viewportStartLineTrackedRange){var h=e.model._getTrackedRange(e.viewportStartLineTrackedRange);if(h){var v=e.coordinatesConverter.convertModelPositionToViewPosition(h.getStartPosition()),w=e.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber);e.viewLayout.setScrollPositionNow({scrollTop:w+e.viewportStartLineDelta})}}})),this._register(this.model.onDidChangeTokens(function(t){for(var i=[],n=0,o=t.ranges.length;n<o;n++){var r=t.ranges[n],a=e.coordinatesConverter.convertModelPositionToViewPosition(new x(r.fromLineNumber,1)).lineNumber,s=e.coordinatesConverter.convertModelPositionToViewPosition(new x(r.toLineNumber,e.model.getLineMaxColumn(r.toLineNumber))).lineNumber;i[n]={fromLineNumber:a,toLineNumber:s}}try{e._beginEmit().emit(new y.ViewTokensChangedEvent(i))}finally{e._endEmit()}t.tokenizationSupportChanged&&e._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(function(t){try{e._beginEmit().emit(new y.ViewLanguageConfigurationEvent)}finally{e._endEmit()}})),this._register(this.model.onDidChangeOptions(function(t){if(e.lines.setTabSize(e.model.getOptions().tabSize)){e.decorations.onLineMappingChanged(),e.viewLayout.onFlushed(e.getLineCount());try{var i=e._beginEmit();i.emit(new y.ViewFlushedEvent),i.emit(new y.ViewLineMappingChangedEvent),i.emit(new y.ViewDecorationsChangedEvent)}finally{e._endEmit()}}})),this._register(this.model.onDidChangeDecorations(function(t){e.decorations.onModelDecorationsChanged();try{e._beginEmit().emit(new y.ViewDecorationsChangedEvent)}finally{e._endEmit()}}))},t.prototype.setHiddenAreas=function(e){try{var t=this._beginEmit();this.lines.setHiddenAreas(e)&&(t.emit(new y.ViewFlushedEvent),t.emit(new y.ViewLineMappingChangedEvent),t.emit(new y.ViewDecorationsChangedEvent),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},t.prototype.getVisibleRanges=function(){var e=this.getCompletelyVisibleViewRange(),t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this.lines.getHiddenAreas();if(0===i.length)return[t];for(var n=[],o=0,r=t.startLineNumber,a=t.startColumn,s=t.endLineNumber,l=t.endColumn,p=0,u=i.length;p<u;p++){var g=i[p].startLineNumber,d=i[p].endLineNumber;d<r||g>s||(r<g&&(n[o++]=new j(r,a,g-1,this.model.getLineMaxColumn(g-1))),r=d+1,a=1)}return(r<s||r===s&&a<l)&&(n[o++]=new j(r,a,s,l)),n},t.prototype.getCompletelyVisibleViewRange=function(){var e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new j(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new j(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))},t.prototype.saveState=function(){var e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new x(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}},t.prototype.reduceRestoreState=function(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);var t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}},t.prototype._reduceRestoreStateCompatibility=function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getOptions=function(){return this.model.getOptions()},t.prototype.getLineCount=function(){return this.lines.getViewLineCount()},t.prototype.setViewport=function(e,t,i){this.lines.warmUpLookupCache(e,t),this.viewportStartLine=e;var n=this.coordinatesConverter.convertViewPositionToModelPosition(new x(e,this.getLineMinColumn(e)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new j(n.lineNumber,n.column,n.lineNumber,n.column),1);var o=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=r-o},t.prototype.getActiveIndentGuide=function(e,t,i){return this.lines.getActiveIndentGuide(e,t,i)},t.prototype.getLinesIndentGuides=function(e,t){return this.lines.getViewLinesIndentGuides(e,t)},t.prototype.getLineContent=function(e){return this.lines.getViewLineContent(e)},t.prototype.getLineLength=function(e){return this.lines.getViewLineLength(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getViewLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getViewLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=z.firstNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=z.lastNonWhitespaceIndex(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getDecorationsInViewport=function(e){return this.decorations.getDecorationsViewportData(e).decorations},t.prototype.getViewLineRenderingData=function(e,t){var i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this.lines.getViewLineData(t),a=this.decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new gc(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,i,n,r.tokens,a,o)},t.prototype.getViewLineData=function(e){return this.lines.getViewLineData(e)},t.prototype.getMinimapLinesRenderingData=function(e,t,i){var n=this.lines.getViewLinesData(e,t,i);return new VS(this.getTabSize(),n)},t.prototype.getAllOverviewRulerDecorations=function(e){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,e)},t.prototype.invalidateOverviewRulerColorCache=function(){for(var e=0,t=this.model.getOverviewRulerDecorations();e<t.length;e++){var i=t[e].options.overviewRuler;i&&i.invalidateCachedColor()}},t.prototype.getValueInRange=function(e,t){var i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.validateModelRange=function(e){return this.model.validateRange(e)},t.prototype.deduceModelPositionRelativeToViewPosition=function(e,t,i){var n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);var o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)},t.prototype.getEOL=function(){return this.model.getEOL()},t.prototype.getPlainTextToCopy=function(e,t,i){var n=this,o=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(j.compareRangesUsingStarts);var r=e.filter(function(e){return!e.isEmpty()});if(0===r.length){if(!t)return"";for(var a=e.map(function(e){var t=new x(e.startLineNumber,1);return n.coordinatesConverter.convertViewPositionToModelPosition(t).lineNumber}),s="",l=0;l<a.length;l++)l>0&&a[l-1]===a[l]||(s+=this.model.getLineContent(a[l])+o);return s}for(var p=[],u=0,g=r;u<g.length;u++){var d=g[u];p.push(this.getValueInRange(d,i?2:0))}return 1===p.length?p[0]:p},t.prototype.getHTMLToCopy=function(e,t){if(1===this.model.getLanguageIdentifier().id)return null;if(1!==e.length)return null;var i=this.coordinatesConverter.convertViewRangeToModelRange(e[0]);if(i.isEmpty()){if(!t)return null;var n=i.startLineNumber;i=new j(n,this.model.getLineMinColumn(n),n,this.model.getLineMaxColumn(n))}var o=this.configuration.editor.fontInfo,r=this._getColorMap();return"<div style=\"color: "+r[1]+";background-color: "+r[2]+";font-family: "+o.fontFamily+";font-weight: "+o.fontWeight+";font-size: "+o.fontSize+"px;line-height: "+o.lineHeight+"px;white-space: pre;\">"+this._getHTMLToCopy(i,r)+"</div>"},t.prototype._getHTMLToCopy=function(e,t){for(var i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,r=e.endColumn,a=this.getTabSize(),s="",l=i;l<=o;l++){var p=this.model.getLineTokens(l),u=p.getLineContent(),g=l===i?n-1:0,d=l===o?r-1:u.length;s+=""===u?"<br>":wY(u,p.inflate(),t,g,d,a)}return s},t.prototype._getColorMap=function(){var e=ca.getColorMap(),t=["#000000"];if(e)for(var i=1,n=e.length;i<n;i++)t[i]=c.Format.CSS.formatHex(e[i]);return t},t}(y.ViewEventEmitter);xs.ViewModel=$E;var Bg=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._entries=new Map;for(var r=0,n=t;r<n.length;r++){var o=n[r],i=o[0],s=o[1];this.set(i,s)}}return t.prototype.set=function(t,e){var r=this._entries.get(t);return this._entries.set(t,e),r},t.prototype.has=function(t){return this._entries.has(t)},t.prototype.get=function(t){return this._entries.get(t)},t}();var ti=L("accessibilityService");var ui=$c&&$c.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),MY=$c&&$c.__decorate||function(e,t,o,i){var r,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,o,a):r(t,o))||a);return n>3&&a&&Object.defineProperty(t,o,a),a},Te=$c&&$c.__param||function(e,t){return function(o,i){t(o,i,e)}},NY=0,Ol="showUnused",OY=function(){function e(e,t,o,i,r,n){this.model=e,this.viewModel=t,this.cursor=o,this.view=i,this.hasRealView=r,this.listenersToRemove=n}return e.prototype.dispose=function(){C(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},e}(),As=function(e){function t(t,o,i,r,n,a,s,d,l,u){var m,c=e.call(this)||this;c._onDidDispose=c._register(new b),c.onDidDispose=c._onDidDispose.event,c._onDidChangeModelContent=c._register(new b),c.onDidChangeModelContent=c._onDidChangeModelContent.event,c._onDidChangeModelLanguage=c._register(new b),c.onDidChangeModelLanguage=c._onDidChangeModelLanguage.event,c._onDidChangeModelLanguageConfiguration=c._register(new b),c.onDidChangeModelLanguageConfiguration=c._onDidChangeModelLanguageConfiguration.event,c._onDidChangeModelOptions=c._register(new b),c.onDidChangeModelOptions=c._onDidChangeModelOptions.event,c._onDidChangeModelDecorations=c._register(new b),c.onDidChangeModelDecorations=c._onDidChangeModelDecorations.event,c._onDidChangeConfiguration=c._register(new b),c.onDidChangeConfiguration=c._onDidChangeConfiguration.event,c._onDidChangeModel=c._register(new b),c.onDidChangeModel=c._onDidChangeModel.event,c._onDidChangeCursorPosition=c._register(new b),c.onDidChangeCursorPosition=c._onDidChangeCursorPosition.event,c._onDidChangeCursorSelection=c._register(new b),c.onDidChangeCursorSelection=c._onDidChangeCursorSelection.event,c._onDidAttemptReadOnlyEdit=c._register(new b),c.onDidAttemptReadOnlyEdit=c._onDidAttemptReadOnlyEdit.event,c._onDidLayoutChange=c._register(new b),c.onDidLayoutChange=c._onDidLayoutChange.event,c._editorTextFocus=c._register(new Bs),c.onDidFocusEditorText=c._editorTextFocus.onDidChangeToTrue,c.onDidBlurEditorText=c._editorTextFocus.onDidChangeToFalse,c._editorWidgetFocus=c._register(new Bs),c.onDidFocusEditorWidget=c._editorWidgetFocus.onDidChangeToTrue,c.onDidBlurEditorWidget=c._editorWidgetFocus.onDidChangeToFalse,c._onWillType=c._register(new b),c.onWillType=c._onWillType.event,c._onDidType=c._register(new b),c.onDidType=c._onDidType.event,c._onCompositionStart=c._register(new b),c.onCompositionStart=c._onCompositionStart.event,c._onCompositionEnd=c._register(new b),c.onCompositionEnd=c._onCompositionEnd.event,c._onDidPaste=c._register(new b),c.onDidPaste=c._onDidPaste.event,c._onMouseUp=c._register(new b),c.onMouseUp=c._onMouseUp.event,c._onMouseDown=c._register(new b),c.onMouseDown=c._onMouseDown.event,c._onMouseDrag=c._register(new b),c.onMouseDrag=c._onMouseDrag.event,c._onMouseDrop=c._register(new b),c.onMouseDrop=c._onMouseDrop.event,c._onContextMenu=c._register(new b),c.onContextMenu=c._onContextMenu.event,c._onMouseMove=c._register(new b),c.onMouseMove=c._onMouseMove.event,c._onMouseLeave=c._register(new b),c.onMouseLeave=c._onMouseLeave.event,c._onKeyUp=c._register(new b),c.onKeyUp=c._onKeyUp.event,c._onKeyDown=c._register(new b),c.onKeyDown=c._onKeyDown.event,c._onDidScrollChange=c._register(new b),c.onDidScrollChange=c._onDidScrollChange.event,c._onDidChangeViewZones=c._register(new b),c.onDidChangeViewZones=c._onDidChangeViewZones.event,c._domElement=t,c._id=++NY,c._decorationTypeKeysToIds={},c._decorationTypeSubtypes={},c.isSimpleWidget=i.isSimpleWidget||!1,c._telemetryData=i.telemetryData,o=o||{},c._configuration=c._register(c._createConfiguration(o,u)),c._register(c._configuration.onDidChange(function(e){c._onDidChangeConfiguration.fire(e),e.layoutInfo&&c._onDidLayoutChange.fire(c._configuration.editor.layoutInfo),c._configuration.editor.showUnused?c._domElement.classList.add(Ol):c._domElement.classList.remove(Ol)})),c._contextKeyService=c._register(s.createScoped(c._domElement)),c._notificationService=l,c._codeEditorService=n,c._commandService=a,c._themeService=d,c._register(new PY(c,c._contextKeyService)),c._register(new _E(c,c._contextKeyService)),c._instantiationService=r.createChild(new Bg([za,c._contextKeyService])),c._attachModel(null),c._contributions={},c._actions={},c._focusTracker=new QY(t),c._focusTracker.onChange(function(){c._editorWidgetFocus.setValue(c._focusTracker.hasFocus())}),c._contentWidgets={},c._overlayWidgets={};for(var p=0,$=(m=Array.isArray(i.contributions)?i.contributions:ng.getEditorContributions()).length;p<$;p++){var h=m[p];try{var g=c._instantiationService.createInstance(h,c);c._contributions[g.getId()]=g}catch(_){S(_)}}return ng.getEditorActions().forEach(function(e){var t=new TE(e.id,e.label,e.alias,e.precondition,function(){return c._instantiationService.invokeFunction(function(t){return Promise.resolve(e.runEditorCommand(t,c,null))})},c._contextKeyService);c._actions[t.id]=t}),c._codeEditorService.addCodeEditor(c),c}return ui(t,e),t.prototype._createConfiguration=function(e,t){return new mb(e,this._domElement,t)},t.prototype.getId=function(){return this.getEditorType()+":"+this._id},t.prototype.getEditorType=function(){return Ak.ICodeEditor},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),o=0,i=t.length;o<i;o++){var r=t[o];this._contributions[r].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getConfiguration=function(){return this._configuration.editor},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return"";var t=!(!e||!e.preserveBOM),o=0;return e&&e.lineEnding&&"\n"===e.lineEnding?o=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(o=2),this._modelData.model.getValue(o,t)},t.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},t.prototype.getModel=function(){return this._modelData?this._modelData.model:null},t.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if(!(null===this._modelData&&null===t||this._modelData&&this._modelData.model===t)){var o=this._detachModel();this._attachModel(t);var i={oldModelUrl:o?o.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(i),this._postDetachModelCleanup(o)}},t.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var o in t)this._removeDecorationType(e+"-"+o)}this._decorationTypeSubtypes={}}},t.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},t.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},t._getVerticalOffsetForPosition=function(e,t,o){var i=e.model.validatePosition({lineNumber:t,column:o}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)},t.prototype.getTopForLineNumber=function(e){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,1):-1},t.prototype.getTopForPosition=function(e,o){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,o):-1},t.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(function(e){return j.lift(e)}))},t.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),o=this._modelData.model.getOptions().tabSize;return Q.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,o)+1},t.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},t.prototype.setPosition=function(e){if(this._modelData){if(!x.isIPosition(e))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},t.prototype._sendRevealRange=function(e,t,o,i){if(this._modelData){if(!j.isIRange(e))throw new Error("Invalid arguments");var r=this._modelData.model.validateRange(e),n=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this._modelData.cursor.emitCursorRevealRange(n,t,o,i)}},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},t.prototype._revealLine=function(e,t,o){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new j(e,1,e,1),t,!1,o)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},t.prototype._revealPosition=function(e,t,o,i){if(!x.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new j(e.lineNumber,e.column,e.lineNumber,e.column),t,o,i)},t.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},t.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},t.prototype.setSelection=function(e){var t=ba.isISelection(e),o=j.isIRange(e);if(!t&&!o)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(o){var i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i)}},t.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new ba(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections("api",[t])}},t.prototype.revealLines=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,0,o)},t.prototype.revealLinesInCenter=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,1,o)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,o){void 0===o&&(o=0),this._revealLines(e,t,2,o)},t.prototype._revealLines=function(e,t,o,i){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new j(e,1,t,1),o,!1,i)},t.prototype.revealRange=function(e,t,o,i){void 0===t&&(t=0),void 0===o&&(o=!1),void 0===i&&(i=!0),this._revealRange(e,o?1:0,i,t)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},t.prototype._revealRange=function(e,t,o,i){if(!j.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(j.lift(e),t,o,i)},t.prototype.setSelections=function(e,t){if(void 0===t&&(t="api"),this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var o=0,i=e.length;o<i;o++)if(!ba.isISelection(e[o]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(t,e)}},t.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},t.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},t.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},t.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=0,o=Object.keys(this._contributions);t<o.length;t++){var i=o[t],r=this._contributions[i];"function"==typeof r.saveViewState&&(e[i]=r.saveViewState())}return{cursorState:this._modelData.cursor.saveState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}},t.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var o=t.cursorState;Array.isArray(o)?this._modelData.cursor.restoreState(o):this._modelData.cursor.restoreState([o]);for(var i=t.contributionsState||{},r=Object.keys(this._contributions),n=0,a=r.length;n<a;n++){var s=r[n],d=this._contributions[s];"function"==typeof d.restoreViewState&&d.restoreViewState(i[s])}var l=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(l)}}},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),o=0,i=t.length;o<i;o++){var r=t[o];e.push(this._actions[r])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter(function(e){return e.isSupported()})},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,o){if(o=o||{},t===M.Type){if(!this._modelData||"string"!=typeof o.text||0===o.text.length)return;return"keyboard"===e&&this._onWillType.fire(o.text),this._modelData.cursor.trigger(e,t,o),void("keyboard"===e&&this._onDidType.fire(o.text))}if(t!==M.Paste){t===M.CompositionStart&&this._onCompositionStart.fire(),t===M.CompositionEnd&&this._onCompositionEnd.fire();var i=this.getAction(t);i?Promise.resolve(i.run()).then(void 0,S):this._modelData&&(this._triggerEditorCommand(e,t,o)||this._modelData.cursor.trigger(e,t,o))}else{if(!this._modelData||"string"!=typeof o.text||0===o.text.length)return;var r=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,o);var n=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire(new j(r.lineNumber,r.column,n.lineNumber,n.column))}},t.prototype._triggerEditorCommand=function(e,t,o){var i=this,r=ng.getEditorCommand(t);return!!r&&((o=o||{}).source=e,this._instantiationService.invokeFunction(function(e){Promise.resolve(r.runEditorCommand(e,i,o)).then(void 0,S)}),!0)},t.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},t.prototype.pushUndoStop=function(){return!!this._modelData&&!this._configuration.editor.readOnly&&(this._modelData.model.pushStackElement(),!0)},t.prototype.executeEdits=function(e,t,o){return!!this._modelData&&!this._configuration.editor.readOnly&&(this._modelData.model.pushEditOperations(this._modelData.cursor.getSelections(),t,function(){return o||null}),o&&this._modelData.cursor.setSelections(e,o),!0)},t.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,M.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,M.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},t.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},t.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},t.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},t.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var o=this._contentWidgets[t];o.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(o)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var o=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(o)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var o=this._overlayWidgets[t];o.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(o)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var o=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(o)}},t.prototype.changeViewZones=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)&&this._onDidChangeViewZones.fire()},t.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},t.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var o=this._modelData.model.validatePosition(e),i=this._configuration.editor.layoutInfo;return{top:t._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft(),height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},t.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},t.prototype.applyFontInfo=function(e){mb.applyFontInfoSlow(e,this._configuration.editor.fontInfo)},t.prototype._attachModel=function(e){var t=this;if(e){var o=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var i=new $E(this._id,this._configuration,e,function(e){return q.scheduleAtNextAnimationFrame(e)});o.push(e.onDidChangeDecorations(function(e){return t._onDidChangeModelDecorations.fire(e)})),o.push(e.onDidChangeLanguage(function(o){t._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(o)})),o.push(e.onDidChangeLanguageConfiguration(function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)})),o.push(e.onDidChangeContent(function(e){return t._onDidChangeModelContent.fire(e)})),o.push(e.onDidChangeOptions(function(e){return t._onDidChangeModelOptions.fire(e)})),o.push(e.onWillDispose(function(){return t.setModel(null)}));var r=new ws(this._configuration,e,i);o.push(r.onDidReachMaxCursorCount(function(){t._notificationService.warn(k.localize("cursors.maximum","The number of cursors has been limited to {0}.",ws.MAX_CURSOR_COUNT))})),o.push(r.onDidAttemptReadOnlyEdit(function(){t._onDidAttemptReadOnlyEdit.fire(void 0)})),o.push(r.onDidChange(function(e){for(var o=[],i=0,r=e.selections.length;i<r;i++)o[i]=e.selections[i].getPosition();var n={position:o[0],secondaryPositions:o.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(n);var a={selection:e.selections[0],secondarySelections:e.selections.slice(1),source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(a)}));var n=this._createView(i,r),a=n[0],s=n[1];if(s){this._domElement.appendChild(a.domNode.domNode);for(var d=Object.keys(this._contentWidgets),l=0,u=d.length;l<u;l++){var m=d[l];a.addContentWidget(this._contentWidgets[m])}for(l=0,u=(d=Object.keys(this._overlayWidgets)).length;l<u;l++){m=d[l];a.addOverlayWidget(this._overlayWidgets[m])}a.render(!1,!0),a.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new OY(e,i,r,a,s,o)}else this._modelData=null},t.prototype._createView=function(e,t){var o,i=this;o=this.isSimpleWidget?{executeEditorCommand:function(e,o){e.runCoreEditorCommand(t,o)},paste:function(e,t,o,r){i.trigger(e,M.Paste,{text:t,pasteOnNewLine:o,multicursorText:r})},type:function(e,t){i.trigger(e,M.Type,{text:t})},replacePreviousChar:function(e,t,o){i.trigger(e,M.ReplacePreviousChar,{text:t,replaceCharCnt:o})},compositionStart:function(e){i.trigger(e,M.CompositionStart,void 0)},compositionEnd:function(e){i.trigger(e,M.CompositionEnd,void 0)},cut:function(e){i.trigger(e,M.Cut,void 0)}}:{executeEditorCommand:function(e,o){e.runCoreEditorCommand(t,o)},paste:function(e,t,o,r){i._commandService.executeCommand(M.Paste,{text:t,pasteOnNewLine:o,multicursorText:r})},type:function(e,t){i._commandService.executeCommand(M.Type,{text:t})},replacePreviousChar:function(e,t,o){i._commandService.executeCommand(M.ReplacePreviousChar,{text:t,replaceCharCnt:o})},compositionStart:function(e){i._commandService.executeCommand(M.CompositionStart,{})},compositionEnd:function(e){i._commandService.executeCommand(M.CompositionEnd,{})},cut:function(e){i._commandService.executeCommand(M.Cut,{})}};var r=new PE(e);return r.onDidGainFocus=function(){i._editorTextFocus.setValue(!0),i._editorWidgetFocus.setValue(!0)},r.onDidScroll=function(e){return i._onDidScrollChange.fire(e)},r.onDidLoseFocus=function(){return i._editorTextFocus.setValue(!1)},r.onContextMenu=function(e){return i._onContextMenu.fire(e)},r.onMouseDown=function(e){return i._onMouseDown.fire(e)},r.onMouseUp=function(e){return i._onMouseUp.fire(e)},r.onMouseDrag=function(e){return i._onMouseDrag.fire(e)},r.onMouseDrop=function(e){return i._onMouseDrop.fire(e)},r.onKeyUp=function(e){return i._onKeyUp.fire(e)},r.onMouseMove=function(e){return i._onMouseMove.fire(e)},r.onMouseLeave=function(e){return i._onMouseLeave.fire(e)},r.onKeyDown=function(e){return i._onKeyDown.fire(e)},[new NE(o,this._configuration,this._themeService,e,t,r),!0]},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},t.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.removeChild(t),e},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype.getTelemetryData=function(){return this._telemetryData},t.prototype.hasModel=function(){return null!==this._modelData},t=MY([Te(3,vc),Te(4,Sa),Te(5,Qb),Te(6,za),Te(7,Ge),Te(8,zc),Te(9,ti)],t)}(B);$c.CodeEditorWidget=As;var Bs=function(e){function t(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new b),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new b),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return ui(t,e),t.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},t}(B);$c.BooleanEventEmitter=Bs;var PY=function(e){function t(t,o){var i=e.call(this)||this;return i._editor=t,o.createKey("editorId",t.getId()),i._editorFocus=f.focus.bindTo(o),i._textInputFocus=f.textInputFocus.bindTo(o),i._editorTextFocus=f.editorTextFocus.bindTo(o),i._editorTabMovesFocus=f.tabMovesFocus.bindTo(o),i._editorReadonly=f.readOnly.bindTo(o),i._hasMultipleSelections=f.hasMultipleSelections.bindTo(o),i._hasNonEmptySelection=f.hasNonEmptySelection.bindTo(o),i._canUndo=f.canUndo.bindTo(o),i._canRedo=f.canRedo.bindTo(o),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()})),i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()})),i._register(i._editor.onDidFocusEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorWidget(function(){return i._updateFromFocus()})),i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()})),i._register(i._editor.onDidChangeModel(function(){return i._updateFromModel()})),i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromModel()})),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i}return ui(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getConfiguration();this._editorTabMovesFocus.set(e.tabFocusMode),this._editorReadonly.set(e.readOnly)},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},t.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},t}(B),_E=function(e){function t(t,o){var i=e.call(this)||this;i._editor=t,i._langId=f.languageId.bindTo(o),i._hasCompletionItemProvider=f.hasCompletionItemProvider.bindTo(o),i._hasCodeActionsProvider=f.hasCodeActionsProvider.bindTo(o),i._hasCodeLensProvider=f.hasCodeLensProvider.bindTo(o),i._hasDefinitionProvider=f.hasDefinitionProvider.bindTo(o),i._hasDeclarationProvider=f.hasDeclarationProvider.bindTo(o),i._hasImplementationProvider=f.hasImplementationProvider.bindTo(o),i._hasTypeDefinitionProvider=f.hasTypeDefinitionProvider.bindTo(o),i._hasHoverProvider=f.hasHoverProvider.bindTo(o),i._hasDocumentHighlightProvider=f.hasDocumentHighlightProvider.bindTo(o),i._hasDocumentSymbolProvider=f.hasDocumentSymbolProvider.bindTo(o),i._hasReferenceProvider=f.hasReferenceProvider.bindTo(o),i._hasRenameProvider=f.hasRenameProvider.bindTo(o),i._hasDocumentFormattingProvider=f.hasDocumentFormattingProvider.bindTo(o),i._hasDocumentSelectionFormattingProvider=f.hasDocumentSelectionFormattingProvider.bindTo(o),i._hasSignatureHelpProvider=f.hasSignatureHelpProvider.bindTo(o),i._isInWalkThrough=f.isInEmbeddedEditor.bindTo(o);var r=function(){return i._update()};return i._register(t.onDidChangeModel(r)),i._register(t.onDidChangeModelLanguage(r)),i._register(Kk.onDidChange(r)),i._register(Xp.onDidChange(r)),i._register(Wp.onDidChange(r)),i._register(Tp.onDidChange(r)),i._register(hB.onDidChange(r)),i._register(Up.onDidChange(r)),i._register(Vp.onDidChange(r)),i._register(Qp.onDidChange(r)),i._register(Sp.onDidChange(r)),i._register(Rp.onDidChange(r)),i._register(Np.onDidChange(r)),i._register(Op.onDidChange(r)),i._register(Yp.onDidChange(r)),i._register(Lk.onDidChange(r)),i._register(Pp.onDidChange(r)),r(),i}return ui(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()},t.prototype._update=function(){var e=this._editor.getModel();e?(this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(Kk.has(e)),this._hasCodeActionsProvider.set(Xp.has(e)),this._hasCodeLensProvider.set(Wp.has(e)),this._hasDefinitionProvider.set(Tp.has(e)),this._hasDeclarationProvider.set(hB.has(e)),this._hasImplementationProvider.set(Up.has(e)),this._hasTypeDefinitionProvider.set(Vp.has(e)),this._hasHoverProvider.set(Qp.has(e)),this._hasDocumentHighlightProvider.set(Sp.has(e)),this._hasDocumentSymbolProvider.set(Rp.has(e)),this._hasReferenceProvider.set(Np.has(e)),this._hasRenameProvider.set(Op.has(e)),this._hasSignatureHelpProvider.set(Pp.has(e)),this._hasDocumentFormattingProvider.set(Yp.has(e)||Lk.has(e)),this._hasDocumentSelectionFormattingProvider.set(Lk.has(e)),this._isInWalkThrough.set(e.uri.scheme===Ga.walkThroughSnippet)):this.reset()},t}(B);$c.EditorModeContext=_E;var QY=function(e){function t(t){var o=e.call(this)||this;return o._onChange=o._register(new b),o.onChange=o._onChange.event,o._hasFocus=!1,o._domFocusTracker=o._register(q.trackFocus(t)),o._register(o._domFocusTracker.onDidFocus(function(){o._hasFocus=!0,o._onChange.fire(void 0)})),o._register(o._domFocusTracker.onDidBlur(function(){o._hasFocus=!1,o._onChange.fire(void 0)})),o}return ui(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(B),RY=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),SY=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Cs(e){return RY+encodeURIComponent(e.toString())+SY}var TY=encodeURIComponent("<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"3\" width=\"12\"><g fill=\""),UY=encodeURIComponent("\"><circle cx=\"1\" cy=\"1\" r=\"1\"/><circle cx=\"5\" cy=\"1\" r=\"1\"/><circle cx=\"9\" cy=\"1\" r=\"1\"/></g></svg>");function VY(e){return TY+encodeURIComponent(e.toString())+UY}Bb(function(e,t){var o=e.getColor(EV);o&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+o+"; }");var i=e.getColor(DV);i&&t.addRule(".monaco-editor .squiggly-error { background: url(\"data:image/svg+xml,"+Cs(i)+"\") repeat-x bottom left; }");var r=e.getColor(GV);r&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+r+"; }");var n=e.getColor(FV);n&&t.addRule(".monaco-editor .squiggly-warning { background: url(\"data:image/svg+xml,"+Cs(n)+"\") repeat-x bottom left; }");var a=e.getColor(IV);a&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+a+"; }");var s=e.getColor(HV);s&&t.addRule(".monaco-editor .squiggly-info { background: url(\"data:image/svg+xml,"+Cs(s)+"\") repeat-x bottom left; }");var d=e.getColor(KV);d&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+d+"; }");var l=e.getColor(JV);l&&t.addRule(".monaco-editor .squiggly-hint { background: url(\"data:image/svg+xml,"+VY(l)+"\") no-repeat bottom left; }");var u=e.getColor(MV);u&&t.addRule("."+Ol+" .monaco-editor .squiggly-inline-unnecessary { opacity: "+u.rgba.a+"; }");var m=e.getColor(LV);m&&t.addRule("."+Ol+" .monaco-editor .squiggly-unnecessary { border-bottom: 2px dashed "+m+"; }")});var Ue={};var Ds={};var WY=Ds&&Ds.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function s(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(s.prototype=o.prototype,new s)}}(),XY=!1,aF=function(t){function e(e,o,s){void 0===s&&(s={});var r=t.call(this)||this;return r._state=3,r._onDidEnablementChange=r._register(new b),r.onDidEnablementChange=r._onDidEnablementChange.event,r._onDidStart=r._register(new b),r.onDidStart=r._onDidStart.event,r._onDidChange=r._register(new b),r.onDidChange=r._onDidChange.event,r._onDidReset=r._register(new b),r.onDidReset=r._onDidReset.event,r._onDidEnd=r._register(new b),r.onDidEnd=r._onDidEnd.event,r.linkedSash=void 0,r.orthogonalStartSashDisposables=[],r.orthogonalEndSashDisposables=[],r.el=La(e,xa(".monaco-sash")),Z&&jb(r.el,"mac"),r._register(J(r.el,"mousedown")(r.onMouseDown,r)),r._register(J(r.el,"dblclick")(r.onMouseDoubleClick,r)),og.addTarget(r.el),r._register(J(r.el,Aa.Start)(r.onTouchStart,r)),wp&&jb(r.el,"touch"),r.setOrientation(s.orientation||0),r.hidden=!1,r.layoutProvider=o,r.orthogonalStartSash=s.orthogonalStartSash,r.orthogonalEndSash=s.orthogonalEndSash,ec(r.el,"debug",XY),r}return WY(e,t),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(t){this._state!==t&&(ec(this.el,"disabled",0===t),ec(this.el,"minimum",1===t),ec(this.el,"maximum",2===t),this._state=t,this._onDidEnablementChange.fire(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(t){this.orthogonalStartSashDisposables=C(this.orthogonalStartSashDisposables),t?(t.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this,this.orthogonalStartSashDisposables),this.onOrthogonalStartSashEnablementChange(t.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(t){this.orthogonalEndSashDisposables=C(this.orthogonalEndSashDisposables),t?(t.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this,this.orthogonalEndSashDisposables),this.onOrthogonalEndSashEnablementChange(t.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=t},enumerable:!0,configurable:!0}),e.prototype.setOrientation=function(t){this.orientation=t,1===this.orientation?(jb(this.el,"horizontal"),dc(this.el,"vertical")):(dc(this.el,"horizontal"),jb(this.el,"vertical")),this.layoutProvider&&this.layout()},e.prototype.onMouseDown=function(t){var e=this;Ua.stop(t,!1);var o=!1;if(this.linkedSash&&!t.__linkedSashEvent&&(t.__linkedSashEvent=!0,this.linkedSash.onMouseDown(t)),!t.__orthogonalSashEvent){var s=void 0;0===this.orientation?t.offsetY<=4?s=this.orthogonalStartSash:t.offsetY>=this.el.clientHeight-4&&(s=this.orthogonalEndSash):t.offsetX<=4?s=this.orthogonalStartSash:t.offsetX>=this.el.clientWidth-4&&(s=this.orthogonalEndSash),s&&(o=!0,t.__orthogonalSashEvent=!0,s.onMouseDown(t))}if(this.state){for(var r=0,i=Fp("iframe");r<i.length;r++){i[r].style.pointerEvents="none"}var n=new ib(t),a=n.posx,h=n.posy,l=n.altKey,$={startX:a,currentX:a,startY:h,currentY:h,altKey:l};jb(this.el,"active"),this._onDidStart.fire($);var p=sk(this.el),v=function(){var t="";t=o?"all-scroll":1===e.orientation?1===e.state?"s-resize":2===e.state?"n-resize":Z?"row-resize":"ns-resize":1===e.state?"e-resize":2===e.state?"w-resize":Z?"col-resize":"ew-resize",p.innerHTML="* { cursor: "+t+" !important; }"},d=[];v(),o||this.onDidEnablementChange(v,null,d);J(window,"mousemove")(function(t){Ua.stop(t,!1);var o=new ib(t),s={startX:a,currentX:o.posx,startY:h,currentY:o.posy,altKey:l};e._onDidChange.fire(s)},null,d),J(window,"mouseup")(function(t){Ua.stop(t,!1),e.el.removeChild(p),dc(e.el,"active"),e._onDidEnd.fire(),C(d);for(var o=0,s=Fp("iframe");o<s.length;o++)s[o].style.pointerEvents="auto"},null,d)}},e.prototype.onMouseDoubleClick=function(t){this._onDidReset.fire()},e.prototype.onTouchStart=function(t){var e=this;Ua.stop(t);var o=[],s=t.pageX,r=t.pageY,i=t.altKey;this._onDidStart.fire({startX:s,currentX:s,startY:r,currentY:r,altKey:i}),o.push(la(this.el,Aa.Change,function(t){pe(t.pageX)&&pe(t.pageY)&&e._onDidChange.fire({startX:s,currentX:t.pageX,startY:r,currentY:t.pageY,altKey:i})})),o.push(la(this.el,Aa.End,function(t){e._onDidEnd.fire(),C(o)}))},e.prototype.layout=function(){var t=wp?20:4;if(0===this.orientation){var e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-t/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{var o=this.layoutProvider;this.el.style.top=o.getHorizontalSashTop(this)-t/2+"px",o.getHorizontalSashLeft&&(this.el.style.left=o.getHorizontalSashLeft(this)+"px"),o.getHorizontalSashWidth&&(this.el.style.width=o.getHorizontalSashWidth(this)+"px")}},e.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},e.prototype.onOrthogonalStartSashEnablementChange=function(t){ec(this.el,"orthogonal-start",0!==t)},e.prototype.onOrthogonalEndSashEnablementChange=function(t){ec(this.el,"orthogonal-end",0!==t)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.orthogonalStartSashDisposables=C(this.orthogonalStartSashDisposables),this.orthogonalEndSashDisposables=C(this.orthogonalEndSashDisposables),this.el&&this.el.parentElement&&this.el.parentElement.removeChild(this.el),this.el=null},e}(B);Ds.Sash=aF;var Pia=function(){function t(t,i){if(this.flags=i,0!=(1&this.flags)){var o=t.getModel();this.modelVersionId=o?z.format("{0}#{1}",o.uri.toString(),o.getVersionId()):null}0!=(4&this.flags)&&(this.position=t.getPosition()),0!=(2&this.flags)&&(this.selection=t.getSelection()),0!=(8&this.flags)&&(this.scrollLeft=t.getScrollLeft(),this.scrollTop=t.getScrollTop())}return t.prototype._equals=function(i){if(!(i instanceof t))return!1;var o=i;return this.modelVersionId===o.modelVersionId&&this.scrollLeft===o.scrollLeft&&this.scrollTop===o.scrollTop&&!(!this.position&&o.position||this.position&&!o.position||this.position&&o.position&&!this.position.equals(o.position))&&!(!this.selection&&o.selection||this.selection&&!o.selection||this.selection&&o.selection&&!this.selection.equalsRange(o.selection))},t.prototype.validate=function(i){return this._equals(new t(i,this.flags))},t}();var YY=function(){function t(t,i){this._visiblePosition=t,this._visiblePositionScrollDelta=i}return t.capture=function(i){var o=null,s=0;if(0!==i.getScrollTop()){var e=i.getVisibleRanges();if(e.length>0){o=e[0].getStartPosition();var l=i.getTopForPosition(o.lineNumber,o.column);s=i.getScrollTop()-l}}return new t(o,s)},t.prototype.restore=function(t){if(this._visiblePosition){var i=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(i+this._visiblePositionScrollDelta)}},t}();var Es={};var Cg={};var Pl=Cg&&Cg.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ql=function(t){function e(e,n,o){var i=t.call(this)||this;return i.options=o,i._context=e||i,i._action=n,n instanceof De&&i._register(n.onDidChange(function(t){i.element&&i.handleActionChangeEvent(t)})),i}return Pl(e,t),e.prototype.handleActionChangeEvent=function(t){void 0!==t.enabled&&this.updateEnabled(),void 0!==t.checked&&this.updateChecked(),void 0!==t.class&&this.updateClass(),void 0!==t.label&&(this.updateLabel(),this.updateTooltip()),void 0!==t.tooltip&&this.updateTooltip()},Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){this._actionRunner=t},enumerable:!0,configurable:!0}),e.prototype.getAction=function(){return this._action},e.prototype.isEnabled=function(){return this._action.enabled},e.prototype.setActionContext=function(t){this._context=t},e.prototype.render=function(t){var e=this;this.element=t,og.addTarget(t);var n=this.options&&this.options.draggable;n&&(t.draggable=!0),this._register(q.addDisposableListener(this.element,Aa.Tap,function(t){return e.onClick(t)})),this._register(q.addDisposableListener(this.element,q.EventType.MOUSE_DOWN,function(t){n||q.EventHelper.stop(t,!0),e._action.enabled&&0===t.button&&e.element&&q.addClass(e.element,"active")})),this._register(q.addDisposableListener(this.element,q.EventType.CLICK,function(t){q.EventHelper.stop(t,!0),e.options&&e.options.isMenu?e.onClick(t):tN(function(){return e.onClick(t)})})),this._register(q.addDisposableListener(this.element,q.EventType.DBLCLICK,function(t){q.EventHelper.stop(t,!0)})),[q.EventType.MOUSE_UP,q.EventType.MOUSE_OUT].forEach(function(t){e._register(q.addDisposableListener(e.element,t,function(t){q.EventHelper.stop(t),q.removeClass(e.element,"active")}))})},e.prototype.onClick=function(t){var e;q.EventHelper.stop(t,!0),yd(this._context)?e=t:(e=this._context,fb(e)&&(e.event=t)),this._actionRunner.run(this._action,e)},e.prototype.focus=function(){this.element&&(this.element.focus(),q.addClass(this.element,"focused"))},e.prototype.blur=function(){this.element&&(this.element.blur(),q.removeClass(this.element,"focused"))},e.prototype.updateEnabled=function(){},e.prototype.updateLabel=function(){},e.prototype.updateTooltip=function(){},e.prototype.updateClass=function(){},e.prototype.updateChecked=function(){},e.prototype.dispose=function(){this.element&&(q.removeNode(this.element),this.element=void 0),t.prototype.dispose.call(this)},e}(B);Cg.BaseActionItem=Ql;var Rl=function(t){function e(n){var o=t.call(this,e.ID,n,n?"separator text":"separator")||this;return o.checked=!1,o.radio=!1,o.enabled=!1,o}return Pl(e,t),e.ID="vs.actions.separator",e}(De);Cg.Separator=Rl;var Fs=function(t){function e(e,n,o){void 0===o&&(o={});var i=t.call(this,e,n,o)||this;return i.options=o,i.options.icon=void 0!==o.icon&&o.icon,i.options.label=void 0===o.label||o.label,i.cssClass="",i}return Pl(e,t),e.prototype.render=function(e){t.prototype.render.call(this,e),this.element&&(this.label=q.append(this.element,q.$("a.action-label"))),this._action.id===Rl.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button"),this.options.label&&this.options.keybinding&&this.element&&(q.append(this.element,q.$("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},e.prototype.focus=function(){t.prototype.focus.call(this),this.label.focus()},e.prototype.updateLabel=function(){this.options.label&&(this.label.textContent=this.getAction().label)},e.prototype.updateTooltip=function(){var t=null;this.getAction().tooltip?t=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(t=this.getAction().label,this.options.keybinding&&(t=k.localize({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",t,this.options.keybinding))),t&&(this.label.title=t)},e.prototype.updateClass=function(){this.cssClass&&q.removeClasses(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,q.addClass(this.label,"icon"),this.cssClass&&q.addClasses(this.label,this.cssClass),this.updateEnabled()):q.removeClass(this.label,"icon")},e.prototype.updateEnabled=function(){this.getAction().enabled?(this.label.removeAttribute("aria-disabled"),this.element&&q.removeClass(this.element,"disabled"),q.removeClass(this.label,"disabled"),this.label.tabIndex=0):(this.label.setAttribute("aria-disabled","true"),this.element&&q.addClass(this.element,"disabled"),q.addClass(this.label,"disabled"),q.removeTabIndexAndUpdateFocus(this.label))},e.prototype.updateChecked=function(){this.getAction().checked?q.addClass(this.label,"checked"):q.removeClass(this.label,"checked")},e}(Ql);Cg.ActionItem=Fs;var bF={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},Gs=function(t){function e(e,n){void 0===n&&(n=bF);var o,i,s=t.call(this)||this;switch(s._onDidBlur=s._register(new b),s._onDidCancel=s._register(new b),s._onDidRun=s._register(new b),s._onDidBeforeRun=s._register(new b),s.options=n,s._context=n.context,s.options.triggerKeys||(s.options.triggerKeys=bF.triggerKeys),s.options.actionRunner?s._actionRunner=s.options.actionRunner:(s._actionRunner=new Mq,s._register(s._actionRunner)),s._register(s._actionRunner.onDidRun(function(t){return s._onDidRun.fire(t)})),s._register(s._actionRunner.onDidBeforeRun(function(t){return s._onDidBeforeRun.fire(t)})),s.items=[],s.focusedItem=void 0,s.domNode=document.createElement("div"),s.domNode.className="monaco-action-bar",!1!==n.animated&&q.addClass(s.domNode,"animated"),s.options.orientation){case 0:o=15,i=17;break;case 1:o=17,i=15,s.domNode.className+=" reverse";break;case 2:o=16,i=18,s.domNode.className+=" vertical";break;case 3:o=18,i=16,s.domNode.className+=" vertical reverse";}return s._register(q.addDisposableListener(s.domNode,q.EventType.KEY_DOWN,function(t){var e=new Fa(t),n=!0;e.equals(o)?s.focusPrevious():e.equals(i)?s.focusNext():e.equals(9)?s.cancel():s.isTriggerKeyEvent(e)?s.options.triggerKeys&&s.options.triggerKeys.keyDown&&s.doTrigger(e):n=!1,n&&(e.preventDefault(),e.stopPropagation())})),s._register(q.addDisposableListener(s.domNode,q.EventType.KEY_UP,function(t){var e=new Fa(t);s.isTriggerKeyEvent(e)?(s.options.triggerKeys&&!s.options.triggerKeys.keyDown&&s.doTrigger(e),e.preventDefault(),e.stopPropagation()):(e.equals(2)||e.equals(1026))&&s.updateFocusedItem()})),s.focusTracker=s._register(q.trackFocus(s.domNode)),s._register(s.focusTracker.onDidBlur(function(){document.activeElement!==s.domNode&&q.isAncestor(document.activeElement,s.domNode)||(s._onDidBlur.fire(),s.focusedItem=void 0)})),s._register(s.focusTracker.onDidFocus(function(){return s.updateFocusedItem()})),s.actionsList=document.createElement("ul"),s.actionsList.className="actions-container",s.actionsList.setAttribute("role","toolbar"),s.options.ariaLabel&&s.actionsList.setAttribute("aria-label",s.options.ariaLabel),s.domNode.appendChild(s.actionsList),e.appendChild(s.domNode),s}return Pl(e,t),Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this._onDidBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:!0,configurable:!0}),e.prototype.isTriggerKeyEvent=function(t){var e=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach(function(n){e=e||t.equals(n)}),e},e.prototype.updateFocusedItem=function(){for(var t=0;t<this.actionsList.children.length;t++){var e=this.actionsList.children[t];if(q.isAncestor(document.activeElement,e)){this.focusedItem=t;break}}},Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t,this.items.forEach(function(e){return e.setActionContext(t)})},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.domNode},e.prototype.push=function(t,e){var n=this;void 0===e&&(e={});var o=Array.isArray(t)?t:[t],i=pe(e.index)?e.index:null;o.forEach(function(t){var o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation"),n._register(q.addDisposableListener(o,q.EventType.CONTEXT_MENU,function(t){t.preventDefault(),t.stopPropagation()}));var s=null;n.options.actionItemProvider&&(s=n.options.actionItemProvider(t)),s||(s=new Fs(n.context,t,e)),s.actionRunner=n._actionRunner,s.setActionContext(n.context),s.render(o),null===i||i<0||i>=n.actionsList.children.length?(n.actionsList.appendChild(o),n.items.push(s)):(n.actionsList.insertBefore(o,n.actionsList.children[i]),n.items.splice(i,0,s),i++)})},e.prototype.clear=function(){this.items=C(this.items),q.clearNode(this.actionsList)},e.prototype.isEmpty=function(){return 0===this.items.length},e.prototype.focus=function(t){var e=!1,n=void 0;void 0===t?e=!0:"number"==typeof t?n=t:"boolean"==typeof t&&(e=t),e&&void 0===this.focusedItem?(this.focusedItem=this.items.length-1,this.focusNext()):(void 0!==n&&(this.focusedItem=n),this.updateFocus())},e.prototype.focusNext=function(){void 0===this.focusedItem&&(this.focusedItem=this.items.length-1);var t,e=this.focusedItem;do{this.focusedItem=(this.focusedItem+1)%this.items.length,t=this.items[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},e.prototype.focusPrevious=function(){void 0===this.focusedItem&&(this.focusedItem=0);var t,e=this.focusedItem;do{this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),t=this.items[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},e.prototype.updateFocus=function(t){void 0===this.focusedItem&&this.actionsList.focus();for(var e=0;e<this.items.length;e++){var n=this.items[e];e===this.focusedItem?gk(n.isEnabled)&&(n.isEnabled()&&gk(n.focus)?n.focus(t):this.actionsList.focus()):gk(n.blur)&&n.blur()}},e.prototype.doTrigger=function(t){if(void 0!==this.focusedItem){var e=this.items[this.focusedItem];if(e instanceof Ql){var n=null===e._context||void 0===e._context?t:e._context;this.run(e._action,n)}}},e.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},e.prototype.run=function(t,e){return this._actionRunner.run(t,e)},e.prototype.dispose=function(){C(this.items),this.items=[],q.removeNode(this.getContainer()),t.prototype.dispose.call(this)},e}(B);Cg.ActionBar=Gs;var Hs=Es&&Es.__extends||function(){var e=function(i,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(i,t)};return function(i,t){function r(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),Sl=3,vi=function(){function e(e,i,t,r){this.originalLineStart=e,this.originalLineEnd=i,this.modifiedLineStart=t,this.modifiedLineEnd=r}return e.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},e}(),Is=function(){return function(e){this.entries=e}}(),cF=function(e){function i(i){var t=e.call(this)||this;return t._width=0,t._diffEditor=i,t._isVisible=!1,t.shadow=H(document.createElement("div")),t.shadow.setClassName("diff-review-shadow"),t.actionBarContainer=H(document.createElement("div")),t.actionBarContainer.setClassName("diff-review-actions"),t._actionBar=t._register(new Gs(t.actionBarContainer.domNode)),t._actionBar.push(new De("diffreview.close",k.localize("label.close","Close"),"close-diff-review",!0,function(){return t.hide(),Promise.resolve(null)}),{label:!1,icon:!0}),t.domNode=H(document.createElement("div")),t.domNode.setClassName("diff-review monaco-editor-background"),t._content=H(document.createElement("div")),t._content.setClassName("diff-review-content"),t.scrollbar=t._register(new es(t._content.domNode,{})),t.domNode.domNode.appendChild(t.scrollbar.getDomNode()),t._register(i.onDidUpdateDiff(function(){t._isVisible&&(t._diffs=t._compute(),t._render())})),t._register(i.getModifiedEditor().onDidChangeCursorPosition(function(){t._isVisible&&t._render()})),t._register(i.getOriginalEditor().onDidFocusEditorWidget(function(){t._isVisible&&t.hide()})),t._register(i.getModifiedEditor().onDidFocusEditorWidget(function(){t._isVisible&&t.hide()})),t._register(q.addStandardDisposableListener(t.domNode.domNode,"click",function(e){e.preventDefault();var i=q.findParentWithClass(e.target,"diff-review-row");i&&t._goToRow(i)})),t._register(q.addStandardDisposableListener(t.domNode.domNode,"keydown",function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),t._goToRow(t._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),t._goToRow(t._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),t.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),t.accept())})),t._diffs=[],t._currentDiff=null,t}return Hs(i,e),i.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var i=-1,t=0,r=this._diffs.length;t<r;t++)if(this._diffs[t]===this._currentDiff){i=t;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new x(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},i.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var i=-1,t=0,r=this._diffs.length;t<r;t++)if(this._diffs[t]===this._currentDiff){i=t;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new x(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},i.prototype.accept=function(){var e=-1,i=this._getCurrentFocusedRow();if(i){var t=parseInt(i.getAttribute("data-line"),10);isNaN(t)||(e=t)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new x(e,1)),this._diffEditor.revealPosition(new x(e,1),1))},i.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},i.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},i.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},i.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},i.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},i.prototype._goToRow=function(e){var i=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),i&&i!==e&&(i.tabIndex=-1),this.scrollbar.scanDomNode()},i.prototype.isVisible=function(){return this._isVisible},i.prototype.layout=function(e,i,t){this._width=i,this.shadow.setTop(e-6),this.shadow.setWidth(i),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(i),this.domNode.setHeight(t),this._content.setHeight(t),this._content.setWidth(i),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},i.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var t=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel();return t&&r?i._mergeAdjacent(e,t.getLineCount(),r.getLineCount()):[]},i._mergeAdjacent=function(e,i,t){if(!e||0===e.length)return[];for(var r=[],n=0,o=0,s=e.length;o<s;o++){var a=e[o],d=a.originalStartLineNumber,f=a.originalEndLineNumber,l=a.modifiedStartLineNumber,u=a.modifiedEndLineNumber,c=[],$=0,m=0===f?d:d-1,h=0===u?l:l-1,p=1,v=1;if(o>0){var g=e[o-1];p=0===g.originalEndLineNumber?g.originalStartLineNumber+1:g.originalEndLineNumber+1,v=0===g.modifiedEndLineNumber?g.modifiedStartLineNumber+1:g.modifiedEndLineNumber+1}var _=m-Sl+1,w=h-Sl+1;if(_<p)_+=N=p-_,w+=N;if(w<v)_+=N=v-w,w+=N;c[$++]=new vi(_,m,w,h),0!==f&&(c[$++]=new vi(d,f,0,0)),0!==u&&(c[$++]=new vi(0,0,l,u));var b=0===f?d+1:f+1,j=0===u?l+1:u+1,W=i,E=t;if(o+1<s){var Y=e[o+1];W=0===Y.originalEndLineNumber?Y.originalStartLineNumber:Y.originalStartLineNumber-1,E=0===Y.modifiedEndLineNumber?Y.modifiedStartLineNumber:Y.modifiedStartLineNumber-1}var N,L=b+Sl-1,D=j+Sl-1;if(L>W)L+=N=W-L,D+=N;if(D>E)L+=N=E-D,D+=N;c[$++]=new vi(b,L,j,D),r[n++]=new Is(c)}var y=r[0].entries,x=[],C=0;for(o=1,s=r.length;o<s;o++){var S=r[o].entries,R=y[y.length-1],I=S[0];0===R.getType()&&0===I.getType()&&I.originalLineStart<=R.originalLineEnd?(y[y.length-1]=new vi(R.originalLineStart,I.originalLineEnd,R.modifiedLineStart,I.modifiedLineEnd),y=y.concat(S.slice(1))):(x[C++]=new Is(y),y=S)}return x[C++]=new Is(y),x},i.prototype._findDiffIndex=function(e){for(var i=e.lineNumber,t=0,r=this._diffs.length;t<r;t++){var n=this._diffs[t].entries;if(i<=n[n.length-1].modifiedLineEnd)return t}return 0},i.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getConfiguration(),t=this._diffEditor.getModifiedEditor().getConfiguration(),r=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),o=r.getOptions(),s=n.getOptions();if(!this._isVisible||!r||!n)return q.clearNode(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]!==this._currentDiff){this._currentDiff=this._diffs[a];var d=this._diffs[a].entries,f=document.createElement("div");f.className="diff-review-table",f.setAttribute("role","list"),mb.applyFontInfoSlow(f,t.fontInfo);for(var l=0,u=0,c=0,$=0,m=0,h=d.length;m<h;m++){var p=(D=d[m]).originalLineStart,v=D.originalLineEnd,g=D.modifiedLineStart,_=D.modifiedLineEnd;0!==p&&(0===l||p<l)&&(l=p),0!==v&&(0===u||v>u)&&(u=v),0!==g&&(0===c||g<c)&&(c=g),0!==_&&(0===$||_>$)&&($=_)}var w=document.createElement("div");w.className="diff-review-row";var b=document.createElement("div");b.className="diff-review-cell diff-review-summary";var j=u-l+1,W=$-c+1;b.appendChild(document.createTextNode(a+1+"/"+this._diffs.length+": @@ -"+l+","+j+" +"+c+","+W+" @@")),w.setAttribute("data-line",String(c));var E=function(e){return 0===e?k.localize("no_lines","no lines"):1===e?k.localize("one_line","1 line"):k.localize("more_lines","{0} lines",e)},Y=E(j),N=E(W);w.setAttribute("aria-label",k.localize({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).","Variables 3 and 5 will be \"no lines\", \"1 line\" or \"X lines\", localized separately."]},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",a+1,this._diffs.length,l,Y,c,N)),w.appendChild(b),w.setAttribute("role","listitem"),f.appendChild(w);var L=c;for(m=0,h=d.length;m<h;m++){var D=d[m];i._renderSection(f,D,L,this._width,e,r,o,t,n,s),0!==D.modifiedLineStart&&(L=D.modifiedLineEnd)}q.clearNode(this._content.domNode),this._content.domNode.appendChild(f),this.scrollbar.scanDomNode()}},i._renderSection=function(e,i,t,r,n,o,s,a,d,f){var l=i.getType(),u="diff-review-row",c="",$="diff-review-spacer";switch(l){case 1:u="diff-review-row line-insert",c=" char-insert",$="diff-review-spacer insert-sign";break;case 2:u="diff-review-row line-delete",c=" char-delete",$="diff-review-spacer delete-sign";}for(var m=i.originalLineStart,h=i.originalLineEnd,p=i.modifiedLineStart,v=i.modifiedLineEnd,g=Math.max(v-p,h-m),_=n.layoutInfo.glyphMarginWidth+n.layoutInfo.lineNumbersWidth,w=10+a.layoutInfo.glyphMarginWidth+a.layoutInfo.lineNumbersWidth,b=0;b<=g;b++){var j=0===m?0:m+b,W=0===p?0:p+b,E=document.createElement("div");E.style.minWidth=r+"px",E.className=u,E.setAttribute("role","listitem"),0!==W&&(t=W),E.setAttribute("data-line",String(t));var Y=document.createElement("div");Y.className="diff-review-cell",E.appendChild(Y);var N=document.createElement("span");N.style.width=_+"px",N.style.minWidth=_+"px",N.className="diff-review-line-number"+c,0!==j?N.appendChild(document.createTextNode(String(j))):N.innerHTML="&nbsp;",Y.appendChild(N);var L=document.createElement("span");L.style.width=w+"px",L.style.minWidth=w+"px",L.style.paddingRight="10px",L.className="diff-review-line-number"+c,0!==W?L.appendChild(document.createTextNode(String(W))):L.innerHTML="&nbsp;",Y.appendChild(L);var D=document.createElement("span");D.className=$,D.innerHTML="&nbsp;&nbsp;",Y.appendChild(D);var y=void 0;0!==W?(Y.insertAdjacentHTML("beforeend",this._renderLine(d,a,f.tabSize,W)),y=d.getLineContent(W)):(Y.insertAdjacentHTML("beforeend",this._renderLine(o,n,s.tabSize,j)),y=o.getLineContent(j)),0===y.length&&(y=k.localize("blankLine","blank"));var x="";switch(l){case 0:x=k.localize("equalLine","original {0}, modified {1}: {2}",j,W,y);break;case 1:x=k.localize("insertLine","+ modified {0}: {1}",W,y);break;case 2:x=k.localize("deleteLine","- original {0}: {1}",j,y);}E.setAttribute("aria-label",x),e.appendChild(E)}},i._renderLine=function(e,i,t,r){var n=e.getLineContent(r),o=new Uint32Array(2);o[0]=n.length,o[1]=16793600;var s=new Xc(o,n),a=gc.isBasicASCII(n,e.mightContainNonBasicASCII()),d=gc.containsRTL(n,a,e.mightContainRTL());return Xk(new fg(i.fontInfo.isMonospace&&!i.viewInfo.disableMonospaceOptimizations,i.fontInfo.canUseHalfwidthRightwardsArrow,n,!1,a,d,0,s,[],t,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,i.viewInfo.fontLigatures)).html},i}(B);Es.DiffReview=cF,Bb(function(e,i){var t=e.getColor(lD);t&&i.addRule(".monaco-diff-editor .diff-review-line-number { color: "+t+"; }");var r=e.getColor(pl);r&&i.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+r+" 0 -6px 6px -6px inset; }")});var ZY=function(e){function i(){return e.call(this,{id:"editor.action.diffReview.next",label:k.localize("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:lb.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return Hs(i,e),i.prototype.run=function(e,i){var t=dF(e);t&&t.diffReviewNext()},i}(Qq),$Y=function(e){function i(){return e.call(this,{id:"editor.action.diffReview.prev",label:k.localize("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:lb.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return Hs(i,e),i.prototype.run=function(e,i){var t=dF(e);t&&t.diffReviewPrev()},i}(Qq);function dF(e){for(var i=e.get(Sa).listDiffEditors(),t=0,r=i.length;t<r;t++){var n=i[t];if(n.hasWidgetFocus())return n}return null}Rq(ZY),Rq($Y);var Dg=Ue&&Ue.__extends||function(){var e=function(i,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)i.hasOwnProperty(t)&&(e[t]=i[t])})(i,t)};return function(i,t){function o(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),_Y=Ue&&Ue.__decorate||function(e,i,t,o){var r,n=arguments.length,a=n<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,i,t,o);else for(var d=e.length-1;d>=0;d--)(r=e[d])&&(a=(n<3?r(a):n>3?r(i,t,a):r(i,t))||a);return n>3&&a&&Object.defineProperty(i,t,a),a},Eg=Ue&&Ue.__param||function(e,i){return function(t,o){i(t,o,e)}},eF=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var i=this;return e.filter(function(e){return!i._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var i=this;this._zones.length>0&&e.changeViewZones(function(e){for(var t=0,o=i._zones.length;t<o;t++)e.removeZone(i._zones[t])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},e.prototype.apply=function(e,i,t,o){var r=this,n=o?YY.capture(e):null;e.changeViewZones(function(e){for(var i=0,o=r._zones.length;i<o;i++)e.removeZone(r._zones[i]);r._zones=[],r._zonesMap={};i=0;for(var n=t.zones.length;i<n;i++){t.zones[i].suppressMouseDown=!0;var a=e.addZone(t.zones[i]);r._zones.push(a),r._zonesMap[String(a)]=!0}}),n&&n.restore(e),this._decorations=e.deltaDecorations(this._decorations,t.decorations),i&&i.setZones(t.overviewZones)},e}(),aZ=0,Tl=function(e){function i(t,o,r,n,a,d,s,l){var h=e.call(this)||this;h._onDidDispose=h._register(new b),h.onDidDispose=h._onDidDispose.event,h._onDidUpdateDiff=h._register(new b),h.onDidUpdateDiff=h._onDidUpdateDiff.event,h._lastOriginalWarning=null,h._lastModifiedWarning=null,h._editorWorkerService=r,h._codeEditorService=d,h._contextKeyService=h._register(n.createScoped(t)),h._contextKeyService.createKey("isInDiffEditor",!0),h._themeService=s,h._notificationService=l,h.id=++aZ,h._domElement=t,o=o||{},h._renderSideBySide=!0,void 0!==o.renderSideBySide&&(h._renderSideBySide=o.renderSideBySide),h._ignoreTrimWhitespace=!0,void 0!==o.ignoreTrimWhitespace&&(h._ignoreTrimWhitespace=o.ignoreTrimWhitespace),h._renderIndicators=!0,void 0!==o.renderIndicators&&(h._renderIndicators=o.renderIndicators),h._originalIsEditable=!1,void 0!==o.originalEditable&&(h._originalIsEditable=Boolean(o.originalEditable)),h._updateDecorationsRunner=h._register(new wc(function(){return h._updateDecorations()},0)),h._containerDomElement=document.createElement("div"),h._containerDomElement.className=i._getClassName(h._themeService.getTheme(),h._renderSideBySide),h._containerDomElement.style.position="relative",h._containerDomElement.style.height="100%",h._domElement.appendChild(h._containerDomElement),h._overviewViewportDomElement=H(document.createElement("div")),h._overviewViewportDomElement.setClassName("diffViewport"),h._overviewViewportDomElement.setPosition("absolute"),h._overviewDomElement=document.createElement("div"),h._overviewDomElement.className="diffOverview",h._overviewDomElement.style.position="absolute",h._overviewDomElement.appendChild(h._overviewViewportDomElement.domNode),h._register(q.addStandardDisposableListener(h._overviewDomElement,"mousedown",function(e){h.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),h._containerDomElement.appendChild(h._overviewDomElement),h._createLeftHandSide(),h._createRightHandSide(),h._beginUpdateDecorationsTimeout=-1,h._currentlyChangingViewZones=!1,h._diffComputationToken=0,h._originalEditorState=new eF,h._modifiedEditorState=new eF,h._isVisible=!0,h._isHandlingScrollEvent=!1,h._width=0,h._height=0,h._reviewHeight=0,h._diffComputationResult=null;var m=h._contextKeyService.createScoped();m.createKey("isInDiffLeftEditor",!0);var p=new Bg;p.set(za,m);var u=a.createChild(p),c=h._contextKeyService.createScoped();c.createKey("isInDiffRightEditor",!0);var f=new Bg;f.set(za,c);var g=a.createChild(f);return h._createLeftHandSideEditor(o,u),h._createRightHandSideEditor(o,g),h._reviewPane=new cF(h),h._containerDomElement.appendChild(h._reviewPane.domNode.domNode),h._containerDomElement.appendChild(h._reviewPane.shadow.domNode),h._containerDomElement.appendChild(h._reviewPane.actionBarContainer.domNode),o.automaticLayout&&(h._measureDomElementToken=window.setInterval(function(){return h._measureDomElement(!1)},100)),h._enableSplitViewResizing=!0,void 0!==o.enableSplitViewResizing&&(h._enableSplitViewResizing=o.enableSplitViewResizing),h._renderSideBySide?h._setStrategy(new iF(h._createDataSource(),h._enableSplitViewResizing)):h._setStrategy(new jF(h._createDataSource(),h._enableSplitViewResizing)),h._register(s.onThemeChange(function(e){h._strategy&&h._strategy.applyColors(e)&&h._updateDecorationsRunner.schedule(),h._containerDomElement.className=i._getClassName(h._themeService.getTheme(),h._renderSideBySide)})),h._codeEditorService.addDiffEditor(h),h}return Dg(i,e),i.prototype.hasWidgetFocus=function(){return q.isAncestor(document.activeElement,this._domElement)},i.prototype.diffReviewNext=function(){this._reviewPane.next()},i.prototype.diffReviewPrev=function(){this._reviewPane.prev()},i._getClassName=function(e,i){var t="monaco-diff-editor monaco-editor-background ";return i&&(t+="side-by-side "),t+=il(e.type)},i.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},i.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},i.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},i.prototype._createLeftHandSideEditor=function(e,i){var t=this;this.originalEditor=this._createInnerEditor(i,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),this._register(this.originalEditor.onDidScrollChange(function(e){t._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(this.originalEditor.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(this.originalEditor.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()}))},i.prototype._createRightHandSideEditor=function(e,i){var t=this;this.modifiedEditor=this._createInnerEditor(i,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._register(this.modifiedEditor.onDidScrollChange(function(e){t._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(t._isHandlingScrollEvent=!0,t.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),t._isHandlingScrollEvent=!1,t._layoutOverviewViewport())})),this._register(this.modifiedEditor.onDidChangeViewZones(function(){t._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeConfiguration(function(e){e.fontInfo&&t.modifiedEditor.getModel()&&t._onViewZonesChanged()})),this._register(this.modifiedEditor.onDidChangeModelContent(function(){t._isVisible&&t._beginUpdateDecorationsSoon()}))},i.prototype._createInnerEditor=function(e,i,t){return e.createInstance(As,i,t,{})},i.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},i.prototype.getId=function(){return this.getEditorType()+":"+this.id},i.prototype.getEditorType=function(){return Ak.IDiffEditor},i.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},i.prototype.getOriginalEditor=function(){return this.originalEditor},i.prototype.getModifiedEditor=function(){return this.modifiedEditor},i.prototype.updateOptions=function(e){var t=!1;void 0!==e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,t=!0);var o=!1;void 0!==e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,o=!0),void 0!==e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,o=!0),o&&this._beginUpdateDecorations(),void 0!==e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),void 0!==e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),t&&(this._renderSideBySide?this._setStrategy(new iF(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new jF(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=i._getClassName(this._themeService.getTheme(),this._renderSideBySide))},i.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},i.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._diffComputationResult=null,this._layoutOverviewViewport()},i.prototype.getDomNode=function(){return this._domElement},i.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},i.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},i.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},i.prototype.revealLine=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLine(e,i)},i.prototype.revealLineInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLineInCenter(e,i)},i.prototype.revealLineInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,i)},i.prototype.revealPosition=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPosition(e,i)},i.prototype.revealPositionInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPositionInCenter(e,i)},i.prototype.revealPositionInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,i)},i.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},i.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},i.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},i.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},i.prototype.revealLines=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLines(e,i,t)},i.prototype.revealLinesInCenter=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLinesInCenter(e,i,t)},i.prototype.revealLinesInCenterIfOutsideViewport=function(e,i,t){void 0===t&&(t=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,i,t)},i.prototype.revealRange=function(e,i,t,o){void 0===i&&(i=0),void 0===t&&(t=!1),void 0===o&&(o=!0),this.modifiedEditor.revealRange(e,i,t,o)},i.prototype.revealRangeInCenter=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeInCenter(e,i)},i.prototype.revealRangeInCenterIfOutsideViewport=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,i)},i.prototype.revealRangeAtTop=function(e,i){void 0===i&&(i=0),this.modifiedEditor.revealRangeAtTop(e,i)},i.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},i.prototype.saveViewState=function(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}},i.prototype.restoreViewState=function(e){if(e.original&&e.modified){var i=e;this.originalEditor.restoreViewState(i.original),this.modifiedEditor.restoreViewState(i.modified)}},i.prototype.layout=function(e){this._measureDomElement(!1,e)},i.prototype.focus=function(){this.modifiedEditor.focus()},i.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},i.prototype.trigger=function(e,i,t){this.modifiedEditor.trigger(e,i,t)},i.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},i.prototype._measureDomElement=function(e,i){if((i=i||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight}).width<=0)return this._width=0,this._height=0,void(this._reviewHeight=0);(e||i.width!==this._width||i.height!==this._height)&&(this._width=i.width,this._height=i.height,this._reviewHeight=this._reviewPane.isVisible()?this._height:0,this._doLayout())},i.prototype._layoutOverviewRulers=function(){var e=i.ENTIRE_DIFF_OVERVIEW_WIDTH-2*i.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:i.ONE_OVERVIEW_WIDTH,right:e+i.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:i.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}))},i.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},i.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return e._beginUpdateDecorations()},i.UPDATE_DIFF_DECORATIONS_DELAY)},i._equals=function(e,i){return!e&&!i||!(!e||!i)&&e.toString()===i.toString()},i.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var t=this.originalEditor.getModel(),o=this.modifiedEditor.getModel();if(t&&o){this._diffComputationToken++;var r=this._diffComputationToken;this._editorWorkerService.canComputeDiff(t.uri,o.uri)?this._editorWorkerService.computeDiff(t.uri,o.uri,this._ignoreTrimWhitespace).then(function(i){r===e._diffComputationToken&&t===e.originalEditor.getModel()&&o===e.modifiedEditor.getModel()&&(e._diffComputationResult=i,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())},function(i){r===e._diffComputationToken&&t===e.originalEditor.getModel()&&o===e.modifiedEditor.getModel()&&(e._diffComputationResult=null,e._updateDecorationsRunner.schedule())}):i._equals(t.uri,this._lastOriginalWarning)&&i._equals(o.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=o.uri,this._notificationService.warn(k.localize("diff.tooLarge","Cannot compare files because one file is too large.")))}},i.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},i.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()){var e=this._diffComputationResult?this._diffComputationResult.changes:[],i=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),t=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),o=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,i,t,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,o.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,o.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},i.prototype._adjustOptionsForSubEditor=function(e){var i=ne(e||{});return i.inDiffEditor=!0,i.wordWrap="off",i.wordWrapMinified=!1,i.automaticLayout=!1,i.scrollbar=i.scrollbar||{},i.scrollbar.vertical="visible",i.folding=!1,i.codeLens=!1,i.fixedOverflowWidgets=!0,i.minimap||(i.minimap={}),i.minimap.enabled=!1,i},i.prototype._adjustOptionsForLeftHandSide=function(e,i){var t=this._adjustOptionsForSubEditor(e);return t.readOnly=!i,t.overviewRulerLanes=1,t.extraEditorClassName="original-in-monaco-diff-editor",t},i.prototype._adjustOptionsForRightHandSide=function(e){var t=this._adjustOptionsForSubEditor(e);return t.revealHorizontalRightPadding=Yf.viewInfo.revealHorizontalRightPadding+i.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",t},i.prototype.doLayout=function(){this._measureDomElement(!0)},i.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=this._height-this._reviewHeight+"px",this._overviewDomElement.style.width=i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-i.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(i.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:e,height:this._height-this._reviewHeight}),this.modifiedEditor.layout({width:this._width-e-i.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight),this._layoutOverviewViewport()},i.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},i.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var i=this.modifiedEditor.getScrollTop(),t=this.modifiedEditor.getScrollHeight(),o=Math.max(0,e.contentHeight),r=Math.max(0,o-0),n=t>0?r/t:0;return{height:Math.max(0,Math.floor(e.contentHeight*n)),top:Math.floor(i*n)}},i.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height-e._reviewHeight},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},i.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._measureDomElement(!0)},i.prototype._getLineChangeAtOrBeforeLineNumber=function(e,i){var t=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===t.length||e<i(t[0]))return null;for(var o=0,r=t.length-1;o<r;){var n=Math.floor((o+r)/2),a=i(t[n]),d=n+1<=r?i(t[n+1]):Number.MAX_VALUE;e<a?r=n-1:e>=d?o=n+1:(o=n,r=n)}return t[o]},i.prototype._getEquivalentLineForOriginalLineNumber=function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),o=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),r=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,n=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-t;return a<=r?o+Math.min(a,n):o+n-r+a},i.prototype._getEquivalentLineForModifiedLineNumber=function(e){var i=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!i)return e;var t=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),o=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),r=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,n=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,a=e-o;return a<=n?t+Math.min(a,r):t+r-n+a},i.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},i.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=30,i.UPDATE_DIFF_DECORATIONS_DELAY=200,i=_Y([Eg(2,Nk),Eg(3,za),Eg(4,vc),Eg(5,Sa),Eg(6,Ge),Eg(7,zc)],i)}(B);Ue.DiffEditorWidget=Tl;var fF=function(e){function i(i){var t=e.call(this)||this;return t._dataSource=i,t}return Dg(i,e),i.prototype.applyColors=function(e){var i=(e.getColor(dD)||nr).transparent(2),t=(e.getColor(eD)||or).transparent(2),o=!i.equals(this._insertColor)||!t.equals(this._removeColor);return this._insertColor=i,this._removeColor=t,o},i.prototype.getEditorsDiffDecorations=function(e,i,t,o,r,n,a){r=r.sort(function(e,i){return e.afterLineNumber-i.afterLineNumber}),o=o.sort(function(e,i){return e.afterLineNumber-i.afterLineNumber});var d=this._getViewZones(e,o,r,n,a,t),s=this._getOriginalEditorDecorations(e,i,t,n,a),l=this._getModifiedEditorDecorations(e,i,t,n,a);return{original:{decorations:s.decorations,overviewZones:s.overviewZones,zones:d.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:d.modified}}},i}(B),gF=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),hF=function(){function e(e,i,t){this.lineChanges=e,this.originalForeignVZ=i,this.modifiedForeignVZ=t}return e.prototype.getViewZones=function(){for(var i=[],t=[],o=0,r=0,n=0,a=0,d=0,s=0,l=function(e,i){return e.afterLineNumber-i.afterLineNumber},h=function(e,i){if(null===i.domNode&&e.length>0){var t=e[e.length-1];if(t.afterLineNumber===i.afterLineNumber&&null===t.domNode)return void(t.heightInLines+=i.heightInLines)}e.push(i)},m=new gF(this.modifiedForeignVZ),p=new gF(this.originalForeignVZ),u=0,c=this.lineChanges.length;u<=c;u++){var f=u<c?this.lineChanges[u]:null;null!==f?(n=f.originalStartLineNumber+(f.originalEndLineNumber>0?-1:0),a=f.modifiedStartLineNumber+(f.modifiedEndLineNumber>0?-1:0),r=f.originalEndLineNumber>0?f.originalEndLineNumber-f.originalStartLineNumber+1:0,o=f.modifiedEndLineNumber>0?f.modifiedEndLineNumber-f.modifiedStartLineNumber+1:0,d=Math.max(f.originalStartLineNumber,f.originalEndLineNumber),s=Math.max(f.modifiedStartLineNumber,f.modifiedEndLineNumber)):(d=n+=1e7+r,s=a+=1e7+o);for(var g,v=[],_=[];m.current&&m.current.afterLineNumber<=s;){var $=void 0;$=m.current.afterLineNumber<=a?n-a+m.current.afterLineNumber:d;var E=null;f&&f.modifiedStartLineNumber<=m.current.afterLineNumber&&m.current.afterLineNumber<=f.modifiedEndLineNumber&&(E=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),v.push({afterLineNumber:$,heightInLines:m.current.heightInLines,domNode:null,marginDomNode:E}),m.advance()}for(;p.current&&p.current.afterLineNumber<=d;){$=void 0;$=p.current.afterLineNumber<=n?a-n+p.current.afterLineNumber:s,_.push({afterLineNumber:$,heightInLines:p.current.heightInLines,domNode:null}),p.advance()}if(null!==f&&Fg(f))(g=this._produceOriginalFromDiff(f,r,o))&&v.push(g);if(null!==f&&Gg(f))(g=this._produceModifiedFromDiff(f,r,o))&&_.push(g);var D=0,S=0;for(v=v.sort(l),_=_.sort(l);D<v.length&&S<_.length;){var w=v[D],N=_[S],L=w.afterLineNumber-n,I=N.afterLineNumber-a;L<I?(h(i,w),D++):I<L?(h(t,N),S++):w.shouldNotShrink?(h(i,w),D++):N.shouldNotShrink?(h(t,N),S++):w.heightInLines>=N.heightInLines?(w.heightInLines-=N.heightInLines,S++):(N.heightInLines-=w.heightInLines,D++)}for(;D<v.length;)h(i,v[D]),D++;for(;S<_.length;)h(t,_[S]),S++}return{original:e._ensureDomNodes(i),modified:e._ensureDomNodes(t)}},e._ensureDomNodes=function(e){return e.map(function(e){return e.domNode||(e.domNode=dZ()),e})},e}();function ed(e,i,t,o,r){return{range:new j(e,i,t,o),options:r}}var Pa={charDelete:ya.register({className:"char-delete"}),charDeleteWholeLine:ya.register({className:"char-delete",isWholeLine:!0}),charInsert:ya.register({className:"char-insert"}),charInsertWholeLine:ya.register({className:"char-insert",isWholeLine:!0}),lineInsert:ya.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:ya.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:ya.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:ya.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:ya.register({marginClassName:"line-delete"})},iF=function(e){function i(i,t){var o=e.call(this,i)||this;return o._disableSash=!1===t,o._sashRatio=null,o._sashPosition=null,o._sash=o._register(new aF(o._dataSource.getContainerDomNode(),o)),o._disableSash&&(o._sash.state=0),o._sash.onDidStart(function(){return o.onSashDragStart()}),o._sash.onDidChange(function(e){return o.onSashDrag(e)}),o._sash.onDidEnd(function(){return o.onSashDragEnd()}),o._sash.onDidReset(function(){return o.onSashReset()}),o}return Dg(i,e),i.prototype.setEnableSplitViewResizing=function(e){var i=!1===e;this._disableSash!==i&&(this._disableSash=i,this._sash.state=this._disableSash?0:3)},i.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var t=this._dataSource.getWidth()-Tl.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((e||.5)*t),r=Math.floor(.5*t);return o=this._disableSash?r:o||r,t>2*i.MINIMUM_EDITOR_WIDTH?(o<i.MINIMUM_EDITOR_WIDTH&&(o=i.MINIMUM_EDITOR_WIDTH),o>t-i.MINIMUM_EDITOR_WIDTH&&(o=t-i.MINIMUM_EDITOR_WIDTH)):o=r,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},i.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},i.prototype.onSashDrag=function(e){var i=this._dataSource.getWidth()-Tl.ENTIRE_DIFF_OVERVIEW_WIDTH,t=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=t/i,this._dataSource.relayoutEditors()},i.prototype.onSashDragEnd=function(){this._sash.layout()},i.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},i.prototype.getVerticalSashTop=function(e){return 0},i.prototype.getVerticalSashLeft=function(e){return this._sashPosition},i.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},i.prototype._getViewZones=function(e,i,t,o,r){return new bZ(e,i,t).getViewZones()},i.prototype._getOriginalEditorDecorations=function(e,i,t,o,r){for(var n=this._removeColor.toString(),a={decorations:[],overviewZones:[]},d=o.getModel(),s=0,l=e.length;s<l;s++){var h=e[s];if(Gg(h)&&(a.decorations.push({range:new j(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE),options:t?Pa.lineDeleteWithSign:Pa.lineDelete}),Fg(h)&&h.charChanges||a.decorations.push(ed(h.originalStartLineNumber,1,h.originalEndLineNumber,Number.MAX_VALUE,Pa.charDeleteWholeLine)),a.overviewZones.push(new ri(h.originalStartLineNumber,h.originalEndLineNumber,n)),h.charChanges))for(var m=0,p=h.charChanges.length;m<p;m++){var u=h.charChanges[m];if(Gg(u))if(i)for(var c=u.originalStartLineNumber;c<=u.originalEndLineNumber;c++){var f=void 0,g=void 0;f=c===u.originalStartLineNumber?u.originalStartColumn:d.getLineFirstNonWhitespaceColumn(c),g=c===u.originalEndLineNumber?u.originalEndColumn:d.getLineLastNonWhitespaceColumn(c),a.decorations.push(ed(c,f,c,g,Pa.charDelete))}else a.decorations.push(ed(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn,Pa.charDelete))}}return a},i.prototype._getModifiedEditorDecorations=function(e,i,t,o,r){for(var n=this._insertColor.toString(),a={decorations:[],overviewZones:[]},d=r.getModel(),s=0,l=e.length;s<l;s++){var h=e[s];if(Fg(h)&&(a.decorations.push({range:new j(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:t?Pa.lineInsertWithSign:Pa.lineInsert}),Gg(h)&&h.charChanges||a.decorations.push(ed(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,Pa.charInsertWholeLine)),a.overviewZones.push(new ri(h.modifiedStartLineNumber,h.modifiedEndLineNumber,n)),h.charChanges))for(var m=0,p=h.charChanges.length;m<p;m++){var u=h.charChanges[m];if(Fg(u))if(i)for(var c=u.modifiedStartLineNumber;c<=u.modifiedEndLineNumber;c++){var f=void 0,g=void 0;f=c===u.modifiedStartLineNumber?u.modifiedStartColumn:d.getLineFirstNonWhitespaceColumn(c),g=c===u.modifiedEndLineNumber?u.modifiedEndColumn:d.getLineLastNonWhitespaceColumn(c),a.decorations.push(ed(c,f,c,g,Pa.charInsert))}else a.decorations.push(ed(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,Pa.charInsert))}}return a},i.MINIMUM_EDITOR_WIDTH=100,i}(fF),bZ=function(e){function i(i,t,o){return e.call(this,i,t,o)||this}return Dg(i,e),i.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},i.prototype._produceOriginalFromDiff=function(e,i,t){return t>i?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t-i,domNode:null}:null},i.prototype._produceModifiedFromDiff=function(e,i,t){return i>t?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:i-t,domNode:null}:null},i}(hF),jF=function(e){function i(i,t){var o=e.call(this,i)||this;return o.decorationsLeft=i.getOriginalEditor().getLayoutInfo().decorationsLeft,o._register(i.getOriginalEditor().onDidLayoutChange(function(e){o.decorationsLeft!==e.decorationsLeft&&(o.decorationsLeft=e.decorationsLeft,i.relayoutEditors())})),o}return Dg(i,e),i.prototype.setEnableSplitViewResizing=function(e){},i.prototype._getViewZones=function(e,i,t,o,r,n){return new cZ(e,i,t,o,r,n).getViewZones()},i.prototype._getOriginalEditorDecorations=function(e,i,t,o,r){for(var n=this._removeColor.toString(),a={decorations:[],overviewZones:[]},d=0,s=e.length;d<s;d++){var l=e[d];Gg(l)&&(a.decorations.push({range:new j(l.originalStartLineNumber,1,l.originalEndLineNumber,Number.MAX_VALUE),options:Pa.lineDeleteMargin}),a.overviewZones.push(new ri(l.originalStartLineNumber,l.originalEndLineNumber,n)))}return a},i.prototype._getModifiedEditorDecorations=function(e,i,t,o,r){for(var n=this._insertColor.toString(),a={decorations:[],overviewZones:[]},d=r.getModel(),s=0,l=e.length;s<l;s++){var h=e[s];if(Fg(h))if(a.decorations.push({range:new j(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE),options:t?Pa.lineInsertWithSign:Pa.lineInsert}),a.overviewZones.push(new ri(h.modifiedStartLineNumber,h.modifiedEndLineNumber,n)),h.charChanges)for(var m=0,p=h.charChanges.length;m<p;m++){var u=h.charChanges[m];if(Fg(u))if(i)for(var c=u.modifiedStartLineNumber;c<=u.modifiedEndLineNumber;c++){var f=void 0,g=void 0;f=c===u.modifiedStartLineNumber?u.modifiedStartColumn:d.getLineFirstNonWhitespaceColumn(c),g=c===u.modifiedEndLineNumber?u.modifiedEndColumn:d.getLineLastNonWhitespaceColumn(c),a.decorations.push(ed(c,f,c,g,Pa.charInsert))}else a.decorations.push(ed(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,Pa.charInsert))}else a.decorations.push(ed(h.modifiedStartLineNumber,1,h.modifiedEndLineNumber,Number.MAX_VALUE,Pa.charInsertWholeLine))}return a},i.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},i}(fF),cZ=function(e){function i(i,t,o,r,n,a){var d=e.call(this,i,t,o)||this;return d.originalModel=r.getModel(),d.modifiedEditorConfiguration=n.getConfiguration(),d.modifiedEditorTabSize=n.getModel().getOptions().tabSize,d.renderIndicators=a,d}return Dg(i,e),i.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e},i.prototype._produceOriginalFromDiff=function(e,i,t){var o=document.createElement("div");return o.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:t,domNode:document.createElement("div"),marginDomNode:o}},i.prototype._produceModifiedFromDiff=function(e,i,t){var o=[];if(e.charChanges)for(var r=0,n=e.charChanges.length;r<n;r++){var a=e.charChanges[r];Gg(a)&&o.push(new Yk(new j(a.originalStartLineNumber,a.originalStartColumn,a.originalEndLineNumber,a.originalEndColumn),"char-delete",0))}for(var d=fq(1e4),s=[],l=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth,h=this.modifiedEditorConfiguration.lineHeight,m=this.modifiedEditorConfiguration.fontInfo.typicalHalfwidthCharacterWidth,p=0,u=e.originalStartLineNumber;u<=e.originalEndLineNumber;u++)if(p=Math.max(p,this._renderOriginalLine(u-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,u,o,d)),this.renderIndicators){var c=u-e.originalStartLineNumber;s=s.concat(["<div class=\"delete-sign\" style=\"position:absolute;top:"+c*h+"px;width:"+l+"px;height:"+h+"px;right:0;\"></div>"])}p+=this.modifiedEditorConfiguration.viewInfo.scrollBeyondLastColumn;var f=document.createElement("div");f.className="view-lines line-delete",f.innerHTML=d.build(),mb.applyFontInfoSlow(f,this.modifiedEditorConfiguration.fontInfo);var g=document.createElement("div");return g.className="inline-deleted-margin-view-zone",g.innerHTML=s.join(""),mb.applyFontInfoSlow(g,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:i,minWidthInPx:p*m,domNode:f,marginDomNode:g}},i.prototype._renderOriginalLine=function(e,i,t,o,r,n,a){var d=i.getLineTokens(r),s=d.getLineContent(),l=Rh.filter(n,r,1,s.length+1);a.appendASCIIString("<div class=\"view-line"),0===n.length&&a.appendASCIIString(" char-delete"),a.appendASCIIString("\" style=\"top:"),a.appendASCIIString(String(e*t.lineHeight)),a.appendASCIIString("px;width:1000000px;\">");var h=gc.isBasicASCII(s,i.mightContainNonBasicASCII()),m=gc.containsRTL(s,h,i.mightContainRTL()),p=gq(new fg(t.fontInfo.isMonospace&&!t.viewInfo.disableMonospaceOptimizations,t.fontInfo.canUseHalfwidthRightwardsArrow,s,!1,h,m,0,d,l,o,t.fontInfo.spaceWidth,t.viewInfo.stopRenderingLineAfter,t.viewInfo.renderWhitespace,t.viewInfo.renderControlCharacters,t.viewInfo.fontLigatures),a);a.appendASCIIString("</div>");var u=p.characterMapping.getAbsoluteOffsets();return u.length>0?u[u.length-1]:0},i}(hF);function Fg(e){return e.modifiedEndLineNumber>0}function Gg(e){return e.originalEndLineNumber>0}function dZ(){var e=document.createElement("div");return e.className="diagonal-fill",e}Bb(function(e,i){var t=e.getColor(dD);t&&(i.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+t+"; }"),i.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+t+"; }"),i.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+t+"; }"));var o=e.getColor(eD);o&&(i.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+o+"; }"),i.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+o+"; }"),i.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+o+"; }"));var r=e.getColor(sV);r&&i.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var n=e.getColor(tV);n&&i.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+n+"; }");var a=e.getColor(pl);a&&i.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+a+"; }");var d=e.getColor(uV);d&&i.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+d+"; }")});var wi=L("themeService");var Hg=L("contextViewService");var eZ=L("contextMenuService");var Rd=L("keybindingService");var Js=Zc&&Zc.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Ks=Zc&&Zc.__decorate||function(e,r,t,o){var i,a=arguments.length,n=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,r,t,o);else for(var $=e.length-1;$>=0;$--)(i=e[$])&&(n=(a<3?i(n):a>3?i(r,t,n):i(r,t))||n);return a>3&&n&&Object.defineProperty(r,t,n),n},$=Zc&&Zc.__param||function(e,r){return function(t,o){r(t,o,e)}},fZ=0,gZ=!1;function hZ(){gZ||(gZ=!0,_T(document.body))}var Ls=function(e){function r(r,t,o,i,a,n,$,v,c,p){var d=this;return(t=t||{}).ariaLabel=t.ariaLabel||k.localize("editorViewAccessibleLabel","Editor content"),t.ariaLabel=t.ariaLabel+";"+(te?k.localize("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."):k.localize("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")),d=e.call(this,r,t,{},o,i,a,n,v,c,p)||this,$ instanceof Fq&&(d._standaloneKeybindingService=$),hZ(),d}return Js(r,e),r.prototype.addCommand=function(e,r,t){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var o="DYNAMIC_"+ ++fZ,i=lb.deserialize(t);return this._standaloneKeybindingService.addDynamicKeybinding(o,e,r,i),o},r.prototype.createContextKey=function(e,r){return this._contextKeyService.createKey(e,r)},r.prototype.addAction=function(e){var r=this;if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),B.None;var t=e.id,o=e.label,i=lb.and(lb.equals("editorId",this.getId()),lb.deserialize(e.precondition)),a=e.keybindings,n=lb.and(i,lb.deserialize(e.keybindingContext)),$=e.contextMenuGroupId||null,v=e.contextMenuOrder||0,c=function(){return Promise.resolve(e.run(r))},p=[],d=this.getId()+":"+t;if(p.push(Fd.registerCommand(d,c)),$){var s={command:{id:d,title:o},when:i,group:$,order:v};p.push(mg.appendMenuItem(7,s))}Array.isArray(a)&&(p=p.concat(a.map(function(e){return r._standaloneKeybindingService.addDynamicKeybinding(d,e,c,n)})));var C=new TE(d,o,o,i,c,this._contextKeyService);return this._actions[t]=C,p.push(ka(function(){delete r._actions[t]})),re(p)},r=Ks([$(2,vc),$(3,Sa),$(4,Qb),$(5,za),$(6,Rd),$(7,Ge),$(8,zc),$(9,ti)],r)}(As);Zc.StandaloneCodeEditor=Ls;var kF=function(e){function r(r,t,o,i,a,n,$,v,c,p,d,s,C){var l=this;Yh(s,t,!1),"string"==typeof(t=t||{}).theme&&p.setTheme(t.theme);var m,j=t.model;if(delete t.model,(l=e.call(this,r,t,i,a,n,$,v,p,d,C)||this)._contextViewService=c,l._configurationService=s,l._register(o),void 0===j?(m=self.monaco.editor.createModel(t.value||"",t.language||"text/plain"),l._ownsModel=!0):(m=j,l._ownsModel=!1),l._attachModel(m),m){var V={oldModelUrl:null,newModelUrl:m.uri};l._onDidChangeModel.fire(V)}return l}return Js(r,e),r.prototype.dispose=function(){e.prototype.dispose.call(this)},r.prototype.updateOptions=function(r){Yh(this._configurationService,r,!1),e.prototype.updateOptions.call(this,r)},r.prototype._attachModel=function(r){e.prototype._attachModel.call(this,r),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},r.prototype._postDetachModelCleanup=function(r){e.prototype._postDetachModelCleanup.call(this,r),r&&this._ownsModel&&(r.dispose(),this._ownsModel=!1)},r=Ks([$(3,vc),$(4,Sa),$(5,Qb),$(6,za),$(7,Rd),$(8,Hg),$(9,wi),$(10,zc),$(11,hc),$(12,ti)],r)}(Ls);Zc.StandaloneEditor=kF;var lF=function(e){function r(r,t,o,i,a,n,$,v,c,p,d,s){var C=this;return Yh(s,t,!0),"string"==typeof(t=t||{}).theme&&(t.theme=p.setTheme(t.theme)),(C=e.call(this,r,t,v,a,i,c,p,d)||this)._contextViewService=$,C._configurationService=s,C._register(o),C._contextViewService.setContainer(C._containerDomElement),C}return Js(r,e),r.prototype.dispose=function(){e.prototype.dispose.call(this)},r.prototype.updateOptions=function(r){Yh(this._configurationService,r,!0),e.prototype.updateOptions.call(this,r)},r.prototype._createInnerEditor=function(e,r,t){return e.createInstance(Ls,r,t)},r.prototype.getOriginalEditor=function(){return e.prototype.getOriginalEditor.call(this)},r.prototype.getModifiedEditor=function(){return e.prototype.getModifiedEditor.call(this)},r.prototype.addCommand=function(e,r,t){return this.getModifiedEditor().addCommand(e,r,t)},r.prototype.createContextKey=function(e,r){return this.getModifiedEditor().createContextKey(e,r)},r.prototype.addAction=function(e){return this.getModifiedEditor().addAction(e)},r=Ks([$(3,vc),$(4,za),$(5,Rd),$(6,Hg),$(7,Nk),$(8,Sa),$(9,wi),$(10,zc),$(11,hc)],r)}(Tl);Zc.StandaloneDiffEditor=lF;var Qia,iZ,xi={};var jZ=L("IWorkspaceEditService");var kZ=L("modeService");var Ms={};var lZ=function(){function e(e){this._languageIdentifier=e}return e.prototype.getId=function(){return this._languageIdentifier.language},e}();var Ns={};var fd={};var Ul="text/plain";fd.MIME_TEXT=Ul;var Os="application/unknown";fd.MIME_UNKNOWN=Os;var Ps=[],mF=[],nF=[];function mZ(e,n){void 0===n&&(n=!1);var i=nZ(e);Ps.push(i),i.userConfigured?nF.push(i):mF.push(i),n&&!i.userConfigured&&Ps.forEach(function(e){e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn("Overwriting extension <<"+i.extension+">> to now point to mime <<"+i.mime+">>"),i.filename&&e.filename===i.filename&&console.warn("Overwriting filename <<"+i.filename+">> to now point to mime <<"+i.mime+">>"),i.filepattern&&e.filepattern===i.filepattern&&console.warn("Overwriting filepattern <<"+i.filepattern+">> to now point to mime <<"+i.mime+">>"),i.firstline&&e.firstline===i.firstline&&console.warn("Overwriting firstline <<"+i.firstline+">> to now point to mime <<"+i.mime+">>"))})}function nZ(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(Wa.sep)>=0}}function oZ(e,n){if(!e)return[Os];e=e.toLowerCase();var i=LA(e),t=oF(e,i,nF);if(t)return[t,Ul];var r=oF(e,i,mF);if(r)return[r,Ul];if(n){var s=pZ(n);if(s)return[s,Ul]}return[Os]}function oF(e,n,i){for(var t=null,r=null,s=null,o=i.length-1;o>=0;o--){var $=i[o];if(n===$.filenameLowercase){t=$;break}if($.filepattern&&(!r||$.filepattern.length>r.filepattern.length)){var l=$.filepatternOnPath?e:n;eB($.filepatternLowercase,l)&&(r=$)}$.extension&&(!s||$.extension.length>s.extension.length)&&BA(n,$.extensionLowercase)&&(s=$)}return t?t.mime:r?r.mime:s?s.mime:null}function pZ(e){if(IA(e)&&(e=e.substr(1)),e.length>0)for(var n=0,i=Ps;n<i.length;n++){var t=i[n];if(t.firstline){var r=e.match(t.firstline);if(r&&r.length>0)return t.mime}}return null}fd.registerTextMime=mZ,fd.guessMimeTypes=oZ;var qZ={ModesRegistry:"editor.modesRegistry"};var rZ=function(){function e(){this._onDidChangeLanguages=new b,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidChangeLanguages.fire(void 0)},e.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},e}();var Ve=new rZ;Ab.add(qZ.ModesRegistry,Ve);var pF="plaintext";var qF=new Mp(pF,1);Ve.registerLanguage({id:pF,extensions:[".txt",".gitignore"],aliases:[k.localize("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),U.register(qF,{brackets:[["(",")"],["[","]"],["{","}"]]});var sZ=Ns&&Ns.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function a(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}(),We=Object.prototype.hasOwnProperty,rF=function(e){function r(r,t){void 0===r&&(r=!0),void 0===t&&(t=!1);var a=e.call(this)||this;return a._onDidChange=a._register(new b),a.onDidChange=a._onDidChange.event,a._warnOnOverwrite=t,a._nextLanguageId2=1,a._languageIdToLanguage=[],a._languageToLanguageId=Object.create(null),a._languages={},a._mimeTypesMap={},a._nameMap={},a._lowercaseNameMap={},r&&(a._initializeFromRegistry(),a._register(Ve.onDidChangeLanguages(function(e){return a._initializeFromRegistry()}))),a}return sZ(r,e),r.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var e=Ve.getLanguages();this._registerLanguages(e)},r.prototype._registerLanguages=function(e){for(var r=this,t=0,a=e;t<a.length;t++){var i=a[t];this._registerLanguage(i)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(function(e){var t=r._languages[e];t.name&&(r._nameMap[t.name]=t.identifier),t.aliases.forEach(function(e){r._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(function(e){r._mimeTypesMap[e]=t.identifier})}),Ab.as(jg.Configuration).registerOverrideIdentifiers(Ve.getLanguages().map(function(e){return e.id})),this._onDidChange.fire()},r.prototype._getLanguageId=function(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];var r=this._nextLanguageId2++;return this._languageIdToLanguage[r]=e,this._languageToLanguageId[e]=r,r},r.prototype._registerLanguage=function(e){var r,t=e.id;if(We.call(this._languages,t))r=this._languages[t];else{var a=this._getLanguageId(t);r={identifier:new Mp(t,a),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=r}this._mergeLanguage(r,e)},r.prototype._mergeLanguage=function(e,r){var t,a=r.id,i=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&((t=e.mimetypes).push.apply(t,r.mimetypes),i=r.mimetypes[0]),i||(i="text/x-"+a,e.mimetypes.push(i)),Array.isArray(r.extensions))for(var n=0,s=r.extensions;n<s.length;n++){var o=s[n];fd.registerTextMime({id:a,mime:i,extension:o},this._warnOnOverwrite),e.extensions.push(o)}if(Array.isArray(r.filenames))for(var g=0,p=r.filenames;g<p.length;g++){var u=p[g];fd.registerTextMime({id:a,mime:i,filename:u},this._warnOnOverwrite),e.filenames.push(u)}if(Array.isArray(r.filenamePatterns))for(var m=0,l=r.filenamePatterns;m<l.length;m++){var $=l[m];fd.registerTextMime({id:a,mime:i,filepattern:$},this._warnOnOverwrite)}if("string"==typeof r.firstLine&&r.firstLine.length>0){var c=r.firstLine;"^"!==c.charAt(0)&&(c="^"+c);try{var f=new RegExp(c);z.regExpLeadsToEndlessLoop(f)||fd.registerTextMime({id:a,mime:i,firstline:f},this._warnOnOverwrite)}catch(Y){S(Y)}}e.aliases.push(a);var h=null;if(void 0!==r.aliases&&Array.isArray(r.aliases)&&(h=0===r.aliases.length?[null]:r.aliases),null!==h)for(var _=0,y=h;_<y.length;_++){var d=y[_];d&&0!==d.length&&e.aliases.push(d)}var v=null!==h&&h.length>0;if(v&&null===h[0]);else{var B=(v?h[0]:null)||a;!v&&e.name||(e.name=B)}r.configuration&&e.configurationFiles.push(r.configuration)},r.prototype.isRegisteredMode=function(e){return!!We.call(this._mimeTypesMap,e)||We.call(this._languages,e)},r.prototype.getModeIdForLanguageNameLowercase=function(e){return We.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null},r.prototype.extractModeIds=function(e){var r=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return We.call(r._mimeTypesMap,e)?r._mimeTypesMap[e].language:e}).filter(function(e){return We.call(r._languages,e)}):[]},r.prototype.getLanguageIdentifier=function(e){if(e===$p||0===e)return Mk;var r;if("string"==typeof e)r=e;else if(!(r=this._languageIdToLanguage[e]))return null;return We.call(this._languages,r)?this._languages[r].identifier:null},r.prototype.getModeIdsFromFilepathOrFirstLine=function(e,r){if(!e&&!r)return[];var t=fd.guessMimeTypes(e,r);return this.extractModeIds(t.join(","))},r}(B);Ns.LanguagesRegistry=rF;var tZ=Ms&&Ms.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sF=function(e){function t(t,r){var n=e.call(this)||this;return n._onDidChange=n._register(new b),n.onDidChange=n._onDidChange.event,n._selector=r,n.languageIdentifier=n._selector(),n._register(t(function(){return n._evaluate()})),n}return tZ(t,e),t.prototype._evaluate=function(){var e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))},t}(B),tF=function(){function e(e){void 0===e&&(e=!1);var t=this;this._onDidCreateMode=new b,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new b,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new rF(!0,e),this._registry.onDidChange(function(){return t._onLanguagesMaybeChanged.fire()})}return e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeIdByFilepathOrFirstLine=function(e,t){var r=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return r.length>0?r[0]:null},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},e.prototype.create=function(e){var t=this;return new sF(this.onLanguagesMaybeChanged,function(){var r=t.getModeId(e);return t._createModeAndGetLanguageIdentifier(r)})},e.prototype.createByFilepathOrFirstLine=function(e,t){var r=this;return new sF(this.onLanguagesMaybeChanged,function(){var n=r.getModeIdByFilepathOrFirstLine(e,t);return r._createModeAndGetLanguageIdentifier(n)})},e.prototype._createModeAndGetLanguageIdentifier=function(e){var t=this.getLanguageIdentifier(e||"plaintext")||Mk;return this._getOrCreateMode(t.language),t},e.prototype.triggerMode=function(e){var t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")},e.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e)||Mk;this._instantiatedModes[e]=new lZ(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},e}();Ms.ModeServiceImpl=tF;var Xe={};var uZ=Xe&&Xe.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),vZ=Xe&&Xe.__decorate||function(e,t,o,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(r<3?n(a):r>3?n(t,o,a):n(t,o))||a);return r>3&&a&&Object.defineProperty(t,o,a),a},uF=Xe&&Xe.__param||function(e,t){return function(o,i){t(o,i,e)}};function Vl(e){return e.toString()}var wZ=function(){function e(e,t,o){this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners=[],this._modelEventListeners.push(e.onWillDispose(function(){return t(e)})),this._modelEventListeners.push(e.onDidChangeLanguage(function(t){return o(e,t)}))}return e.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},e.prototype.dispose=function(){this._modelEventListeners=C(this._modelEventListeners),this._disposeLanguageSelection()},e.prototype.setLanguage=function(e){var t=this;this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(function(){return t.model.setMode(e.languageIdentifier)}),this.model.setMode(e.languageIdentifier)},e}(),xZ=zd||Z?1:2,vF=function(e){function t(t,o){var i=e.call(this)||this;return i._onModelAdded=i._register(new b),i.onModelAdded=i._onModelAdded.event,i._onModelRemoved=i._register(new b),i.onModelRemoved=i._onModelRemoved.event,i._onModelModeChanged=i._register(new b),i.onModelModeChanged=i._onModelModeChanged.event,i._configurationService=t,i._resourcePropertiesService=o,i._models={},i._modelCreationOptionsByLanguageAndResource=Object.create(null),i._configurationServiceSubscription=i._configurationService.onDidChangeConfiguration(function(e){return i._updateModelOptions()}),i._updateModelOptions(),i}return uZ(t,e),t._readModelOptions=function(e,t){var o=Nb.tabSize;if(e.editor&&void 0!==e.editor.tabSize){var i=parseInt(e.editor.tabSize,10);isNaN(i)||(o=i),o<1&&(o=1)}var n=o;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){var r=parseInt(e.editor.indentSize,10);isNaN(r)||(n=r),n<1&&(n=1)}var a=Nb.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(a="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));var s=xZ,d=e.eol;"\r\n"===d?s=2:"\n"===d&&(s=1);var l=Nb.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(l="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var p=Nb.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(p="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));var u=Nb.largeFileOptimizations;return e.editor&&void 0!==e.editor.largeFileOptimizations&&(u="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:o,indentSize:n,insertSpaces:a,detectIndentation:p,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:u}},t.prototype.getCreationOptions=function(e,o,i){var n=this._modelCreationOptionsByLanguageAndResource[e+o];if(!n){var r=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:o}),a=this._resourcePropertiesService.getEOL(o,e);n=t._readModelOptions({editor:r,eol:a},i),this._modelCreationOptionsByLanguageAndResource[e+o]=n}return n},t.prototype._updateModelOptions=function(){var e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var o=Object.keys(this._models),i=0,n=o.length;i<n;i++){var r=o[i],a=this._models[r],s=a.model.getLanguageIdentifier().language,d=a.model.uri,l=e[s+d],p=this.getCreationOptions(s,d,a.model.isForSimpleWidget);t._setModelOptionsForModel(a.model,p,l)}},t._setModelOptionsForModel=function(e,t,o){o&&o.detectIndentation===t.detectIndentation&&o.insertSpaces===t.insertSpaces&&o.tabSize===t.tabSize&&o.indentSize===t.indentSize&&o.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))},t.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),e.prototype.dispose.call(this)},t.prototype._createModelData=function(e,t,o,i){var n=this,r=this.getCreationOptions(t.language,o,i),a=new Ir(e,r,t,o),s=Vl(a.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");var d=new wZ(a,function(e){return n._onWillDispose(e)},function(e,t){return n._onDidChangeLanguage(e,t)});return this._models[s]=d,d},t.prototype.createModel=function(e,t,o,i){var n;return void 0===i&&(i=!1),t?(n=this._createModelData(e,t.languageIdentifier,o,i),this.setMode(n.model,t)):n=this._createModelData(e,qF,o,i),this._onModelAdded.fire(n.model),n.model},t.prototype.setMode=function(e,t){if(t){var o=this._models[Vl(e.uri)];o&&o.setLanguage(t)}},t.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),o=0,i=t.length;o<i;o++){var n=t[o];e.push(this._models[n].model)}return e},t.prototype.getModel=function(e){var t=Vl(e),o=this._models[t];return o?o.model:null},t.prototype._onWillDispose=function(e){var t=Vl(e.uri),o=this._models[t];delete this._models[t],o.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri],this._onModelRemoved.fire(e)},t.prototype._onDidChangeLanguage=function(e,o){var i=o.oldLanguage,n=e.getLanguageIdentifier().language,r=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),a=this.getCreationOptions(n,e.uri,e.isForSimpleWidget);t._setModelOptionsForModel(e,a,r),this._onModelModeChanged.fire({model:e,oldModeId:i})},t=vZ([uF(0,hc),uF(1,yB)],t)}(B);Xe.ModelServiceImpl=vF;var Qs={};var Ye={};var Rs={};var yZ=Rs&&Rs.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),wF=function(t){function e(){var e=t.call(this)||this;return e._onCodeEditorAdd=e._register(new b),e.onCodeEditorAdd=e._onCodeEditorAdd.event,e._onCodeEditorRemove=e._register(new b),e._onDiffEditorAdd=e._register(new b),e._onDiffEditorRemove=e._register(new b),e._codeEditors=Object.create(null),e._diffEditors=Object.create(null),e}return yZ(e,t),e.prototype.addCodeEditor=function(t){this._codeEditors[t.getId()]=t,this._onCodeEditorAdd.fire(t)},e.prototype.removeCodeEditor=function(t){delete this._codeEditors[t.getId()]&&this._onCodeEditorRemove.fire(t)},e.prototype.listCodeEditors=function(){var t=this;return Object.keys(this._codeEditors).map(function(e){return t._codeEditors[e]})},e.prototype.addDiffEditor=function(t){this._diffEditors[t.getId()]=t,this._onDiffEditorAdd.fire(t)},e.prototype.removeDiffEditor=function(t){delete this._diffEditors[t.getId()]&&this._onDiffEditorRemove.fire(t)},e.prototype.listDiffEditors=function(){var t=this;return Object.keys(this._diffEditors).map(function(e){return t._diffEditors[e]})},e.prototype.getFocusedCodeEditor=function(){for(var t=null,e=0,o=this.listCodeEditors();e<o.length;e++){var r=o[e];if(r.hasTextFocus())return r;r.hasWidgetFocus()&&(t=r)}return t},e}(B);Rs.AbstractCodeEditorService=wF;var zZ=Ye&&Ye.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),AZ=Ye&&Ye.__decorate||function(e,t,r,o){var i,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(n=(a<3?i(n):a>3?i(t,r,n):i(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n},BZ=Ye&&Ye.__param||function(e,t){return function(r,o){t(r,o,e)}},xF=function(e){function t(t,r){void 0===r&&(r=q.createStyleSheet());var o=e.call(this)||this;return o._styleSheet=r,o._decorationOptionProviders=Object.create(null),o._themeService=t,o}return zZ(t,e),t.prototype.registerDecorationType=function(e,t,r){var o=this._decorationOptionProviders[e];if(!o){var i={styleSheet:this._styleSheet,key:e,parentTypeKey:r,options:t||Object.create(null)};o=r?new CZ(this._themeService,i):new DZ(this._themeService,i),this._decorationOptionProviders[e]=o}o.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e)})))},t.prototype.resolveDecorationOptions=function(e,t){var r=this._decorationOptionProviders[e];if(!r)throw new Error("Unknown decoration type key: "+e);return r.getOptions(this,t)},t=AZ([BZ(0,Ge)],t)}(wF);Ye.CodeEditorServiceImpl=xF;var CZ=function(){function e(e,t){this._parentTypeKey=t.parentTypeKey,this.refCount=0,this._beforeContentRules=new Wl(3,t,e),this._afterContentRules=new Wl(4,t,e)}return e.prototype.getOptions=function(e,t){var r=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(r.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(r.afterContentClassName=this._afterContentRules.className),r},e.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null)},e}(),DZ=function(){function e(e,t){var r=this;this.refCount=0,this._disposables=[];var o=function(o){var i=new Wl(o,t,e);if(r._disposables.push(i),i.hasContent)return i.className};this.className=o(0);var i,a=(i=new Wl(1,t,e),r._disposables.push(i),i.hasContent?{className:i.className,hasLetterSpacing:i.hasLetterSpacing}:null);a&&(this.inlineClassName=a.className,this.inlineClassNameAffectsLetterSpacing=a.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),this.glyphMarginClassName=o(2);var n=t.options;this.isWholeLine=Boolean(n.isWholeLine),this.stickiness=n.rangeBehavior;var s=n.light&&n.light.overviewRulerColor||n.overviewRulerColor,l=n.dark&&n.dark.overviewRulerColor||n.overviewRulerColor;void 0===s&&void 0===l||(this.overviewRuler={color:s||l,darkColor:l||s,position:n.overviewRulerLane||Bk.Center})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposables=C(this._disposables)},e}(),yi={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},Wl=function(){function e(e,t,r){var o=this;this._theme=r.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var i=Ss.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(i=i+" "+Ss.getClassName(this._providerArgs.parentTypeKey,e)),this._className=i,this._unThemedSelector=Ss.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=r.onThemeChange(function(e){o._theme=r.getTheme(),o._removeCSS(),o._buildCSS()}):this._themeListener=null}return e.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(e.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),e.prototype._buildCSS=function(){var e,t,r,o=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(o),t=this.getCSSTextForModelDecorationClassName(o.light),r=this.getCSSTextForModelDecorationClassName(o.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(o),t=this.getCSSTextForModelDecorationInlineClassName(o.light),r=this.getCSSTextForModelDecorationInlineClassName(o.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(o),t=this.getCSSTextForModelDecorationGlyphMarginClassName(o.light),r=this.getCSSTextForModelDecorationGlyphMarginClassName(o.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(o.before),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.before),r=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(o.after),t=this.getCSSTextForModelDecorationContentClassName(o.light&&o.light.after),r=this.getCSSTextForModelDecorationContentClassName(o.dark&&o.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType);}var i=this._providerArgs.styleSheet.sheet,a=!1;e.length>0&&(i.insertRule(this._unThemedSelector+" {"+e+"}",0),a=!0),t.length>0&&(i.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),a=!0),r.length>0&&(i.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+r+"}",0),a=!0),this._hasContent=a},e.prototype._removeCSS=function(){q.removeCSSRulesContainingSelector(this._unThemedSelector,this._providerArgs.styleSheet)},e.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},e.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},e.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(z.format(yi.contentIconPath,hb.revive(e.contentIconPath).toString(!0).replace(/'/g,"%27"))),"string"==typeof e.contentText){var r=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(z.format(yi.contentText,r))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},e.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return void 0!==e.gutterIconPath&&(t.push(z.format(yi.gutterIconPath,hb.revive(e.gutterIconPath).toString(!0).replace(/'/g,"%27"))),void 0!==e.gutterIconSize&&t.push(z.format(yi.gutterIconSize,e.gutterIconSize))),t.join("")},e.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(z.format("box-sizing: border-box;")),!0)},e.prototype.collectCSSText=function(e,t,r){for(var o=r.length,i=0,a=t;i<a.length;i++){var n=a[i],s=this.resolveValue(e[n]);"string"==typeof s&&r.push(z.format(yi[n],s))}return r.length!==o},e.prototype.resolveValue=function(e){if(kR(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},e}(),Ss=function(){function e(){}return e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,r){var o=".monaco-editor ."+this.getClassName(e,r);return t&&(o=o+"."+this.getClassName(t,r)),3===r?o+="::before":4===r&&(o+="::after"),o},e}();var EZ=Qs&&Qs.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),yF=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return EZ(r,e),r.prototype.getActiveCodeEditor=function(){return null},r.prototype.openCodeEditor=function(e,r,t){return r?Promise.resolve(this.doOpenEditor(r,e)):Promise.resolve(null)},r.prototype.doOpenEditor=function(e,r){if(!this.findModel(e,r.resource)){if(r.resource){var t=r.resource.scheme;if(t===Ga.http||t===Ga.https)return uA(r.resource.toString()),e}return null}var o=r.options?r.options.selection:null;if(o)if("number"==typeof o.endLineNumber&&"number"==typeof o.endColumn)e.setSelection(o),e.revealRangeInCenter(o,1);else{var n={lineNumber:o.startLineNumber,column:o.startColumn};e.setPosition(n),e.revealPositionInCenter(n,1)}return e},r.prototype.findModel=function(e,r){var t=e.getModel();return t&&t.uri.toString()!==r.toString()?null:t},r}(xF);Qs.StandaloneCodeEditorServiceImpl=yF;var FZ=function(){return function(e,t,r,o,n){this.token=e,this.index=t,this.fontStyle=r,this.foreground=o,this.background=n}}();function GZ(e){if(!e||!Array.isArray(e))return[];for(var t=[],r=0,o=0,n=e.length;o<n;o++){var a=e[o],i=-1;if("string"==typeof a.fontStyle){i=0;for(var s=a.fontStyle.split(" "),$=0,m=s.length;$<m;$++){switch(s[$]){case"italic":i|=1;break;case"bold":i|=2;break;case"underline":i|=4;}}}var u=null;"string"==typeof a.foreground&&(u=a.foreground);var h=null;"string"==typeof a.background&&(h=a.background),t[r++]=new FZ(a.token||"",o,i,u,h)}return t}function HZ(e,t){e.sort(function(e,t){var r=MZ(e.token,t.token);return 0!==r?r:e.index-t.index});for(var r=0,o="000000",n="ffffff";e.length>=1&&""===e[0].token;){var a=e.shift();-1!==a.fontStyle&&(r=a.fontStyle),null!==a.foreground&&(o=a.foreground),null!==a.background&&(n=a.background)}for(var i=new JZ,s=0,$=t;s<$.length;s++){var m=$[s];i.getId(m)}for(var u=i.getId(o),h=i.getId(n),l=new NZ(r,u,h),c=new OZ(l),p=0,f=e.length;p<f;p++){var d=e[p];c.insert(d.token,d.fontStyle,i.getId(d.foreground),i.getId(d.background))}return new zF(i,c)}var IZ=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,JZ=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return e.prototype.getId=function(e){if(null===e)return 0;var t=e.match(IZ);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var r=this._color2id.get(e);return r||(r=++this._lastColorId,this._color2id.set(e,r),this._id2color[r]=c.fromHex("#"+e),r)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();var zF=function(){function e(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return e.createFromRawTokenTheme=function(e,t){return this.createFromParsedTokenTheme(GZ(e),t)},e.createFromParsedTokenTheme=function(e,t){return HZ(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype._match=function(e){return this._root.match(e)},e.prototype.match=function(e,t){var r=this._cache.get(t);if(void 0===r){var o=this._match(t),n=LZ(t);r=(o.metadata|n<<8)>>>0,this._cache.set(t,r)}return(r|e<<0)>>>0},e}();var KZ=/\b(comment|string|regex|regexp)\b/;function LZ(e){var t=e.match(KZ);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4;}throw new Error("Unexpected match for standard token type!")}function MZ(e,t){return e<t?-1:e>t?1:0}var NZ=function(){function e(e,t,r){this._fontStyle=e,this._foreground=t,this._background=r,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return e.prototype.clone=function(){return new e(this._fontStyle,this._foreground,this._background)},e.prototype.acceptOverwrite=function(e,t,r){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==r&&(this._background=r),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},e}();var OZ=function(){function e(e){this._mainRule=e,this._children=new Map}return e.prototype.match=function(e){if(""===e)return this._mainRule;var t,r,o=e.indexOf(".");-1===o?(t=e,r=""):(t=e.substring(0,o),r=e.substring(o+1));var n=this._children.get(t);return void 0!==n?n.match(r):this._mainRule},e.prototype.insert=function(t,r,o,n){if(""!==t){var a,i,s=t.indexOf(".");-1===s?(a=t,i=""):(a=t.substring(0,s),i=t.substring(s+1));var $=this._children.get(a);void 0===$&&($=new e(this._mainRule.clone()),this._children.set(a,$)),$.insert(i,r,o,n)}else this._mainRule.acceptOverwrite(r,o,n)},e}();function PZ(e){for(var t=[],r=1,o=e.length;r<o;r++){var n=e[r];t[r]=".mtk"+r+" { color: "+n+"; }"}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}var Ze,$e,zi;var QZ={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(Ze={},Ze[Bc]="#FFFFFE",Ze[ql]="#000000",Ze[mr]="#E5EBF1",Ze[sl]="#D3D3D3",Ze[tl]="#939393",Ze[bD]="#ADD6FF4D",Ze)};var RZ={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:($e={},$e[Bc]="#1E1E1E",$e[ql]="#D4D4D4",$e[mr]="#3A3D41",$e[sl]="#404040",$e[tl]="#707070",$e[bD]="#ADD6FF26",$e)};var SZ={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(zi={},zi[Bc]="#000000",zi[ql]="#FFFFFF",zi[sl]="#FFFFFF",zi[tl]="#FFFFFF",zi)};var _e="vs",Xl="vs-dark",Ai="hc-black",TZ=Ab.as(TC.ColorContribution),UZ=Ab.as(KC.ThemingContribution),AF=function(){function e(e,t){this.themeData=t;var r=t.base;e.length>0?(this.id=r+" "+e,this.themeName=e):(this.id=r,this.themeName=r),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(e.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),e.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},e.prototype.getColors=function(){if(!this.colors){var e=Object.create(null);for(var t in this.themeData.colors)e[t]=c.fromHex(this.themeData.colors[t]);if(this.themeData.inherit){var r=Us(this.themeData.base);for(var t in r.colors)e[t]||(e[t]=c.fromHex(r.colors[t]))}this.colors=e}return this.colors},e.prototype.getColor=function(e,t){var r=this.getColors()[e];return r||(!1!==t?this.getDefault(e):void 0)},e.prototype.getDefault=function(e){var t=this.defaultColors[e];return t||(t=TZ.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)},e.prototype.defines=function(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)},Object.defineProperty(e.prototype,"type",{get:function(){switch(this.base){case _e:return"light";case Ai:return"hc";default:return"dark";}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var e=[],t=[];if(this.themeData.inherit){var r=Us(this.themeData.base);e=r.rules,r.encodedTokensColors&&(t=r.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=zF.createFromRawTokenTheme(e,t)}return this._tokenTheme},enumerable:!0,configurable:!0}),e}();function Ts(e){return e===_e||e===Xl||e===Ai}function Us(e){switch(e){case _e:return QZ;case Xl:return RZ;case Ai:return SZ;}}function Vs(e){var t=Us(e);return new AF(e,t)}var VZ=function(){function e(){this.environment=Object.create(null),this._onThemeChange=new b,this._onIconThemeChange=new b,this._knownThemes=new Map,this._knownThemes.set(_e,Vs(_e)),this._knownThemes.set(Xl,Vs(Xl)),this._knownThemes.set(Ai,Vs(Ai)),this._styleElement=q.createStyleSheet(),this._styleElement.className="monaco-colors",this.setTheme(_e)}return Object.defineProperty(e.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Ts(t.base)&&!Ts(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new AF(e,t)),Ts(e)&&this._knownThemes.forEach(function(t){t.base===e&&t.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)},e.prototype.getTheme=function(){return this._theme},e.prototype.setTheme=function(e){var t,r=this;if(t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(_e),this._theme===t)return t.id;this._theme=t;var o=[],n={},i={addRule:function(e){n[e]||(o.push(e),n[e]=!0)}};UZ.getThemingParticipants().forEach(function(e){return e(t,i,r.environment)});var $=t.tokenTheme.getColorMap();return i.addRule(PZ($)),this._styleElement.innerHTML=o.join("\n"),ca.setColorMap($),this._onThemeChange.fire(t),t.id},e.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},e}();var gd={};var Yl=gd&&gd.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),WZ=gd&&gd.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},XZ=gd&&gd.__param||function(t,e){return function(n,o){e(n,o,t)}},Zl="data-keybinding-context",$l=function(){function t(t,e){this._id=t,this._parent=e,this._value=Object.create(null),this._value._contextId=t}return t.prototype.setValue=function(t,e){return this._value[t]!==e&&(this._value[t]=e,!0)},t.prototype.removeValue=function(t){return t in this._value&&(delete this._value[t],!0)},t.prototype.getValue=function(t){var e=this._value[t];return void 0===e&&this._parent?this._parent.getValue(t):e},t}();gd.Context=$l;var Ws=function(t){function e(){return t.call(this,-1,null)||this}return Yl(e,t),e.prototype.setValue=function(t,e){return!1},e.prototype.removeValue=function(t){return!1},e.prototype.getValue=function(t){},e.INSTANCE=new e,e}($l),YZ=function(t){function e(e,n,o){var r=t.call(this,e,null)||this;return r._configurationService=n,r._values=new Map,r._listener=r._configurationService.onDidChangeConfiguration(function(t){if(4===t.source){var e=Dk(r._values);r._values.clear(),o.fire(e)}else{for(var n=[],i=0,s=t.affectedKeys;i<s.length;i++){var a="config."+s[i];r._values.has(a)&&(r._values.delete(a),n.push(a))}o.fire(n)}}),r}return Yl(e,t),e.prototype.dispose=function(){this._listener.dispose()},e.prototype.getValue=function(n){if(0!==n.indexOf(e._keyPrefix))return t.prototype.getValue.call(this,n);if(this._values.has(n))return this._values.get(n);var o=n.substr(e._keyPrefix.length),r=this._configurationService.getValue(o),i=void 0;switch(typeof r){case"number":case"boolean":case"string":i=r;}return this._values.set(n,i),i},e.prototype.setValue=function(e,n){return t.prototype.setValue.call(this,e,n)},e.prototype.removeValue=function(e){return t.prototype.removeValue.call(this,e)},e._keyPrefix="config.",e}($l),ZZ=function(){function t(t,e,n){this._parent=t,this._key=e,this._defaultValue=n,this.reset()}return t.prototype.set=function(t){this._parent.setContext(this._key,t)},t.prototype.reset=function(){void 0===this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},t.prototype.get=function(){return this._parent.getContextKeyValue(this._key)},t}(),$Z=function(){function t(t){this._key=t}return t.prototype.affectsSome=function(t){return t.has(this._key)},t}(),_Z=function(){function t(t){this._keys=t}return t.prototype.affectsSome=function(t){for(var e=0,n=this._keys;e<n.length;e++){var o=n[e];if(t.has(o))return!0}return!1},t}(),Xs=function(){function t(t){this._isDisposed=!1,this._myContextId=t,this._onDidChangeContextKey=new b}return t.prototype.createKey=function(t,e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new ZZ(this,t,e)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=u.map(this._onDidChangeContextKey.event,function(t){return"string"==typeof t?new $Z(t):new _Z(t)})),this._onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.createScoped=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new a$(this,this._onDidChangeContextKey,t)},t.prototype.contextMatchesRules=function(t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var e=this.getContextValuesContainer(this._myContextId);return aC.contextMatchesRules(e,t)},t.prototype.getContextKeyValue=function(t){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(t)},t.prototype.setContext=function(t,e){if(!this._isDisposed){var n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(t,e)&&this._onDidChangeContextKey.fire(t)}},t.prototype.removeContext=function(t){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(t)&&this._onDidChangeContextKey.fire(t)},t.prototype.getContext=function(t){return this._isDisposed?Ws.INSTANCE:this.getContextValuesContainer(b$(t))},t}();gd.AbstractContextKeyService=Xs;var BF=function(t){function e(e){var n=t.call(this,0)||this;n._toDispose=[],n._lastContextId=0,n._contexts=Object.create(null);var o=new YZ(n._myContextId,e,n._onDidChangeContextKey);return n._contexts[String(n._myContextId)]=o,n._toDispose.push(o),n}return Yl(e,t),e.prototype.dispose=function(){this._isDisposed=!0,this._toDispose=C(this._toDispose)},e.prototype.getContextValuesContainer=function(t){return this._isDisposed?Ws.INSTANCE:this._contexts[String(t)]},e.prototype.createChildContext=function(t){if(void 0===t&&(t=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var e=++this._lastContextId;return this._contexts[String(e)]=new $l(e,this.getContextValuesContainer(t)),e},e.prototype.disposeContext=function(t){this._isDisposed||delete this._contexts[String(t)]},e=WZ([XZ(0,hc)],e)}(Xs);gd.ContextKeyService=BF;var a$=function(t){function e(e,n,o){var r=t.call(this,e.createChildContext())||this;return r._parent=e,r._onDidChangeContextKey=n,o&&(r._domNode=o,r._domNode.setAttribute(Zl,String(r._myContextId))),r}return Yl(e,t),e.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(Zl),this._domNode=void 0)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.getContextValuesContainer=function(t){return this._isDisposed?Ws.INSTANCE:this._parent.getContextValuesContainer(t)},e.prototype.createChildContext=function(t){if(void 0===t&&(t=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(t)},e.prototype.disposeContext=function(t){this._isDisposed||this._parent.disposeContext(t)},e}(Xs);function b$(t){for(;t;){if(t.hasAttribute(Zl)){var e=t.getAttribute(Zl);return e?parseInt(e,10):NaN}t=t.parentElement}return 0}Fd.registerCommand(_B,function(t,e,n){t.get(za).createKey(String(e),n)});var af={};var bf={};var Bi=bf&&bf.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function c$(){try{return new RegExp("\\(&([^\\s&])\\)|(?<!&)&([^\\s&])")}catch(e){return new RegExp("\uFFFF")}}var _l=c$();function d$(){try{return new RegExp("(?<!&amp;)(?:&amp;)([^\\s&])")}catch(e){return new RegExp("\uFFFF")}}bf.MENU_MNEMONIC_REGEX=_l;var CF=d$();bf.MENU_ESCAPED_MNEMONIC_REGEX=CF;var DF=function(e){function t(t,n,i){var o=e.call(this,i||"submenu",t,"",!0)||this;return o.entries=n,o}return Bi(t,e),t}(De);bf.SubmenuAction=DF;var Ys=function(e){function t(t,n,i){void 0===i&&(i={});var o=this;jb(t,"monaco-menu-container"),t.setAttribute("role","presentation");var s=document.createElement("div");jb(s,"monaco-menu"),s.setAttribute("role","presentation"),(o=e.call(this,s,{orientation:2,actionItemProvider:function(e){return o.doGetActionItem(e,i,r)},context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3],keyDown:!0}})||this).menuElement=s,o._onScroll=o._register(new b),o.actionsList.setAttribute("role","menu"),o.actionsList.tabIndex=0,o.menuDisposables=[],i.enableMnemonics&&o.menuDisposables.push(la(s,wa.KEY_DOWN,function(e){var t=e.key.toLocaleLowerCase();if(o.mnemonics.has(t)){Ua.stop(e,!0);var n=o.mnemonics.get(t);if(1===n.length&&(n[0]instanceof EF&&o.focusItemByElement(n[0].container),n[0].onClick(e)),n.length>1){var i=n.shift();i&&(o.focusItemByElement(i.container),n.push(i)),o.mnemonics.set(t,n)}}})),zd&&o._register(la(s,wa.KEY_DOWN,function(e){var t=new Fa(e);t.equals(14)||t.equals(11)?(o.focusedItem=o.items.length-1,o.focusNext(),Ua.stop(e,!0)):(t.equals(13)||t.equals(12))&&(o.focusedItem=0,o.focusPrevious(),Ua.stop(e,!0))})),o._register(la(o.domNode,wa.MOUSE_OUT,function(e){var t=e.relatedTarget;_f(t,o.domNode)||(o.focusedItem=void 0,o.scrollTopHold=o.menuElement.scrollTop,o.updateFocus(),e.stopPropagation())})),o._register(la(o.domNode,wa.MOUSE_UP,function(e){Ua.stop(e,!0)})),o._register(la(o.actionsList,wa.MOUSE_OVER,function(e){var t=e.target;if(t&&_f(t,o.actionsList)&&t!==o.actionsList){for(;t.parentElement!==o.actionsList&&null!==t.parentElement;)t=t.parentElement;if(xe(t,"action-item")){var n=o.focusedItem;o.scrollTopHold=o.menuElement.scrollTop,o.setFocusedItem(t),n!==o.focusedItem&&o.updateFocus()}}}));var r={parent:o};return o.mnemonics=new Map,o.push(n,{icon:!0,label:!0,isMenu:!0}),o.scrollableElement=o._register(new es(s,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0})),o.scrollableElement.getDomNode().style.position=null,s.style.maxHeight=Math.max(10,window.innerHeight-t.getBoundingClientRect().top-30)+"px",o.scrollableElement.onScroll(function(){o._onScroll.fire()},o,o.menuDisposables),o._register(la(o.menuElement,wa.SCROLL,function(e){void 0!==o.scrollTopHold&&(o.menuElement.scrollTop=o.scrollTopHold,o.scrollTopHold=void 0),o.scrollableElement.scanDomNode()})),t.appendChild(o.scrollableElement.getDomNode()),o.scrollableElement.scanDomNode(),o.items.filter(function(e){return!(e instanceof $s)}).forEach(function(e,t,n){e.updatePositionInSet(t+1,n.length)}),o}return Bi(t,e),t.prototype.style=function(e){var t=this.getContainer(),n=e.foregroundColor?""+e.foregroundColor:null,i=e.backgroundColor?""+e.backgroundColor:null,o=e.borderColor?"2px solid "+e.borderColor:null,s=e.shadowColor?"0 2px 4px "+e.shadowColor:null;t.style.border=o,this.domNode.style.color=n,this.domNode.style.backgroundColor=i,t.style.boxShadow=s,this.items&&this.items.forEach(function(t){(t instanceof Zs||t instanceof $s)&&t.style(e)})},t.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),t.prototype.focusItemByElement=function(e){var t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()},t.prototype.setFocusedItem=function(e){for(var t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}},t.prototype.doGetActionItem=function(e,t,n){if(e instanceof Rl)return new $s(t.context,e,{icon:!0});if(e instanceof DF){var i=new EF(e,e.entries,n,t);if(t.enableMnemonics)if((a=i.getMnemonic())&&i.isEnabled()){var o=[];this.mnemonics.has(a)&&(o=this.mnemonics.get(a)),o.push(i),this.mnemonics.set(a,o)}return i}var s={enableMnemonics:t.enableMnemonics};if(t.getKeyBinding){var r=t.getKeyBinding(e);if(r){var m=r.getLabel();m&&(s.keybinding=m)}}var a;i=new Zs(t.context,e,s);if(t.enableMnemonics&&(a=i.getMnemonic())&&i.isEnabled()){o=[];this.mnemonics.has(a)&&(o=this.mnemonics.get(a)),o.push(i),this.mnemonics.set(a,o)}return i},t}(Gs);bf.Menu=Ys;var Zs=function(e){function t(t,n,i){void 0===i&&(i={});var o=this;if(i.isMenu=!0,(o=e.call(this,n,n,i)||this).options=i,o.options.icon=void 0!==i.icon&&i.icon,o.options.label=void 0===i.label||i.label,o.cssClass="",o.options.label&&i.enableMnemonics){var s=o.getAction().label;if(s){var r=_l.exec(s);r&&(o.mnemonic=(r[1]?r[1]:r[2]).toLocaleLowerCase())}}return o}return Bi(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.element&&(this.container=t,this.item=La(this.element,xa("a.action-menu-item")),this._action.id===Rl.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=La(this.item,xa("span.menu-item-check")),this.check.setAttribute("role","none"),this.label=La(this.item,xa("span.action-label")),this.options.label&&this.options.keybinding&&(La(this.item,xa("span.keybinding")).textContent=this.options.keybinding),this._register(la(this.element,wa.MOUSE_UP,function(e){Ua.stop(e,!0),n.onClick(e)})),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())},t.prototype.blur=function(){e.prototype.blur.call(this),this.applyStyle()},t.prototype.focus=function(){e.prototype.focus.call(this),this.item.focus(),this.applyStyle()},t.prototype.updatePositionInSet=function(e,t){this.item.setAttribute("aria-posinset",""+e),this.item.setAttribute("aria-setsize",""+t)},t.prototype.updateLabel=function(){if(this.options.label){var e=this.getAction().label;if(e){var t=FF(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));var n=_l.exec(e);n?(e=(e=z.escape(e).replace(CF,"<u aria-hidden=\"true\">$1</u>")).replace(/&amp;&amp;/g,"&amp;"),this.item.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[2]).toLocaleLowerCase())):e=e.replace(/&&/g,"&")}this.label.innerHTML=e.trim()}},t.prototype.updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=k.localize({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&(this.item.title=e)},t.prototype.updateClass=function(){this.cssClass&&nA(this.item,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class||"",jb(this.label,"icon"),this.cssClass&&Bp(this.label,this.cssClass),this.updateEnabled()):dc(this.label,"icon")},t.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&dc(this.element,"disabled"),dc(this.item,"disabled"),this.item.tabIndex=0):(this.element&&jb(this.element,"disabled"),jb(this.item,"disabled"),tA(this.item))},t.prototype.updateChecked=function(){this.getAction().checked?(jb(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(dc(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false"))},t.prototype.getMnemonic=function(){return this.mnemonic},t.prototype.applyStyle=function(){if(this.menuStyle){var e=this.element&&xe(this.element,"focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:this.menuStyle.backgroundColor,i=e&&this.menuStyle.selectionBorderColor?"1px solid "+this.menuStyle.selectionBorderColor:null;this.item.style.color=t?""+t:null,this.check.style.backgroundColor=t?""+t:null,this.item.style.backgroundColor=n?""+n:null,this.container.style.border=i}},t.prototype.style=function(e){this.menuStyle=e,this.applyStyle()},t}(Ql),EF=function(e){function t(t,n,i,o){var s=e.call(this,t,t,o)||this;return s.submenuActions=n,s.parentData=i,s.submenuOptions=o,s.submenuDisposables=[],s.showScheduler=new wc(function(){s.mouseOver&&(s.cleanupExistingSubmenu(!1),s.createSubmenu(!1))},250),s.hideScheduler=new wc(function(){s.element&&!_f(document.activeElement,s.element)&&s.parentData.submenu===s.mysubmenu&&(s.parentData.parent.focus(!1),s.cleanupExistingSubmenu(!0))},750),s}return Bi(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.element&&(jb(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.submenuIndicator=La(this.item,xa("span.submenu-indicator")),this.submenuIndicator.setAttribute("aria-hidden","true"),this._register(la(this.element,wa.KEY_UP,function(e){var t=new Fa(e);(t.equals(17)||t.equals(3))&&(Ua.stop(e,!0),n.createSubmenu(!0))})),this._register(la(this.element,wa.KEY_DOWN,function(e){var t=new Fa(e);(t.equals(17)||t.equals(3))&&Ua.stop(e,!0)})),this._register(la(this.element,wa.MOUSE_OVER,function(e){n.mouseOver||(n.mouseOver=!0,n.showScheduler.schedule())})),this._register(la(this.element,wa.MOUSE_LEAVE,function(e){n.mouseOver=!1})),this._register(la(this.element,wa.FOCUS_OUT,function(e){n.element&&!_f(document.activeElement,n.element)&&n.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(function(){n.parentData.parent.focus(!1),n.cleanupExistingSubmenu(!1)})))},t.prototype.onClick=function(e){Ua.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!1)},t.prototype.cleanupExistingSubmenu=function(e){this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.submenuContainer&&(this.submenuDisposables=C(this.submenuDisposables),this.submenuContainer=void 0))},t.prototype.createSubmenu=function(e){var t=this;if(void 0===e&&(e=!0),this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.submenuContainer=La(this.element,xa("div.monaco-submenu")),Bp(this.submenuContainer,"menubar-menu-items-holder","context-view"),this.parentData.submenu=new Ys(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var n=this.element.getBoundingClientRect(),i=this.submenuContainer.getBoundingClientRect(),o=getComputedStyle(this.parentData.parent.domNode),s=parseFloat(o.paddingTop||"0")||0;window.innerWidth<=n.right+i.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+n.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-s+"px"),this.submenuDisposables.push(la(this.submenuContainer,wa.KEY_UP,function(e){new Fa(e).equals(15)&&(Ua.stop(e,!0),t.parentData.parent.focus(),t.parentData.submenu&&(t.parentData.submenu.dispose(),t.parentData.submenu=void 0),t.submenuDisposables=C(t.submenuDisposables),t.submenuContainer=void 0)})),this.submenuDisposables.push(la(this.submenuContainer,wa.KEY_DOWN,function(e){new Fa(e).equals(15)&&Ua.stop(e,!0)})),this.submenuDisposables.push(this.parentData.submenu.onDidCancel(function(){t.parentData.parent.focus(),t.parentData.submenu&&(t.parentData.submenu.dispose(),t.parentData.submenu=void 0),t.submenuDisposables=C(t.submenuDisposables),t.submenuContainer=void 0})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}},t.prototype.applyStyle=function(){if(e.prototype.applyStyle.call(this),this.menuStyle){var t=this.element&&xe(this.element,"focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator.style.backgroundColor=t?""+t:null,this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuDisposables=C(this.submenuDisposables),this.submenuContainer=void 0)},t}(Zs),$s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bi(t,e),t.prototype.style=function(e){this.label.style.borderBottomColor=e.separatorColor?""+e.separatorColor:null},t}(Fs);function FF(e){var t=_l,n=t.exec(e);if(!n)return e;var i="&"===n[0].charAt(0);return e.replace(t,i?"$2":"").trim()}bf.cleanMnemonic=FF;var Dc={};var e$=Dc&&Dc.__assign||function(){return(e$=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}).apply(this,arguments)};function _s(o,r){var t=Object.create(null);for(var e in r){var i=r[e];"string"==typeof i?t[e]=o.getColor(i):"function"==typeof i&&(t[e]=i(o))}return t}function Ci(o,r,t){function e(e){var i=_s(o.getTheme(),r);"function"==typeof t?t(i):t.style(i)}return e(o.getTheme()),o.onThemeChange(e)}function f$(o,r,t){return Ci(r,{badgeBackground:t&&t.badgeBackground||eV,badgeForeground:t&&t.badgeForeground||fV,badgeBorder:Za},o)}function g$(o,r,t){return Ci(r,{foreground:t&&t.foreground||di,background:t&&t.background||Bc,borderColor:t&&t.borderColor||Za,widgetShadow:t&&t.widgetShadow||jr,progressBarBackground:t&&t.progressBarBackground||jV,pickerGroupForeground:t&&t.pickerGroupForeground||cV,pickerGroupBorder:t&&t.pickerGroupBorder||dV,inputBackground:t&&t.inputBackground||PU,inputForeground:t&&t.inputForeground||QU,inputBorder:t&&t.inputBorder||RU,inputValidationInfoBorder:t&&t.inputValidationInfoBorder||UU,inputValidationInfoBackground:t&&t.inputValidationInfoBackground||SU,inputValidationInfoForeground:t&&t.inputValidationInfoForeground||TU,inputValidationWarningBorder:t&&t.inputValidationWarningBorder||XU,inputValidationWarningBackground:t&&t.inputValidationWarningBackground||VU,inputValidationWarningForeground:t&&t.inputValidationWarningForeground||WU,inputValidationErrorBorder:t&&t.inputValidationErrorBorder||$U,inputValidationErrorBackground:t&&t.inputValidationErrorBackground||YU,inputValidationErrorForeground:t&&t.inputValidationErrorForeground||ZU,listFocusBackground:t&&t.listFocusBackground||ol,listFocusForeground:t&&t.listFocusForeground||WC,listActiveSelectionBackground:t&&t.listActiveSelectionBackground||qr(Ie,.1),listActiveSelectionForeground:t&&t.listActiveSelectionForeground||Je,listFocusAndSelectionBackground:t&&t.listFocusAndSelectionBackground||Ie,listFocusAndSelectionForeground:t&&t.listFocusAndSelectionForeground||Je,listInactiveSelectionBackground:t&&t.listInactiveSelectionBackground||XC,listInactiveSelectionForeground:t&&t.listInactiveSelectionForeground||YC,listInactiveFocusBackground:t&&t.listInactiveFocusBackground||ZC,listHoverBackground:t&&t.listHoverBackground||$C,listHoverForeground:t&&t.listHoverForeground||_C,listDropBackground:t&&t.listDropBackground||aD,listFocusOutline:t&&t.listFocusOutline||ob,listSelectionOutline:t&&t.listSelectionOutline||ob,listHoverOutline:t&&t.listHoverOutline||ob},o)}function GF(o,r,t){return Ci(r,_b(t||Object.create(null),at,!1),o)}Dc.computeStyles=_s,Dc.attachStyler=Ci,Dc.attachBadgeStyler=f$,Dc.attachQuickOpenStyler=g$,Dc.attachListStyler=GF;var at={listFocusBackground:ol,listFocusForeground:WC,listActiveSelectionBackground:qr(Ie,.1),listActiveSelectionForeground:Je,listFocusAndSelectionBackground:Ie,listFocusAndSelectionForeground:Je,listInactiveSelectionBackground:XC,listInactiveSelectionForeground:YC,listInactiveFocusBackground:ZC,listHoverBackground:$C,listHoverForeground:_C,listDropBackground:aD,listFocusOutline:ob,listSelectionOutline:ob,listHoverOutline:ob,listFilterWidgetBackground:_U,listFilterWidgetOutline:aV,listFilterWidgetNoMatchesOutline:bV,listMatchesShadow:jr};Dc.defaultListStyles=at;var HF={shadowColor:jr,borderColor:kV,foregroundColor:lV,backgroundColor:mV,selectionForegroundColor:nV,selectionBackgroundColor:oV,selectionBorderColor:pV,separatorColor:qV};function IF(o,r,t){return Ci(r,e$({},HF,t),o)}Dc.defaultMenuStyles=HF,Dc.attachMenuStyler=IF;var h$=function(){function e(e,t,n,i,o,r){this.contextViewService=t,this.telemetryService=n,this.notificationService=i,this.keybindingService=o,this.themeService=r,this.setContainer(e)}return e.prototype.setContainer=function(e){var t=this;this.element&&(this.elementDisposable=C(this.elementDisposable),this.element=null),e&&(this.element=e,this.elementDisposable=la(this.element,wa.MOUSE_DOWN,function(e){return t.onMouseDown(e)}))},e.prototype.showContextMenu=function(e){var t,n=this,i=e.getActions();i.length&&(this.focusToReturn=document.activeElement,this.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,anchorAlignment:e.anchorAlignment,render:function(o){n.menuContainerElement=o;var r=e.getMenuClassName?e.getMenuClassName():"";r&&(o.className+=" "+r),n.block=o.appendChild(xa(".context-view-block"));var c=[],s=e.actionRunner||new Mq;return s.onDidBeforeRun(n.onActionRun,n,c),s.onDidRun(n.onDidActionRun,n,c),t=new Ys(o,i,{actionItemProvider:e.getActionItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:s,getKeyBinding:e.getKeyBinding?e.getKeyBinding:function(e){return n.keybindingService.lookupKeybinding(e.id)}}),c.push(IF(t,n.themeService)),t.onDidCancel(function(){return n.contextViewService.hideContextView(!0)},null,c),t.onDidBlur(function(){return n.contextViewService.hideContextView(!0)},null,c),J(window,wa.BLUR)(function(){n.contextViewService.hideContextView(!0)},null,c),re(c.concat([t]))},focus:function(){t&&t.focus(!!e.autoSelectFirstItem)},onHide:function(t){e.onHide&&e.onHide(!!t),n.block&&(n.block.remove(),n.block=null),n.focusToReturn&&n.focusToReturn.focus(),n.menuContainerElement=null}}))},e.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},e.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},e.prototype.onMouseDown=function(e){if(this.menuContainerElement){for(var t=new ib(e).target;t;){if(t===this.menuContainerElement)return;t=t.parentElement}this.contextViewService.hideContextView()}},e.prototype.dispose=function(){this.setContainer(null)},e}();var i$=af&&af.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),j$=af&&af.__decorate||function(e,t,r,o){var n,$=arguments.length,i=$<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=($<3?n(i):$>3?n(t,r,i):n(t,r))||i);return $>3&&i&&Object.defineProperty(t,r,i),i},Di=af&&af.__param||function(e,t){return function(r,o){t(r,o,e)}},JF=function(e){function t(t,r,o,n,$,i){var c=e.call(this)||this;return c._onDidContextMenu=c._register(new b),c.contextMenuHandler=c._register(new h$(t,n,r,o,$,i)),c}return i$(t,e),t.prototype.dispose=function(){this.contextMenuHandler.dispose()},t.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e),this._onDidContextMenu.fire()},t=j$([Di(1,$h),Di(2,zc),Di(3,Hg),Di(4,Rd),Di(5,Ge)],t)}(B);af.ContextMenuService=JF;var cf={};var am={};var k$,pb;(function(t){function e(t,e){if(t.start>=e.end||e.start>=t.end)return{start:0,end:0};var n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return r-n<=0?{start:0,end:0}:{start:n,end:r}}function n(t){return t.end-t.start<=0}t.intersect=e,t.isEmpty=n,t.intersects=function(t,r){return!n(e(t,r))},t.relativeComplement=function(t,e){var r=[],a={start:t.start,end:Math.min(e.start,t.end)},$={start:Math.max(e.end,t.start),end:t.end};return n(a)||r.push(a),n($)||r.push($),r}})(pb||(k$=pb={},k$));var l$=am&&am.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();function bt(t,e,i){var o=i.offset+i.size;return 0===i.position?e<=t-o?o:e<=i.offset?i.offset-e:Math.max(t-e,0):e<=i.offset?i.offset-e:e<=t-o?o:0}am.layout=bt;var KF=function(t){function e(e){var i=t.call(this)||this;return i.view=q.$(".context-view"),q.hide(i.view),i.setContainer(e),i._register(ka(function(){return i.setContainer(null)})),i}return l$(e,t),e.prototype.setContainer=function(t){var i=this;if(this.container&&(this.toDisposeOnSetContainer=C(this.toDisposeOnSetContainer),this.container.removeChild(this.view),this.container=null),t){this.container=t,this.container.appendChild(this.view);var o=[];e.BUBBLE_UP_EVENTS.forEach(function(t){o.push(q.addStandardDisposableListener(i.container,t,function(t){i.onDOMEvent(t,document.activeElement,!1)}))}),e.BUBBLE_DOWN_EVENTS.forEach(function(t){o.push(q.addStandardDisposableListener(i.container,t,function(t){i.onDOMEvent(t,document.activeElement,!0)},!0))}),this.toDisposeOnSetContainer=re(o)}},e.prototype.show=function(t){this.isVisible()&&this.hide(),q.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",q.show(this.view),this.toDisposeOnClean=t.render(this.view),this.delegate=t,this.doLayout(),this.delegate.focus&&this.delegate.focus()},e.prototype.layout=function(){this.isVisible()&&(!1!==this.delegate.canRelayout?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())},e.prototype.doLayout=function(){if(this.isVisible()){var t,e=this.delegate.getAnchor();if(q.isHTMLElement(e)){var i=q.getDomNodePagePosition(e);t={top:i.top,left:i.left,width:i.width,height:i.height}}else{var o=e;t={top:o.y,left:o.x,width:o.width||1,height:o.height||2}}var s,n=q.getTotalWidth(this.view),r=q.getTotalHeight(this.view),a=this.delegate.anchorPosition||0,$=this.delegate.anchorAlignment||0,h={offset:t.top-window.pageYOffset,size:t.height,position:0===a?0:1};s=0===$?{offset:t.left,size:0,position:0}:{offset:t.left+t.width,size:0,position:1};var p=bt(window.innerHeight,r,h)+window.pageYOffset;pb.intersects({start:p,end:p+r},{start:h.offset,end:h.offset+h.size})&&(s.size=t.width);var l=bt(window.innerWidth,n,s);q.removeClasses(this.view,"top","bottom","left","right"),q.addClass(this.view,0===a?"bottom":"top"),q.addClass(this.view,0===$?"left":"right");var d=q.getDomNodePagePosition(this.container);this.view.style.top=p-d.top+"px",this.view.style.left=l-d.left+"px",this.view.style.width="initial"}},e.prototype.hide=function(t){this.delegate&&this.delegate.onHide&&this.delegate.onHide(t),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),q.hide(this.view)},e.prototype.isVisible=function(){return!!this.delegate},e.prototype.onDOMEvent=function(t,e,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(t,document.activeElement):i&&!q.isAncestor(t.target,this.container)&&this.hide())},e.prototype.dispose=function(){this.hide(),t.prototype.dispose.call(this)},e.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],e.BUBBLE_DOWN_EVENTS=["click"],e}(B);am.ContextView=KF;var LF=L("logService");var MF=function(){function e(){}return e.prototype.trace=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o]},e.prototype.error=function(e){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o]},e.prototype.dispose=function(){},e}();var m$=cf&&cf.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),n$=cf&&cf.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var $=e.length-1;$>=0;$--)(n=e[$])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c},NF=cf&&cf.__param||function(e,t){return function(r,o){t(r,o,e)}},OF=function(e){function t(t,r,o){var n=e.call(this)||this;return n.logService=o,n.contextView=n._register(new KF(t)),n}return m$(t,e),t.prototype.setContainer=function(e){this.logService.trace("ContextViewService#setContainer"),this.contextView.setContainer(e)},t.prototype.showContextView=function(e){this.logService.trace("ContextViewService#showContextView"),this.contextView.show(e)},t.prototype.layout=function(){this.contextView.layout()},t.prototype.hideContextView=function(e){this.logService.trace("ContextViewService#hideContextView"),this.contextView.hide(e)},t=n$([NF(1,$h),NF(2,LF)],t)}(B);cf.ContextViewService=OF;var o$=L("dialogService");var ct={};function p$(o){return{data:o,incoming:Object.create(null),outgoing:Object.create(null)}}var q$=Object.prototype.hasOwnProperty;function dt(r,e){var o=function(o){if(q$.call(r,o)&&!1===e({key:o,value:r[o]},function(){delete r[o]}))return{value:void 0}};for(var t in r){var a=o(t);if("object"==typeof a)return a.value}}var r$=function(){function o(o){this._hashFn=o,this._nodes=Object.create(null)}return o.prototype.roots=function(){var o=[];return dt(this._nodes,function(t){Zy(t.value.outgoing)&&o.push(t.value)}),o},o.prototype.insertEdge=function(o,t){var e=this.lookupOrInsertNode(o),n=this.lookupOrInsertNode(t);e.outgoing[this._hashFn(t)]=n,n.incoming[this._hashFn(o)]=e},o.prototype.removeNode=function(o){var t=this._hashFn(o);delete this._nodes[t],dt(this._nodes,function(o){delete o.value.outgoing[t],delete o.value.incoming[t]})},o.prototype.lookupOrInsertNode=function(o){var t=this._hashFn(o),e=this._nodes[t];return e||(e=p$(o),this._nodes[t]=e),e},o.prototype.isEmpty=function(){for(var o in this._nodes)return!1;return!0},o.prototype.toString=function(){var o=[];return dt(this._nodes,function(t){o.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),o.join("\n")},o}();var Ig=function(){return function(t,r,o){void 0===r&&(r=[]),void 0===o&&(o=!1),this.ctor=t,this.staticArguments=r,this.supportsDelayedInstantiation=o}}();var s$=ct&&ct.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),PF=!1,et=function(){function e(e,t,r){void 0===e&&(e=new Bg),void 0===t&&(t=!1),this._services=e,this._strict=t,this._parent=r,this._services.set(vc,this)}return e.prototype.createChild=function(t){return new e(t,this._strict,this)},e.prototype.invokeFunction=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=ft.traceInvocation(e),o=!1;try{var c={get:function(e,r){if(o)throw KN("service accessor is only valid during the invocation of its target method");var n=t._getOrCreateServiceInstance(e,i);if(!n&&r!==dP)throw new Error("[invokeFunction] unknown service '"+e+"'");return n}};return e.apply(void 0,[c].concat(r))}finally{o=!0,i.stop()}},e.prototype.createInstance=function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e instanceof Ig?(t=ft.traceCreation(e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(n),t)):(t=ft.traceCreation(e),r=this._createInstance(e,n,t)),t.stop(),r},e.prototype._createInstance=function(e,t,r){void 0===t&&(t=[]);for(var n=uc.getServiceDependencies(e).sort(function(e,t){return e.index-t.index}),i=[],o=0,c=n;o<c.length;o++){var a=c[o],s=this._getOrCreateServiceInstance(a.id,r);if(!s&&this._strict&&!a.optional)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+a.id+".");i.push(s)}var p=n.length>0?n[0].index:t.length;if(t.length!==p){console.warn("[createInstance] First service dependency of "+e.name+" at position "+(p+1)+" conflicts with "+t.length+" static arguments");var f=p-t.length;t=f>0?t.concat(new Array(f)):t.slice(0,p)}return jN.apply(null,[e].concat(t,i))},e.prototype._setServiceInstance=function(e,t){if(this._services.get(e)instanceof Ig)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}},e.prototype._getServiceInstanceOrDescriptor=function(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t},e.prototype._getOrCreateServiceInstance=function(e,t){var r=this._getServiceInstanceOrDescriptor(e);return r instanceof Ig?this._createAndCacheServiceInstance(e,r,t.branch(e,!0)):(t.branch(e,!1),r)},e.prototype._createAndCacheServiceInstance=function(e,t,r){var n=new r$(function(e){return e.id.toString()});function i(){var e=new Error("[createInstance] cyclic dependency between services");throw e.message=n.toString(),e}for(var o=0,c=[{id:e,desc:t,_trace:r}];c.length;){var a=c.pop();n.lookupOrInsertNode(a),o++>100&&i();for(var s=0,p=uc.getServiceDependencies(a.desc.ctor);s<p.length;s++){var f=p[s],v=this._getServiceInstanceOrDescriptor(f.id);if(v||f.optional||console.warn("[createInstance] "+e+" depends on "+f.id+" which is NOT registered."),v instanceof Ig){var $={id:f.id,desc:v,_trace:a._trace.branch(f.id,!0)};n.insertEdge(a,$),c.push($)}}}for(;;){var h=n.roots();if(0===h.length){n.isEmpty()||i();break}for(var u=0,_=h;u<_.length;u++){var l=_[u].data,d=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,d),n.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)},e.prototype._createServiceInstanceWithOwner=function(e,t,r,n,i){if(void 0===r&&(r=[]),this._services.get(e)instanceof Ig)return this._createServiceInstance(t,r,n,i);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,r,n,i);throw new Error("illegalState - creating UNKNOWN service instance")},e.prototype._createServiceInstance=function(e,t,r,n){return void 0===t&&(t=[]),this._createInstance(e,t,n)},e}();ct.InstantiationService=et;var ft=function(){function e(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}return e.traceInvocation=function(t){return PF?new e(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):e._None},e.traceCreation=function(t){return PF?new e(0,t.name):e._None},e.prototype.branch=function(t,r){var n=new e(2,t.toString());return this._dep.push([t,r,n]),n},e.prototype.stop=function(){var t=Date.now()-this._start;e._totals+=t;var r=!1;var n=[(0===this.type?"CREATE":"CALL")+" "+this.name,""+function e(t,n){for(var i=[],o=new Array(t+1).join("\t"),c=0,a=n._dep;c<a.length;c++){var s=a[c],p=s[0],f=s[1],v=s[2];if(f&&v){r=!0,i.push(o+"CREATES -> "+p);var $=e(t+1,v);$&&i.push($)}else i.push(o+"uses -> "+p)}return i.join("\n")}(1,this),"DONE, took "+t.toFixed(2)+"ms (grand total "+e._totals.toFixed(2)+"ms)"];(t>2||r)&&console.log(n.join("\n"))},e._None=new(function(e){function t(){return e.call(this,-1,null)||this}return s$(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e._totals=0,e}();var t$="label",u$=L(t$);var aa={};var Vb={};var v$,gt;(function(o){o.TREE="tree",o.FORM="form"})(gt||(v$=gt={},v$));var Jg={};function QF(e,t){for(var r=[],n=0,o=t;n<o.length;n++){var i=o[n];if(!(e.start>=i.range.end)){if(e.end<i.range.start)break;var s=pb.intersect(e,i.range);pb.isEmpty(s)||r.push({range:s,size:i.size})}}return r}function ht(e,t){return{start:e.start+t,end:e.end+t}}function w$(e){for(var t=[],r=null,n=0,o=e;n<o.length;n++){var i=o[n],s=i.range.start,a=i.range.end,u=i.size;r&&u===r.size?r.range.end=a:(r={range:{start:s,end:a},size:u},t.push(r))}return t}function x$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return w$(e.reduce(function(e,t){return e.concat(t)},[]))}var RF=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t,r){void 0===r&&(r=[]);var n=r.length-t,o=QF({start:0,end:e},this.groups),i=QF({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:ht(e.range,n),size:e.size}}),s=r.map(function(t,r){return{range:{start:e+r,end:e+r+1},size:t.size}});this.groups=x$(o,s,i),this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,r=0,n=0,o=this.groups;n<o.length;n++){var i=o[n],s=i.range.end-i.range.start,a=r+s*i.size;if(e<a)return t+Math.floor((e-r)/i.size);t+=s,r=a}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,r=0,n=0,o=this.groups;n<o.length;n++){var i=o[n],s=i.range.end-i.range.start,a=r+s;if(e<a)return t+(e-r)*i.size;t+=s*i.size,r=a}return-1},e.prototype.dispose=function(){this.groups=null},e}();function y$(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(t){}}var z$=function(){function e(e){this.renderers=e,this.cache=new Map}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var r=xa(".monaco-list-row");t={domNode:r,templateId:e,templateData:this.getRenderer(e).renderTemplate(r)}}return t},e.prototype.release=function(e){e&&this.releaseRow(e)},e.prototype.releaseRow=function(e){var t=e.domNode,r=e.templateId;t&&(dc(t,"scrolling"),y$(t)),this.getTemplateCache(r).push(e)},e.prototype.getTemplateCache=function(e){var t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t},e.prototype.garbageCollect=function(){var e=this;this.renderers&&(this.cache.forEach(function(t,r){for(var o=0,a=t;o<a.length;o++){var n=a[o];e.getRenderer(r).disposeTemplate(n.templateData),n.domNode=null,n.templateData=null}}),this.cache.clear())},e.prototype.dispose=function(){this.garbageCollect(),this.cache.clear(),this.renderers=null},e.prototype.getRenderer=function(e){var t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t},e}();var A$={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};var B$=function(){function t(t){this.data=t}return t.prototype.update=function(){},t.prototype.getData=function(){return this.data},t}();var hd={CurrentDragAndDropData:void 0};var df=Jg&&Jg.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},ef={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(t){return[t]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},Kg=function(){function t(t){this.elements=t}return t.prototype.update=function(){},t.prototype.getData=function(){return this.elements},t}();Jg.ElementsDragAndDropData=Kg;var SF=function(){function t(t){this.elements=t}return t.prototype.update=function(){},t.prototype.getData=function(){return this.elements},t}();Jg.ExternalElementsDragAndDropData=SF;var TF=function(){function t(){this.types=[],this.files=[]}return t.prototype.update=function(t){var e;if(t.types&&(e=this.types).splice.apply(e,[0,this.types.length].concat(t.types)),t.files){this.files.splice(0,this.files.length);for(var r=0;r<t.files.length;r++){var o=t.files.item(r);o&&(o.size||o.type)&&this.files.push(o)}}},t.prototype.getData=function(){return{types:this.types,files:this.files}},t}();function C$(t,e){return Array.isArray(t)&&Array.isArray(e)?fk(t,e):t===e}Jg.DesktopDragAndDropData=TF;var UF=function(){function t(e,r,o,n){void 0===n&&(n=ef);var i=this;if(this.virtualDelegate=r,this.domId="list_id_"+ ++t.InstanceCount,this.renderers=new Map,this.renderWidth=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new mA(50),this.splicing=!1,this.dragOverAnimationStopDisposable=B.None,this.canUseTranslate3d=void 0,this.canDrop=!1,this.currentDragFeedbackDisposable=B.None,this.onDragLeaveTimeout=B.None,this._onDidChangeContentHeight=new b,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new RF;for(var s=0,a=o;s<a.length;s++){var l=a[s];this.renderers.set(l.templateId,l)}this.cache=new z$(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",q.addClass(this.domNode,this.domId),this.domNode.tabIndex=0,q.toggleClass(this.domNode,"mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this.horizontalScrolling=Tf(n,function(t){return t.horizontalScrolling},ef.horizontalScrolling),q.toggleClass(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.ariaSetProvider=n.ariaSetProvider||{getSetSize:function(t,e,r){return r},getPosInSet:function(t,e){return e+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",og.addTarget(this.rowsContainer),this.scrollableElement=new ds(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:Tf(n,function(t){return t.verticalScrollMode},ef.verticalScrollMode),useShadows:Tf(n,function(t){return t.useShadows},ef.useShadows)}),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.disposables=[this.rangeMap,this.gesture,this.scrollableElement,this.cache],this.onDidScroll=u.signal(this.scrollableElement.onScroll),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),J(this.rowsContainer,Aa.Change)(this.onTouchChange,this,this.disposables),J(this.scrollableElement.getDomNode(),"scroll")(function(t){return t.target.scrollTop=0},null,this.disposables),u.map(J(this.domNode,"dragover"),function(t){return i.toDragEvent(t)})(this.onDragOver,this,this.disposables),u.map(J(this.domNode,"drop"),function(t){return i.toDragEvent(t)})(this.onDrop,this,this.disposables),J(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),J(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Tf(n,function(t){return t.setRowLineHeight},ef.setRowLineHeight),this.supportDynamicHeights=Tf(n,function(t){return t.supportDynamicHeights},ef.supportDynamicHeights),this.dnd=Tf(n,function(t){return t.dnd},ef.dnd),this.layout()}return Object.defineProperty(t.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),t.prototype.splice=function(t,e,r){if(void 0===r&&(r=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(t,e,r)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},t.prototype._splice=function(t,e,r){var o,n=this;void 0===r&&(r=[]);for(var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:t,end:t+e},a=pb.intersect(i,s),l=a.start;l<a.end;l++)this.removeItemFromDOM(l);var p,d={start:t+e,end:this.items.length},h=pb.intersect(d,i),m=pb.relativeComplement(d,i),c=r.map(function(t){return{id:String(n.itemId++),element:t,templateId:n.virtualDelegate.getTemplateId(t),size:n.virtualDelegate.getHeight(t),width:void 0,hasDynamicHeight:!!n.virtualDelegate.hasDynamicHeight&&n.virtualDelegate.hasDynamicHeight(t),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:B.None}});0===t&&e>=this.items.length?(this.rangeMap=new RF,this.rangeMap.splice(0,0,c),this.items=c,p=[]):(this.rangeMap.splice(t,e,c),p=(o=this.items).splice.apply(o,[t,e].concat(c)));var $=r.length-e,u=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=ht(h,$),D=pb.intersect(u,g);for(l=D.start;l<D.end;l++)this.updateItemInDOM(this.items[l],l);for(var f=0,v=pb.relativeComplement(g,u);f<v.length;f++)for(l=(w=v[f]).start;l<w.end;l++)this.removeItemFromDOM(l);for(var C=m.map(function(t){return ht(t,$)}),b=[{start:t,end:t+r.length}].concat(C).map(function(t){return pb.intersect(u,t)}),y=this.getNextToLastElement(b),V=0,X=b;V<X.length;V++){var w;for(l=(w=X[V]).start;l<w.end;l++)this.insertItemInDOM(l,y)}return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),p.map(function(t){return t.element})},t.prototype.eventuallyUpdateScrollDimensions=function(){var t=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=q.scheduleAtNextAnimationFrame(function(){t.scrollableElement.setScrollDimensions({scrollHeight:t.scrollHeight}),t.updateScrollWidth(),t.scrollableElementUpdateDisposable=null}))},t.prototype.eventuallyUpdateScrollWidth=function(){var t=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger(function(){return t.updateScrollWidth()})},t.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){0===this.items.length&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var t=0,e=0,r=this.items;e<r.length;e++){var o=r[e];void 0!==o.width&&(t=Math.max(t,o.width))}this.scrollWidth=t,this.scrollableElement.setScrollDimensions({scrollWidth:t+10})}},t.prototype.rerender=function(){if(this.supportDynamicHeights){for(var t=0,e=this.items;t<e.length;t++){e[t].lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(t.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.scrollableElement.getScrollDimensions().height},enumerable:!0,configurable:!0}),t.prototype.element=function(t){return this.items[t].element},t.prototype.domElement=function(t){var e=this.items[t].row;return e&&e.domNode},t.prototype.elementHeight=function(t){return this.items[t].size},t.prototype.elementTop=function(t){return this.rangeMap.positionAt(t)},t.prototype.indexAt=function(t){return this.rangeMap.indexAt(t)},t.prototype.indexAfter=function(t){return this.rangeMap.indexAfter(t)},t.prototype.layout=function(t,e){var r={height:"number"==typeof t?t:q.getContentHeight(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,r.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(r),void 0!==e&&(this.renderWidth=e,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof e?e:q.getContentWidth(this.domNode)}))},t.prototype.render=function(t,e,r,o){for(var n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),i=this.getRenderRange(t,e),s=pb.relativeComplement(i,n),a=pb.relativeComplement(n,i),l=this.getNextToLastElement(s),p=0,d=s;p<d.length;p++)for(var h=($=d[p]).start;h<$.end;h++)this.insertItemInDOM(h,l);for(var m=0,c=a;m<c.length;m++){var $;for(h=($=c[m]).start;h<$.end;h++)this.removeItemFromDOM(h)}var u=!ac&&!Wc&&0===nk();if(u){var g="translate3d(-"+r+"px, -"+t+"px, 0px)";this.rowsContainer.style.transform=g,this.rowsContainer.style.webkitTransform=g,u!==this.canUseTranslate3d&&(this.rowsContainer.style.left="0",this.rowsContainer.style.top="0")}else this.rowsContainer.style.left="-"+r+"px",this.rowsContainer.style.top="-"+t+"px",u!==this.canUseTranslate3d&&(this.rowsContainer.style.transform="",this.rowsContainer.style.webkitTransform="");this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(o,this.renderWidth)+"px"),this.canUseTranslate3d=u,this.lastRenderTop=t,this.lastRenderHeight=e},t.prototype.insertItemInDOM=function(t,e){var r=this,o=this.items[t];o.row||(o.row=this.cache.alloc(o.templateId),o.row.domNode.setAttribute("role","treeitem")),o.row.domNode.parentElement||(e?this.rowsContainer.insertBefore(o.row.domNode,e):this.rowsContainer.appendChild(o.row.domNode)),this.updateItemInDOM(o,t);var n=this.renderers.get(o.templateId);if(!n)throw new Error("No renderer found for template id "+o.templateId);n&&n.renderElement(o.element,t,o.row.templateData);var i=this.dnd.getDragURI(o.element);if(o.dragStartDisposable.dispose(),o.row.domNode.draggable=!!i,i){var s=J(o.row.domNode,"dragstart");o.dragStartDisposable=s(function(t){return r.onDragStart(o.element,i,t)})}this.horizontalScrolling&&(this.measureItemWidth(o),this.eventuallyUpdateScrollWidth())},t.prototype.measureItemWidth=function(t){if(t.row&&t.row.domNode){t.row.domNode.style.width="fit-content",t.width=q.getContentWidth(t.row.domNode);var e=window.getComputedStyle(t.row.domNode);e.paddingLeft&&(t.width+=parseFloat(e.paddingLeft)),e.paddingRight&&(t.width+=parseFloat(e.paddingRight)),t.row.domNode.style.width=""}},t.prototype.updateItemInDOM=function(t,e){t.row.domNode.style.top=this.elementTop(e)+"px",t.row.domNode.style.height=t.size+"px",this.setRowLineHeight&&(t.row.domNode.style.lineHeight=t.size+"px"),t.row.domNode.setAttribute("data-index",""+e),t.row.domNode.setAttribute("data-last-element",e===this.length-1?"true":"false"),t.row.domNode.setAttribute("aria-setsize",String(this.ariaSetProvider.getSetSize(t.element,e,this.length))),t.row.domNode.setAttribute("aria-posinset",String(this.ariaSetProvider.getPosInSet(t.element,e))),t.row.domNode.setAttribute("id",this.getElementDomId(e)),q.toggleClass(t.row.domNode,"drop-target",t.dropTarget)},t.prototype.removeItemFromDOM=function(t){var e=this.items[t];e.dragStartDisposable.dispose();var r=this.renderers.get(e.templateId);r&&r.disposeElement&&r.disposeElement(e.element,t,e.row.templateData),this.cache.release(e.row),e.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},t.prototype.getScrollTop=function(){return this.scrollableElement.getScrollPosition().scrollTop},t.prototype.setScrollTop=function(t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:t})},Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(t){this.setScrollTop(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMouseClick",{get:function(){var t=this;return u.map(J(this.domNode,"click"),function(e){return t.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMouseDblClick",{get:function(){var t=this;return u.map(J(this.domNode,"dblclick"),function(e){return t.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMouseMiddleClick",{get:function(){var t=this;return u.filter(u.map(J(this.domNode,"auxclick"),function(e){return t.toMouseEvent(e)}),function(t){return 1===t.browserEvent.button})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMouseDown",{get:function(){var t=this;return u.map(J(this.domNode,"mousedown"),function(e){return t.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onContextMenu",{get:function(){var t=this;return u.map(J(this.domNode,"contextmenu"),function(e){return t.toMouseEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTouchStart",{get:function(){var t=this;return u.map(J(this.domNode,"touchstart"),function(e){return t.toTouchEvent(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTap",{get:function(){var t=this;return u.map(J(this.rowsContainer,Aa.Tap),function(e){return t.toGestureEvent(e)})},enumerable:!0,configurable:!0}),t.prototype.toMouseEvent=function(t){var e=this.getItemIndexFromEventTarget(t.target||null),r=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:r&&r.element}},t.prototype.toTouchEvent=function(t){var e=this.getItemIndexFromEventTarget(t.target||null),r=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:r&&r.element}},t.prototype.toGestureEvent=function(t){var e=this.getItemIndexFromEventTarget(t.initialTarget||null),r=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:r&&r.element}},t.prototype.toDragEvent=function(t){var e=this.getItemIndexFromEventTarget(t.target||null),r=void 0===e?void 0:this.items[e];return{browserEvent:t,index:e,element:r&&r.element}},t.prototype.onScroll=function(t){try{this.render(t.scrollTop,t.height,t.scrollLeft,t.scrollWidth),this.supportDynamicHeights&&this._rerender(t.scrollTop,t.height)}catch(e){throw console.error("Got bad scroll event:",t),e}},t.prototype.onTouchChange=function(t){t.preventDefault(),t.stopPropagation(),this.scrollTop-=t.translationY},t.prototype.onDragStart=function(t,e,r){if(r.dataTransfer){var o=this.dnd.getDragElements(t);if(r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setData(A$.RESOURCES,JSON.stringify([e])),r.dataTransfer.setDragImage){var n=void 0;this.dnd.getDragLabel&&(n=this.dnd.getDragLabel(o)),void 0===n&&(n=String(o.length));var i=q.$(".monaco-drag-image");i.textContent=n,document.body.appendChild(i),r.dataTransfer.setDragImage(i,-10,-10),setTimeout(function(){return document.body.removeChild(i)},0)}this.currentDragData=new Kg(o),hd.CurrentDragAndDropData=new SF(o),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,r)}},t.prototype.onDragOver=function(t){var e=this;if(this.onDragLeaveTimeout.dispose(),hd.CurrentDragAndDropData&&"vscode-ui"===hd.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(t.browserEvent),!t.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(hd.CurrentDragAndDropData)this.currentDragData=hd.CurrentDragAndDropData;else{if(!t.browserEvent.dataTransfer.types)return!1;this.currentDragData=new TF}var r,o=this.dnd.onDragOver(this.currentDragData,t.element,t.index,t.browserEvent);if(this.canDrop="boolean"==typeof o?o:o.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;if(t.browserEvent.dataTransfer.dropEffect="boolean"!=typeof o&&0===o.effect?"copy":"move",r="boolean"!=typeof o&&o.feedback?o.feedback:void 0===t.index?[-1]:[t.index],0===(r=-1===(r=Xy(r).filter(function(t){return t>=-1&&t<e.length}).sort())[0]?[-1]:r).length)throw new Error("Invalid empty feedback list");if(C$(this.currentDragFeedback,r))return!0;if(this.currentDragFeedback=r,this.currentDragFeedbackDisposable.dispose(),-1===r[0])q.addClass(this.domNode,"drop-target"),this.currentDragFeedbackDisposable=ka(function(){return q.removeClass(e.domNode,"drop-target")});else{for(var n=0,i=r;n<i.length;n++){var s=i[n],a=this.items[s];a.dropTarget=!0,a.row&&a.row.domNode&&q.addClass(a.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=ka(function(){for(var t=0,o=r;t<o.length;t++){var n=o[t],i=e.items[n];i.dropTarget=!1,i.row&&i.row.domNode&&q.removeClass(i.row.domNode,"drop-target")}})}return!0},t.prototype.onDragLeave=function(){var t=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=qk(function(){return t.clearDragOverFeedback()},100)},t.prototype.onDrop=function(t){if(this.canDrop){var e=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,hd.CurrentDragAndDropData=void 0,e&&t.browserEvent.dataTransfer&&(t.browserEvent.preventDefault(),e.update(t.browserEvent.dataTransfer),this.dnd.drop(e,t.element,t.index,t.browserEvent))}},t.prototype.onDragEnd=function(){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,hd.CurrentDragAndDropData=void 0},t.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=B.None},t.prototype.setupDragAndDropScrollTopAnimation=function(t){var e=this;if(!this.dragOverAnimationDisposable){var r=q.getTopLeftOffset(this.domNode).top;this.dragOverAnimationDisposable=q.animate(this.animateDragAndDropScrollTop.bind(this,r))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=qk(function(){e.dragOverAnimationDisposable&&(e.dragOverAnimationDisposable.dispose(),e.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=t.pageY},t.prototype.animateDragAndDropScrollTop=function(t){if(void 0!==this.dragOverMouseY){var e=this.dragOverMouseY-t,r=this.renderHeight-35;e<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(e-35))):e>r&&(this.scrollTop+=Math.min(14,Math.floor(.3*(e-r))))}},t.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},t.prototype.getItemIndexFromEventTarget=function(t){for(var e=t;e instanceof HTMLElement&&e!==this.rowsContainer;){var r=e.getAttribute("data-index");if(r){var o=Number(r);if(!isNaN(o))return o}e=e.parentElement}},t.prototype.getRenderRange=function(t,e){return{start:this.rangeMap.indexAt(t),end:this.rangeMap.indexAfter(t+e-1)}},t.prototype._rerender=function(t,e){var r,o,n=this.getRenderRange(t,e);t===this.elementTop(n.start)?(r=n.start,o=0):n.end-n.start>1&&(r=n.start+1,o=this.elementTop(r)-t);for(var i=0;;){for(var s=this.getRenderRange(t,e),a=!1,l=s.start;l<s.end;l++){var p=this.probeDynamicHeight(l);0!==p&&this.rangeMap.splice(l,1,[this.items[l]]),i+=p,a=a||0!==p}if(!a){0!==i&&this.eventuallyUpdateScrollDimensions();for(var d=0,h=pb.relativeComplement(n,s);d<h.length;d++)for(l=($=h[d]).start;l<$.end;l++)this.items[l].row&&this.removeItemFromDOM(l);for(var m=0,c=pb.relativeComplement(s,n);m<c.length;m++){var $;for(l=($=c[m]).start;l<$.end;l++){var u=l+1,g=u<this.items.length?this.items[u].row:null,D=g?g.domNode:null;this.insertItemInDOM(l,D)}}for(l=s.start;l<s.end;l++)this.items[l].row&&this.updateItemInDOM(this.items[l],l);return"number"==typeof r&&(this.scrollTop=this.elementTop(r)-o),void this._onDidChangeContentHeight.fire(this.contentHeight)}}},t.prototype.probeDynamicHeight=function(t){var e=this.items[t];if(!e.hasDynamicHeight||e.lastDynamicHeightWidth===this.renderWidth)return 0;var r=e.size,o=this.cache.alloc(e.templateId);o.domNode.style.height="",this.rowsContainer.appendChild(o.domNode);var n=this.renderers.get(e.templateId);return n&&(n.renderElement(e.element,t,o.templateData,!0),n.disposeElement&&n.disposeElement(e.element,t,o.templateData,!0)),e.size=o.domNode.offsetHeight,e.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(o.domNode),this.cache.release(o),e.size-r},t.prototype.getNextToLastElement=function(t){var e=t[t.length-1];if(!e)return null;var r=this.items[e.end];return r&&r.row?r.row.domNode:null},t.prototype.getElementDomId=function(t){return this.domId+"_"+t},t.prototype.dispose=function(){if(this.items){for(var t=0,e=this.items;t<e.length;t++){var r=e[t];if(r.row){var o=this.renderers.get(r.row.templateId);o&&o.disposeTemplate(r.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.disposables=C(this.disposables)},t.InstanceCount=0,df([Tb],t.prototype,"onMouseClick",null),df([Tb],t.prototype,"onMouseDblClick",null),df([Tb],t.prototype,"onMouseMiddleClick",null),df([Tb],t.prototype,"onMouseDown",null),df([Tb],t.prototype,"onContextMenu",null),df([Tb],t.prototype,"onTouchStart",null),df([Tb],t.prototype,"onTap",null),t}();Jg.ListView=UF;var D$=function(){function e(e){this.spliceables=e}return e.prototype.splice=function(e,i,o){this.spliceables.forEach(function(s){return s.splice(e,i,o)})},e}();function VF($,t,a){return Math.min(Math.max($,t),a)}var E$;function WF(){for(var r=[],$=0;$<arguments.length;$++)r[$]=arguments[$];return function($,e){for(var t=0,a=r.length;t<a;t++){var n=r[t]($,e);if(n)return n}return null}}var it=F$.bind(void 0,!0);function F$(r,$,e){return!e||e.length<$.length?null:(r?z.startsWithIgnoreCase(e,$):0===e.indexOf($))?$.length>0?[{start:0,end:$.length}]:[]:null}function G$(r,$){var e=$.toLowerCase().indexOf(r.toLowerCase());return-1===e?null:[{start:e,end:e+r.length}]}function H$(r,$){return jt(r.toLowerCase(),$.toLowerCase(),0,0)}function jt(r,$,e,t){if(e===r.length)return[];if(t===$.length)return null;if(r[e]===$[t]){var a;return(a=jt(r,$,e+1,t+1))?YF({start:t,end:t+1},a):null}return jt(r,$,e,t+1)}function kt(r){return 97<=r&&r<=122}function bm(r){return 65<=r&&r<=90}function lt(r){return 48<=r&&r<=57}function I$(r){return 32===r||9===r||10===r||13===r}function XF(r){return kt(r)||bm(r)||lt(r)}function YF(r,$){return 0===$.length?$=[r]:r.end===$[0].start?$[0].start=r.start:$.unshift(r),$}function ZF(r,$){for(var e=$;e<r.length;e++){var t=r.charCodeAt(e);if(bm(t)||lt(t)||e>0&&!XF(r.charCodeAt(e-1)))return e}return r.length}function mt(r,$,e,t){if(e===r.length)return[];if(t===$.length)return null;if(r[e]!==$[t].toLowerCase())return null;var a=null,n=t+1;for(a=mt(r,$,e+1,t+1);!a&&(n=ZF($,n))<$.length;)a=mt(r,$,e+1,n),n++;return null===a?null:YF({start:t,end:t+1},a)}function J$(r){for(var $=0,e=0,t=0,a=0,n=0,o=0;o<r.length;o++)bm(n=r.charCodeAt(o))&&$++,kt(n)&&e++,XF(n)&&t++,lt(n)&&a++;return{upperPercent:$/r.length,lowerPercent:e/r.length,alphaPercent:t/r.length,numericPercent:a/r.length}}function K$(r){var $=r.upperPercent;return 0===r.lowerPercent&&$>.6}function L$(r){var $=r.upperPercent,e=r.lowerPercent,t=r.alphaPercent,a=r.numericPercent;return e>.2&&$<.8&&t>.6&&a<.2}function M$(r){for(var $=0,e=0,t=0,a=0,n=0;n<r.length;n++)bm(t=r.charCodeAt(n))&&$++,kt(t)&&e++,I$(t)&&a++;return 0!==$&&0!==e||0!==a?$<=5:r.length<=30}function $F(r,$){if(!$)return null;if(0===($=$.trim()).length)return null;if(!M$(r))return null;if($.length>60)return null;var e=J$($);if(!L$(e)){if(!K$(e))return null;$=$.toLowerCase()}var t=null,a=0;for(r=r.toLowerCase();a<$.length&&null===(t=mt(r,$,0,a));)a=ZF($,a+1);return t}var Ria=WF(it,$F,G$),Sia=WF(it,$F,H$),Tia=new Hk(1e4);var Lg=53;function nt(){for(var r=[],$=[0],e=1;e<=Lg;e++)$.push(-e);for(e=0;e<=Lg;e++){var t=$.slice(0);t[0]=-e,r.push(t)}return r}var Mg,Ec=nt(),ot=nt(),Sd=nt(),N$=!1;function pt(r,$,e,t,a){function n(r,$,e){for(void 0===e&&(e=" ");r.length<$;)r=e+r;return r}for(var o=" |   |"+t.split("").map(function(r){return n(r,3)}).join("|")+"\n",s=0;s<=e;s++)o+=0===s?" |":$[s-1]+"|",o+=r[s].slice(0,a+1).map(function(r){return n(r.toString(),3)}).join("|")+"\n";return o}function O$(r,$){if($<0||$>=r.length)return!1;switch(r.charCodeAt($)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1;}}function P$(r,$){if($<0||$>=r.length)return!1;switch(r.charCodeAt($)){case 32:case 9:return!0;default:return!1;}}function _F(r,$,e){return $[r]!==e[r]}function Q$(r,$,e,t,a,n){for(;$<e&&a<n;)r[$]===t[a]&&($+=1),a+=1;return $===e}function R$(r,$,e,t,a,n,o){var s=r.length>Lg?Lg:r.length,i=t.length>Lg?Lg:t.length;if(!(e>=s||n>=i||s>i)&&Q$($,e,s,a,n,i)){var u=e,U=n;for(e=u+1;e<=s;e++)for(n=1;n<=i;n++){var j=-1;$[e-1]===a[n-1]&&(j=n===e-u?r[e-1]===t[n-1]?7:5:!_F(n-1,t,a)||1!==n&&_F(n-2,t,a)?O$(a,n-2)||P$(a,n-2)?5:1:r[e-1]===t[n-1]?7:5),ot[e][n]=j;var N=Ec[e-1][n-1]+(j>1?1:j),V=Ec[e-1][n]+-1,c=Ec[e][n-1]+-1;c>=V?c>N?(Ec[e][n]=c,Sd[e][n]=4):c===N?(Ec[e][n]=c,Sd[e][n]=6):(Ec[e][n]=N,Sd[e][n]=2):V>N?(Ec[e][n]=V,Sd[e][n]=1):V===N?(Ec[e][n]=V,Sd[e][n]=3):(Ec[e][n]=N,Sd[e][n]=2)}if(N$&&(console.log(pt(Ec,r,s,t,i)),console.log(pt(Sd,r,s,t,i)),console.log(pt(ot,r,s,t,i))),aG=0,bG=-100,cG=u,T$=o,dG(s,i,s===i?1:0,0,!1),0!==aG)return[bG,S$,U]}}(function(r){r.Default=[-100,0,0],r.isDefault=function(r){return!r||-100===r[0]&&0===r[1]&&0===r[2]}})(Mg||(E$=Mg={},E$));var aG=0,S$=0,bG=0,cG=0,T$=!1;function dG(r,$,e,t,a){if(!(aG>=10||e<-25)){for(var n=0;r>cG&&$>0;){var o=ot[r][$],s=Sd[r][$];if(4===s)$-=1,a?e-=5:0!==t&&(e-=1),a=!1,n=0;else{if(!(2&s))return;if(4&s&&dG(r,$-1,0!==t?e-1:e,t,a),e+=o,r-=1,$-=1,a=!0,t+=Math.pow(2,$),1===o){if(n+=1,r===cG&&!T$)return}else e+=1+n*(o-1),n=0}}aG+=1,(e-=$>=3?9:3*$)>bG&&(bG=e,S$=t)}}var U$=Vb&&Vb.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),eG=Vb&&Vb.__assign||function(){return(eG=Object.assign||function(e){for(var t,o=1,i=arguments.length;o<i;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},cm=Vb&&Vb.__decorate||function(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},V$=function(){function e(e){this.trait=e,this.renderedElements=[]}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,o){var i=Uo(this.renderedElements,function(e){return e.templateData===o});if(i>=0){var n=this.renderedElements[i];this.trait.unrender(o),n.index=t}else{n={index:t,templateData:o};this.renderedElements.push(n)}this.trait.renderIndex(t,o)},e.prototype.splice=function(e,t,o){for(var i=[],n=0,r=this.renderedElements;n<r.length;n++){var s=r[n];s.index<e?i.push(s):s.index>=e+t&&i.push({index:s.index+o-t,templateData:s.templateData})}this.renderedElements=i},e.prototype.renderIndexes=function(e){for(var t=0,o=this.renderedElements;t<o.length;t++){var i=o[t],n=i.index,r=i.templateData;e.indexOf(n)>-1&&this.trait.renderIndex(n,r)}},e.prototype.disposeTemplate=function(e){var t=Uo(this.renderedElements,function(t){return t.templateData===e});t<0||this.renderedElements.splice(t,1)},e}(),fG=function(){function e(e){this._trait=e,this._onChange=new b,this.indexes=[]}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return new V$(this)},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,o){var i=o.length-t,n=e+t,r=this.indexes.filter(function(t){return t<e}).concat(o.map(function(t,o){return t?o+e:-1}).filter(function(e){return-1!==e}),this.indexes.filter(function(e){return e>=n}).map(function(e){return e+i}));this.renderer.splice(e,t,o.length),this.set(r)},e.prototype.renderIndex=function(e,t){q.toggleClass(t,this._trait,this.contains(e))},e.prototype.unrender=function(e){q.removeClass(e,this._trait)},e.prototype.set=function(e,t){var o=this.indexes;this.indexes=e;var i=vt(o,e);return this.renderer.renderIndexes(i),this._onChange.fire({indexes:e,browserEvent:t}),o},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},e.prototype.dispose=function(){this._onChange=C(this._onChange)},cm([Tb],e.prototype,"renderer",null),e}(),W$=function(e){function t(){return e.call(this,"focused")||this}return U$(t,e),t.prototype.renderIndex=function(t,o){e.prototype.renderIndex.call(this,t,o),this.contains(t)?o.setAttribute("aria-selected","true"):o.removeAttribute("aria-selected")},t}(fG),gG=function(){function e(e,t,o){this.trait=e,this.view=t,this.identityProvider=o}return e.prototype.splice=function(e,t,o){var i=this;if(!this.identityProvider)return this.trait.splice(e,t,o.map(function(){return!1}));var n=this.trait.get().map(function(e){return i.identityProvider.getId(i.view.element(e)).toString()}),r=o.map(function(e){return n.indexOf(i.identityProvider.getId(e).toString())>-1});this.trait.splice(e,t,r)},e}();function Ei(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}var Fi,X$=function(){function e(e,t,o){this.list=e,this.view=t;var i=!(!1===o.multipleSelectionSupport);this.disposables=[],this.openController=o.openController||iG;var n=u.chain(J(t.domNode,"keydown")).filter(function(e){return!Ei(e.target)}).map(function(e){return new Fa(e)});n.filter(function(e){return 3===e.keyCode}).on(this.onEnter,this,this.disposables),n.filter(function(e){return 16===e.keyCode}).on(this.onUpArrow,this,this.disposables),n.filter(function(e){return 18===e.keyCode}).on(this.onDownArrow,this,this.disposables),n.filter(function(e){return 11===e.keyCode}).on(this.onPageUpArrow,this,this.disposables),n.filter(function(e){return 12===e.keyCode}).on(this.onPageDownArrow,this,this.disposables),n.filter(function(e){return 9===e.keyCode}).on(this.onEscape,this,this.disposables),i&&n.filter(function(e){return(Z?e.metaKey:e.ctrlKey)&&31===e.keyCode}).on(this.onCtrlA,this,this.disposables)}return e.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},e.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Wo(this.list.length),e.browserEvent),this.view.domNode.focus()},e.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()},e.prototype.dispose=function(){this.disposables=C(this.disposables)},e}();function qt(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=80&&e.keyCode<=90)}!function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(Fi||(Fi={})),Vb.mightProducePrintableCharacter=qt;var Y$=function(){function e(e,t,o){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=o,this.enabled=!1,this.state=Fi.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=[],this.disposables=[],this.updateOptions(e.options)}return e.prototype.updateOptions=function(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)},e.prototype.enable=function(){var e=this;if(!this.enabled){var t=u.chain(J(this.view.domNode,"keydown")).filter(function(e){return!Ei(e.target)}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).map(function(e){return new Fa(e)}).filter(this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(t){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(t)}:function(e){return qt(e)}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).map(function(e){return e.browserEvent.key}).event,o=u.debounce(t,function(){return null},800);u.reduce(u.any(t,o),function(e,t){return null===t?null:(e||"")+t})(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}},e.prototype.disable=function(){this.enabled&&(this.enabledDisposables=C(this.enabledDisposables),this.enabled=!1,this.triggered=!1)},e.prototype.onInput=function(e){if(!e)return this.state=Fi.Idle,void(this.triggered=!1);var t=this.list.getFocus(),o=t.length>0?t[0]:0,i=this.state===Fi.Idle?1:0;this.state=Fi.Typing;for(var n=0;n<this.list.length;n++){var r=(o+n+i)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),l=s&&s.toString();if(void 0===l||it(e,l))return this.list.setFocus([r]),void this.list.reveal(r)}},e.prototype.dispose=function(){this.disable(),this.disposables=C(this.disposables)},e}(),Z$=function(){function e(e,t){this.list=e,this.view=t,this.disposables=[],this.disposables=[],u.chain(J(t.domNode,"keydown")).filter(function(e){return!Ei(e.target)}).map(function(e){return new Fa(e)}).filter(function(e){return!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)}).on(this.onTab,this,this.disposables)}return e.prototype.onTab=function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(0!==t.length){var o=this.view.domElement(t[0]);if(o){var i=o.querySelector("[tabIndex]");if(i&&i instanceof HTMLElement&&-1!==i.tabIndex){var n=window.getComputedStyle(i);"hidden"!==n.visibility&&"none"!==n.display&&(e.preventDefault(),e.stopPropagation(),i.focus())}}}}},e.prototype.dispose=function(){this.disposables=C(this.disposables)},e}();function rt(e){return Z?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function st(e){return e.browserEvent.shiftKey}function hG(e){return e instanceof MouseEvent&&2===e.button}Vb.isSelectionSingleChangeEvent=rt,Vb.isSelectionRangeChangeEvent=st;var $$={isSelectionSingleChangeEvent:rt,isSelectionRangeChangeEvent:st},iG={shouldOpen:function(e){return!(e instanceof MouseEvent)||!hG(e)}},tt=function(){function e(e){this.list=e,this.disposables=[],this.multipleSelectionSupport=!(!1===e.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||$$),this.openController=e.options.openController||iG,this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),og.addTarget(e.getHTMLElement())),e.onMouseClick(this.onPointer,this,this.disposables),e.onMouseMiddleClick(this.onPointer,this,this.disposables),e.onTap(this.onPointer,this,this.disposables)}return e.prototype.isSelectionSingleChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):Z?e.browserEvent.metaKey:e.browserEvent.ctrlKey},e.prototype.isSelectionRangeChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey},e.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)},e.prototype.onMouseDown=function(e){document.activeElement!==e.browserEvent.target&&this.list.domFocus()},e.prototype.onContextMenu=function(e){var t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)},e.prototype.onPointer=function(e){if(this.mouseSupport&&!Ei(e.browserEvent.target)){var t=this.list.getFocus()[0],o=this.list.getSelection();t=void 0===t?o[0]:t;var i=e.index;if(void 0===i)return this.list.setFocus([],e.browserEvent),void this.list.setSelection([],e.browserEvent);if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,t);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,t);this.list.setFocus([i],e.browserEvent),hG(e.browserEvent)||(this.list.setSelection([i],e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open([i],e.browserEvent))}},e.prototype.onDoubleClick=function(e){if(!(Ei(e.browserEvent.target)||this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))){var t=this.list.getFocus();this.list.setSelection(t,e.browserEvent),this.list.pin(t)}},e.prototype.changeSelection=function(e,t){var o=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==t){var i=Math.min(t,o),n=Math.max(t,o),r=Wo(i,n+1),s=b_(vt(a=this.list.getSelection(),[t]),t);if(0===s.length)return;var l=vt(r,c_(a,s));this.list.setSelection(l,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){var a;l=(a=this.list.getSelection()).filter(function(e){return e!==o});a.length===l.length?this.list.setSelection(l.concat([o]),e.browserEvent):this.list.setSelection(l,e.browserEvent)}},e.prototype.dispose=function(){this.disposables=C(this.disposables)},e}();Vb.MouseController=tt;var ut=function(){function e(e,t){this.styleElement=e,this.selectorSuffix=t}return e.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",o=[];e.listFocusBackground&&(o.push(".monaco-list"+t+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),o.push(".monaco-list"+t+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")),e.listFocusForeground&&o.push(".monaco-list"+t+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(o.push(".monaco-list"+t+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),o.push(".monaco-list"+t+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&o.push(".monaco-list"+t+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t"),e.listFocusAndSelectionForeground&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t"),e.listInactiveFocusBackground&&(o.push(".monaco-list"+t+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),o.push(".monaco-list"+t+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(o.push(".monaco-list"+t+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),o.push(".monaco-list"+t+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&o.push(".monaco-list"+t+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&o.push(".monaco-list"+t+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&o.push(".monaco-list"+t+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&o.push(".monaco-list"+t+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&o.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+"; outline-offset: -1px; }\n\t\t\t"),e.listInactiveFocusOutline&&o.push(".monaco-list"+t+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&o.push(".monaco-list"+t+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }"),e.listDropBackground&&o.push("\n\t\t\t\t.monaco-list"+t+".drop-target,\n\t\t\t\t.monaco-list"+t+" .monaco-list-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),e.listFilterWidgetBackground&&o.push(".monaco-list-type-filter { background-color: "+e.listFilterWidgetBackground+" }"),e.listFilterWidgetOutline&&o.push(".monaco-list-type-filter { border: 1px solid "+e.listFilterWidgetOutline+"; }"),e.listFilterWidgetNoMatchesOutline&&o.push(".monaco-list-type-filter.no-matches { border: 1px solid "+e.listFilterWidgetNoMatchesOutline+"; }"),e.listMatchesShadow&&o.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+e.listMatchesShadow+"; }");var i=o.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},e}();Vb.DefaultStyleController=ut;var _$={listFocusBackground:c.fromHex("#073655"),listActiveSelectionBackground:c.fromHex("#0E639C"),listActiveSelectionForeground:c.fromHex("#FFFFFF"),listFocusAndSelectionBackground:c.fromHex("#094771"),listFocusAndSelectionForeground:c.fromHex("#FFFFFF"),listInactiveSelectionBackground:c.fromHex("#3F3F46"),listHoverBackground:c.fromHex("#2A2D2E"),listDropBackground:c.fromHex("#383B3D")},a_={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:gt.TREE};function b_(e,t){var o=e.indexOf(t);if(-1===o)return[];for(var i=[],n=o-1;n>=0&&e[n]===t-(o-n);)i.push(e[n--]);for(i.reverse(),n=o;n<e.length&&e[n]===t+(n-o);)i.push(e[n++]);return i}function vt(e,t){for(var o=[],i=0,n=0;i<e.length||n<t.length;)if(i>=e.length)o.push(t[n++]);else if(n>=t.length)o.push(e[i++]);else{if(e[i]===t[n]){o.push(e[i]),i++,n++;continue}e[i]<t[n]?o.push(e[i++]):o.push(t[n++])}return o}function c_(e,t){for(var o=[],i=0,n=0;i<e.length||n<t.length;)if(i>=e.length)o.push(t[n++]);else if(n>=t.length)o.push(e[i++]);else{if(e[i]===t[n]){i++,n++;continue}e[i]<t[n]?o.push(e[i++]):n++}return o}var jG=function(e,t){return e-t},d_=function(){function e(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return this.renderers.map(function(t){return t.renderTemplate(e)})},e.prototype.renderElement=function(e,t,o,i){for(var n=0,r=0,s=this.renderers;r<s.length;r++){s[r].renderElement(e,t,o[n++],i)}},e.prototype.disposeElement=function(e,t,o,i){for(var n=0,r=0,s=this.renderers;r<s.length;r++){var l=s[r];l.disposeElement&&l.disposeElement(e,t,o[n],i),n+=1}},e.prototype.disposeTemplate=function(e){for(var t=0,o=0,i=this.renderers;o<i.length;o++){i[o].disposeTemplate(e[t++])}},e}(),e_=function(){function e(e){this.accessibilityProvider=e,this.templateId="a18n"}return e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,o){var i=this.accessibilityProvider.getAriaLabel(e);i?o.setAttribute("aria-label",i):o.removeAttribute("aria-label");var n=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof n?o.setAttribute("aria-level",""+n):o.removeAttribute("aria-level")},e.prototype.disposeTemplate=function(e){},e}(),f_=function(){function e(e,t){this.list=e,this.dnd=t}return e.prototype.getDragElements=function(e){var t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]},e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e)},e.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e)},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)},e.prototype.onDragOver=function(e,t,o,i){return this.dnd.onDragOver(e,t,o,i)},e.prototype.drop=function(e,t,o,i){this.dnd.drop(e,t,o,i)},e}(),kG=function(){function e(e,t,o,i){void 0===i&&(i=a_),this._options=i,this.eventBufferer=new jp,this._onDidOpen=new b,this._onPin=new b,this.didJustPressContextMenuKey=!1,this._onDidDispose=new b,this.focus=new W$,this.selection=new fG("selected"),_b(i,_$,!1);var n=[this.focus.renderer,this.selection.renderer];i.accessibilityProvider&&n.push(new e_(i.accessibilityProvider)),o=o.map(function(e){return new d_(e.templateId,n.concat([e]))});var r=eG({},i,{dnd:i.dnd&&new f_(this,i.dnd)});if(this.view=new UF(e,t,o,r),"string"!=typeof i.ariaRole?this.view.domNode.setAttribute("role",gt.TREE):this.view.domNode.setAttribute("role",i.ariaRole),this.styleElement=q.createStyleSheet(this.view.domNode),this.styleController=i.styleController||new ut(this.styleElement,this.view.domId),this.spliceable=new D$([new gG(this.focus,this.view,i.identityProvider),new gG(this.selection,this.view,i.identityProvider),this.view]),this.disposables=[this.focus,this.selection,this.view,this._onDidDispose],this.onDidFocus=u.map(J(this.view.domNode,"focus",!0),function(){return null}),this.onDidBlur=u.map(J(this.view.domNode,"blur",!0),function(){return null}),this.disposables.push(new Z$(this,this.view)),"boolean"!=typeof i.keyboardSupport||i.keyboardSupport){var s=new X$(this,this.view,i);this.disposables.push(s)}i.keyboardNavigationLabelProvider&&(this.typeLabelController=new Y$(this,this.view,i.keyboardNavigationLabelProvider),this.disposables.push(this.typeLabelController)),this.disposables.push(this.createMouseController(i)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),i.ariaLabel&&this.view.domNode.setAttribute("aria-label",_("aria list","{0}. Use the navigation keys to navigate.",i.ariaLabel)),this.style(i)}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return u.map(this.eventBufferer.wrapEvent(this.focus.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return u.map(this.eventBufferer.wrapEvent(this.selection.onChange),function(t){return e.toListEvent(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this,t=u.chain(J(this.view.domNode,"keydown")).map(function(e){return new Fa(e)}).filter(function(t){return e.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode}).filter(function(e){return e.preventDefault(),e.stopPropagation(),!1}).map(function(t){var o=e.getFocus()[0];return{index:o,element:e.view.element(o),anchor:e.view.domElement(o)||void 0,browserEvent:t.browserEvent}}).event,o=u.chain(J(this.view.domNode,"keyup")).filter(function(){var t=e.didJustPressContextMenuKey;return e.didJustPressContextMenuKey=!1,t}).filter(function(){return e.getFocus().length>0}).map(function(t){var o=e.getFocus()[0];return{index:o,element:e.view.element(o),anchor:e.view.domElement(o)||void 0,browserEvent:t}}).filter(function(e){return!!e.anchor}).event,i=u.chain(this.view.onContextMenu).filter(function(){return!e.didJustPressContextMenuKey}).map(function(e){var t=e.element,o=e.index,i=e.browserEvent;return{element:t,index:o,anchor:{x:i.clientX+1,y:i.clientY},browserEvent:i}}).event;return u.any(t,o,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onKeyDown",{get:function(){return J(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this._onDidDispose.event},enumerable:!0,configurable:!0}),e.prototype.createMouseController=function(e){return new tt(this)},e.prototype.updateOptions=function(e){void 0===e&&(e={}),this._options=eG({},this._options,e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,o){var i=this;if(void 0===o&&(o=[]),e<0||e>this.view.length)throw new Error("Invalid start index: "+e);if(t<0)throw new Error("Invalid delete count: "+t);0===t&&0===o.length||this.eventBufferer.bufferEvents(function(){return i.spliceable.splice(e,t,o)})},e.prototype.rerender=function(){this.view.rerender()},e.prototype.element=function(e){return this.view.element(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.view.domNode.focus()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.setSelection=function(e,t){for(var o=0,i=e;o<i.length;o++){var n=i[o];if(n<0||n>=this.length)throw new Error("Invalid index "+n)}e=e.sort(jG),this.selection.set(e,t)},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.getSelectedElements=function(){var e=this;return this.getSelection().map(function(t){return e.view.element(t)})},e.prototype.setFocus=function(e,t){for(var o=0,i=e;o<i.length;o++){var n=i[o];if(n<0||n>=this.length)throw new Error("Invalid index "+n)}e=e.sort(jG),this.focus.set(e,t)},e.prototype.focusNext=function(e,t,o,i){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),r=this.findNextIndex(n.length>0?n[0]+e:0,t,i);r>-1&&this.setFocus([r],o)}},e.prototype.focusPrevious=function(e,t,o,i){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var n=this.focus.get(),r=this.findPreviousIndex(n.length>0?n[0]-e:0,t,i);r>-1&&this.setFocus([r],o)}},e.prototype.focusNextPage=function(e,t){var o=this,i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;var n=this.view.element(i),r=this.getFocusedElements()[0];if(r!==n){var s=this.findPreviousIndex(i,!1,t);s>-1&&r!==this.view.element(s)?this.setFocus([s],e):this.setFocus([i],e)}else{var l=this.view.getScrollTop();this.view.setScrollTop(l+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==l&&setTimeout(function(){return o.focusNextPage(e,t)},0)}},e.prototype.focusPreviousPage=function(e,t){var o,i=this,n=this.view.getScrollTop();o=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);var r=this.view.element(o),s=this.getFocusedElements()[0];if(s!==r){var l=this.findNextIndex(o,!1,t);l>-1&&s!==this.view.element(l)?this.setFocus([l],e):this.setFocus([o],e)}else{var a=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==a&&setTimeout(function(){return i.focusPreviousPage(e,t)},0)}},e.prototype.focusLast=function(e,t){if(0!==this.length){var o=this.findPreviousIndex(this.length-1,!1,t);o>-1&&this.setFocus([o],e)}},e.prototype.focusFirst=function(e,t){if(0!==this.length){var o=this.findNextIndex(0,!1,t);o>-1&&this.setFocus([o],e)}},e.prototype.findNextIndex=function(e,t,o){void 0===t&&(t=!1);for(var i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e%=this.length,!o||o(this.element(e)))return e;e++}return-1},e.prototype.findPreviousIndex=function(e,t,o){void 0===t&&(t=!1);for(var i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!o||o(this.element(e)))return e;e--}return-1},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},e.prototype.reveal=function(e,t){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var o=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(pe(t)){var r=n-this.view.renderHeight;this.view.setScrollTop(r*VF(t,0,1)+i)}else{var s=i+n,l=o+this.view.renderHeight;i<o?this.view.setScrollTop(i):s>=l&&this.view.setScrollTop(s-this.view.renderHeight)}},e.prototype.getRelativeTop=function(e){if(e<0||e>=this.length)throw new Error("Invalid index "+e);var t=this.view.getScrollTop(),o=this.view.elementTop(e),i=this.view.elementHeight(e);if(o<t||o+i>t+this.view.renderHeight)return null;var n=i-this.view.renderHeight;return Math.abs((t-o)/n)},e.prototype.getHTMLElement=function(){return this.view.domNode},e.prototype.open=function(e,t){for(var o=this,i=0,n=e;i<n.length;i++){var r=n[i];if(r<0||r>=this.length)throw new Error("Invalid index "+r)}this._onDidOpen.fire({indexes:e,elements:e.map(function(e){return o.view.element(e)}),browserEvent:t})},e.prototype.pin=function(e){for(var t=0,o=e;t<o.length;t++){var i=o[t];if(i<0||i>=this.length)throw new Error("Invalid index "+i)}this._onPin.fire(e)},e.prototype.style=function(e){this.styleController.style(e)},e.prototype.toListEvent=function(e){var t=this,o=e.indexes,i=e.browserEvent;return{indexes:o,elements:o.map(function(e){return t.view.element(e)}),browserEvent:i}},e.prototype._onFocusChange=function(){var e=this.focus.get();e.length>0?this.view.domNode.setAttribute("aria-activedescendant",this.view.getElementDomId(e[0])):this.view.domNode.removeAttribute("aria-activedescendant"),this.view.domNode.setAttribute("role","tree"),q.toggleClass(this.view.domNode,"element-focused",e.length>0)},e.prototype._onSelectionChange=function(){var e=this.selection.get();q.toggleClass(this.view.domNode,"selection-none",0===e.length),q.toggleClass(this.view.domNode,"selection-single",1===e.length),q.toggleClass(this.view.domNode,"selection-multiple",e.length>1)},e.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables=C(this.disposables),this._onDidOpen.dispose(),this._onPin.dispose(),this._onDidDispose.dispose()},cm([Tb],e.prototype,"onFocusChange",null),cm([Tb],e.prototype,"onSelectionChange",null),cm([Tb],e.prototype,"onContextMenu",null),e}();Vb.List=kG;var g_,id={};var Ng={};function lG(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function wt(e){switch(e){case!0:return 1;case!1:return 0;default:return e;}}function mG(e){var t=e.element,r=e.collapsed;return{element:t,children:ra.map(ra.fromArray(e.children),mG),collapsed:r}}var h_=function(){function e(e,t,r){void 0===r&&(r={}),this.list=e,this.eventBufferer=new jp,this._onDidChangeCollapseState=new b,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new b,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new b,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==r.collapseByDefault&&r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=void 0!==r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.root={parent:void 0,element:t,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return e.prototype.splice=function(e,t,r,i,o){var n,l=this;if(0===e.length)throw new Error("Invalid tree location");for(var d=this.getParentNodeWithListIndex(e),s=d.parentNode,a=d.listIndex,p=d.revealed,h=d.visible,u=[],c=ra.map(ra.from(r),function(e){return l.createTreeNode(e,s,s.visible?1:0,p,u,i)}),v=e[e.length-1],f=0,$=v;$>=0&&$<s.children.length;$--){if((y=s.children[$]).visible){f=y.visibleChildIndex;break}}var C=[],N=0,g=0;ra.forEach(c,function(e){C.push(e),g+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=f+N++)});for(var b=(n=s.children).splice.apply(n,[v,t].concat(C)),x=0,I=0,m=b;I<m.length;I++){(y=m[I]).visible&&x++}if(0!==x)for($=v+C.length;$<s.children.length;$++){var y;(y=s.children[$]).visible&&(y.visibleChildIndex-=x)}if(s.visibleChildrenCount+=N-x,p&&h){var _=b.reduce(function(e,t){return e+t.renderNodeCount},0);this._updateAncestorsRenderNodeCount(s,g-_),this.list.splice(a,_,u)}if(b.length>0&&o){var E=function(e){o(e),e.children.forEach(E)};b.forEach(E)}var D=ra.map(ra.fromArray(b),mG);return this._onDidSplice.fire({insertedNodes:C,deletedNodes:b}),D},e.prototype.rerender=function(e){if(0===e.length)throw new Error("Invalid tree location");var t=this.getTreeNodeWithListIndex(e),r=t.node,i=t.listIndex;t.revealed&&this.list.splice(i,1,[r])},e.prototype.getListIndex=function(e){var t=this.getTreeNodeWithListIndex(e),r=t.listIndex,i=t.visible,o=t.revealed;return i&&o?r:-1},e.prototype.getListRenderCount=function(e){return this.getTreeNode(e).renderNodeCount},e.prototype.isCollapsed=function(e){return this.getTreeNode(e).collapsed},e.prototype.setCollapsed=function(e,t,r){var i=this,o=this.getTreeNode(e);return void 0===t&&(t=!o.collapsed),this.eventBufferer.bufferEvents(function(){return i._setCollapsed(e,t,r)})},e.prototype._setCollapsed=function(e,t,r){var i=this.getTreeNodeWithListIndex(e),o=i.node,n=i.listIndex,l=i.revealed,d=this._setListNodeCollapsed(o,n,l,t,r||!1);if(this.autoExpandSingleChildren&&!t&&!r){for(var s=-1,a=0;a<o.children.length;a++){if(o.children[a].visible){if(s>-1){s=-1;break}s=a}}s>-1&&this._setCollapsed(e.concat([s]),!1,!1)}return d},e.prototype._setListNodeCollapsed=function(e,t,r,i,o){var n=this._setNodeCollapsed(e,i,o,!1);if(!r||!e.visible)return n;var l=e.renderNodeCount,d=this.updateNodeAfterCollapseChange(e),s=l-(-1===t?0:1);return this.list.splice(t+1,s,d.slice(1)),n},e.prototype._setNodeCollapsed=function(e,t,r,i){var o=e.collapsible&&e.collapsed!==t;if(e.collapsible&&(e.collapsed=t,o&&this._onDidChangeCollapseState.fire({node:e,deep:i})),r)for(var n=0,l=e.children;n<l.length;n++){var d=l[n];o=this._setNodeCollapsed(d,t,!0,!0)||o}return o},e.prototype.expandTo=function(e){var t=this;this.eventBufferer.bufferEvents(function(){for(var r=t.getTreeNode(e);r.parent;)r=r.parent,e=e.slice(0,e.length-1),r.collapsed&&t._setCollapsed(e,!1)})},e.prototype.refilter=function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)},e.prototype.createTreeNode=function(e,t,r,i,o,n){var l=this,d={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},s=this._filterNode(d,r);i&&o.push(d);var a=ra.from(e.children),p=i&&0!==s&&!d.collapsed,h=ra.map(a,function(e){return l.createTreeNode(e,d,s,p,o,n)}),u=0,c=1;return ra.forEach(h,function(e){d.children.push(e),c+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=u++)}),d.collapsible=d.collapsible||d.children.length>0,d.visibleChildrenCount=u,d.visible=2===s?u>0:1===s,d.visible?d.collapsed||(d.renderNodeCount=c):(d.renderNodeCount=0,i&&o.pop()),n&&n(d),d},e.prototype.updateNodeAfterCollapseChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterCollapseChange(e,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},e.prototype._updateNodeAfterCollapseChange=function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(var r=0,i=e.children;r<i.length;r++){var o=i[r];e.renderNodeCount+=this._updateNodeAfterCollapseChange(o,t)}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount},e.prototype.updateNodeAfterFilterChange=function(e){var t=e.renderNodeCount,r=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,r),this._updateAncestorsRenderNodeCount(e.parent,r.length-t),r},e.prototype._updateNodeAfterFilterChange=function(e,t,r,i){var o;if(void 0===i&&(i=!0),e!==this.root){if(0===(o=this._filterNode(e,t)))return e.visible=!1,!1;i&&r.push(e)}var n=r.length;e.renderNodeCount=e===this.root?0:1;var l=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{for(var d=0,s=0,a=e.children;s<a.length;s++){var p=a[s];l=this._updateNodeAfterFilterChange(p,o,r,i&&!e.collapsed)||l,p.visible&&(p.visibleChildIndex=d++)}e.visibleChildrenCount=d}return e!==this.root&&(e.visible=2===o?l:1===o),e.visible?e.collapsed||(e.renderNodeCount+=r.length-n):(e.renderNodeCount=0,i&&r.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible},e.prototype._updateAncestorsRenderNodeCount=function(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent},e.prototype._filterNode=function(e,t){var r=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof r?(e.filterData=void 0,r?1:0):lG(r)?(e.filterData=r.data,wt(r.visibility)):(e.filterData=void 0,wt(r))},e.prototype.getTreeNode=function(e,t){if(void 0===t&&(t=this.root),!e||0===e.length)return t;var r=e[0],i=e.slice(1);if(r<0||r>t.children.length)throw new Error("Invalid tree location");return this.getTreeNode(i,t.children[r])},e.prototype.getTreeNodeWithListIndex=function(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),r=t.parentNode,i=t.listIndex,o=t.revealed,n=t.visible,l=e[e.length-1];if(l<0||l>r.children.length)throw new Error("Invalid tree location");var d=r.children[l];return{node:d,listIndex:i,revealed:o,visible:n&&d.visible}},e.prototype.getParentNodeWithListIndex=function(e,t,r,i,o){void 0===t&&(t=this.root),void 0===r&&(r=0),void 0===i&&(i=!0),void 0===o&&(o=!0);var n=e[0],l=e.slice(1);if(n<0||n>t.children.length)throw new Error("Invalid tree location");for(var d=0;d<n;d++)r+=t.children[d].renderNodeCount;return i=i&&!t.collapsed,o=o&&t.visible,0===l.length?{parentNode:t,listIndex:r,revealed:i,visible:o}:this.getParentNodeWithListIndex(l,t.children[n],r+1,i,o)},e.prototype.getNode=function(e){return void 0===e&&(e=[]),this.getTreeNode(e)},e.prototype.getNodeLocation=function(e){for(var t=[];e.parent;)t.push(e.parent.children.indexOf(e)),e=e.parent;return t.reverse()},e.prototype.getParentNodeLocation=function(e){return e.length<=1?[]:$M(e)[0]},e}();var nG=Ng&&Ng.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),Td=Ng&&Ng.__assign||function(){return(Td=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function xt(e){if(e instanceof Kg){var t=e.elements;return new Kg(t.map(function(e){return e.element}))}return e}var i_=function(){function e(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=B.None}return e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},e.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(e){return e.element}))},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(xt(e),t)},e.prototype.onDragOver=function(e,t,i,o,r){var n=this;void 0===r&&(r=!0);var s=this.dnd.onDragOver(xt(e),t&&t.element,i,o),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return s;if(a&&"boolean"!=typeof s&&s.autoExpand&&(this.autoExpandDisposable=qk(function(){var e=n.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),n.autoExpandNode=void 0},500)),"boolean"==typeof s||!s.accept||void 0===s.bubble)return r?s:{accept:"boolean"==typeof s?s:s.accept,effect:"boolean"==typeof s?void 0:s.effect,feedback:[i]};if(1===s.bubble){var l=t.parent,p=this.modelProvider(),d=l&&p.getListIndex(p.getNodeLocation(l));return this.onDragOver(e,l,d,o,!1)}var h=this.modelProvider(),u=h.getNodeLocation(t),c=h.getListIndex(u),v=h.getListRenderCount(u);return Td({},s,{feedback:Wo(c,c+v)})},e.prototype.drop=function(e,t,i,o){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(xt(e),t&&t.element,i,o)},e}();function j_(e,t){return t&&Td({},t,{identityProvider:t.identityProvider&&{getId:function(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new i_(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return t.multipleSelectionController.isSelectionSingleChangeEvent(Td({},e,{element:e.element}))},isSelectionRangeChangeEvent:function(e){return t.multipleSelectionController.isSelectionRangeChangeEvent(Td({},e,{element:e.element}))}},accessibilityProvider:t.accessibilityProvider&&{getAriaLabel:function(e){return t.accessibilityProvider.getAriaLabel(e.element)},getAriaLevel:function(e){return e.depth}},keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Td({},t.keyboardNavigationLabelProvider,{getKeyboardNavigationLabel:function(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),enableKeyboardNavigation:t.simpleKeyboardNavigation,ariaSetProvider:{getSetSize:function(e){return e.parent.visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1}}})}var yt=function(){function e(e){this.delegate=e}return e.prototype.getHeight=function(e){return this.delegate.getHeight(e.element)},e.prototype.getTemplateId=function(e){return this.delegate.getTemplateId(e.element)},e.prototype.hasDynamicHeight=function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)},e}();Ng.ComposedTreeDelegate=yt;var k_=function(){function e(t,i,o){void 0===o&&(o={}),this.renderer=t,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=e.DefaultIndent,this.disposables=[],this.templateId=t.templateId,this.updateOptions(o),u.map(i,function(e){return e.node})(this.onDidChangeNodeTwistieState,this,this.disposables),t.onDidChangeTwistieState&&t.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return e.prototype.updateOptions=function(e){var t=this;void 0===e&&(e={}),void 0!==e.indent&&(this.indent=VF(e.indent,0,40)),this.renderedNodes.forEach(function(e,i){e.twistie.style.marginLeft=i.depth*t.indent+"px"})},e.prototype.renderTemplate=function(e){var t=La(e,xa(".monaco-tl-row")),i=La(t,xa(".monaco-tl-twistie")),o=La(t,xa(".monaco-tl-contents"));return{container:e,twistie:i,templateData:this.renderer.renderTemplate(o)}},e.prototype.renderElement=function(t,i,o,r){r||(this.renderedNodes.set(t,o),this.renderedElements.set(t.element,t));var n=e.DefaultIndent+(t.depth-1)*this.indent;o.twistie.style.marginLeft=n+"px",this.update(t,o),this.renderer.renderElement(t,i,o.templateData,r)},e.prototype.disposeElement=function(e,t,i,o){this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,o),o||(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.onDidChangeTwistieState=function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)},e.prototype.onDidChangeNodeTwistieState=function(e){var t=this.renderedNodes.get(e);t&&this.update(e,t)},e.prototype.update=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),ec(t.twistie,"collapsible",e.collapsible),ec(t.twistie,"collapsed",e.collapsible&&e.collapsed),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")},e.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.disposables=C(this.disposables)},e.DefaultIndent=8,e}(),l_=function(){function e(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this.disposables=[],e.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(e.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()},enumerable:!0,configurable:!0}),e.prototype.filter=function(e,t){if(this._filter){var i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;if(0===("boolean"==typeof i?i?1:0:lG(i)?wt(i.visibility):i))return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:Mg.Default,visibility:!0};var o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=o&&o.toString();if(void 0===r)return{data:Mg.Default,visibility:!0};var n=R$(this._pattern,this._lowercasePattern,0,r,r.toLowerCase(),0,!0);return n?(this._matchCount++,{data:n,visibility:!0}):this.tree.options.filterOnType?2:{data:Mg.Default,visibility:!0}},e.prototype.reset=function(){this._totalCount=0,this._matchCount=0},e.prototype.dispose=function(){this.disposables=C(this.disposables)},e}(),m_=function(){function e(e,t,i,o,r){this.tree=e,this.view=i,this.filter=o,this.keyboardNavigationLabelProvider=r,this._enabled=!1,this._pattern="",this._onDidChangeEmptyState=new b,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new b,this.enabledDisposables=[],this.disposables=[],this.domNode=xa(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,J(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=La(i.getHTMLElement(),xa(".monaco-list-type-filter-message")),this.labelDomNode=La(this.domNode,xa("span.label"));var n=La(this.domNode,xa(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=La(n,xa("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),J(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=La(n,xa("button.clear")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=_("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},e.prototype.enable=function(){var e=this;if(!this._enabled){var t=this.keyboardNavigationLabelProvider.mightProducePrintableCharacter?function(t){return e.keyboardNavigationLabelProvider.mightProducePrintableCharacter(t)}:function(e){return qt(e)},i=u.chain(J(this.view.getHTMLElement(),"keydown")).filter(function(t){return!zt(t.target)||t.target===e.filterOnTypeDomNode}).map(function(e){return new Fa(e)}).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter(function(){return e.automaticKeyboardNavigation||e.triggered}).filter(function(i){return t(i)||(e.pattern.length>0||e.triggered)&&(9===i.keyCode||1===i.keyCode)&&!i.altKey&&!i.ctrlKey&&!i.metaKey||1===i.keyCode&&(Z?i.altKey:i.ctrlKey)&&!i.shiftKey}).forEach(function(e){e.stopPropagation(),e.preventDefault()}).event,o=J(this.clearDomNode,"click");u.chain(u.any(i,o)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},e.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables=C(this.enabledDisposables),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},e.prototype.onEventOrInput=function(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(Z?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},e.prototype.onInput=function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,function(e){return!Mg.isDefault(e.filterData)});var i=this.tree.getFocus();if(i.length>0){var o=i[0];null===this.tree.getRelativeTop(o)&&this.tree.reveal(o,.5)}this.render(),e||(this.triggered=!1)},e.prototype.onDragStart=function(){var e=this,t=this.view.getHTMLElement(),i=qA(t).left,o=t.clientWidth,r=o/2,n=this.domNode.clientWidth,s=[],a=this.positionClassName,l=function(){switch(a){case"nw":e.domNode.style.top="4px",e.domNode.style.left="4px";break;case"ne":e.domNode.style.top="4px",e.domNode.style.left=o-n-6+"px";}};l(),dc(this.domNode,a),jb(this.domNode,"dragging"),s.push(ka(function(){return dc(e.domNode,"dragging")})),J(document,"dragover")(function(e){var t=e.screenX-i;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),a=t<r?"nw":"ne",l()},null,s),J(this.domNode,"dragend")(function(){e.positionClassName=a,e.domNode.className="monaco-list-type-filter "+e.positionClassName,e.domNode.style.top=null,e.domNode.style.left=null,C(s)},null,s),hd.CurrentDragAndDropData=new B$("vscode-ui"),s.push(ka(function(){return hd.CurrentDragAndDropData=void 0}))},e.prototype.onDidSpliceModel=function(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())},e.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},e.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=_("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=_("enable filter on type","Enable Filter on Type")},e.prototype.render=function(){var e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=_("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),ec(this.domNode,"no-matches",e),this.domNode.title=_("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},e.prototype.shouldAllowFocus=function(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||this.filter.totalCount>0&&this.filter.matchCount<=1||!Mg.isDefault(e.filterData)},e.prototype.dispose=function(){this.disable(),this._onDidChangePattern.dispose(),this.disposables=C(this.disposables)},e}();function zt(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function n_(e){return{browserEvent:e.browserEvent,element:e.element?e.element.element:null}}function dm(e,t){t(e),e.children.forEach(function(e){return dm(e,t)})}var oG=function(){function e(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new b,this.onDidChange=this._onDidChange.event}return Object.defineProperty(e.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(!fk(this.nodes,e)){this.nodes=e.slice(),this.elements=void 0,this._nodeSet=void 0;var i=this;this._onDidChange.fire({get elements(){return i.get()},browserEvent:t})}},e.prototype.get=function(){return this.elements||(this.elements=this.nodes.map(function(e){return e.element})),this.elements.slice()},e.prototype.has=function(e){return this.nodeSet.has(e)},e.prototype.onDidModelSplice=function(e){var t=e.insertedNodes,i=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return i.forEach(function(e){return dm(e,r)}),void this.set(Ip(o))}var n=this.identityProvider,s=new Map;this.nodes.forEach(function(e){return s.set(n.getId(e.element).toString(),e)});var a=new Map,l=function(e){return a.set(n.getId(e.element).toString(),e)},p=function(e){return a.delete(n.getId(e.element).toString())};i.forEach(function(e){return dm(e,l)}),t.forEach(function(e){return dm(e,p)}),a.forEach(function(e,t){return s.delete(t)}),this.set(Ip(s))},e.prototype.createNodeSet=function(){for(var e=new Set,t=0,i=this.nodes;t<i.length;t++){var o=i[t];e.add(o)}return e},e}(),o_=function(e){function t(t,i){var o=e.call(this,t)||this;return o.tree=i,o}return nG(t,e),t.prototype.onPointer=function(t){if(!zt(t.browserEvent.target)){var i=t.element;if(!i)return e.prototype.onPointer.call(this,t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return e.prototype.onPointer.call(this,t);var o=xe(t.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&2!==t.browserEvent.detail&&!o)return e.prototype.onPointer.call(this,t);var r=!1;if((r="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(i.element):!!this.tree.expandOnlyOnTwistieClick)&&!o)return e.prototype.onPointer.call(this,t);var n=this.tree.model,s=n.getNodeLocation(i),a=t.browserEvent.altKey;n.setCollapsed(s,void 0,a),r&&o||e.prototype.onPointer.call(this,t)}},t}(tt),p_=function(e){function t(t,i,o,r,n,s){var a=e.call(this,t,i,o,s)||this;return a.focusTrait=r,a.selectionTrait=n,a}return nG(t,e),t.prototype.createMouseController=function(e){return new o_(this,e.tree)},t.prototype.splice=function(t,i,o){var r=this;if(void 0===o&&(o=[]),e.prototype.splice.call(this,t,i,o),0!==o.length){var n=[],s=[];o.forEach(function(e,i){r.selectionTrait.has(e)&&n.push(t+i),r.selectionTrait.has(e)&&s.push(t+i)}),n.length>0&&e.prototype.setFocus.call(this,e.prototype.getFocus.call(this).concat(n)),s.length>0&&e.prototype.setSelection.call(this,e.prototype.getSelection.call(this).concat(s))}},t.prototype.setFocus=function(t,i,o){var r=this;void 0===o&&(o=!1),e.prototype.setFocus.call(this,t,i),o||this.focusTrait.set(t.map(function(e){return r.element(e)}),i)},t.prototype.setSelection=function(t,i,o){var r=this;void 0===o&&(o=!1),e.prototype.setSelection.call(this,t,i),o||this.selectionTrait.set(t.map(function(e){return r.element(e)}),i)},t}(kG),pG=function(){function e(e,t,i,o){var r;void 0===o&&(o={});var n=this;this._options=o,this.eventBufferer=new jp,this.disposables=[],this._onWillRefilter=new b,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new b;var s,a=new yt(t),l=new SN;if(this.renderers=i.map(function(e){return new k_(e,l.event,o)}),(r=this.disposables).push.apply(r,this.renderers),o.keyboardNavigationLabelProvider&&(s=new l_(this,o.keyboardNavigationLabelProvider,o.filter),o=Td({},o,{filter:s}),this.disposables.push(s)),this.focus=new oG(o.identityProvider),this.selection=new oG(o.identityProvider),this.view=new p_(e,a,this.renderers,this.focus,this.selection,Td({},j_(function(){return n.model},o),{tree:this})),this.model=this.createModel(this.view,o),l.input=this.model.onDidChangeCollapseState,this.model.onDidSplice(function(e){n.focus.onDidModelSplice(e),n.selection.onDidModelSplice(e)},null,this.disposables),!1!==o.keyboardSupport){var p=u.chain(this.view.onKeyDown).filter(function(e){return!zt(e.target)}).map(function(e){return new Fa(e)});p.filter(function(e){return 15===e.keyCode}).on(this.onLeftArrow,this,this.disposables),p.filter(function(e){return 17===e.keyCode}).on(this.onRightArrow,this,this.disposables),p.filter(function(e){return 10===e.keyCode}).on(this.onSpace,this,this.disposables)}o.keyboardNavigationLabelProvider&&(this.typeFilterController=new m_(this,this.model,this.view,s,o.keyboardNavigationLabelProvider),this.focusNavigationFilter=function(e){return n.typeFilterController.shouldAllowFocus(e)},this.disposables.push(this.typeFilterController))}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){return u.map(this.view.onMouseDblClick,n_)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return void 0===this._options.openOnSingleClick||this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandOnlyOnTwistieClick",{get:function(){return void 0!==this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){void 0===e&&(e={}),this._options=Td({},this._options,e);for(var t=0,i=this.renderers;t<i.length;t++){i[t].updateOptions(e)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options)},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.view.domFocus()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.style=function(e){this.view.style(e)},e.prototype.getNode=function(e){return this.model.getNode(e)},e.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!0,t)},e.prototype.expand=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!1,t)},e.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},e.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},e.prototype.setSelection=function(e,t){var i=this,o=e.map(function(e){return i.model.getNode(e)});this.selection.set(o,t);var r=e.map(function(e){return i.model.getListIndex(e)}).filter(function(e){return e>-1});this.view.setSelection(r,t,!0)},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.setFocus=function(e,t){var i=this,o=e.map(function(e){return i.model.getNode(e)});this.focus.set(o,t);var r=e.map(function(e){return i.model.getListIndex(e)}).filter(function(e){return e>-1});this.view.setFocus(r,t,!0)},e.prototype.focusNext=function(e,t,i,o){void 0===e&&(e=1),void 0===t&&(t=!1),void 0===o&&(o=this.focusNavigationFilter),this.view.focusNext(e,t,i,o)},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.reveal=function(e,t){this.model.expandTo(e);var i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)},e.prototype.getRelativeTop=function(e){var t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)},e.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!0)){var r=this.model.getParentNodeLocation(o);if(null===r)return;var n=this.model.getListIndex(r);this.view.reveal(n),this.view.setFocus([n])}}},e.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],o=this.model.getNodeLocation(i);if(!this.model.setCollapsed(o,!1)){if(!i.children.some(function(e){return e.visible}))return;var r=this.view.getFocus()[0]+1;this.view.reveal(r),this.view.setFocus([r])}}},e.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var i=t[0],o=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(o,void 0,r)}},e.prototype.dispose=function(){this.disposables=C(this.disposables),this.view.dispose()},e}();Ng.AbstractTree=pG;var At={};var Bt={};var qG=Bt&&Bt.__assign||function(){return(qG=Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},rG=function(){function e(e,t){void 0===t&&(t={}),this.nodes=new Map,this.model=new h_(e,null,t),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,t.sorter&&(this.sorter={compare:function(e,o){return t.sorter.compare(e.element,o.element)}})}return e.prototype.setChildren=function(e,t,o,r){var n=this.getElementLocation(e);return this._setChildren(n,this.preserveCollapseState(t),o,r)},e.prototype._setChildren=function(e,t,o,r){var n=this,i=new Set;return this.model.splice(e.concat([0]),Number.MAX_VALUE,t,function(e){i.add(e.element),n.nodes.set(e.element,e),o&&o(e)},function(e){i.has(e.element)||n.nodes.delete(e.element),r&&r(e)})},e.prototype.preserveCollapseState=function(e){var t=this,o=e?vz(e):ra.empty();return this.sorter&&(o=ra.fromArray(ra.collect(o).sort(this.sorter.compare.bind(this.sorter)))),ra.map(o,function(e){var o=t.nodes.get(e.element);if(!o)return qG({},e,{children:t.preserveCollapseState(e.children)});var r="boolean"==typeof e.collapsible?e.collapsible:o.collapsible,n=void 0!==e.collapsed?e.collapsed:o.collapsed;return qG({},e,{collapsible:r,collapsed:n,children:t.preserveCollapseState(e.children)})})},e.prototype.rerender=function(e){var t=this.getElementLocation(e);this.model.rerender(t)},e.prototype.getListIndex=function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)},e.prototype.getListRenderCount=function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)},e.prototype.isCollapsed=function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)},e.prototype.setCollapsed=function(e,t,o){var r=this.getElementLocation(e);return this.model.setCollapsed(r,t,o)},e.prototype.expandTo=function(e){var t=this.getElementLocation(e);this.model.expandTo(t)},e.prototype.refilter=function(){this.model.refilter()},e.prototype.getNode=function(e){void 0===e&&(e=null);var t=this.getElementLocation(e);return this.model.getNode(t)},e.prototype.getNodeLocation=function(e){return e.element},e.prototype.getParentNodeLocation=function(e){var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return t.parent.element},e.prototype.getElementLocation=function(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new Error("Tree element not found: "+e);return this.model.getNodeLocation(t)},e}();Bt.ObjectTreeModel=rG;var q_=At&&At.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),sG=function(e){function r(r,t,o,n){return void 0===n&&(n={}),e.call(this,r,t,o,n)||this}return q_(r,e),r.prototype.setChildren=function(e,r,t,o){return this.model.setChildren(e,r,t,o)},r.prototype.rerender=function(e){void 0!==e?this.model.rerender(e):this.view.rerender()},r.prototype.createModel=function(e,r){return new rG(e,r)},r}(pG);At.ObjectTree=sG;var em=id&&id.__assign||function(){return(em=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ud=id&&id.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(s,a)}l((n=n.apply(e,t||[])).next())})},Vd=id&&id.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue;}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Ct(e,t){return!!t.parent&&(t.parent===e||Ct(e,t.parent))}function r_(e,t){return e===t||Ct(e,t)||Ct(t,e)}var Og,tG=function(){function e(e){this.node=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.node.parent&&new e(this.node.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.node.children.map(function(t){return new e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}(),s_=function(){function e(e,t){this.renderer=e,this.onDidChangeTwistieState=t,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}return e.prototype.renderTemplate=function(e){return{templateData:this.renderer.renderTemplate(e)}},e.prototype.renderElement=function(e,t,r,n){this.renderer.renderElement(new tG(e),t,r.templateData,n)},e.prototype.renderTwistie=function(e,t){return ec(t,"loading",e.slow),!1},e.prototype.disposeElement=function(e,t,r,n){this.renderer.disposeElement&&this.renderer.disposeElement(new tG(e),t,r.templateData,n)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=C(this.disposables)},e}();function uG(e){return{browserEvent:e.browserEvent,elements:e.elements.map(function(e){return e.element})}}function t_(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element}}function Dt(e){if(e instanceof Kg){var t=e.elements;return new Kg(t.map(function(e){return e.element}))}return e}id.ChildrenResolutionReason=Og,function(e){e[e.Refresh=0]="Refresh",e[e.Expand=1]="Expand"}(Og||(g_=Og={},id.ChildrenResolutionReason=Og,g_));var u_=function(){function e(e){this.dnd=e}return e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},e.prototype.getDragLabel=function(e){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(function(e){return e.element}))},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(Dt(e),t)},e.prototype.onDragOver=function(e,t,r,n,o){return void 0===o&&(o=!0),this.dnd.onDragOver(Dt(e),t&&t.element,r,n)},e.prototype.drop=function(e,t,r,n){this.dnd.drop(Dt(e),t&&t.element,r,n)},e}();function v_(e){return e&&em({},e,{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new u_(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(em({},t,{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(em({},t,{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&{getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)}},filter:e.filter&&{filter:function(t,r){return e.filter.filter(t.element,r)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}},sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},ariaSetProvider:void 0})}function vG(e,t){var r;return t&&t.viewState.expanded&&e.id&&(r=-1===t.viewState.expanded.indexOf(e.id)),{element:e,children:ra.map(ra.fromArray(e.children),function(e){return vG(e,t)}),collapsible:e.hasChildren,collapsed:r}}var wG=function(){function e(e,t,r,n,o){void 0===o&&(o={});var i=this;this.dataSource=n,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new b,this._onDidChangeNodeSlowState=new b,this.disposables=[],this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=void 0!==o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.sorter=o.sorter;var s=new yt(t),a=r.map(function(e){return new s_(e,i._onDidChangeNodeSlowState.event)}),l=v_(o)||{};this.tree=new sG(e,s,a,l),this.root={element:void 0,parent:null,children:[],state:"uninitialized",hasChildren:!0,needsRefresh:!1,disposed:!1,slow:!1},this.identityProvider&&(this.root=em({},this.root,{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return u.map(this.tree.onDidChangeFocus,uG)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return u.map(this.tree.onDidChangeSelection,uG)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){return u.map(this.tree.onMouseDblClick,t_)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){void 0===e&&(e={}),this.tree.updateOptions(e)},e.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.tree.domFocus()},e.prototype.layout=function(e,t){this.tree.layout(e,t)},e.prototype.style=function(e){this.tree.style(e)},e.prototype.getInput=function(){return this.root.element},e.prototype.setInput=function(e,t){return Ud(this,void 0,void 0,function(){var r;return Vd(this,function(n){switch(n.label){case 0:return this.refreshPromises.forEach(function(e){return e.cancel()}),this.refreshPromises.clear(),this.root.element=e,r=t&&{viewState:t,focus:[],selection:[]},[4,this.updateChildren(e,!0,r)];case 1:return n.sent(),r&&(this.tree.setFocus(r.focus),this.tree.setSelection(r.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop),[2];}})})},e.prototype.updateChildren=function(e,t,r){return void 0===e&&(e=this.root.element),void 0===t&&(t=!0),Ud(this,void 0,void 0,function(){return Vd(this,function(n){switch(n.label){case 0:if(void 0===this.root.element)throw new Error("Tree input not set");return"loading"!==this.root.state?[3,3]:[4,this.subTreeRefreshPromises.get(this.root)];case 1:return n.sent(),[4,u.toPromise(this._onDidRender.event)];case 2:n.sent(),n.label=3;case 3:return[4,this.refreshAndRenderNode(this.getDataNode(e),t,Og.Refresh,r)];case 4:return n.sent(),[2];}})})},e.prototype.rerender=function(e){if(void 0!==e){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()},e.prototype.collapse=function(e,t){void 0===t&&(t=!1);var r=this.getDataNode(e);return this.tree.collapse(r===this.root?null:r,t)},e.prototype.expand=function(e,t){return void 0===t&&(t=!1),Ud(this,void 0,void 0,function(){var r,n;return Vd(this,function(o){switch(o.label){case 0:if(void 0===this.root.element)throw new Error("Tree input not set");return"loading"!==this.root.state?[3,3]:[4,this.subTreeRefreshPromises.get(this.root)];case 1:return o.sent(),[4,u.toPromise(this._onDidRender.event)];case 2:o.sent(),o.label=3;case 3:return(r=this.getDataNode(e))===this.root||"loading"===r.state||this.tree.isCollapsed(r)?(n=this.tree.expand(r===this.root?null:r,t),"loading"!==r.state?[3,6]:[4,this.subTreeRefreshPromises.get(r)]):[2,!1];case 4:return o.sent(),[4,u.toPromise(this._onDidRender.event)];case 5:o.sent(),o.label=6;case 6:return[2,n];}})})},e.prototype.setSelection=function(e,t){var r=this,n=e.map(function(e){return r.getDataNode(e)});this.tree.setSelection(n,t)},e.prototype.getSelection=function(){return this.tree.getSelection().map(function(e){return e.element})},e.prototype.setFocus=function(e,t){var r=this,n=e.map(function(e){return r.getDataNode(e)});this.tree.setFocus(n,t)},e.prototype.getFocus=function(){return this.tree.getFocus().map(function(e){return e.element})},e.prototype.reveal=function(e,t){this.tree.reveal(this.getDataNode(e),t)},e.prototype.getDataNode=function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new Error("Data tree node not found: "+e);return t},e.prototype.refreshAndRenderNode=function(e,t,r,n){return Ud(this,void 0,void 0,function(){var o,i;return Vd(this,function(s){switch(s.label){case 0:return[4,this.refreshNode(e,t,n)];case 1:return s.sent(),this.render(e,n),e!==this.root&&this.autoExpandSingleChildren&&r===Og.Expand?(o=this.tree.getNode(e),1!==(i=o.children.filter(function(e){return e.visible})).length?[3,3]:[4,this.tree.expand(i[0].element,!1)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2];}})})},e.prototype.refreshNode=function(e,t,r){return Ud(this,void 0,void 0,function(){var n,o=this;return Vd(this,function(i){switch(i.label){case 0:if(e.disposed)return console.error("Async data tree node is disposed"),[2];if(this.subTreeRefreshPromises.forEach(function(i,s){!n&&r_(s,e)&&(n=i.then(function(){return o.refreshNode(e,t,r)}))}),n)return[2,n];n=this.doRefreshSubTree(e,t,r),this.subTreeRefreshPromises.set(e,n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return i.sent(),[3,4];case 3:return this.subTreeRefreshPromises.delete(e),[7];case 4:return[2];}})})},e.prototype.doRefreshSubTree=function(e,t,r){return Ud(this,void 0,void 0,function(){var n,o=this;return Vd(this,function(i){switch(i.label){case 0:e.state="loading",i.label=1;case 1:return i.trys.push([1,,5,6]),[4,this.doRefreshNode(e,t,r)];case 2:return i.sent(),t?(n=e.children.filter(function(e){return e.needsRefresh?(e.needsRefresh=!1,!0):!(!e.hasChildren||"loaded"!==e.state)||!!(r&&r.viewState.expanded&&e.id)&&r.viewState.expanded.indexOf(e.id)>-1}),[4,Promise.all(n.map(function(e){return o.doRefreshSubTree(e,t,r)}))]):[3,4];case 3:i.sent(),i.label=4;case 4:return[3,6];case 5:return e.state="loaded",[7];case 6:return[2];}})})},e.prototype.doRefreshNode=function(e,t,r){return Ud(this,void 0,void 0,function(){var n,o,i,s,a=this;return Vd(this,function(l){switch(l.label){case 0:e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?((o=Ap(800)).then(function(){e.slow=!0,a._onDidChangeNodeSlowState.fire(e)},function(e){return null}),n=this.doGetChildren(e).finally(function(){return o.cancel()})):n=Promise.resolve([]),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,n];case 2:return i=l.sent(),this.setChildren(e,i,t,r),[3,5];case 3:if(s=l.sent(),e.needsRefresh=!0,e!==this.root&&this.tree.collapse(e===this.root?null:e),uz(s))return[2];throw s;case 4:return e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),[7];case 5:return[2];}})})},e.prototype.doGetChildren=function(e){var t=this,r=this.refreshPromises.get(e);return r||(r=zp(function(){return Ud(t,void 0,void 0,function(){var t;return Vd(this,function(r){switch(r.label){case 0:return[4,this.dataSource.getChildren(e.element)];case 1:return t=r.sent(),this.sorter&&t.sort(this.sorter.compare.bind(this.sorter)),[2,t];}})})}),this.refreshPromises.set(e,r),r.finally(function(){return t.refreshPromises.delete(e)}))},e.prototype._onDidChangeCollapseState=function(e){var t=e.node,r=e.deep;t.collapsed||"uninitialized"!==t.element.state&&!t.element.needsRefresh||(r?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1,Og.Expand).catch(S))},e.prototype.setChildren=function(e,t,r,n){var o,i,s=this;if(this.identityProvider){i=new Map;for(var a=0,l=e.children;a<l.length;a++){var u=l[a];i.set(u.id,u)}}var d=t.map(function(t){if(!s.identityProvider){var r=!!s.dataSource.hasChildren(t);return{element:t,parent:e,children:[],state:"uninitialized",hasChildren:r,needsRefresh:!1,disposed:!1,slow:!1}}var o=s.identityProvider.getId(t).toString(),a=i.get(o);if(!a){var l={element:t,parent:e,children:[],id:o,state:"uninitialized",hasChildren:!!s.dataSource.hasChildren(t),needsRefresh:!1,disposed:!1,slow:!1};return n&&n.viewState.focus&&n.viewState.focus.indexOf(o)>-1&&n.focus.push(l),n&&n.viewState.selection&&n.viewState.selection.indexOf(o)>-1&&n.selection.push(l),l}a.element=t;var u=s.dataSource.hasChildren(a.element);return("loaded"===a.state||"uninitialized"!==a.state&&a.hasChildren!==!!u)&&(a.needsRefresh=!0),a.hasChildren=u,a});0===e.children.length&&0===t.length||(o=e.children).splice.apply(o,[0,e.children.length].concat(d))},e.prototype.render=function(e,t){var r=this,n=new Set,o=e.children.map(function(e){return vG(e,t)});this.tree.setChildren(e===this.root?null:e,o,function(e){e.element.element&&(n.add(e.element.element),r.nodes.set(e.element.element,e.element))},function(e){e.element.element&&(n.has(e.element.element)||(e.element.disposed=!0,r.nodes.delete(e.element.element)))}),this._onDidRender.fire()},e.prototype.dispose=function(){C(this.disposables)},e}();id.AsyncDataTree=wG;var Wd,Et=aa&&aa.__extends||function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}(),xG=aa&&aa.__assign||function(){return(xG=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},yG=aa&&aa.__decorate||function(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var $=e.length-1;$>=0;$--)(r=e[$])&&(a=(n<3?r(a):n>3?r(t,i,a):r(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a},Pg=aa&&aa.__param||function(e,t){return function(i,o){t(i,o,e)}},Ft=L("listService");aa.IListService=Ft;var zG=function(){function e(e){this.lists=[],this._lastFocusedWidget=void 0}return Object.defineProperty(e.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var i=this;if(this.lists.some(function(t){return t.widget===e}))throw new Error("Cannot register the same widget multiple times");var o={widget:e,extraContextKeys:t};return this.lists.push(o),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),re([e.onDidFocus(function(){return i._lastFocusedWidget=e}),ka(function(){return i.lists.splice(i.lists.indexOf(o),1)}),e.onDidDispose(function(){i.lists=i.lists.filter(function(e){return e!==o}),i._lastFocusedWidget===e&&(i._lastFocusedWidget=void 0)})])},e=yG([Pg(0,za)],e)}();aa.ListService=zG;var w_=new i("listFocus",!0),AG=new i("listSupportsMultiselect",!0);aa.WorkbenchListSupportsMultiSelectContextKey=AG;var BG=new i("listHasSelectionOrFocus",!1);aa.WorkbenchListHasSelectionOrFocus=BG;var CG=new i("listDoubleSelection",!1);aa.WorkbenchListDoubleSelection=CG;var DG=new i("listMultiSelection",!1);aa.WorkbenchListMultiSelection=DG;var EG=new i("listSupportsKeyboardNavigation",!0);aa.WorkbenchListSupportsKeyboardNavigation=EG;var fm="listAutomaticKeyboardNavigation";aa.WorkbenchListAutomaticKeyboardNavigationKey=fm;var FG=new i(fm,!0);aa.WorkbenchListAutomaticKeyboardNavigation=FG;var Gt=!1;function x_(e,t){var i=e.createScoped(t.getHTMLElement());return w_.bindTo(i),i}aa.didBindWorkbenchListAutomaticKeyboardNavigation=Gt;var Gi="workbench.list.multiSelectModifier";aa.multiSelectModifierSettingKey=Gi;var Hi="workbench.list.openMode";aa.openModeSettingKey=Hi;var gm="workbench.list.horizontalScrolling";aa.horizontalScrollingKey=gm;var Ii="workbench.list.keyboardNavigation";aa.keyboardNavigationSettingKey=Ii;var hm="workbench.list.automaticKeyboardNavigation";aa.automaticKeyboardNavigationSettingKey=hm;var im="workbench.tree.indent";function y_(e){return CT(e,gm,"workbench.tree.horizontalScrolling")}function jm(e){return"alt"===e.getValue(Gi)}function km(e){return"doubleClick"!==e.getValue(Hi)}var GG,z_=function(e){function t(t){var i=e.call(this)||this;return i.configurationService=t,i.useAltAsMultipleSelectionModifier=jm(t),i.registerListeners(),i}return Et(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(Gi)&&(e.useAltAsMultipleSelectionModifier=jm(e.configurationService))}))},t.prototype.isSelectionSingleChangeEvent=function(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:rt(e)},t.prototype.isSelectionRangeChangeEvent=function(e){return st(e)},t}(B),A_=function(e){function t(t,i){var o=e.call(this)||this;return o.configurationService=t,o.existingOpenController=i,o.openOnSingleClick=km(t),o.registerListeners(),o}return Et(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration(function(t){t.affectsConfiguration(Hi)&&(e.openOnSingleClick=km(e.configurationService))}))},t.prototype.shouldOpen=function(e){if(e instanceof MouseEvent){var t=0===e.button,i=2===e.detail;return!(t&&!this.openOnSingleClick&&!i)&&!(!t&&1!==e.button)&&(!this.existingOpenController||this.existingOpenController.shouldOpen(e))}return!this.existingOpenController||this.existingOpenController.shouldOpen(e)},t}(B);function B_(e,t,i){var o=[],r=xG({},e);if(!1!==e.multipleSelectionSupport&&!e.multipleSelectionController){var n=new z_(t);r.multipleSelectionController=n,o.push(n)}var a=new A_(t,e.openController);if(r.openController=a,o.push(a),e.keyboardNavigationLabelProvider){var $=e.keyboardNavigationLabelProvider;r.keyboardNavigationLabelProvider={getKeyboardNavigationLabel:function(e){return $.getKeyboardNavigationLabel(e)},mightProducePrintableCharacter:function(e){return i.mightProducePrintableCharacter(e)}}}return[r,re(o)]}function C_(){return GG||(GG=sk()),GG}function D_(e,t){var i=!1;return function(o){if(i)return i=!1,!1;var r=t.softDispatch(o,e);return r&&r.enterChord?(i=!0,!1):(i=!1,!0)}}var E_=function(e){function t(t,i,o,r,n,a,$,l,s,c){var p=this;EG.bindTo(a),Gt||(FG.bindTo(a),Gt=!0,aa.didBindWorkbenchListAutomaticKeyboardNavigation=Gt);var u=function(){var e=a.getContextKeyValue(fm);return e&&(e=s.getValue(hm)),e},C=s.getValue(Ii),d=void 0!==n.horizontalScrolling?n.horizontalScrolling:y_(s),g=km(s),h=B_(n,s,c),v=h[0],P=h[1];(p=e.call(this,t,i,o,r,xG({keyboardSupport:!1,styleController:new ut(C_())},_s(l.getTheme(),at),v,{indent:s.getValue(im),automaticKeyboardNavigation:u(),simpleKeyboardNavigation:"simple"===C,filterOnType:"filter"===C,horizontalScrolling:d,openOnSingleClick:g,keyboardNavigationEventFilter:D_(t,c)}))||this).disposables.push(P),p.contextKeyService=x_(a,p),AG.bindTo(p.contextKeyService).set(!(!1===n.multipleSelectionSupport)),p.hasSelectionOrFocus=BG.bindTo(p.contextKeyService),p.hasDoubleSelection=CG.bindTo(p.contextKeyService),p.hasMultiSelection=DG.bindTo(p.contextKeyService),p._useAltAsMultipleSelectionModifier=jm(s);var H=new Set;return H.add(fm),p.disposables.push(p.contextKeyService,$.register(p),GF(p,l),p.onDidChangeSelection(function(){var e=p.getSelection(),t=p.getFocus();p.hasSelectionOrFocus.set(e.length>0||t.length>0),p.hasMultiSelection.set(e.length>1),p.hasDoubleSelection.set(2===e.length)}),p.onDidChangeFocus(function(){var e=p.getSelection(),t=p.getFocus();p.hasSelectionOrFocus.set(e.length>0||t.length>0)}),s.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(Hi)&&p.updateOptions({openOnSingleClick:km(s)}),e.affectsConfiguration(Gi)&&(p._useAltAsMultipleSelectionModifier=jm(s)),e.affectsConfiguration(im)){var t=s.getValue(im);p.updateOptions({indent:t})}if(e.affectsConfiguration(Ii)){var i=s.getValue(Ii);p.updateOptions({simpleKeyboardNavigation:"simple"===i,filterOnType:"filter"===i})}e.affectsConfiguration(hm)&&p.updateOptions({automaticKeyboardNavigation:u()})}),p.contextKeyService.onDidChangeContext(function(e){e.affectsSome(H)&&p.updateOptions({automaticKeyboardNavigation:u()})})),p}return Et(t,e),t=yG([Pg(5,za),Pg(6,Ft),Pg(7,Ge),Pg(8,hc),Pg(9,Rd)],t)}(wG);aa.WorkbenchAsyncDataTree=E_;var F_=Ab.as(jg.Configuration);F_.registerConfiguration({id:"workbench",order:7,title:_("workbenchConfigurationTitle","Workbench"),type:"object",properties:(Wd={},Wd[Gi]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[_("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),_("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:_({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},Wd[Hi]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:_({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},Wd[gm]={type:"boolean",default:!1,description:_("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},Wd["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:_("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:_("deprecated","This setting is deprecated, please use '{0}' instead.",gm)},Wd[im]={type:"number",default:8,minimum:0,maximum:40,description:_("tree indent setting","Controls tree indentation in pixels.")},Wd[Ii]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[_("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),_("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),_("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:_("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},Wd[hm]={type:"boolean",default:!0,markdownDescription:_("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},Wd)});var Qg;var G_,H_,I_,kc,J_;(function(r){r[r.Hint=1]="Hint",r[r.Info=2]="Info",r[r.Warning=4]="Warning",r[r.Error=8]="Error"})(kc||(G_=kc={},G_)),function(r){r.compare=function(r,e){return e-r};var e=Object.create(null);e[r.Error]=_("sev.error","Error"),e[r.Warning]=_("sev.warning","Warning"),e[r.Info]=_("sev.info","Info"),r.toString=function(r){return e[r]||""},r.fromSeverity=function(e){switch(e){case Yc.Error:return r.Error;case Yc.Warning:return r.Warning;case Yc.Info:return r.Info;case Yc.Ignore:return r.Hint;}}}(kc||(H_=kc={},H_)),function(r){var e="";r.makeKey=function(r){var t=[e];return r.source?t.push(r.source.replace("\xA6","\xA6")):t.push(e),r.code?t.push(r.code.replace("\xA6","\xA6")):t.push(e),void 0!==r.severity&&null!==r.severity?t.push(kc.toString(r.severity)):t.push(e),r.message?t.push(r.message.replace("\xA6","\xA6")):t.push(e),void 0!==r.startLineNumber&&null!==r.startLineNumber?t.push(r.startLineNumber.toString()):t.push(e),void 0!==r.startColumn&&null!==r.startColumn?t.push(r.startColumn.toString()):t.push(e),void 0!==r.endLineNumber&&null!==r.endLineNumber?t.push(r.endLineNumber.toString()):t.push(e),void 0!==r.endColumn&&null!==r.endColumn?t.push(r.endColumn.toString()):t.push(e),t.push(e),t.join("\xA6")}}(J_||(I_=J_={},I_));var HG=L("markerService");(function(r){r.get=function(r,e,t){if(r[e])return r[e][t]},r.set=function(r,e,t,n){r[e]||(r[e]=Object.create(null)),r[e][t]=n},r.remove=function(r,e,t){return!(!r[e]||!r[e][t]||(delete r[e][t],Zy(r[e])&&delete r[e],0))}})(Qg||(Qg={}));var K_=function(){function r(r){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=r,this._subscription=r.onMarkerChanged(this._update,this)}return r.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},r.prototype._update=function(r){if(this._data)for(var e=0,t=r;e<t.length;e++){var n=t[e],i=n.toString(),o=this._data[i];o&&this._substract(o);var s=this._resourceStats(n);this._add(s),this._data[i]=s}},r.prototype._resourceStats=function(r){var e={errors:0,warnings:0,infos:0,unknowns:0};if(r.scheme===Ga.inMemory||r.scheme===Ga.walkThrough||r.scheme===Ga.walkThroughSnippet)return e;for(var t=0,n=this._service.read({resource:r});t<n.length;t++){var i=n[t].severity;i===kc.Error?e.errors+=1:i===kc.Warning?e.warnings+=1:i===kc.Info?e.infos+=1:e.unknowns+=1}return e},r.prototype._substract=function(r){this.errors-=r.errors,this.warnings-=r.warnings,this.infos-=r.infos,this.unknowns-=r.unknowns},r.prototype._add=function(r){this.errors+=r.errors,this.warnings+=r.warnings,this.infos+=r.infos,this.unknowns+=r.unknowns},r}(),L_=function(){function r(){this._onMarkerChanged=new b,this._onMarkerChangedEvent=u.debounce(this._onMarkerChanged.event,r._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new K_(this)}return r.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(r.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),r.prototype.remove=function(r,e){for(var t=0,n=e||[];t<n.length;t++){var i=n[t];this.changeOne(r,i,[])}},r.prototype.changeOne=function(e,t,n){if(cN(n)){var i=Qg.remove(this._byResource,t.toString(),e),o=Qg.remove(this._byOwner,e,t.toString());if(i!==o)throw new Error("invalid marker service state");i&&o&&this._onMarkerChanged.fire([t])}else{for(var s=[],a=0,u=n;a<u.length;a++){var c=u[a],p=r._toMarker(e,t,c);p&&s.push(p)}Qg.set(this._byResource,t.toString(),e,s),Qg.set(this._byOwner,e,t.toString(),s),this._onMarkerChanged.fire([t])}},r._toMarker=function(r,e,t){var n=t.code,i=t.severity,o=t.message,s=t.source,a=t.startLineNumber,u=t.startColumn,c=t.endLineNumber,p=t.endColumn,h=t.relatedInformation,$=t.tags;if(o)return{resource:e,owner:r,code:n||void 0,severity:i,message:o,source:s,startLineNumber:a=a>0?a:1,startColumn:u=u>0?u:1,endLineNumber:c=c>=a?c:a,endColumn:p=p>0?p:u,relatedInformation:h,tags:$}},r.prototype.read=function(e){void 0===e&&(e=Object.create(null));var t=e.owner,n=e.resource,i=e.severities,o=e.take;if((!o||o<0)&&(o=-1),t&&n){if(g=Qg.get(this._byResource,n.toString(),t)){for(var s=[],a=0,u=g;a<u.length;a++){var c=u[a];if(r._accept(c,i)){var p=s.push(c);if(o>0&&p===o)break}}return s}return[]}if(t||n){var h=t?this._byOwner[t]:n?this._byResource[n.toString()]:void 0;if(!h)return[];s=[];for(var $ in h)for(var v=0,y=h[$];v<y.length;v++){g=y[v];if(r._accept(g,i)){p=s.push(g);if(o>0&&p===o)return s}}return s}var s=[];for(var f in this._byResource)for(var d in this._byResource[f])for(var _=0,m=this._byResource[f][d];_<m.length;_++){var g=m[_];if(r._accept(g,i)){var p=s.push(g);if(o>0&&p===o)return s}}return s},r._accept=function(r,e){return void 0===e||(e&r.severity)===r.severity},r._debouncer=function(e,t){e||(r._dedupeMap=Object.create(null),e=[]);for(var n=0,i=t;n<i.length;n++){var o=i[n];void 0===r._dedupeMap[o.toString()]&&(r._dedupeMap[o.toString()]=!0,e.push(o))}return e},r}();var M_=L("progressService");var lm={};var N_=lm&&lm.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ht=L("storageService");lm.IStorageService=Ht;var IG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._serviceBrand=void 0,t._onDidChangeStorage=t._register(new b),t.onWillSaveState=u.None,t.globalCache=new Map,t.workspaceCache=new Map,t}return N_(t,e),Object.defineProperty(t.prototype,"onDidChangeStorage",{get:function(){return this._onDidChangeStorage.event},enumerable:!0,configurable:!0}),t.prototype.getCache=function(e){return 0===e?this.globalCache:this.workspaceCache},t.prototype.get=function(e,t,r){var o=this.getCache(t).get(e);return yd(o)?r:o},t.prototype.getBoolean=function(e,t,r){var o=this.getCache(t).get(e);return yd(o)?r:"true"===o},t.prototype.store=function(e,t,r){if(yd(t))return this.remove(e,r);var o=String(t);return this.getCache(r).get(e)===o?Promise.resolve():(this.getCache(r).set(e,o),this._onDidChangeStorage.fire({scope:r,key:e}),Promise.resolve())},t.prototype.remove=function(e,t){return this.getCache(t).delete(e)?(this._onDidChangeStorage.fire({scope:t,key:e}),Promise.resolve()):Promise.resolve()},t}(B);lm.InMemoryStorageService=IG;var Ji={};var JG=Ji&&Ji.__decorate||function(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},It=Ji&&Ji.__param||function(e,t){return function(r,n){t(r,n,e)}},KG=function(){function e(e){this._commandService=e}return e.prototype.createMenu=function(e,t){return new O_(e,this._commandService,t)},e=JG([It(0,Qb)],e)}();Ji.MenuService=KG;var O_=function(){function e(e,t,r){var n=this;this._id=e,this._commandService=t,this._contextKeyService=r,this._onDidChange=new b,this._disposables=[],this._build(),u.debounce(u.filter(mg.onDidChangeMenu,function(e){return e===n._id}),function(){},50)(this._build,this,this._disposables),u.debounce(this._contextKeyService.onDidChangeContext,function(e,t){return e||t.affectsSome(n._contextKeys)},50)(function(e){return e&&n._onDidChange.fire(void 0)},this,this._disposables)}return e.prototype._build=function(){this._menuGroups=[],this._contextKeys=new Set;var t,r=mg.getMenuItems(this._id);r.sort(e._compareMenuItems);for(var n=0,o=r;n<o.length;n++){var i=o[n],a=i.group||"";t&&t[0]===a||(t=[a,[]],this._menuGroups.push(t)),t[1].push(i),e._fillInKbExprKeys(i.when,this._contextKeys),Zh(i)&&i.command.precondition&&e._fillInKbExprKeys(i.command.precondition,this._contextKeys),Zh(i)&&i.command.toggled&&e._fillInKbExprKeys(i.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},e.prototype.dispose=function(){C(this._disposables),this._onDidChange.dispose()},e.prototype.getActions=function(e){for(var t=[],r=0,n=this._menuGroups;r<n.length;r++){for(var o=n[r],i=o[0],a=[],c=0,$=o[1];c<$.length;c++){var s=$[c];if(this._contextKeyService.contextMatchesRules(s.when||null)){var m=Zh(s)?new zC(s.command,s.alt,e,this._contextKeyService,this._commandService):new yC(s);a.push(m)}}a.length>0&&t.push([i,a])}return t},e._fillInKbExprKeys=function(e,t){if(e)for(var r=0,n=e.keys();r<n.length;r++){var o=n[r];t.add(o)}},e._compareMenuItems=function(e,t){var r=e.group,n=t.group;if(r!==n){if(!r)return 1;if(!n)return-1;if("navigation"===r)return-1;if("navigation"===n)return 1;var o=r.localeCompare(n);if(0!==o)return o}var i=e.order||0,a=t.order||0;if(i<a)return-1;if(i>a)return 1;var c="string"==typeof e.command.title?e.command.title:e.command.title.value,$="string"==typeof t.command.title?t.command.title:t.command.title.value;return c.localeCompare($)},e=JG([It(1,Qb),It(2,za)],e)}();var P_=L("markerDecorationsService");var ff={};var LG=ff&&ff.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),Q_=ff&&ff.__decorate||function(e,r,t,o){var n,a=arguments.length,i=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,t,o);else for(var $=e.length-1;$>=0;$--)(n=e[$])&&(i=(a<3?n(i):a>3?n(r,t,i):n(r,t))||i);return a>3&&i&&Object.defineProperty(r,t,i),i},MG=ff&&ff.__param||function(e,r){return function(t,o){r(t,o,e)}};function Ki(e){return e.toString()}var R_=function(e){function r(r){var t=e.call(this)||this;return t.model=r,t._markersData=new Map,t._register(ka(function(){t.model.deltaDecorations(Dk(t._markersData),[]),t._markersData.clear()})),t}return LG(r,e),r.prototype.update=function(e,r){for(var t=this.model.deltaDecorations(Dk(this._markersData),r),o=0;o<t.length;o++)this._markersData.set(t[o],e[o])},r.prototype.getMarker=function(e){return this._markersData.get(e.id)},r}(B),NG=function(e){function r(r,t){var o=e.call(this)||this;return o._markerService=t,o._markerDecorations=new Map,r.getModels().forEach(function(e){return o._onModelAdded(e)}),o._register(r.onModelAdded(o._onModelAdded,o)),o._register(r.onModelRemoved(o._onModelRemoved,o)),o._register(o._markerService.onMarkerChanged(o._handleMarkerChange,o)),o}return LG(r,e),r.prototype.getMarker=function(e,r){var t=this._markerDecorations.get(Ki(e.uri));return t&&t.getMarker(r)||null},r.prototype._handleMarkerChange=function(e){var r=this;e.forEach(function(e){var t=r._markerDecorations.get(Ki(e));t&&r.updateDecorations(t)})},r.prototype._onModelAdded=function(e){var r=new R_(e);this._markerDecorations.set(Ki(e.uri),r),this.updateDecorations(r)},r.prototype._onModelRemoved=function(e){var r=this,t=this._markerDecorations.get(Ki(e.uri));t&&(t.dispose(),this._markerDecorations.delete(Ki(e.uri))),e.uri.scheme!==Ga.inMemory&&e.uri.scheme!==Ga.internal&&e.uri.scheme!==Ga.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(t){return r._markerService.remove(t,[e.uri])})},r.prototype.updateDecorations=function(e){var r=this,t=this._markerService.read({resource:e.model.uri,take:500}),o=t.map(function(t){return{range:r._createDecorationRange(e.model,t),options:r._createDecorationOption(t)}});e.update(t,o)},r.prototype._createDecorationRange=function(e,r){var t=j.lift(r);if(r.severity===kc.Hint&&(r.tags&&-1!==r.tags.indexOf(1)||(t=t.setEndPosition(t.startLineNumber,t.startColumn+2))),(t=e.validateRange(t)).isEmpty()){var o=e.getWordAtPosition(t.getStartPosition());if(o)t=new j(t.startLineNumber,o.startColumn,t.endLineNumber,o.endColumn);else{var n=e.getLineLastNonWhitespaceColumn(t.startLineNumber)||e.getLineMaxColumn(t.startLineNumber);1===n||(t=t.endColumn>=n?new j(t.startLineNumber,n-1,t.endLineNumber,n):new j(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn+1))}}else if(r.endColumn===Number.MAX_VALUE&&1===r.startColumn&&t.startLineNumber===t.endLineNumber){var a=e.getLineFirstNonWhitespaceColumn(r.startLineNumber);a<t.endColumn&&(t=new j(t.startLineNumber,a,t.endLineNumber,t.endColumn),r.startColumn=a)}return t},r.prototype._createDecorationOption=function(e){var r,t,o=void 0,n=void 0;switch(e.severity){case kc.Hint:r=e.tags&&e.tags.indexOf(1)>=0?"squiggly-unnecessary":"squiggly-hint",t=0;break;case kc.Warning:r="squiggly-warning",o=Zq(OV),t=20;break;case kc.Info:r="squiggly-info",o=Zq(PV),t=10;break;case kc.Error:default:r="squiggly-error",o=Zq(NV),t=30;}return e.tags&&-1!==e.tags.indexOf(1)&&(n="squiggly-inline-unnecessary"),{stickiness:1,className:r,showIfCollapsed:!0,overviewRuler:{color:o,position:Bk.Right},zIndex:t,inlineClassName:n}},r=Q_([MG(0,Oh),MG(1,HG)],r)}(B);ff.MarkerDecorationsService=NG;var Wb={};var S_=[];function T_(r,e,$){S_.push({id:r,descriptor:new Ig(e,[],$)})}var mm=Wb&&Wb.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),U_=Wb&&Wb.__decorate||function(e,t,r,o){var i,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(n<3?i(s):n>3?i(t,r,s):i(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},OG=Wb&&Wb.__param||function(e,t){return function(r,o){t(r,o,e)}},nm=function(){function e(){}return e.prototype.select=function(e,t,r){if(0===r.length)return 0;for(var o=r[0].score,i=1;i<r.length;i++){var n=r[i],s=n.score,c=n.completion;if(s!==o)break;if(c.preselect)return i}return 0},e}();Wb.Memory=nm;var PG=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mm(t,e),t.prototype.memorize=function(e,t,r){},t.prototype.toJSON=function(){},t.prototype.fromJSON=function(){},t}(nm);Wb.NoMemory=PG;var QG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cache=new Hk(300,.66),t._seq=0,t}return mm(t,e),t.prototype.memorize=function(e,t,r){var o=r.completion.label,i=e.getLanguageIdentifier().language+"/"+o;this._cache.set(i,{touch:this._seq++,type:r.completion.kind,insertText:r.completion.insertText})},t.prototype.select=function(t,r,o){if(0!==t.getWordUntilPosition(r).word.length)return e.prototype.select.call(this,t,r,o);var i=t.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(i))return e.prototype.select.call(this,t,r,o);for(var n=-1,s=-1,c=0;c<o.length;c++){var a=o[c].completion,$=t.getLanguageIdentifier().language+"/"+a.label,p=this._cache.get($);p&&p.touch>s&&p.type===a.kind&&p.insertText===a.insertText&&(s=p.touch,n=c)}return-1===n?e.prototype.select.call(this,t,r,o):n},t.prototype.toJSON=function(){var e=[];return this._cache.forEach(function(t,r){e.push([r,t])}),e},t.prototype.fromJSON=function(e){this._cache.clear();for(var t=0,r=e;t<r.length;t++){var o=r[t],i=o[0],n=o[1];n.touch=0,n.type="number"==typeof n.type?n.type:gB(n.type),this._cache.set(i,n)}this._seq=this._cache.size},t}(nm);Wb.LRUMemory=QG;var RG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trie=Fk.forStrings(),t._seq=0,t}return mm(t,e),t.prototype.memorize=function(e,t,r){var o=e.getWordUntilPosition(t).word,i=e.getLanguageIdentifier().language+"/"+o;this._trie.set(i,{type:r.completion.kind,insertText:r.completion.insertText,touch:this._seq++})},t.prototype.select=function(t,r,o){var i=t.getWordUntilPosition(r).word;if(!i)return e.prototype.select.call(this,t,r,o);var n=t.getLanguageIdentifier().language+"/"+i,s=this._trie.get(n);if(s||(s=this._trie.findSubstr(n)),s)for(var c=0;c<o.length;c++){var a=o[c].completion,$=a.kind,p=a.insertText;if($===s.type&&p===s.insertText)return c}return e.prototype.select.call(this,t,r,o)},t.prototype.toJSON=function(){var e=[];return this._trie.forEach(function(t,r){return e.push([r,t])}),e.sort(function(e,t){return-(e[1].touch-t[1].touch)}).forEach(function(e,t){return e[1].touch=t}),e.slice(0,200)},t.prototype.fromJSON=function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(var t=0,r=e;t<r.length;t++){var o=r[t],i=o[0],n=o[1];n.type="number"==typeof n.type?n.type:gB(n.type),this._trie.set(i,n)}}},t}(nm);Wb.PrefixMemory=RG;var Jt=function(e){function t(t,r){var o=e.call(this)||this;o._storageService=t,o._configService=r,o._storagePrefix="suggest/memories";var i=function(){var e=o._configService.getValue("editor.suggestSelection"),t=o._configService.getValue("editor.suggest.shareSuggestSelections");o._update(e,t,!1)};return o._persistSoon=o._register(new wc(function(){return o._saveState()},500)),o._register(t.onWillSaveState(function(){return o._saveState()})),o._register(o._configService.onDidChangeConfiguration(function(e){(e.affectsConfiguration("editor.suggestSelection")||e.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&i()})),o._register(o._storageService.onDidChangeStorage(function(e){0===e.scope&&0===e.key.indexOf(o._storagePrefix)&&(document.hasFocus()||o._update(o._mode,o._shareMem,!0))})),i(),o}return mm(t,e),t.prototype._update=function(e,t,r){if(r||this._mode!==e||this._shareMem!==t){this._shareMem=t,this._mode=e,this._strategy="recentlyUsedByPrefix"===e?new RG:"recentlyUsed"===e?new QG:new PG;try{var o=t?0:1,i=this._storageService.get(this._storagePrefix+"/"+this._mode,o);i&&this._strategy.fromJSON(JSON.parse(i))}catch(n){}}},t.prototype.memorize=function(e,t,r){this._strategy.memorize(e,t,r),this._persistSoon.schedule()},t.prototype.select=function(e,t,r){return this._strategy.select(e,t,r)},t.prototype._saveState=function(){var e=JSON.stringify(this._strategy),t=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,e,t)},t=U_([OG(0,Ht),OG(1,hc)],t)}(B);Wb.SuggestMemoryService=Jt;var Kt=L("ISuggestMemories");Wb.ISuggestMemoryService=Kt,T_(Kt,Jt,!0);var O,V_=xi&&xi.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function i(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}();xi.StaticServices=O,function(e){var r=new Bg,t=function(){function e(e,r){this._serviceId=e,this._factory=r,this._value=null}return Object.defineProperty(e.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),e.prototype.get=function(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");r.set(this._serviceId,this._value)}return this._value},e}();e.LazyStaticService=t;var i=[];function n(e,r){var n=new t(e,r);return i.push(n),n}e.init=function(e){var r=new Bg;for(var t in e)e.hasOwnProperty(t)&&r.set(L(t),e[t]);i.forEach(function(t){return r.set(t.id,t.get(e))});var n=new et(r,!0);return r.set(vc,n),[r,n]},e.instantiationService=n(vc,function(){return new et(r,!0)});var o=new Gq;e.configurationService=n(hc,function(){return o}),e.resourceConfigurationService=n(xB,function(){return new lC(o)}),e.resourcePropertiesService=n(yB,function(){return new mC(o)}),e.contextService=n(VT,function(){return new oC}),e.labelService=n(u$,function(){return new qC}),e.telemetryService=n($h,function(){return new nC}),e.dialogService=n(o$,function(){return new hC}),e.notificationService=n(zc,function(){return new iC}),e.accessibilityService=n(ti,function(){return new jC}),e.markerService=n(HG,function(){return new L_}),e.modeService=n(kZ,function(e){return new tF}),e.modelService=n(Oh,function(r){return new vF(e.configurationService.get(r),e.resourcePropertiesService.get(r))}),e.markerDecorationsService=n(P_,function(r){return new NG(e.modelService.get(r),e.markerService.get(r))}),e.editorWorkerService=n(Nk,function(r){return new CB(e.modelService.get(r),e.resourceConfigurationService.get(r))}),e.standaloneThemeService=n(wi,function(){return new VZ}),e.codeEditorService=n(Sa,function(r){return new yF(e.standaloneThemeService.get(r))}),e.progressService=n(M_,function(){return new gC}),e.storageService=n(Ht,function(){return new IG}),e.logService=n(LF,function(){return new MF}),e.suggestMemoryService=n(Kt,function(r){return new Jt(e.storageService.get(r),e.configurationService.get(r))})}(O||(iZ=O={},xi.StaticServices=O,iZ));var SG=function(e){function r(r,t){var i=e.call(this)||this,n=O.init(t),o=n[0],c=n[1];i._serviceCollection=o,i._instantiationService=c;var $=i.get(hc),a=i.get(zc),s=i.get($h),m=i.get(Ge),p=function(e,r){var n=null;return t&&(n=t[e.toString()]),n||(n=r()),i._serviceCollection.set(e,n),n},v=p(za,function(){return i._register(new BF($))});p(Ft,function(){return new zG(v)});var u=p(Qb,function(){return new Eq(i._instantiationService)}),l=p(Rd,function(){return i._register(new Fq(v,u,s,a,r))}),S=p(Hg,function(){return i._register(new OF(r,s,new MF()))});return p(eZ,function(){return i._register(new JF(r,s,a,S,l,m))}),p(wC,function(){return new KG(u)}),p(jZ,function(){return new pC(O.modelService.get(Oh))}),i}return V_(r,e),r.prototype.get=function(e){var r=this._serviceCollection.get(e);if(!r)throw new Error("Missing service "+e);return r},r.prototype.set=function(e,r){this._serviceCollection.set(e,r)},r.prototype.has=function(e){return this._serviceCollection.has(e)},r}(B);xi.DynamicStandaloneServices=SG;var TG=L("openerService");var Uia=Object.freeze({_serviceBrand:void 0,open:function(){return Promise.resolve(!1)}});function W_(e){Ve.registerLanguage(e)}function X_(){var e=[];return e=e.concat(Ve.getLanguages())}function Y_(e){var r=O.modeService.get().getLanguageIdentifier(e);return r?r.id:0}function Z_(e,r){var t=O.modeService.get().onDidCreateMode(function(o){o.getId()===e&&(t.dispose(),r())});return t}function $_(e,r){var t=O.modeService.get().getLanguageIdentifier(e);if(!t)throw new Error("Cannot set configuration for unknown language "+e);return U.register(t,r)}function __(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(var r in t)if(t.hasOwnProperty(r)&&!e(t[r]))return!1;return!0}function UG(e,t){return"boolean"==typeof e?e:t}function VG(e,t){return"string"==typeof e?e:t}function Lt(e,t){for(var r=0;t.indexOf("@")>=0&&r<5;)r++,t=t.replace(/@(\w+)/g,function(r,o){var n="";if("string"==typeof e[o])n=e[o];else{if(!(e[o]&&e[o]instanceof RegExp))throw void 0===e[o]?A.createError(e,"language definition does not contain attribute '"+o+"', used at: "+t):A.createError(e,"attribute reference '"+o+"' must be a string, used at: "+t);n=e[o].source}return A.empty(n)?"":"(?:"+n+")"});return new RegExp(t,e.ignoreCase?"i":"")}function aaa(e,t,r,o){if(o<0)return e;if(o<t.length)return t[o];if(o>=100){o-=100;var n=r.split(".");if(n.unshift(r),o<n.length)return n[o]}return null}function baa(e,t,r,o){var n=-1,a=r,i=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);i&&(i[3]&&(n=parseInt(i[3]),i[2]&&(n+=100)),a=i[4]);var s,m="~",c=a;if(a&&0!==a.length?/^\w*$/.test(c)?m="==":(i=a.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(m=i[1],c=i[2]):(m="!=",c=""),"~"!==m&&"!~"!==m||!/^(\w|\|)*$/.test(c)){if("@"===m||"!@"===m){var $=e[c];if(!$)throw A.createError(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!__(function(e){return"string"==typeof e},$))throw A.createError(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);var u=az($,e.ignoreCase);s=function(e){return"@"===m?u(e):!u(e)}}else if("~"===m||"!~"===m){if(c.indexOf("$")<0){var f=Lt(e,"^"+c+"$");s=function(e){return"~"===m?f.test(e):!f.test(e)}}else s=function(t,r,o,n){return Lt(e,"^"+A.substituteMatches(e,c,r,o,n)+"$").test(t)};}else if(c.indexOf("$")<0){var h=A.fixCase(e,c);s=function(e){return"=="===m?e===h:e!==h}}else{var p=A.fixCase(e,c);s=function(t,r,o,n,a){var i=A.substituteMatches(e,p,r,o,n);return"=="===m?t===i:t!==i}}}else{var l=az(c.split("|"),e.ignoreCase);s=function(e){return"~"===m?l(e):!l(e)}}return-1===n?{name:r,value:o,test:function(e,t,r,o){return s(e,e,t,r,o)}}:{name:r,value:o,test:function(e,t,r,o){var a=aaa(e,t,r,n);return s(a||"",e,t,r,o)}}}function Mt(e,t,r){if(r){if("string"==typeof r)return r;if(r.token||""===r.token){if("string"!=typeof r.token)throw A.createError(e,"a 'token' attribute must be of type string, in rule: "+t);var o={token:r.token};if(r.token.indexOf("$")>=0&&(o.tokenSubst=!0),"string"==typeof r.bracket)if("@open"===r.bracket)o.bracket=1;else{if("@close"!==r.bracket)throw A.createError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);o.bracket=-1}if(r.next){if("string"!=typeof r.next)throw A.createError(e,"the next state must be a string value in rule: "+t);var n=r.next;if(!/^(@pop|@push|@popall)$/.test(n)&&("@"===n[0]&&(n=n.substr(1)),n.indexOf("$")<0&&!A.stateExists(e,A.substituteMatches(e,n,"",[],""))))throw A.createError(e,"the next state '"+r.next+"' is not defined in rule: "+t);o.next=n}return"number"==typeof r.goBack&&(o.goBack=r.goBack),"string"==typeof r.switchTo&&(o.switchTo=r.switchTo),"string"==typeof r.log&&(o.log=r.log),"string"==typeof r.nextEmbedded&&(o.nextEmbedded=r.nextEmbedded,e.usesEmbedded=!0),o}if(Array.isArray(r)){var a=[];for(var i in r)r.hasOwnProperty(i)&&(a[i]=Mt(e,t,r[i]));return{group:a}}if(r.cases){var s=[];for(var m in r.cases)if(r.cases.hasOwnProperty(m)){var c=Mt(e,t,r.cases[m]);"@default"===m||"@"===m||""===m?s.push({test:void 0,value:c,name:m}):"@eos"===m?s.push({test:function(e,t,r,o){return o},value:c,name:m}):s.push(baa(e,t,m,c))}var $=e.defaultToken;return{test:function(e,t,r,o){for(var n in s)if(s.hasOwnProperty(n)){var a=s[n];if(!a.test||a.test(e,t,r,o))return a.value}return $}}}throw A.createError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}var caa=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var r;if("string"==typeof t)r=t;else{if(!(t instanceof RegExp))throw A.createError(e,"rules must start with a match string or regular expression: "+this.name);r=t.source}this.matchOnlyAtLineStart=r.length>0&&"^"===r[0],this.name=this.name+": "+r,this.regex=Lt(e,"^(?:"+(this.matchOnlyAtLineStart?r.substr(1):r)+")")},e.prototype.setAction=function(e,t){this.action=Mt(e,this.name,t)},e}();function daa(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");var r={};r.languageId=e,r.noThrow=!1,r.maxStack=100,r.start="string"==typeof t.start?t.start:null,r.ignoreCase=UG(t.ignoreCase,!1),r.tokenPostfix=VG(t.tokenPostfix,"."+r.languageId),r.defaultToken=VG(t.defaultToken,"source"),r.usesEmbedded=!1;var o=t;function n(e,a,i){for(var s in i)if(i.hasOwnProperty(s)){var m=i[s],c=m.include;if(c){if("string"!=typeof c)throw A.createError(r,"an 'include' attribute must be a string at: "+e);if("@"===c[0]&&(c=c.substr(1)),!t.tokenizer[c])throw A.createError(r,"include target '"+c+"' is not defined at: "+e);n(e+"."+c,a,t.tokenizer[c])}else{var $=new caa(e);if(Array.isArray(m)&&m.length>=1&&m.length<=3){if($.setRegex(o,m[0]),m.length>=3){if("string"==typeof m[1])$.setAction(o,{token:m[1],next:m[2]});else{if("object"!=typeof m[1])throw A.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);var u=m[1];u.next=m[2],$.setAction(o,u)}}else $.setAction(o,m[1]);}else{if(!m.regex)throw A.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);m.name&&"string"==typeof m.name&&($.name=m.name),m.matchOnlyAtStart&&($.matchOnlyAtLineStart=UG(m.matchOnlyAtLineStart,!1)),$.setRegex(o,m.regex),$.setAction(o,m.action)}a.push($)}}}if(o.languageId=e,o.ignoreCase=r.ignoreCase,o.noThrow=r.noThrow,o.usesEmbedded=r.usesEmbedded,o.stateNames=t.tokenizer,o.defaultToken=r.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw A.createError(r,"a language definition must define the 'tokenizer' attribute as an object");for(var a in r.tokenizer=[],t.tokenizer)if(t.tokenizer.hasOwnProperty(a)){r.start||(r.start=a);var i=t.tokenizer[a];r.tokenizer[a]=new Array,n("tokenizer."+a,r.tokenizer[a],i)}if(r.usesEmbedded=o.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw A.createError(r,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var s=[];for(var m in t.brackets)if(t.brackets.hasOwnProperty(m)){var c=t.brackets[m];if(c&&Array.isArray(c)&&3===c.length&&(c={token:c[2],open:c[0],close:c[1]}),c.open===c.close)throw A.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+c.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof c.open||"string"!=typeof c.token||"string"!=typeof c.close)throw A.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:c.token+r.tokenPostfix,open:A.fixCase(r,c.open),close:A.fixCase(r,c.close)})}return r.brackets=s,r.noThrow=!0,r}var eaa=function(){function e(e){this._actual=e}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype.tokenize=function(e,r,t){throw new Error("Not supported!")},e.prototype.tokenize2=function(e,r){var t=this._actual.tokenizeEncoded(e,r);return new lk(t.tokens,t.endState)},e}();var faa=function(){function e(e,r,t){this._standaloneThemeService=e,this._languageIdentifier=r,this._actual=t}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype._toClassicTokens=function(e,r,t){for(var o=[],i=0,n=0,$=e.length;n<$;n++){var s=e[n],g=s.startIndex;0===n?g=0:g<i&&(g=i),o[n]=new kk(g+t,s.scopes,r),i=g}return o},e.prototype.tokenize=function(e,r,t){var o,i=this._actual.tokenize(e,r),n=this._toClassicTokens(i.tokens,this._languageIdentifier.language,t);return o=i.endState.equals(r)?r:i.endState,new vp(n,o)},e.prototype._toBinaryTokens=function(e,r){for(var t=this._languageIdentifier.id,o=this._standaloneThemeService.getTheme().tokenTheme,i=[],n=0,$=0,s=0,g=e.length;s<g;s++){var P=e[s],a=o.match(t,P.scopes);if(!(n>0&&i[n-1]===a)){var d=P.startIndex;0===s?d=0:d<$&&(d=$),i[n++]=d+r,i[n++]=a,$=d}}var p=new Uint32Array(n);for(s=0;s<n;s++)p[s]=i[s];return p},e.prototype.tokenize2=function(e,r,t){var o,i=this._actual.tokenize(e,r),n=this._toBinaryTokens(i.tokens,t);return o=i.endState.equals(r)?r:i.endState,new lk(n,o)},e}();function gaa(e){return e.tokenizeEncoded}function WG(e){return"function"==typeof e.then}function haa(e,r){var t=O.modeService.get().getLanguageIdentifier(e);if(!t)throw new Error("Cannot set tokens provider for unknown language "+e);var o=function(e){return gaa(e)?new eaa(e):new faa(O.standaloneThemeService.get(),t,e)};return WG(r)?ca.registerPromise(e,r.then(function(e){return o(e)})):ca.register(e,o(r))}function iaa(e,r){var t=function(r){return gT(O.modeService.get(),O.standaloneThemeService.get(),e,daa(e,r))};return WG(r)?ca.registerPromise(e,r.then(function(e){return t(e)})):ca.register(e,t(r))}function jaa(e,r){return Np.register(e,r)}function kaa(e,r){return Op.register(e,r)}function laa(e,r){return Pp.register(e,r)}function maa(e,r){return Qp.register(e,{provideHover:function(e,t,o){var i=e.getWordAtPosition(t);return Promise.resolve(r.provideHover(e,t,o)).then(function(e){if(e)return!e.range&&i&&(e.range=new j(t.lineNumber,i.startColumn,t.lineNumber,i.endColumn)),e.range||(e.range=new j(t.lineNumber,t.column,t.lineNumber,t.column)),e})}})}function naa(e,r){return Rp.register(e,r)}function oaa(e,r){return Sp.register(e,r)}function paa(e,r){return Tp.register(e,r)}function qaa(e,r){return Up.register(e,r)}function raa(e,r){return Vp.register(e,r)}function saa(e,r){return Wp.register(e,r)}function taa(e,r){return Xp.register(e,{provideCodeActions:function(e,t,o,i){var n=O.markerService.get().read({resource:e.uri}).filter(function(e){return j.areIntersectingOrTouching(e,t)});return r.provideCodeActions(e,t,{markers:n,only:o.only},i)}})}function uaa(e,r){return Yp.register(e,r)}function vaa(e,r){return Lk.register(e,r)}function waa(e,r){return KR.register(e,r)}function xaa(e,r){return iB.register(e,r)}function yaa(e,r){return Kk.register(e,r)}function zaa(e,r){return LR.register(e,r)}function Aaa(e,r){return MR.register(e,r)}function Baa(){return{register:W_,getLanguages:X_,onLanguage:Z_,getEncodedLanguageId:Y_,setLanguageConfiguration:$_,setTokensProvider:haa,setMonarchTokensProvider:iaa,registerReferenceProvider:jaa,registerRenameProvider:kaa,registerCompletionItemProvider:yaa,registerSignatureHelpProvider:laa,registerHoverProvider:maa,registerDocumentSymbolProvider:naa,registerDocumentHighlightProvider:oaa,registerDefinitionProvider:paa,registerImplementationProvider:qaa,registerTypeDefinitionProvider:raa,registerCodeLensProvider:saa,registerCodeActionProvider:taa,registerDocumentFormattingEditProvider:uaa,registerDocumentRangeFormattingEditProvider:vaa,registerOnTypeFormattingEditProvider:waa,registerLinkProvider:xaa,registerColorProvider:zaa,registerFoldingRangeProvider:Aaa,DocumentHighlightKind:dA,CompletionItemKind:_z,CompletionItemInsertTextRule:aA,SymbolKind:eA,IndentAction:$z,CompletionTriggerKind:bA,SignatureHelpTriggerKind:cA,FoldingRangeKind:IR}}var om=self;Yf.wrappingIndent=0,Yf.viewInfo.glyphMargin=!1,Yf.autoIndent=!1;var Ia=fA();Ia.editor=bP(),Ia.languages=Baa();var Caa=Ia.CancellationTokenSource;Ka.CancellationTokenSource=Caa;var Daa=Ia.Emitter;Ka.Emitter=Daa;var Eaa=Ia.KeyCode;Ka.KeyCode=Eaa;var Faa=Ia.KeyMod;Ka.KeyMod=Faa;var Gaa=Ia.Position;Ka.Position=Gaa;var Haa=Ia.Range;Ka.Range=Haa;var Iaa=Ia.Selection;Ka.Selection=Iaa;var Jaa=Ia.SelectionDirection;Ka.SelectionDirection=Jaa;var Kaa=Ia.MarkerSeverity;Ka.MarkerSeverity=Kaa;var Laa=Ia.MarkerTag;Ka.MarkerTag=Laa;var Maa=Ia.Uri;Ka.Uri=Maa;var Naa=Ia.Token;Ka.Token=Naa;var Oaa=Ia.editor;Ka.editor=Oaa;var Paa=Ia.languages;Ka.languages=Paa,om.monaco=Ia,void 0!==om.require&&"function"==typeof om.require.config&&om.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var Qaa,Raa,Saa=false;function Taa(){if(Saa)return;Saa=true;Qaa={};Raa="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Qaa=Raa}var Uaa,Vaa,Waa=false;function XG(){}function YG(){}function Xaa(){if(Waa)return;Waa=true;Uaa={};Vaa=(Taa(),Qaa);YG.resetWarningCache=XG,Uaa=function(){function e(e,t,r,n,o,a){if(a!==Vaa){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YG,resetWarningCache:XG};return r.PropTypes=r,r}}var Via,Wia,Li,Yaa=false;function Rg(){if(Yaa)return;Yaa=true;Li={};Li=(Xaa(),Uaa)()}var pm={};Object.defineProperty(pm,"__esModule",{value:!0});var Zaa=$aa;function $aa(e){return /^\d+$/.test(e)?e+"px":e}pm.processSize=Zaa;var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Object.keys(pm).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(Sg,e,{enumerable:!0,get:function(){return pm[e]}})});var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var _aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},aba=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Tg=dba(Ka),bba=(Rg(),Li),qb=$G(bba),cba=(V(),E),ZG=$G(cba);function $G(e){return e&&e.__esModule?e:{default:e}}function dba(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function eba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fba(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function gba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Ot(){}var Pt=function(e){function t(e){eba(this,t);var r=fba(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.assignRef=function(e){r.containerElement=e},r.containerElement=void 0,r.__current_value=e.value,r}return gba(t,ZG.default.Component),aba(t,[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){this.props.value!==this.__current_value&&(this.__current_value=this.props.value,this.editor&&(this.__prevent_trigger_change_event=!0,this.editor.setValue(this.__current_value),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&Tg.editor.setModelLanguage(this.editor.getModel(),this.props.language),e.theme!==this.props.theme&&Tg.editor.setTheme(this.props.theme),!this.editor||this.props.width===e.width&&this.props.height===e.height||this.editor.layout(),e.options!==this.props.options&&this.editor.updateOptions(this.props.options)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"destroyMonaco",value:function(){void 0!==this.editor&&this.editor.dispose()}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,r=t.language,i=t.theme,o=t.options;this.containerElement&&(Object.assign(o,this.editorWillMount()),this.editor=Tg.editor.create(this.containerElement,_aa({value:e,language:r},o)),i&&Tg.editor.setTheme(i),this.editorDidMount(this.editor))}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;return e(Tg)||{}}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,Tg),e.onDidChangeModelContent(function(r){var i=e.getValue();t.__current_value=i,t.__prevent_trigger_change_event||t.props.onChange(i,r)})}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,i={width:(0,Sg.processSize)(t),height:(0,Sg.processSize)(r)};return ZG.default.createElement("div",{ref:this.assignRef,style:i,className:"react-monaco-editor-container"})}}]),t}();Pt.propTypes={width:qb.default.oneOfType([qb.default.string,qb.default.number]),height:qb.default.oneOfType([qb.default.string,qb.default.number]),value:qb.default.string,defaultValue:qb.default.string,language:qb.default.string,theme:qb.default.string,options:qb.default.object,editorDidMount:qb.default.func,editorWillMount:qb.default.func,onChange:qb.default.func},Pt.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:Ot,editorWillMount:Ot,onChange:Ot};var hba=Pt;Nt.default=hba;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});var iba=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),jd=lba(Ka),jba=(V(),E),_G=aH(jba),kba=(Rg(),Li),bb=aH(kba);function aH(e){return e&&e.__esModule?e:{default:e}}function lba(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function mba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nba(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function oba(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Rt(){}var St=function(e){function t(e){mba(this,t);var r=nba(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.assignRef=function(e){r.containerElement=e},r.containerElement=void 0,r.__current_value=e.value,r.__current_original=e.original,r}return oba(t,_G.default.Component),iba(t,[{key:"componentDidMount",value:function(){this.initMonaco()}},{key:"componentDidUpdate",value:function(e){if(this.props.value===this.__current_value&&this.props.original===this.__current_original||(this.__current_value=this.props.value,this.__current_original=this.props.original,this.editor&&(this.__prevent_trigger_change_event=!0,this.updateModel(this.__current_value,this.__current_original),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language){var t=this.editor.getModel(),r=t.original,o=t.modified;jd.editor.setModelLanguage(r,this.props.language),jd.editor.setModelLanguage(o,this.props.language)}e.theme!==this.props.theme&&jd.editor.setTheme(this.props.theme),!this.editor||this.props.width===e.width&&this.props.height===e.height||this.editor.layout(),e.options!==this.props.options&&this.editor.updateOptions(this.props.options)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function(){var e=this.props.editorWillMount;return e(jd)||{}}},{key:"editorDidMount",value:function(e){var t=this;this.props.editorDidMount(e,jd),e.onDidUpdateDiff(function(){var r=e.getModel().modified.getValue();t.__current_value=r,t.__prevent_trigger_change_event||t.props.onChange(r)})}},{key:"updateModel",value:function(e,t){var r=this.props.language,o=jd.editor.createModel(t,r),i=jd.editor.createModel(e,r);this.editor.setModel({original:o,modified:i})}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,r=t.original,o=t.theme,i=t.options;this.containerElement&&(this.editorWillMount(),this.editor=jd.editor.createDiffEditor(this.containerElement,i),o&&jd.editor.setTheme(o),this.updateModel(e,r),this.editorDidMount(this.editor))}},{key:"destroyMonaco",value:function(){void 0!==this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,o={width:(0,Sg.processSize)(t),height:(0,Sg.processSize)(r)};return _G.default.createElement("div",{ref:this.assignRef,style:o,className:"react-monaco-editor-container"})}}]),t}();St.propTypes={width:bb.default.oneOfType([bb.default.string,bb.default.number]),height:bb.default.oneOfType([bb.default.string,bb.default.number]),original:bb.default.string,value:bb.default.string,defaultValue:bb.default.string,language:bb.default.string,theme:bb.default.string,options:bb.default.object,editorDidMount:bb.default.func,editorWillMount:bb.default.func,onChange:bb.default.func},St.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:Rt,editorWillMount:Rt,onChange:Rt};var pba=St;Qt.default=pba;var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});var bH=(Tt=void 0,Mi.default=Tt);Mi.MonacoDiffEditor=bH;var qba=cH(Nt),rba=cH(Qt);function cH($){return $&&$.__esModule?$:{default:$}}var Tt=qba.default;Mi.default=Tt,bH=rba.default,Mi.MonacoDiffEditor=bH;function dH(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}V();var ua=nc(E);var eH=ua.d.createContext(null);V(),Rg();var fH=function(t){function e(e){var r;r=t.call(this,e)||this;var s=e.store;return r.state={storeState:s.getState(),store:s},r}dH(e,t);var r=e.prototype;return r.componentDidMount=function(){this._isMounted=!0,this.subscribe()},r.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},r.componentDidUpdate=function(t){this.props.store!==t.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},r.subscribe=function(){var t=this,e=this.props.store;this.unsubscribe=e.subscribe(function(){var r=e.getState();t._isMounted&&t.setState(function(t){return t.storeState===r?null:{storeState:r}})});var r=e.getState();r!==this.state.storeState&&this.setState({storeState:r})},r.render=function(){var t=this.props.context||eH;return ua.d.createElement(t.Provider,{value:this.state},this.props.children)},e}(E.Component);var Ug=nc(Li);fH.propTypes={store:Ug.d.shape({subscribe:Ug.d.func.isRequired,dispatch:Ug.d.func.isRequired,getState:Ug.d.func.isRequired}),context:Ug.d.object,children:Ug.d.any};function sba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tba(){return(tba=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var $ in e)Object.prototype.hasOwnProperty.call(e,$)&&(r[$]=e[$])}return r}).apply(this,arguments)}var qm=tba;function Ut(e,t){if(null==e)return{};var r,$,a={},f=Object.keys(e);for($=0;$<f.length;$++)r=f[$],t.indexOf(r)>=0||(a[r]=e[r]);return a}var Vg={};var e,Db,Vt,Wt,rm,sm,tm,um,vm,Xt,wm,xm,ym,zm,Am,uba,vba,wba,xba,yba,zba,Aba,Bba,Cba,Dba,Eba,Fba,Gba,Hba,Iba,Jba,Kba,Lba,Mba,Nba,Oba,Pba,Qba,Rba,Sba,Tba,Uba,Vba,Wba=false;function Eb($){if("object"==typeof $&&null!==$){var r=$.$$typeof;switch(r){case Vt:switch($=$.type){case Xt:case wm:case rm:case tm:case sm:case ym:return $;default:switch($=$&&$.$$typeof){case vm:case xm:case um:return $;default:return r;}}case Am:case zm:case Wt:return r;}}}function gH($){return Eb($)===wm}function Xba(){if(Wba)return;Wba=true;e={};Object.defineProperty(e,"__esModule",{value:!0});Db="function"==typeof Symbol&&Symbol.for;Vt=Db?Symbol.for("react.element"):60103;Wt=Db?Symbol.for("react.portal"):60106;rm=Db?Symbol.for("react.fragment"):60107;sm=Db?Symbol.for("react.strict_mode"):60108;tm=Db?Symbol.for("react.profiler"):60114;um=Db?Symbol.for("react.provider"):60109;vm=Db?Symbol.for("react.context"):60110;Xt=Db?Symbol.for("react.async_mode"):60111;wm=Db?Symbol.for("react.concurrent_mode"):60111;xm=Db?Symbol.for("react.forward_ref"):60112;ym=Db?Symbol.for("react.suspense"):60113;zm=Db?Symbol.for("react.memo"):60115;Am=Db?Symbol.for("react.lazy"):60116;uba=Eb;e.typeOf=uba;vba=Xt;e.AsyncMode=vba;wba=wm;e.ConcurrentMode=wba;xba=vm;e.ContextConsumer=xba;yba=um;e.ContextProvider=yba;zba=Vt;e.Element=zba;Aba=xm;e.ForwardRef=Aba;Bba=rm;e.Fragment=Bba;Cba=Am;e.Lazy=Cba;Dba=zm;e.Memo=Dba;Eba=Wt;e.Portal=Eba;Fba=tm;e.Profiler=Fba;Gba=sm;e.StrictMode=Gba;Hba=ym;e.Suspense=Hba;Iba=function($){return"string"==typeof $||"function"==typeof $||$===rm||$===wm||$===tm||$===sm||$===ym||"object"==typeof $&&null!==$&&($.$$typeof===Am||$.$$typeof===zm||$.$$typeof===um||$.$$typeof===vm||$.$$typeof===xm)};e.isValidElementType=Iba;Jba=function($){return gH($)||Eb($)===Xt};e.isAsyncMode=Jba;Kba=gH;e.isConcurrentMode=Kba;Lba=function($){return Eb($)===vm};e.isContextConsumer=Lba;Mba=function($){return Eb($)===um};e.isContextProvider=Mba;Nba=function($){return"object"==typeof $&&null!==$&&$.$$typeof===Vt};e.isElement=Nba;Oba=function($){return Eb($)===xm};e.isForwardRef=Oba;Pba=function($){return Eb($)===rm};e.isFragment=Pba;Qba=function($){return Eb($)===Am};e.isLazy=Qba;Rba=function($){return Eb($)===zm};e.isMemo=Rba;Sba=function($){return Eb($)===Wt};e.isPortal=Sba;Tba=function($){return Eb($)===tm};e.isProfiler=Tba;Uba=function($){return Eb($)===sm};e.isStrictMode=Uba;Vba=function($){return Eb($)===ym};e.isSuspense=Vba}Vg=(Xba(),e);var hH={},Yba={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Zba={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$ba={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_ba={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iH={};function jH(r){return Vg.isMemo(r)?_ba:iH[r.$$typeof]||Yba}iH[Vg.ForwardRef]=$ba;var aca=Object.defineProperty,bca=Object.getOwnPropertyNames,kH=Object.getOwnPropertySymbols,cca=Object.getOwnPropertyDescriptor,dca=Object.getPrototypeOf,lH=Object.prototype;function mH(r,t,e){if("string"!=typeof t){if(lH){var $=dca(t);$&&$!==lH&&mH(r,$,e)}var a=bca(t);kH&&(a=a.concat(kH(t)));for(var o=jH(r),l=jH(t),p=0;p<a.length;++p){var E=a[p];if(!(Zba[E]||e&&e[E]||l&&l[E]||o&&o[E])){var v=cca(t,E);try{aca(r,E,v)}catch(s){}}}return r}return r}hH=mH;var eca={},fca=function(r,n,e,i,a,o,t,v){if(!r){var f;if(void 0===n)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[e,i,a,o,t,v],$=0;(f=new Error(n.replace(/%s/g,function(){return p[$++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}};eca=fca;V();function gca(e,r){void 0===r&&(r={});var t=r,o=t.getDisplayName,n=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,i=t.methodName,a=void 0===i?"connectAdvanced":i,p=t.renderCountProp,s=void 0===p?void 0:p,d=t.shouldHandleStateChanges,c=void 0===d||d,$=t.storeKey,m=void 0===$?"store":$,u=t.withRef,l=void 0!==u&&u,h=t.forwardRef,v=void 0!==h&&h,f=t.context,D=void 0===f?eH:f,C=Ut(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);var $gTp$$interop$default=nc(eca);$gTp$$interop$default.d(void 0===s,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),$gTp$$interop$default.d(!l,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var x="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";$gTp$$interop$default.d("store"===m,"storeKey has been removed and does not do anything. "+x);var R=D;return function(r){var t=r.displayName||r.name||"Component",o=n(t),i=qm({},C,{getDisplayName:n,methodName:a,renderCountProp:s,shouldHandleStateChanges:c,storeKey:m,displayName:o,wrappedComponentName:t,WrappedComponent:r}),p=C.pure,d=E.Component;p&&(d=E.PureComponent);var $=function(t){function n(r){var o,n,i,a,s,d,c,$,u,l,h;return o=t.call(this,r)||this,$gTp$$interop$default.d(v?!r.wrapperProps[m]:!r[m],"Passing redux store in props has been removed and does not do anything. "+x),o.selectDerivedProps=function(r,t,o,$){if(p&&n===t&&i===r)return a;o===s&&d===$||(s=o,d=$,c=e(o.dispatch,$)),n=t,i=r;var m=c(r,t);return a=m},o.selectChildElement=function(e,r,t){return r===$&&t===u&&h===e||($=r,u=t,h=e,l=ua.d.createElement(e,qm({},r,{ref:t}))),l},o.indirectRenderWrappedComponent=o.indirectRenderWrappedComponent.bind(sba(o)),o}dH(n,t);var a=n.prototype;return a.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},a.renderWrappedComponent=function(e){$gTp$$interop$default.d(e,"Could not find \"store\" in the context of \""+o+"\". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to "+o+" in connect options.");var t,n=e.storeState,a=e.store,p=this.props;v&&(p=this.props.wrapperProps,t=this.props.forwardedRef);var s=this.selectDerivedProps(n,p,a,i);return this.selectChildElement(r,s,t)},a.render=function(){var e=this.props.context&&this.props.context.Consumer&&Vg.isContextConsumer(ua.d.createElement(this.props.context.Consumer,null))?this.props.context:R;return ua.d.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},n}(d);if($.WrappedComponent=r,$.displayName=o,v){var u=ua.d.forwardRef(function(e,r){return ua.d.createElement($,{wrapperProps:e,forwardedRef:r})});var $El$$interop$default=nc(hH);return u.displayName=o,u.WrappedComponent=r,$El$$interop$default.d(u,r)}var $El$$interop$default=nc(hH);return $El$$interop$default.d($,r)}}function Yt(e,r,t){for(var o=r.length-1;o>=0;o--){var a=r[o](e);if(a)return a}return function(r,o){throw new Error("Invalid value of type "+typeof e+" for "+t+" argument when connecting component "+o.wrappedComponentName+".")}}function hca(e,r){return e===r}function ica(e){var r=void 0===e?{}:e,t=r.connectHOC,o=void 0===t?gca:t,a=r.mapStateToPropsFactories,$=void 0===a?uca:a,p=r.mapDispatchToPropsFactories,m=void 0===p?rca:p,i=r.mergePropsFactories,n=void 0===i?zca:i,s=r.selectorFactory,c=void 0===s?Cca:s;return function(e,r,t,a){void 0===a&&(a={});var p=a,i=p.pure,s=void 0===i||i,l=p.areStatesEqual,u=void 0===l?hca:l,g=p.areOwnPropsEqual,O=void 0===g?Zt:g,d=p.areStatePropsEqual,v=void 0===d?Zt:d,q=p.areMergedPropsEqual,P=void 0===q?Zt:q,h=Ut(p,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=Yt(e,$,"mapStateToProps"),f=Yt(r,m,"mapDispatchToProps"),S=Yt(t,n,"mergeProps");return o(c,qm({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:f,initMergeProps:S,pure:s,areStatesEqual:u,areOwnPropsEqual:O,areStatePropsEqual:v,areMergedPropsEqual:P},h))}}var jca=Object.prototype.hasOwnProperty;function nH(r,t){return r===t?0!==r||0!==t||1/r==1/t:r!=r&&t!=t}function Zt(r,t){if(nH(r,t))return!0;if("object"!=typeof r||null===r||"object"!=typeof t||null===t)return!1;var e=Object.keys(r),$=Object.keys(t);if(e.length!==$.length)return!1;for(var l=0;l<e.length;l++)if(!jca.call(t,e[l])||!nH(r[e[l]],t[e[l]]))return!1;return!0}function kca(p){return"function"==typeof p?rH(p,"mapDispatchToProps"):void 0}function lca(p){return p?void 0:au(function(p){return{dispatch:p}})}function mca(p){return p&&"object"==typeof p?au(function(o){return qca(p,o)}):void 0}function nca(e){var o,r=e.Symbol;return"function"==typeof r?r.observable?o=r.observable:(o=r("observable"),r.observable=o):o="@@observable",o}var oca=function(){var e,l={exports:this};this.__esModule=!0,e="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof nd?nd:void 0!==l?l:Function("return this")();var o=nca(e);return this.default=o,l.exports}.call({});var $t=function(){return Math.random().toString(36).substring(7).split("").join(".")},oH={INIT:"@@redux/INIT"+$t(),REPLACE:"@@redux/REPLACE"+$t(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$t()}};function pca(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _t(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(_t)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],c=i,u=!1;function s(){c===i&&(c=i.slice())}function d(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return s(),c.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,s();var r=c.indexOf(e);c.splice(r,1)}}}function p(e){if(!pca(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error("Actions may not have an undefined \"type\" property. Have you misspelled a constant?");if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=o(a,e)}finally{u=!1}for(var t=i=c,r=0;r<t.length;r++){(0,t[r])()}return e}var $LkZ7$$interop$default=nc(oca);return p({type:oH.INIT}),(n={dispatch:p,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:oH.REPLACE})}})[$LkZ7$$interop$default.d]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(d())}return r(),{unsubscribe:t(r)}}})[$LkZ7$$interop$default.d]=function(){return this},e},n}function pH(e,t){return function(){return t(e.apply(this,arguments))}}function qca(e,t){if("function"==typeof e)return pH(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+". Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o],i=e[a];"function"==typeof i&&(n[a]=pH(i,t))}return n}function au(n){return function(p,r){var o=n(p,r);function e(){return o}return e.dependsOnOwnProps=!1,e}}function qH(n){return null!==n.dependsOnOwnProps&&void 0!==n.dependsOnOwnProps?Boolean(n.dependsOnOwnProps):1!==n.length}function rH(n,p){return function(p,r){r.displayName;var o=function(n,p){return o.dependsOnOwnProps?o.mapToProps(n,p):o.mapToProps(n)};return o.dependsOnOwnProps=!0,o.mapToProps=function(p,r){o.mapToProps=n,o.dependsOnOwnProps=qH(n);var e=o(p,r);return"function"==typeof e&&(o.mapToProps=e,o.dependsOnOwnProps=qH(e),e=o(p,r)),e},o}}var rca=[kca,lca,mca];function sca(o){return"function"==typeof o?rH(o,"mapStateToProps"):void 0}function tca(o){return o?void 0:au(function(){return{}})}var uca=[sca,tca];function vca(e,r,t){return qm({},t,e,r)}function wca(e){return function(r,t){t.displayName;var $,o=t.pure,p=t.areMergedPropsEqual,n=!1;return function(r,t,d){var g=e(r,t,d);return n?o&&p(g,$)||($=g):(n=!0,$=g),$}}}function xca(e){return"function"==typeof e?wca(e):void 0}function yca(e){return e?void 0:function(){return vca}}var zca=[xca,yca];function Aca(r,e,t,o){return function(p,n){return t(r(p,n),e(o,n),n)}}function Bca(r,e,t,o,p){var n,a,i,$,s,u=p.areStatesEqual,c=p.areOwnPropsEqual,l=p.areStatePropsEqual,P=!1;function g(p,P){var g,F,B=!c(P,a),I=!u(p,n);return n=p,a=P,B&&I?(i=r(n,a),e.dependsOnOwnProps&&($=e(o,a)),s=t(i,$,a)):B?(r.dependsOnOwnProps&&(i=r(n,a)),e.dependsOnOwnProps&&($=e(o,a)),s=t(i,$,a)):I?(g=r(n,a),F=!l(g,i),i=g,F&&(s=t(i,$,a)),s):s}return function(p,u){return P?g(p,u):(i=r(n=p,a=u),$=e(o,a),s=t(i,$,a),P=!0,s)}}function Cca(r,e){var t=e.initMapStateToProps,o=e.initMapDispatchToProps,p=e.initMergeProps,n=Ut(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=t(r,n),i=o(r,n),$=p(r,n);return(n.pure?Bca:Aca)(a,i,$,r,n)}var sH=ica();var tH={};var da={},Dca="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function Eca(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var Ni=function(r){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var $ in e)Eca(e,$)&&(r[$]=e[$])}}return r};da.assign=Ni;var Oi=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};da.shrinkBuf=Oi;var Fca={arraySet:function(r,t,e,$,n){if(t.subarray&&r.subarray)r.set(t.subarray(e,e+$),n);else for(var y=0;y<$;y++)r[n+y]=t[e+y]},flattenChunks:function(r){var t,e,$,n,y,a;for($=0,t=0,e=r.length;t<e;t++)$+=r[t].length;for(a=new Uint8Array($),n=0,t=0,e=r.length;t<e;t++)y=r[t],a.set(y,n),n+=y.length;return a}},Gca={arraySet:function(r,t,e,$,n){for(var y=0;y<$;y++)r[n+y]=t[e+y]},flattenChunks:function(r){return[].concat.apply([],r)}},uH=function(r){if(r){var t=Uint8Array;da.Buf8=t;var e=Uint16Array;da.Buf16=e;var $=Int32Array;da.Buf32=$,Ni(da,Fca)}else t=Array,da.Buf8=t,e=Array,da.Buf16=e,$=Array,da.Buf32=$,Ni(da,Gca)};da.setTyped=uH,uH(Dca);var Hca=4,vH=0,wH=1,Ica=2;function Wg($){for(var r=$.length;--r>=0;)$[r]=0}var Jca=0,xH=1,Kca=2,Lca=3,Mca=258,bu=29,Pi=256,Qi=Pi+1+bu,Xg=30,cu=19,yH=2*Qi+1,gf=15,du=16,Nca=7,eu=256,zH=16,AH=17,BH=18,fu=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Bm=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Oca=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],CH=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Pca=512,kd=new Array(2*(Qi+2));Wg(kd);var Ri=new Array(2*Xg);Wg(Ri);var Si=new Array(Pca);Wg(Si);var Ti=new Array(Mca-Lca+1);Wg(Ti);var gu=new Array(bu);Wg(gu);var Qca,Rca,Sca,Cm=new Array(Xg);function hu($,r,e,_,a){this.static_tree=$,this.extra_bits=r,this.extra_base=e,this.elems=_,this.max_length=a,this.has_stree=$&&$.length}function iu($,r){this.dyn_tree=$,this.max_code=0,this.stat_desc=r}function DH($){return $<256?Si[$]:Si[256+($>>>7)]}function Ui($,r){$.pending_buf[$.pending++]=255&r,$.pending_buf[$.pending++]=r>>>8&255}function rb($,r,e){$.bi_valid>du-e?($.bi_buf|=r<<$.bi_valid&65535,Ui($,$.bi_buf),$.bi_buf=r>>du-$.bi_valid,$.bi_valid+=e-du):($.bi_buf|=r<<$.bi_valid&65535,$.bi_valid+=e)}function Fc($,r,e){rb($,e[2*r],e[2*r+1])}function EH($,r){var e=0;do{e|=1&$,$>>>=1,e<<=1}while(--r>0);return e>>>1}function Tca($){16===$.bi_valid?(Ui($,$.bi_buf),$.bi_buf=0,$.bi_valid=0):$.bi_valid>=8&&($.pending_buf[$.pending++]=255&$.bi_buf,$.bi_buf>>=8,$.bi_valid-=8)}function Uca($,r){var e,_,a,o,t,A,v=r.dyn_tree,I=r.max_code,X=r.stat_desc.static_tree,i=r.stat_desc.has_stree,n=r.stat_desc.extra_bits,s=r.stat_desc.extra_base,d=r.stat_desc.max_length,l=0;for(o=0;o<=gf;o++)$.bl_count[o]=0;for(v[2*$.heap[$.heap_max]+1]=0,e=$.heap_max+1;e<yH;e++)(o=v[2*v[2*(_=$.heap[e])+1]+1]+1)>d&&(o=d,l++),v[2*_+1]=o,_>I||($.bl_count[o]++,t=0,_>=s&&(t=n[_-s]),A=v[2*_],$.opt_len+=A*(o+t),i&&($.static_len+=A*(X[2*_+1]+t)));if(0!==l){do{for(o=d-1;0===$.bl_count[o];)o--;$.bl_count[o]--,$.bl_count[o+1]+=2,$.bl_count[d]--,l-=2}while(l>0);for(o=d;0!==o;o--)for(_=$.bl_count[o];0!==_;)(a=$.heap[--e])>I||(v[2*a+1]!==o&&($.opt_len+=(o-v[2*a+1])*v[2*a],v[2*a+1]=o),_--)}}function FH($,r,e){var _,a,o=new Array(gf+1),t=0;for(_=1;_<=gf;_++)o[_]=t=t+e[_-1]<<1;for(a=0;a<=r;a++){var A=$[2*a+1];0!==A&&($[2*a]=EH(o[A]++,A))}}function Vca(){var $,r,e,_,a,o=new Array(gf+1);for(e=0,_=0;_<bu-1;_++)for(gu[_]=e,$=0;$<1<<fu[_];$++)Ti[e++]=_;for(Ti[e-1]=_,a=0,_=0;_<16;_++)for(Cm[_]=a,$=0;$<1<<Bm[_];$++)Si[a++]=_;for(a>>=7;_<Xg;_++)for(Cm[_]=a<<7,$=0;$<1<<Bm[_]-7;$++)Si[256+a++]=_;for(r=0;r<=gf;r++)o[r]=0;for($=0;$<=143;)kd[2*$+1]=8,$++,o[8]++;for(;$<=255;)kd[2*$+1]=9,$++,o[9]++;for(;$<=279;)kd[2*$+1]=7,$++,o[7]++;for(;$<=287;)kd[2*$+1]=8,$++,o[8]++;for(FH(kd,Qi+1,o),$=0;$<Xg;$++)Ri[2*$+1]=5,Ri[2*$]=EH($,5);Qca=new hu(kd,fu,Pi+1,Qi,gf),Rca=new hu(Ri,Bm,0,Xg,gf),Sca=new hu(new Array(0),Oca,0,cu,Nca)}function GH($){var r;for(r=0;r<Qi;r++)$.dyn_ltree[2*r]=0;for(r=0;r<Xg;r++)$.dyn_dtree[2*r]=0;for(r=0;r<cu;r++)$.bl_tree[2*r]=0;$.dyn_ltree[2*eu]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0}function HH($){$.bi_valid>8?Ui($,$.bi_buf):$.bi_valid>0&&($.pending_buf[$.pending++]=$.bi_buf),$.bi_buf=0,$.bi_valid=0}function Wca($,r,e,_){HH($),_&&(Ui($,e),Ui($,~e)),da.arraySet($.pending_buf,$.window,r,e,$.pending),$.pending+=e}function IH($,r,e,_){var a=2*r,o=2*e;return $[a]<$[o]||$[a]===$[o]&&_[r]<=_[e]}function ju($,r,e){for(var _=$.heap[e],a=e<<1;a<=$.heap_len&&(a<$.heap_len&&IH(r,$.heap[a+1],$.heap[a],$.depth)&&a++,!IH(r,_,$.heap[a],$.depth));)$.heap[e]=$.heap[a],e=a,a<<=1;$.heap[e]=_}function JH($,r,e){var _,a,o,t,A=0;if(0!==$.last_lit)do{_=$.pending_buf[$.d_buf+2*A]<<8|$.pending_buf[$.d_buf+2*A+1],a=$.pending_buf[$.l_buf+A],A++,0===_?Fc($,a,r):(Fc($,(o=Ti[a])+Pi+1,r),0!==(t=fu[o])&&rb($,a-=gu[o],t),Fc($,o=DH(--_),e),0!==(t=Bm[o])&&rb($,_-=Cm[o],t))}while(A<$.last_lit);Fc($,eu,r)}function ku($,r){var e,_,a,o=r.dyn_tree,t=r.stat_desc.static_tree,A=r.stat_desc.has_stree,v=r.stat_desc.elems,I=-1;for($.heap_len=0,$.heap_max=yH,e=0;e<v;e++)0!==o[2*e]?($.heap[++$.heap_len]=I=e,$.depth[e]=0):o[2*e+1]=0;for(;$.heap_len<2;)o[2*(a=$.heap[++$.heap_len]=I<2?++I:0)]=1,$.depth[a]=0,$.opt_len--,A&&($.static_len-=t[2*a+1]);for(r.max_code=I,e=$.heap_len>>1;e>=1;e--)ju($,o,e);a=v;do{e=$.heap[1],$.heap[1]=$.heap[$.heap_len--],ju($,o,1),_=$.heap[1],$.heap[--$.heap_max]=e,$.heap[--$.heap_max]=_,o[2*a]=o[2*e]+o[2*_],$.depth[a]=($.depth[e]>=$.depth[_]?$.depth[e]:$.depth[_])+1,o[2*e+1]=o[2*_+1]=a,$.heap[1]=a++,ju($,o,1)}while($.heap_len>=2);$.heap[--$.heap_max]=$.heap[1],Uca($,r),FH(o,I,$.bl_count)}function KH($,r,e){var _,a,o=-1,t=r[1],A=0,v=7,I=4;for(0===t&&(v=138,I=3),r[2*(e+1)+1]=65535,_=0;_<=e;_++)a=t,t=r[2*(_+1)+1],++A<v&&a===t||(A<I?$.bl_tree[2*a]+=A:0!==a?(a!==o&&$.bl_tree[2*a]++,$.bl_tree[2*zH]++):A<=10?$.bl_tree[2*AH]++:$.bl_tree[2*BH]++,A=0,o=a,0===t?(v=138,I=3):a===t?(v=6,I=3):(v=7,I=4))}function LH($,r,e){var _,a,o=-1,t=r[1],A=0,v=7,I=4;for(0===t&&(v=138,I=3),_=0;_<=e;_++)if(a=t,t=r[2*(_+1)+1],!(++A<v&&a===t)){if(A<I)do{Fc($,a,$.bl_tree)}while(0!=--A);else 0!==a?(a!==o&&(Fc($,a,$.bl_tree),A--),Fc($,zH,$.bl_tree),rb($,A-3,2)):A<=10?(Fc($,AH,$.bl_tree),rb($,A-3,3)):(Fc($,BH,$.bl_tree),rb($,A-11,7));A=0,o=a,0===t?(v=138,I=3):a===t?(v=6,I=3):(v=7,I=4)}}function Xca($){var r;for(KH($,$.dyn_ltree,$.l_desc.max_code),KH($,$.dyn_dtree,$.d_desc.max_code),ku($,$.bl_desc),r=cu-1;r>=3&&0===$.bl_tree[2*CH[r]+1];r--);return $.opt_len+=3*(r+1)+5+5+4,r}function Yca($,r,e,_){var a;for(rb($,r-257,5),rb($,e-1,5),rb($,_-4,4),a=0;a<_;a++)rb($,$.bl_tree[2*CH[a]+1],3);LH($,$.dyn_ltree,r-1),LH($,$.dyn_dtree,e-1)}function Zca($){var r,e=4093624447;for(r=0;r<=31;r++,e>>>=1)if(1&e&&0!==$.dyn_ltree[2*r])return vH;if(0!==$.dyn_ltree[18]||0!==$.dyn_ltree[20]||0!==$.dyn_ltree[26])return wH;for(r=32;r<Pi;r++)if(0!==$.dyn_ltree[2*r])return wH;return vH}Wg(Cm);var $ca=!1;function _ca($){$ca||(Vca(),$ca=!0),$.l_desc=new iu($.dyn_ltree,Qca),$.d_desc=new iu($.dyn_dtree,Rca),$.bl_desc=new iu($.bl_tree,Sca),$.bi_buf=0,$.bi_valid=0,GH($)}function MH($,r,e,_){rb($,(Jca<<1)+(_?1:0),3),Wca($,r,e,!0)}function ada($){rb($,xH<<1,3),Fc($,eu,kd),Tca($)}function bda($,r,e,_){var a,o,t=0;$.level>0?($.strm.data_type===Ica&&($.strm.data_type=Zca($)),ku($,$.l_desc),ku($,$.d_desc),t=Xca($),a=$.opt_len+3+7>>>3,(o=$.static_len+3+7>>>3)<=a&&(a=o)):a=o=e+5,e+4<=a&&-1!==r?MH($,r,e,_):$.strategy===Hca||o===a?(rb($,(xH<<1)+(_?1:0),3),JH($,kd,Ri)):(rb($,(Kca<<1)+(_?1:0),3),Yca($,$.l_desc.max_code+1,$.d_desc.max_code+1,t+1),JH($,$.dyn_ltree,$.dyn_dtree)),GH($),_&&HH($)}function cda($,r,e){return $.pending_buf[$.d_buf+2*$.last_lit]=r>>>8&255,$.pending_buf[$.d_buf+2*$.last_lit+1]=255&r,$.pending_buf[$.l_buf+$.last_lit]=255&e,$.last_lit++,0===r?$.dyn_ltree[2*e]++:($.matches++,r--,$.dyn_ltree[2*(Ti[e]+Pi+1)]++,$.dyn_dtree[2*DH(r)]++),$.last_lit===$.lit_bufsize-1}var dda=_ca;var eda=MH;var fda=bda;var Xd=cda;var gda=ada;var Vi={};function hda(r,$,e,a){for(var i=65535&r|0,o=r>>>16&65535|0,b=0;0!==e;){e-=b=e>2e3?2e3:e;do{o=o+(i=i+$[a++]|0)|0}while(--b);i%=65521,o%=65521}return i|o<<16|0}Vi=hda;var Ca={};function ida(){for(var r,$=[],a=0;a<256;a++){r=a;for(var v=0;v<8;v++)r=1&r?3988292384^r>>>1:r>>>1;$[a]=r}return $}var jda=ida();function kda(r,$,a,v){var c=jda,e=v+a;r^=-1;for(var E=v;E<e;E++)r=r>>>8^c[255&(r^$[E])];return-1^r}Ca=kda;var hf={};hf={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var Wi,sb={},jf=0,lda=1,mda=3,Yd=4,NH=5,Gc=0,OH=1,Xb=-2,nda=-3,lu=-5,oda=-1,pda=1,Dm=2,qda=3,rda=4,sda=0,tda=2,Em=8,uda=9,vda=15,wda=8,xda=29,yda=256,mu=yda+1+xda,zda=30,Ada=19,Bda=2*mu+1,Cda=15,l=3,Zd=258,lc=Zd+l+1,Dda=32,Fm=42,nu=69,Gm=73,Hm=91,Im=103,kf=113,Xi=666,Da=1,Yi=2,lf=3,Yg=4,Eda=3;function $d($,a){return $.msg=hf[a],a}function PH($){return($<<1)-($>4?9:0)}function _d($){for(var a=$.length;--a>=0;)$[a]=0}function ae($){var a=$.state,t=a.pending;t>$.avail_out&&(t=$.avail_out),0!==t&&(da.arraySet($.output,a.pending_buf,a.pending_out,t,$.next_out),$.next_out+=t,a.pending_out+=t,$.total_out+=t,$.avail_out-=t,a.pending-=t,0===a.pending&&(a.pending_out=0))}function Ja($,a){fda($,$.block_start>=0?$.block_start:-1,$.strstart-$.block_start,a),$.block_start=$.strstart,ae($.strm)}function R($,a){$.pending_buf[$.pending++]=a}function Zi($,a){$.pending_buf[$.pending++]=a>>>8&255,$.pending_buf[$.pending++]=255&a}function Fda($,a,t,r){var e=$.avail_in;return e>r&&(e=r),0===e?0:($.avail_in-=e,da.arraySet(a,$.input,$.next_in,e,t),1===$.state.wrap?$.adler=Vi($.adler,a,e,t):2===$.state.wrap&&($.adler=Ca($.adler,a,e,t)),$.next_in+=e,$.total_in+=e,e)}function QH($,a){var t,r,e=$.max_chain_length,_=$.strstart,s=$.prev_length,k=$.nice_match,i=$.strstart>$.w_size-lc?$.strstart-($.w_size-lc):0,n=$.window,v=$.w_mask,l=$.prev,P=$.strstart+Zd,h=n[_+s-1],o=n[_+s];$.prev_length>=$.good_match&&(e>>=2),k>$.lookahead&&(k=$.lookahead);do{if(n[(t=a)+s]===o&&n[t+s-1]===h&&n[t]===n[_]&&n[++t]===n[_+1]){_+=2,t++;do{}while(n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&n[++_]===n[++t]&&_<P);if(r=Zd-(P-_),_=P-Zd,r>s){if($.match_start=a,s=r,r>=k)break;h=n[_+s-1],o=n[_+s]}}}while((a=l[a&v])>i&&0!=--e);return s<=$.lookahead?s:$.lookahead}function mf($){var a,t,r,e,_,s=$.w_size;do{if(e=$.window_size-$.lookahead-$.strstart,$.strstart>=s+(s-lc)){da.arraySet($.window,$.window,s,s,0),$.match_start-=s,$.strstart-=s,$.block_start-=s,a=t=$.hash_size;do{r=$.head[--a],$.head[a]=r>=s?r-s:0}while(--t);a=t=s;do{r=$.prev[--a],$.prev[a]=r>=s?r-s:0}while(--t);e+=s}if(0===$.strm.avail_in)break;if(t=Fda($.strm,$.window,$.strstart+$.lookahead,e),$.lookahead+=t,$.lookahead+$.insert>=l)for(_=$.strstart-$.insert,$.ins_h=$.window[_],$.ins_h=($.ins_h<<$.hash_shift^$.window[_+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[_+l-1])&$.hash_mask,$.prev[_&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=_,_++,$.insert--,!($.lookahead+$.insert<l)););}while($.lookahead<lc&&0!==$.strm.avail_in)}function Gda($,a){var t=65535;for(t>$.pending_buf_size-5&&(t=$.pending_buf_size-5);;){if($.lookahead<=1){if(mf($),0===$.lookahead&&a===jf)return Da;if(0===$.lookahead)break}$.strstart+=$.lookahead,$.lookahead=0;var r=$.block_start+t;if((0===$.strstart||$.strstart>=r)&&($.lookahead=$.strstart-r,$.strstart=r,Ja($,!1),0===$.strm.avail_out))return Da;if($.strstart-$.block_start>=$.w_size-lc&&(Ja($,!1),0===$.strm.avail_out))return Da}return $.insert=0,a===Yd?(Ja($,!0),0===$.strm.avail_out?lf:Yg):($.strstart>$.block_start&&(Ja($,!1),$.strm.avail_out),Da)}function ou($,a){for(var t,r;;){if($.lookahead<lc){if(mf($),$.lookahead<lc&&a===jf)return Da;if(0===$.lookahead)break}if(t=0,$.lookahead>=l&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+l-1])&$.hash_mask,t=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),0!==t&&$.strstart-t<=$.w_size-lc&&($.match_length=QH($,t)),$.match_length>=l){if(r=Xd($,$.strstart-$.match_start,$.match_length-l),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=l){$.match_length--;do{$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+l-1])&$.hash_mask,t=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart}while(0!=--$.match_length);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;}else r=Xd($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(r&&(Ja($,!1),0===$.strm.avail_out))return Da}return $.insert=$.strstart<l-1?$.strstart:l-1,a===Yd?(Ja($,!0),0===$.strm.avail_out?lf:Yg):$.last_lit&&(Ja($,!1),0===$.strm.avail_out)?Da:Yi}function Zg($,a){for(var t,r,e;;){if($.lookahead<lc){if(mf($),$.lookahead<lc&&a===jf)return Da;if(0===$.lookahead)break}if(t=0,$.lookahead>=l&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+l-1])&$.hash_mask,t=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=l-1,0!==t&&$.prev_length<$.max_lazy_match&&$.strstart-t<=$.w_size-lc&&($.match_length=QH($,t),$.match_length<=5&&($.strategy===pda||$.match_length===l&&$.strstart-$.match_start>4096)&&($.match_length=l-1)),$.prev_length>=l&&$.match_length<=$.prev_length){e=$.strstart+$.lookahead-l,r=Xd($,$.strstart-1-$.prev_match,$.prev_length-l),$.lookahead-=$.prev_length-1,$.prev_length-=2;do{++$.strstart<=e&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+l-1])&$.hash_mask,t=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart)}while(0!=--$.prev_length);if($.match_available=0,$.match_length=l-1,$.strstart++,r&&(Ja($,!1),0===$.strm.avail_out))return Da}else if($.match_available){if((r=Xd($,0,$.window[$.strstart-1]))&&Ja($,!1),$.strstart++,$.lookahead--,0===$.strm.avail_out)return Da}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(r=Xd($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<l-1?$.strstart:l-1,a===Yd?(Ja($,!0),0===$.strm.avail_out?lf:Yg):$.last_lit&&(Ja($,!1),0===$.strm.avail_out)?Da:Yi}function Hda($,a){for(var t,r,e,_,s=$.window;;){if($.lookahead<=Zd){if(mf($),$.lookahead<=Zd&&a===jf)return Da;if(0===$.lookahead)break}if($.match_length=0,$.lookahead>=l&&$.strstart>0&&(r=s[e=$.strstart-1])===s[++e]&&r===s[++e]&&r===s[++e]){_=$.strstart+Zd;do{}while(r===s[++e]&&r===s[++e]&&r===s[++e]&&r===s[++e]&&r===s[++e]&&r===s[++e]&&r===s[++e]&&r===s[++e]&&e<_);$.match_length=Zd-(_-e),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=l?(t=Xd($,1,$.match_length-l),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(t=Xd($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),t&&(Ja($,!1),0===$.strm.avail_out))return Da}return $.insert=0,a===Yd?(Ja($,!0),0===$.strm.avail_out?lf:Yg):$.last_lit&&(Ja($,!1),0===$.strm.avail_out)?Da:Yi}function Ida($,a){for(var t;;){if(0===$.lookahead&&(mf($),0===$.lookahead)){if(a===jf)return Da;break}if($.match_length=0,t=Xd($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,t&&(Ja($,!1),0===$.strm.avail_out))return Da}return $.insert=0,a===Yd?(Ja($,!0),0===$.strm.avail_out?lf:Yg):$.last_lit&&(Ja($,!1),0===$.strm.avail_out)?Da:Yi}function Hc($,a,t,r,e){this.good_length=$,this.max_lazy=a,this.nice_length=t,this.max_chain=r,this.func=e}function Jda($){$.window_size=2*$.w_size,_d($.head),$.max_lazy_match=Wi[$.level].max_lazy,$.good_match=Wi[$.level].good_length,$.nice_match=Wi[$.level].nice_length,$.max_chain_length=Wi[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=l-1,$.match_available=0,$.ins_h=0}function Kda(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Em,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new $jy1T$export$Buf16(2*Bda),this.dyn_dtree=new $jy1T$export$Buf16(2*(2*zda+1)),this.bl_tree=new $jy1T$export$Buf16(2*(2*Ada+1)),_d(this.dyn_ltree),_d(this.dyn_dtree),_d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new $jy1T$export$Buf16(Cda+1),this.heap=new $jy1T$export$Buf16(2*mu+1),_d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new $jy1T$export$Buf16(2*mu+1),_d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function RH($){var a;return $&&$.state?($.total_in=$.total_out=0,$.data_type=tda,(a=$.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?Fm:kf,$.adler=2===a.wrap?0:1,a.last_flush=jf,dda(a),Gc):$d($,Xb)}function SH($){var a=RH($);return a===Gc&&Jda($.state),a}function Lda($,a){return $&&$.state?2!==$.state.wrap?Xb:($.state.gzhead=a,Gc):Xb}function TH($,a,t,r,e,_){if(!$)return Xb;var s=1;if(a===oda&&(a=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),e<1||e>uda||t!==Em||r<8||r>15||a<0||a>9||_<0||_>rda)return $d($,Xb);8===r&&(r=9);var k=new Kda;return $.state=k,k.strm=$,k.wrap=s,k.gzhead=null,k.w_bits=r,k.w_size=1<<k.w_bits,k.w_mask=k.w_size-1,k.hash_bits=e+7,k.hash_size=1<<k.hash_bits,k.hash_mask=k.hash_size-1,k.hash_shift=~~((k.hash_bits+l-1)/l),k.window=new $jy1T$export$Buf8(2*k.w_size),k.head=new $jy1T$export$Buf16(k.hash_size),k.prev=new $jy1T$export$Buf16(k.w_size),k.lit_bufsize=1<<e+6,k.pending_buf_size=4*k.lit_bufsize,k.pending_buf=new $jy1T$export$Buf8(k.pending_buf_size),k.d_buf=1*k.lit_bufsize,k.l_buf=3*k.lit_bufsize,k.level=a,k.strategy=_,k.method=t,SH($)}function Mda($,a){return TH($,a,Em,vda,wda,sda)}function Nda($,a){var t,r,e,_;if(!$||!$.state||a>NH||a<0)return $?$d($,Xb):Xb;if(r=$.state,!$.output||!$.input&&0!==$.avail_in||r.status===Xi&&a!==Yd)return $d($,0===$.avail_out?lu:Xb);if(r.strm=$,t=r.last_flush,r.last_flush=a,r.status===Fm)if(2===r.wrap)$.adler=0,R(r,31),R(r,139),R(r,8),r.gzhead?(R(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),R(r,255&r.gzhead.time),R(r,r.gzhead.time>>8&255),R(r,r.gzhead.time>>16&255),R(r,r.gzhead.time>>24&255),R(r,9===r.level?2:r.strategy>=Dm||r.level<2?4:0),R(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(R(r,255&r.gzhead.extra.length),R(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&($.adler=Ca($.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=nu):(R(r,0),R(r,0),R(r,0),R(r,0),R(r,0),R(r,9===r.level?2:r.strategy>=Dm||r.level<2?4:0),R(r,Eda),r.status=kf);else{var s=Em+(r.w_bits-8<<4)<<8;s|=(r.strategy>=Dm||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=Dda),s+=31-s%31,r.status=kf,Zi(r,s),0!==r.strstart&&(Zi(r,$.adler>>>16),Zi(r,65535&$.adler)),$.adler=1}if(r.status===nu)if(r.gzhead.extra){for(e=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),ae($),e=r.pending,r.pending!==r.pending_buf_size));)R(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=Gm)}else r.status=Gm;if(r.status===Gm)if(r.gzhead.name){e=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),ae($),e=r.pending,r.pending===r.pending_buf_size)){_=1;break}_=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,R(r,_)}while(0!==_);r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),0===_&&(r.gzindex=0,r.status=Hm)}else r.status=Hm;if(r.status===Hm)if(r.gzhead.comment){e=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),ae($),e=r.pending,r.pending===r.pending_buf_size)){_=1;break}_=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,R(r,_)}while(0!==_);r.gzhead.hcrc&&r.pending>e&&($.adler=Ca($.adler,r.pending_buf,r.pending-e,e)),0===_&&(r.status=Im)}else r.status=Im;if(r.status===Im&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ae($),r.pending+2<=r.pending_buf_size&&(R(r,255&$.adler),R(r,$.adler>>8&255),$.adler=0,r.status=kf)):r.status=kf),0!==r.pending){if(ae($),0===$.avail_out)return r.last_flush=-1,Gc}else if(0===$.avail_in&&PH(a)<=PH(t)&&a!==Yd)return $d($,lu);if(r.status===Xi&&0!==$.avail_in)return $d($,lu);if(0!==$.avail_in||0!==r.lookahead||a!==jf&&r.status!==Xi){var k=r.strategy===Dm?Ida(r,a):r.strategy===qda?Hda(r,a):Wi[r.level].func(r,a);if(k!==lf&&k!==Yg||(r.status=Xi),k===Da||k===lf)return 0===$.avail_out&&(r.last_flush=-1),Gc;if(k===Yi&&(a===lda?gda(r):a!==NH&&(eda(r,0,0,!1),a===mda&&(_d(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),ae($),0===$.avail_out))return r.last_flush=-1,Gc}return a!==Yd?Gc:r.wrap<=0?OH:(2===r.wrap?(R(r,255&$.adler),R(r,$.adler>>8&255),R(r,$.adler>>16&255),R(r,$.adler>>24&255),R(r,255&$.total_in),R(r,$.total_in>>8&255),R(r,$.total_in>>16&255),R(r,$.total_in>>24&255)):(Zi(r,$.adler>>>16),Zi(r,65535&$.adler)),ae($),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Gc:OH)}function Oda($){var a;return $&&$.state?(a=$.state.status)!==Fm&&a!==nu&&a!==Gm&&a!==Hm&&a!==Im&&a!==kf&&a!==Xi?$d($,Xb):($.state=null,a===kf?$d($,nda):Gc):Xb}function Pda($,a){var t,r,e,_,s,k,i,n,v=a.length;if(!$||!$.state)return Xb;if(2===(_=(t=$.state).wrap)||1===_&&t.status!==Fm||t.lookahead)return Xb;for(1===_&&($.adler=Vi($.adler,a,v,0)),t.wrap=0,v>=t.w_size&&(0===_&&(_d(t.head),t.strstart=0,t.block_start=0,t.insert=0),n=new $jy1T$export$Buf8(t.w_size),da.arraySet(n,a,v-t.w_size,t.w_size,0),a=n,v=t.w_size),s=$.avail_in,k=$.next_in,i=$.input,$.avail_in=v,$.next_in=0,$.input=a,mf(t);t.lookahead>=l;){r=t.strstart,e=t.lookahead-(l-1);do{t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+l-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++}while(--e);t.strstart=r,t.lookahead=l-1,mf(t)}return t.strstart+=t.lookahead,t.block_start=t.strstart,t.insert=t.lookahead,t.lookahead=0,t.match_length=t.prev_length=l-1,t.match_available=0,$.next_in=k,$.input=i,$.avail_in=s,t.wrap=_,Gc}Wi=[new Hc(0,0,0,0,Gda),new Hc(4,4,8,4,ou),new Hc(4,5,16,8,ou),new Hc(4,6,32,32,ou),new Hc(4,4,16,16,Zg),new Hc(8,16,32,32,Zg),new Hc(8,16,128,128,Zg),new Hc(8,32,128,256,Zg),new Hc(32,128,258,1024,Zg),new Hc(32,258,258,4096,Zg)];var Qda=Mda;sb.deflateInit=Qda;var Rda=TH;sb.deflateInit2=Rda;var Sda=SH;sb.deflateReset=Sda;var Tda=RH;sb.deflateResetKeep=Tda;var Uda=Lda;sb.deflateSetHeader=Uda;var Vda=Nda;sb.deflate=Vda;var Wda=Oda;sb.deflateEnd=Wda;var Xda=Pda;sb.deflateSetDictionary=Xda;var Yda="pako deflate (from Nodeca project)";sb.deflateInfo=Yda;var Zda=!0,$da=!0;try{String.fromCharCode.apply(null,[0])}catch(__){Zda=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){$da=!1}for(var $i=new $jy1T$export$Buf8(256),be=0;be<256;be++)$i[be]=be>=252?6:be>=248?5:be>=240?4:be>=224?3:be>=192?2:1;$i[254]=$i[254]=1;var pu=function(r){var $,f,t,l,n,p=r.length,h=0;for(l=0;l<p;l++)55296==(64512&(f=r.charCodeAt(l)))&&l+1<p&&56320==(64512&(t=r.charCodeAt(l+1)))&&(f=65536+(f-55296<<10)+(t-56320),l++),h+=f<128?1:f<2048?2:f<65536?3:4;for($=new $jy1T$export$Buf8(h),n=0,l=0;n<h;l++)55296==(64512&(f=r.charCodeAt(l)))&&l+1<p&&56320==(64512&(t=r.charCodeAt(l+1)))&&(f=65536+(f-55296<<10)+(t-56320),l++),f<128?$[n++]=f:f<2048?($[n++]=192|f>>>6,$[n++]=128|63&f):f<65536?($[n++]=224|f>>>12,$[n++]=128|f>>>6&63,$[n++]=128|63&f):($[n++]=240|f>>>18,$[n++]=128|f>>>12&63,$[n++]=128|f>>>6&63,$[n++]=128|63&f);return $};function UH(r,$){if($<65534&&(r.subarray&&$da||!r.subarray&&Zda))return String.fromCharCode.apply(null,Oi(r,$));for(var f="",t=0;t<$;t++)f+=String.fromCharCode(r[t]);return f}var _da=function(r){return UH(r,r.length)};var aea=function(r){for(var $=new $jy1T$export$Buf8(r.length),f=0,t=$.length;f<t;f++)$[f]=r.charCodeAt(f);return $};var bea=function(r,$){var f,t,l,n,p=$||r.length,h=new Array(2*p);for(t=0,f=0;f<p;)if((l=r[f++])<128)h[t++]=l;else if((n=$i[l])>4)h[t++]=65533,f+=n-1;else{for(l&=2===n?31:3===n?15:7;n>1&&f<p;)l=l<<6|63&r[f++],n--;n>1?h[t++]=65533:l<65536?h[t++]=l:(l-=65536,h[t++]=55296|l>>10&1023,h[t++]=56320|1023&l)}return UH(h,t)};var cea=function(r,$){var f;for(($=$||r.length)>r.length&&($=r.length),f=$-1;f>=0&&128==(192&r[f]);)f--;return f<0?$:0===f?$:f+$i[r[f]]>$?f:$};var VH={};function dea(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}VH=dea;var _i={},WH=Object.prototype.toString,eea=0,qu=4,$g=0,XH=1,YH=2,fea=-1,gea=0,hea=8;function nf($){if(!(this instanceof nf))return new nf($);this.options=Ni({level:fea,method:hea,chunkSize:16384,windowBits:15,memLevel:8,strategy:gea,to:""},$||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VH,this.strm.avail_out=0;var r=sb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==$g)throw new Error(hf[r]);if(t.header&&sb.deflateSetHeader(this.strm,t.header),t.dictionary){var e;if(e="string"==typeof t.dictionary?pu(t.dictionary):"[object ArrayBuffer]"===WH.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=sb.deflateSetDictionary(this.strm,e))!==$g)throw new Error(hf[r]);this._dict_set=!0}}function ru($,t){var r=new nf(t);if(r.push($,!0),r.err)throw r.msg||hf[r.err];return r.result}function iea($,t){return(t=t||{}).raw=!0,ru($,t)}function jea($,t){return(t=t||{}).gzip=!0,ru($,t)}nf.prototype.push=function($,t){var r,e,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;e=t===~~t?t:!0===t?qu:eea,"string"==typeof $?a.input=pu($):"[object ArrayBuffer]"===WH.call($)?a.input=new Uint8Array($):a.input=$,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new $jy1T$export$Buf8(i),a.next_out=0,a.avail_out=i),(r=sb.deflate(a,e))!==XH&&r!==$g)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||e!==qu&&e!==YH)||("string"===this.options.to?this.onData(_da(Oi(a.output,a.next_out))):this.onData(Oi(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&r!==XH);return e===qu?(r=sb.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===$g):e!==YH||(this.onEnd($g),a.avail_out=0,!0)},nf.prototype.onData=function($){this.chunks.push($)},nf.prototype.onEnd=function($){$===$g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=da.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg};var kea=nf;_i.Deflate=kea;var lea=ru;_i.deflate=lea;var mea=iea;_i.deflateRaw=mea;var nea=jea;_i.gzip=nea;var oea={},Jm=30,pea=12;oea=function(i,e){var a,o,t,d,n,v,l,$,r,s,f,b,c,u,w,h,m,k,y,H,W,_,x,g,A;a=i.state,o=i.next_in,g=i.input,t=o+(i.avail_in-5),d=i.next_out,A=i.output,n=d-(e-i.avail_out),v=d+(i.avail_out-257),l=a.dmax,$=a.wsize,r=a.whave,s=a.wnext,f=a.window,b=a.hold,c=a.bits,u=a.lencode,w=a.distcode,h=(1<<a.lenbits)-1,m=(1<<a.distbits)-1;i:do{c<15&&(b+=g[o++]<<c,c+=8,b+=g[o++]<<c,c+=8),k=u[b&h];e:for(;;){if(b>>>=y=k>>>24,c-=y,0===(y=k>>>16&255))A[d++]=65535&k;else{if(!(16&y)){if(0==(64&y)){k=u[(65535&k)+(b&(1<<y)-1)];continue e}if(32&y){a.mode=pea;break i}i.msg="invalid literal/length code",a.mode=Jm;break i}H=65535&k,(y&=15)&&(c<y&&(b+=g[o++]<<c,c+=8),H+=b&(1<<y)-1,b>>>=y,c-=y),c<15&&(b+=g[o++]<<c,c+=8,b+=g[o++]<<c,c+=8),k=w[b&m];a:for(;;){if(b>>>=y=k>>>24,c-=y,!(16&(y=k>>>16&255))){if(0==(64&y)){k=w[(65535&k)+(b&(1<<y)-1)];continue a}i.msg="invalid distance code",a.mode=Jm;break i}if(W=65535&k,c<(y&=15)&&(b+=g[o++]<<c,(c+=8)<y&&(b+=g[o++]<<c,c+=8)),(W+=b&(1<<y)-1)>l){i.msg="invalid distance too far back",a.mode=Jm;break i}if(b>>>=y,c-=y,W>(y=d-n)){if((y=W-y)>r&&a.sane){i.msg="invalid distance too far back",a.mode=Jm;break i}if(_=0,x=f,0===s){if(_+=$-y,y<H){H-=y;do{A[d++]=f[_++]}while(--y);_=d-W,x=A}}else if(s<y){if(_+=$+s-y,(y-=s)<H){H-=y;do{A[d++]=f[_++]}while(--y);if(_=0,s<H){H-=y=s;do{A[d++]=f[_++]}while(--y);_=d-W,x=A}}}else if(_+=s-y,y<H){H-=y;do{A[d++]=f[_++]}while(--y);_=d-W,x=A}for(;H>2;)A[d++]=x[_++],A[d++]=x[_++],A[d++]=x[_++],H-=3;H&&(A[d++]=x[_++],H>1&&(A[d++]=x[_++]))}else{_=d-W;do{A[d++]=A[_++],A[d++]=A[_++],A[d++]=A[_++],H-=3}while(H>2);H&&(A[d++]=A[_++],H>1&&(A[d++]=A[_++]))}break}}break}}while(o<t&&d<v);o-=H=c>>3,b&=(1<<(c-=H<<3))-1,i.next_in=o,i.next_out=d,i.avail_in=o<t?t-o+5:5-(o-t),i.avail_out=d<v?v-d+257:257-(d-v),a.hold=b,a.bits=c};var aj={},_g=15,ZH=852,$H=592,_H=0,su=1,aI=2,qea=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rea=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],sea=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],tea=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];aj=function($,r,t,N,A,a,v,S){var e,f,i,o,u,E,l,n,s,I=S.bits,T=0,B=0,D=0,O=0,b=0,L=0,M=0,X=0,x=0,G=0,H=null,U=0,_=new $jy1T$export$Buf16(_g+1),d=new $jy1T$export$Buf16(_g+1),c=null,p=0;for(T=0;T<=_g;T++)_[T]=0;for(B=0;B<N;B++)_[r[t+B]]++;for(b=I,O=_g;O>=1&&0===_[O];O--);if(b>O&&(b=O),0===O)return A[a++]=20971520,A[a++]=20971520,S.bits=1,0;for(D=1;D<O&&0===_[D];D++);for(b<D&&(b=D),X=1,T=1;T<=_g;T++)if(X<<=1,(X-=_[T])<0)return-1;if(X>0&&($===_H||1!==O))return-1;for(d[1]=0,T=1;T<_g;T++)d[T+1]=d[T]+_[T];for(B=0;B<N;B++)0!==r[t+B]&&(v[d[r[t+B]]++]=B);if($===_H?(H=c=v,E=19):$===su?(H=qea,U-=257,c=rea,p-=257,E=256):(H=sea,c=tea,E=-1),G=0,B=0,T=D,u=a,L=b,M=0,i=-1,o=(x=1<<b)-1,$===su&&x>ZH||$===aI&&x>$H)return 1;for(;;){l=T-M,v[B]<E?(n=0,s=v[B]):v[B]>E?(n=c[p+v[B]],s=H[U+v[B]]):(n=96,s=0),e=1<<T-M,D=f=1<<L;do{A[u+(G>>M)+(f-=e)]=l<<24|n<<16|s|0}while(0!==f);for(e=1<<T-1;G&e;)e>>=1;if(0!==e?(G&=e-1,G+=e):G=0,B++,0==--_[T]){if(T===O)break;T=r[t+v[B]]}if(T>b&&(G&o)!==i){for(0===M&&(M=b),u+=D,X=1<<(L=T-M);L+M<O&&!((X-=_[L+M])<=0);)L++,X<<=1;if(x+=1<<L,$===su&&x>ZH||$===aI&&x>$H)return 1;A[i=G&o]=b<<24|L<<16|u-a|0}}return 0!==G&&(A[u+G]=T-M<<24|64<<16|0),S.bits=b,0};var uea=0,bI=1,cI=2,dI=4,vea=5,Km=6,of=0,wea=1,xea=2,Yb=-2,eI=-3,tu=-4,yea=-5,fI=8,gI=1,hI=2,iI=3,jI=4,kI=5,lI=6,mI=7,nI=8,oI=9,pI=10,Lm=11,ld=12,uu=13,qI=14,vu=15,rI=16,sI=17,tI=18,uI=19,Mm=20,Nm=21,vI=22,wI=23,xI=24,yI=25,zI=26,wu=27,AI=28,BI=29,ea=30,xu=31,zea=32,Aea=852,Bea=592;function CI($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function Cea(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new $jy1T$export$Buf16(320),this.work=new $jy1T$export$Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Dea($){var e;return $&&$.state?(e=$.state,$.total_in=$.total_out=e.total=0,$.msg="",e.wrap&&($.adler=1&e.wrap),e.mode=gI,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new $jy1T$export$Buf32(Aea),e.distcode=e.distdyn=new $jy1T$export$Buf32(Bea),e.sane=1,e.back=-1,of):Yb}function Eea($){var e;return $&&$.state?((e=$.state).wsize=0,e.whave=0,e.wnext=0,Dea($)):Yb}function Fea($,e){var a,C;return $&&$.state?(C=$.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Yb:(null!==C.window&&C.wbits!==e&&(C.window=null),C.wrap=a,C.wbits=e,Eea($))):Yb}function Gea($,e){var a,C;return $?(C=new Cea,$.state=C,C.window=null,(a=Fea($,e))!==of&&($.state=null),a):Yb}var DI,EI,Hea=!0;function Iea($){if(Hea){var e;for(DI=new $jy1T$export$Buf32(512),EI=new $jy1T$export$Buf32(32),e=0;e<144;)$.lens[e++]=8;for(;e<256;)$.lens[e++]=9;for(;e<280;)$.lens[e++]=7;for(;e<288;)$.lens[e++]=8;for(aj(bI,$.lens,0,288,DI,0,$.work,{bits:9}),e=0;e<32;)$.lens[e++]=5;aj(cI,$.lens,0,32,EI,0,$.work,{bits:5}),Hea=!1}$.lencode=DI,$.lenbits=9,$.distcode=EI,$.distbits=5}function FI($,e,a,C){var l,r=$.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new $jy1T$export$Buf8(r.wsize)),C>=r.wsize?(da.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((l=r.wsize-r.wnext)>C&&(l=C),da.arraySet(r.window,e,a-C,l,r.wnext),(C-=l)?(da.arraySet(r.window,e,a-C,C,0),r.wnext=C,r.whave=r.wsize):(r.wnext+=l,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=l))),0}function Jea($,e){var a,C,l,r,c,t,i,n,v,s,o,f,d,h,E,b,_,k,m,w,R,u,x,T,D=0,g=new $jy1T$export$Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&0!==$.avail_in)return Yb;(a=$.state).mode===ld&&(a.mode=uu),c=$.next_out,l=$.output,i=$.avail_out,r=$.next_in,C=$.input,t=$.avail_in,n=a.hold,v=a.bits,s=t,o=i,u=of;$:for(;;)switch(a.mode){case gI:if(0===a.wrap){a.mode=uu;break}for(;v<16;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(2&a.wrap&&35615===n){a.check=0,g[0]=255&n,g[1]=n>>>8&255,a.check=Ca(a.check,g,2,0),n=0,v=0,a.mode=hI;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&n)<<8)+(n>>8))%31){$.msg="incorrect header check",a.mode=ea;break}if((15&n)!==fI){$.msg="unknown compression method",a.mode=ea;break}if(v-=4,R=8+(15&(n>>>=4)),0===a.wbits)a.wbits=R;else if(R>a.wbits){$.msg="invalid window size",a.mode=ea;break}a.dmax=1<<R,$.adler=a.check=1,a.mode=512&n?pI:ld,n=0,v=0;break;case hI:for(;v<16;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(a.flags=n,(255&a.flags)!==fI){$.msg="unknown compression method",a.mode=ea;break}if(57344&a.flags){$.msg="unknown header flags set",a.mode=ea;break}a.head&&(a.head.text=n>>8&1),512&a.flags&&(g[0]=255&n,g[1]=n>>>8&255,a.check=Ca(a.check,g,2,0)),n=0,v=0,a.mode=iI;case iI:for(;v<32;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.head&&(a.head.time=n),512&a.flags&&(g[0]=255&n,g[1]=n>>>8&255,g[2]=n>>>16&255,g[3]=n>>>24&255,a.check=Ca(a.check,g,4,0)),n=0,v=0,a.mode=jI;case jI:for(;v<16;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.head&&(a.head.xflags=255&n,a.head.os=n>>8),512&a.flags&&(g[0]=255&n,g[1]=n>>>8&255,a.check=Ca(a.check,g,2,0)),n=0,v=0,a.mode=kI;case kI:if(1024&a.flags){for(;v<16;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.length=n,a.head&&(a.head.extra_len=n),512&a.flags&&(g[0]=255&n,g[1]=n>>>8&255,a.check=Ca(a.check,g,2,0)),n=0,v=0}else a.head&&(a.head.extra=null);a.mode=lI;case lI:if(1024&a.flags&&((f=a.length)>t&&(f=t),f&&(a.head&&(R=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),da.arraySet(a.head.extra,C,r,f,R)),512&a.flags&&(a.check=Ca(a.check,C,f,r)),t-=f,r+=f,a.length-=f),a.length))break $;a.length=0,a.mode=mI;case mI:if(2048&a.flags){if(0===t)break $;f=0;do{R=C[r+f++],a.head&&R&&a.length<65536&&(a.head.name+=String.fromCharCode(R))}while(R&&f<t);if(512&a.flags&&(a.check=Ca(a.check,C,f,r)),t-=f,r+=f,R)break $}else a.head&&(a.head.name=null);a.length=0,a.mode=nI;case nI:if(4096&a.flags){if(0===t)break $;f=0;do{R=C[r+f++],a.head&&R&&a.length<65536&&(a.head.comment+=String.fromCharCode(R))}while(R&&f<t);if(512&a.flags&&(a.check=Ca(a.check,C,f,r)),t-=f,r+=f,R)break $}else a.head&&(a.head.comment=null);a.mode=oI;case oI:if(512&a.flags){for(;v<16;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(n!==(65535&a.check)){$.msg="header crc mismatch",a.mode=ea;break}n=0,v=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),$.adler=a.check=0,a.mode=ld;break;case pI:for(;v<32;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}$.adler=a.check=CI(n),n=0,v=0,a.mode=Lm;case Lm:if(0===a.havedict)return $.next_out=c,$.avail_out=i,$.next_in=r,$.avail_in=t,a.hold=n,a.bits=v,xea;$.adler=a.check=1,a.mode=ld;case ld:if(e===vea||e===Km)break $;case uu:if(a.last){n>>>=7&v,v-=7&v,a.mode=wu;break}for(;v<3;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}switch(a.last=1&n,v-=1,3&(n>>>=1)){case 0:a.mode=qI;break;case 1:if(Iea(a),a.mode=Mm,e===Km){n>>>=2,v-=2;break $}break;case 2:a.mode=sI;break;case 3:$.msg="invalid block type",a.mode=ea;}n>>>=2,v-=2;break;case qI:for(n>>>=7&v,v-=7&v;v<32;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if((65535&n)!=(n>>>16^65535)){$.msg="invalid stored block lengths",a.mode=ea;break}if(a.length=65535&n,n=0,v=0,a.mode=vu,e===Km)break $;case vu:a.mode=rI;case rI:if(f=a.length){if(f>t&&(f=t),f>i&&(f=i),0===f)break $;da.arraySet(l,C,r,f,c),t-=f,r+=f,i-=f,c+=f,a.length-=f;break}a.mode=ld;break;case sI:for(;v<14;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(a.nlen=257+(31&n),n>>>=5,v-=5,a.ndist=1+(31&n),n>>>=5,v-=5,a.ncode=4+(15&n),n>>>=4,v-=4,a.nlen>286||a.ndist>30){$.msg="too many length or distance symbols",a.mode=ea;break}a.have=0,a.mode=tI;case tI:for(;a.have<a.ncode;){for(;v<3;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.lens[S[a.have++]]=7&n,n>>>=3,v-=3}for(;a.have<19;)a.lens[S[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,x={bits:a.lenbits},u=aj(uea,a.lens,0,19,a.lencode,0,a.work,x),a.lenbits=x.bits,u){$.msg="invalid code lengths set",a.mode=ea;break}a.have=0,a.mode=uI;case uI:for(;a.have<a.nlen+a.ndist;){for(;b=(D=a.lencode[n&(1<<a.lenbits)-1])>>>16&255,_=65535&D,!((E=D>>>24)<=v);){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(_<16)n>>>=E,v-=E,a.lens[a.have++]=_;else{if(16===_){for(T=E+2;v<T;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(n>>>=E,v-=E,0===a.have){$.msg="invalid bit length repeat",a.mode=ea;break}R=a.lens[a.have-1],f=3+(3&n),n>>>=2,v-=2}else if(17===_){for(T=E+3;v<T;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}v-=E,R=0,f=3+(7&(n>>>=E)),n>>>=3,v-=3}else{for(T=E+7;v<T;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}v-=E,R=0,f=11+(127&(n>>>=E)),n>>>=7,v-=7}if(a.have+f>a.nlen+a.ndist){$.msg="invalid bit length repeat",a.mode=ea;break}for(;f--;)a.lens[a.have++]=R}}if(a.mode===ea)break;if(0===a.lens[256]){$.msg="invalid code -- missing end-of-block",a.mode=ea;break}if(a.lenbits=9,x={bits:a.lenbits},u=aj(bI,a.lens,0,a.nlen,a.lencode,0,a.work,x),a.lenbits=x.bits,u){$.msg="invalid literal/lengths set",a.mode=ea;break}if(a.distbits=6,a.distcode=a.distdyn,x={bits:a.distbits},u=aj(cI,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,x),a.distbits=x.bits,u){$.msg="invalid distances set",a.mode=ea;break}if(a.mode=Mm,e===Km)break $;case Mm:a.mode=Nm;case Nm:if(t>=6&&i>=258){$.next_out=c,$.avail_out=i,$.next_in=r,$.avail_in=t,a.hold=n,a.bits=v,oea($,o),c=$.next_out,l=$.output,i=$.avail_out,r=$.next_in,C=$.input,t=$.avail_in,n=a.hold,v=a.bits,a.mode===ld&&(a.back=-1);break}for(a.back=0;b=(D=a.lencode[n&(1<<a.lenbits)-1])>>>16&255,_=65535&D,!((E=D>>>24)<=v);){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(b&&0==(240&b)){for(k=E,m=b,w=_;b=(D=a.lencode[w+((n&(1<<k+m)-1)>>k)])>>>16&255,_=65535&D,!(k+(E=D>>>24)<=v);){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}n>>>=k,v-=k,a.back+=k}if(n>>>=E,v-=E,a.back+=E,a.length=_,0===b){a.mode=zI;break}if(32&b){a.back=-1,a.mode=ld;break}if(64&b){$.msg="invalid literal/length code",a.mode=ea;break}a.extra=15&b,a.mode=vI;case vI:if(a.extra){for(T=a.extra;v<T;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.length+=n&(1<<a.extra)-1,n>>>=a.extra,v-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=wI;case wI:for(;b=(D=a.distcode[n&(1<<a.distbits)-1])>>>16&255,_=65535&D,!((E=D>>>24)<=v);){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(0==(240&b)){for(k=E,m=b,w=_;b=(D=a.distcode[w+((n&(1<<k+m)-1)>>k)])>>>16&255,_=65535&D,!(k+(E=D>>>24)<=v);){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}n>>>=k,v-=k,a.back+=k}if(n>>>=E,v-=E,a.back+=E,64&b){$.msg="invalid distance code",a.mode=ea;break}a.offset=_,a.extra=15&b,a.mode=xI;case xI:if(a.extra){for(T=a.extra;v<T;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}a.offset+=n&(1<<a.extra)-1,n>>>=a.extra,v-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){$.msg="invalid distance too far back",a.mode=ea;break}a.mode=yI;case yI:if(0===i)break $;if(f=o-i,a.offset>f){if((f=a.offset-f)>a.whave&&a.sane){$.msg="invalid distance too far back",a.mode=ea;break}f>a.wnext?(f-=a.wnext,d=a.wsize-f):d=a.wnext-f,f>a.length&&(f=a.length),h=a.window}else h=l,d=c-a.offset,f=a.length;f>i&&(f=i),i-=f,a.length-=f;do{l[c++]=h[d++]}while(--f);0===a.length&&(a.mode=Nm);break;case zI:if(0===i)break $;l[c++]=a.length,i--,a.mode=Nm;break;case wu:if(a.wrap){for(;v<32;){if(0===t)break $;t--,n|=C[r++]<<v,v+=8}if(o-=i,$.total_out+=o,a.total+=o,o&&($.adler=a.check=a.flags?Ca(a.check,l,o,c-o):Vi(a.check,l,o,c-o)),o=i,(a.flags?n:CI(n))!==a.check){$.msg="incorrect data check",a.mode=ea;break}n=0,v=0}a.mode=AI;case AI:if(a.wrap&&a.flags){for(;v<32;){if(0===t)break $;t--,n+=C[r++]<<v,v+=8}if(n!==(4294967295&a.total)){$.msg="incorrect length check",a.mode=ea;break}n=0,v=0}a.mode=BI;case BI:u=wea;break $;case ea:u=eI;break $;case xu:return tu;case zea:default:return Yb;}return $.next_out=c,$.avail_out=i,$.next_in=r,$.avail_in=t,a.hold=n,a.bits=v,(a.wsize||o!==$.avail_out&&a.mode<ea&&(a.mode<wu||e!==dI))&&FI($,$.output,$.next_out,o-$.avail_out)?(a.mode=xu,tu):(s-=$.avail_in,o-=$.avail_out,$.total_in+=s,$.total_out+=o,a.total+=o,a.wrap&&o&&($.adler=a.check=a.flags?Ca(a.check,l,o,$.next_out-o):Vi(a.check,l,o,$.next_out-o)),$.data_type=a.bits+(a.last?64:0)+(a.mode===ld?128:0)+(a.mode===Mm||a.mode===vu?256:0),(0===s&&0===o||e===dI)&&u===of&&(u=yea),u)}function Kea($){if(!$||!$.state)return Yb;var e=$.state;return e.window&&(e.window=null),$.state=null,of}function Lea($,e){var a;return $&&$.state?0==(2&(a=$.state).wrap)?Yb:(a.head=e,e.done=!1,of):Yb}function Mea($,e){var a,C=e.length;return $&&$.state?0!==(a=$.state).wrap&&a.mode!==Lm?Yb:a.mode===Lm&&Vi(1,e,C,0)!==a.check?eI:FI($,e,C,C)?(a.mode=xu,tu):(a.havedict=1,of):Yb}var Nea=Gea;var Oea=Jea;var Pea=Kea;var Qea=Lea;var GI=Mea;var oa={};oa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};var Rea={};function Sea(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}Rea=Sea;var HI=Object.prototype.toString;function ah(n){if(!(this instanceof ah))return new ah(n);this.options=Ni({chunkSize:16384,windowBits:0,to:""},n||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||n&&n.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new VH,this.strm.avail_out=0;var $=Nea(this.strm,t.windowBits);if($!==oa.Z_OK)throw new Error(hf[$]);if(this.header=new Rea,Qea(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=pu(t.dictionary):"[object ArrayBuffer]"===HI.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&($=GI(this.strm,t.dictionary))!==oa.Z_OK))throw new Error(hf[$])}function Tea(n,t){var $=new ah(t);if($.push(n,!0),$.err)throw $.msg||hf[$.err];return $.result}ah.prototype.push=function(n,t){var $,i,r,a,e,s=this.strm,o=this.options.chunkSize,Z=this.options.dictionary,R=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?oa.Z_FINISH:oa.Z_NO_FLUSH,"string"==typeof n?s.input=aea(n):"[object ArrayBuffer]"===HI.call(n)?s.input=new Uint8Array(n):s.input=n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new $jy1T$export$Buf8(o),s.next_out=0,s.avail_out=o),($=Oea(s,oa.Z_NO_FLUSH))===oa.Z_NEED_DICT&&Z&&($=GI(this.strm,Z)),$===oa.Z_BUF_ERROR&&!0===R&&($=oa.Z_OK,R=!1),$!==oa.Z_STREAM_END&&$!==oa.Z_OK)return this.onEnd($),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&$!==oa.Z_STREAM_END&&(0!==s.avail_in||i!==oa.Z_FINISH&&i!==oa.Z_SYNC_FLUSH)||("string"===this.options.to?(r=cea(s.output,s.next_out),a=s.next_out-r,e=bea(s.output,r),s.next_out=a,s.avail_out=o-a,a&&da.arraySet(s.output,s.output,r,a,0),this.onData(e)):this.onData(Oi(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(R=!0)}while((s.avail_in>0||0===s.avail_out)&&$!==oa.Z_STREAM_END);return $===oa.Z_STREAM_END&&(i=oa.Z_FINISH),i===oa.Z_FINISH?($=Pea(this.strm),this.onEnd($),this.ended=!0,$===oa.Z_OK):i!==oa.Z_SYNC_FLUSH||(this.onEnd(oa.Z_OK),s.avail_out=0,!0)},ah.prototype.onData=function(n){this.chunks.push(n)},ah.prototype.onEnd=function(n){n===oa.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=da.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};var Uea=Tea;var II={};function Om(e){return e<10?String.fromCharCode(48+e):(e-=10)<26?String.fromCharCode(65+e):(e-=26)<26?String.fromCharCode(97+e):0===(e-=26)?"-":1===e?"_":"?"}function yu(e,r,$){var t=(3&e)<<4|r>>4,a=(15&r)<<2|$>>6,n=63&$,o="";return o+=Om(63&e>>2),o+=Om(63&t),o+=Om(63&a),o+=Om(63&n)}II.encode=function(e){for(var r="",$=0;$<e.length;$+=3)$+2===e.length?r+=yu(e.charCodeAt($),e.charCodeAt($+1),0):$+1===e.length?r+=yu(e.charCodeAt($),0,0):r+=yu(e.charCodeAt($),e.charCodeAt($+1),e.charCodeAt($+2));return r};var JI={};function Pm(r){var e=r.charCodeAt(0);return"_"===r?63:"-"===r?62:e>=97?e-61:e>=65?e-55:e>=48?e-48:"?"}function Vea(r){var e=Pm(r[0]),t=Pm(r[1]),$=Pm(r[2]);return[e<<2|t>>4&63,t<<4&240|$>>2&15,$<<6&192|63&Pm(r[3])]}JI.decode=function(r){var e="",t=0;for(t=0;t<r.length;t+=4){var $=Vea(r.substring(t,t+4));e+=String.fromCharCode($[0]),e+=String.fromCharCode($[1]),e+=String.fromCharCode($[2])}return e};var zu={};zu.decode=function(e){return Uea(JI.decode(e),{to:"string"})},zu.encode=function(e){return II.encode(_i.deflate(e,{level:9,to:"string"}))};tH=zu;var KI="UPDATE_PUML";var LI="UPDATE_ENCODED";var MI="UPDATE_LOADING";var Wea=function(e){return{type:KI,puml:e}};var Xea=function(e){return{type:LI,encoded:tH.encode(e)}};var Yea=function(){return{type:MI,loaded:!0}};var Zea="\n;type\n;28\nabstract\nactor\nagent\narchimate\nartifact\nboundary\ncard\nclass\ncloud\ncomponent\ncontrol\ndatabase\nentity\nenum\nfile\nfolder\nframe\ninterface\nnode\nobject\npackage\nparticipant\nqueue\nrectangle\nstack\nstate\nstorage\nusecase\n\n;keyword\n;69\n@enddot\n@endsalt\n@enduml\n@startdot\n@startsalt\n@startuml\nactivate\nagain\nalso\nalt\nas\nautonumber\nbottom\nbox\nbreak\ncaption\ncenter\ncreate\ncritical\ndeactivate\ndestroy\ndown\nelse\nelseif\nend\nendif\nendwhile\nfootbox\nfooter\nfork\ngroup\nheader\nhide\nhnote\nif\nis\nkill\nleft\nlegend\nlink\nloop\nnamespace\nnewpage\nnote\nof\non\nopt\norder\nover\npackage\npage\npar\npartition\nref\nrepeat\nreturn\nright\nrnote\nrotate\nshow\nskin\nskinparam\nstart\nstop\ntitle\ntop\ntop to bottom direction\nup\nwhile\n\n;preprocessor\n;12\n!define\n!definelong\n!else\n!enddefinelong\n!endif\n!exit\n!if\n!ifdef\n!ifndef\n!include\n!pragma\n!undef\n\n;skinparameter\n;432\nActivityBackgroundColor\nActivityBarColor\nActivityBorderColor\nActivityBorderThickness\nActivityDiamondBackgroundColor\nActivityDiamondBorderColor\nActivityDiamondFontColor\nActivityDiamondFontName\nActivityDiamondFontSize\nActivityDiamondFontStyle\nActivityEndColor\nActivityFontColor\nActivityFontName\nActivityFontSize\nActivityFontStyle\nActivityStartColor\nActorBackgroundColor\nActorBorderColor\nActorFontColor\nActorFontName\nActorFontSize\nActorFontStyle\nActorStereotypeFontColor\nActorStereotypeFontName\nActorStereotypeFontSize\nActorStereotypeFontStyle\nAgentBackgroundColor\nAgentBorderColor\nAgentFontColor\nAgentFontName\nAgentFontSize\nAgentFontStyle\nAgentStereotypeFontColor\nAgentStereotypeFontName\nAgentStereotypeFontSize\nAgentStereotypeFontStyle\nArrowColor\nArrowFontColor\nArrowFontName\nArrowFontSize\nArrowFontStyle\nArrowLollipopColor\nArrowThickness\nArtifactBackgroundColor\nArtifactBorderColor\nArtifactFontColor\nArtifactFontName\nArtifactFontSize\nArtifactFontStyle\nArtifactStereotypeFontColor\nArtifactStereotypeFontName\nArtifactStereotypeFontSize\nArtifactStereotypeFontStyle\nBackgroundColor\nBoundaryBackgroundColor\nBoundaryBorderColor\nBoundaryFontColor\nBoundaryFontName\nBoundaryFontSize\nBoundaryFontStyle\nBoundaryStereotypeFontColor\nBoundaryStereotypeFontName\nBoundaryStereotypeFontSize\nBoundaryStereotypeFontStyle\nCaptionFontColor\nCaptionFontName\nCaptionFontSize\nCaptionFontStyle\nCircledCharacterFontColor\nCircledCharacterFontName\nCircledCharacterFontSize\nCircledCharacterFontStyle\nCircledCharacterRadius\nClassAttributeFontColor\nClassAttributeFontName\nClassAttributeFontSize\nClassAttributeFontStyle\nClassAttributeIconSize\nClassBackgroundColor\nClassBorderColor\nClassBorderThickness\nClassFontColor\nClassFontName\nClassFontSize\nClassFontStyle\nClassHeaderBackgroundColor\nClassStereotypeFontColor\nClassStereotypeFontName\nClassStereotypeFontSize\nClassStereotypeFontStyle\nCloudBackgroundColor\nCloudBorderColor\nCloudFontColor\nCloudFontName\nCloudFontSize\nCloudFontStyle\nCloudStereotypeFontColor\nCloudStereotypeFontName\nCloudStereotypeFontSize\nCloudStereotypeFontStyle\nCollectionsBackgroundColor\nCollectionsBorderColor\nColorArrowSeparationSpace\nComponentBackgroundColor\nComponentBorderColor\nComponentBorderThickness\nComponentFontColor\nComponentFontName\nComponentFontSize\nComponentFontStyle\nComponentStereotypeFontColor\nComponentStereotypeFontName\nComponentStereotypeFontSize\nComponentStereotypeFontStyle\nComponentStyle\nConditionStyle\nControlBackgroundColor\nControlBorderColor\nControlFontColor\nControlFontName\nControlFontSize\nControlFontStyle\nControlStereotypeFontColor\nControlStereotypeFontName\nControlStereotypeFontSize\nControlStereotypeFontStyle\nDatabaseBackgroundColor\nDatabaseBorderColor\nDatabaseFontColor\nDatabaseFontName\nDatabaseFontSize\nDatabaseFontStyle\nDatabaseStereotypeFontColor\nDatabaseStereotypeFontName\nDatabaseStereotypeFontSize\nDatabaseStereotypeFontStyle\nDefaultFontColor\nDefaultFontName\nDefaultFontSize\nDefaultFontStyle\nDefaultMonospacedFontName\nDefaultTextAlignment\nDiagramBorderColor\nDiagramBorderThickness\nDpi\nEntityBackgroundColor\nEntityBorderColor\nEntityFontColor\nEntityFontName\nEntityFontSize\nEntityFontStyle\nEntityStereotypeFontColor\nEntityStereotypeFontName\nEntityStereotypeFontSize\nEntityStereotypeFontStyle\nFileBackgroundColor\nFileBorderColor\nFileFontColor\nFileFontName\nFileFontSize\nFileFontStyle\nFileStereotypeFontColor\nFileStereotypeFontName\nFileStereotypeFontSize\nFileStereotypeFontStyle\nFolderBackgroundColor\nFolderBorderColor\nFolderFontColor\nFolderFontName\nFolderFontSize\nFolderFontStyle\nFolderStereotypeFontColor\nFolderStereotypeFontName\nFolderStereotypeFontSize\nFolderStereotypeFontStyle\nFooterFontColor\nFooterFontName\nFooterFontSize\nFooterFontStyle\nFrameBackgroundColor\nFrameBorderColor\nFrameFontColor\nFrameFontName\nFrameFontSize\nFrameFontStyle\nFrameStereotypeFontColor\nFrameStereotypeFontName\nFrameStereotypeFontSize\nFrameStereotypeFontStyle\nGuillemet\nHandwritten\nHeaderFontColor\nHeaderFontName\nHeaderFontSize\nHeaderFontStyle\nHyperlinkColor\nHyperlinkUnderline\nIconIEMandatoryColor\nIconPackageBackgroundColor\nIconPackageColor\nIconPrivateBackgroundColor\nIconPrivateColor\nIconProtectedBackgroundColor\nIconProtectedColor\nIconPublicBackgroundColor\nIconPublicColor\nInterfaceBackgroundColor\nInterfaceBorderColor\nInterfaceFontColor\nInterfaceFontName\nInterfaceFontSize\nInterfaceFontStyle\nInterfaceStereotypeFontColor\nInterfaceStereotypeFontName\nInterfaceStereotypeFontSize\nInterfaceStereotypeFontStyle\nLegendBackgroundColor\nLegendBorderColor\nLegendBorderThickness\nLegendFontColor\nLegendFontName\nLegendFontSize\nLegendFontStyle\nLinetype\nMaxAsciiMessageLength\nMaxMessageSize\nMinClassWidth\nMonochrome\nNodeBackgroundColor\nNodeBorderColor\nNodeFontColor\nNodeFontName\nNodeFontSize\nNodeFontStyle\nNodeStereotypeFontColor\nNodeStereotypeFontName\nNodeStereotypeFontSize\nNodeStereotypeFontStyle\nNodesep\nNoteBackgroundColor\nNoteBorderColor\nNoteBorderThickness\nNoteFontColor\nNoteFontName\nNoteFontSize\nNoteFontStyle\nNoteShadowing\nObjectAttributeFontColor\nObjectAttributeFontName\nObjectAttributeFontSize\nObjectAttributeFontStyle\nObjectBackgroundColor\nObjectBorderColor\nObjectBorderThickness\nObjectFontColor\nObjectFontName\nObjectFontSize\nObjectFontStyle\nObjectStereotypeFontColor\nObjectStereotypeFontName\nObjectStereotypeFontSize\nObjectStereotypeFontStyle\nPackageBackgroundColor\nPackageBorderColor\nPackageBorderThickness\nPackageFontColor\nPackageFontName\nPackageFontSize\nPackageFontStyle\nPackageStereotypeFontColor\nPackageStereotypeFontName\nPackageStereotypeFontSize\nPackageStereotypeFontStyle\nPackageStyle\nPadding\nParticipantBackgroundColor\nParticipantBorderColor\nParticipantFontColor\nParticipantFontName\nParticipantFontSize\nParticipantFontStyle\nPartitionBackgroundColor\nPartitionBorderColor\nPartitionBorderThickness\nPartitionFontColor\nPartitionFontName\nPartitionFontSize\nPartitionFontStyle\nQueueBackgroundColor\nQueueBorderColor\nQueueFontColor\nQueueFontName\nQueueFontSize\nQueueFontStyle\nQueueStereotypeFontColor\nQueueStereotypeFontName\nQueueStereotypeFontSize\nQueueStereotypeFontStyle\nRanksep\nRectangleBackgroundColor\nRectangleBorderColor\nRectangleBorderThickness\nRectangleFontColor\nRectangleFontName\nRectangleFontSize\nRectangleFontStyle\nRectangleStereotypeFontColor\nRectangleStereotypeFontName\nRectangleStereotypeFontSize\nRectangleStereotypeFontStyle\nRoundCorner\nSameClassWidth\nSequenceActorBorderThickness\nSequenceArrowThickness\nSequenceBoxBackgroundColor\nSequenceBoxBorderColor\nSequenceBoxFontColor\nSequenceBoxFontName\nSequenceBoxFontSize\nSequenceBoxFontStyle\nSequenceDelayFontColor\nSequenceDelayFontName\nSequenceDelayFontSize\nSequenceDelayFontStyle\nSequenceDividerBackgroundColor\nSequenceDividerBorderColor\nSequenceDividerBorderThickness\nSequenceDividerFontColor\nSequenceDividerFontName\nSequenceDividerFontSize\nSequenceDividerFontStyle\nSequenceGroupBackgroundColor\nSequenceGroupBodyBackgroundColor\nSequenceGroupBorderColor\nSequenceGroupBorderThickness\nSequenceGroupFontColor\nSequenceGroupFontName\nSequenceGroupFontSize\nSequenceGroupFontStyle\nSequenceGroupHeaderFontColor\nSequenceGroupHeaderFontName\nSequenceGroupHeaderFontSize\nSequenceGroupHeaderFontStyle\nSequenceLifeLineBackgroundColor\nSequenceLifeLineBorderColor\nSequenceLifeLineBorderThickness\nSequenceNewpageSeparatorColor\nSequenceParticipant\nSequenceParticipantBorderThickness\nSequenceReferenceBackgroundColor\nSequenceReferenceBorderColor\nSequenceReferenceBorderThickness\nSequenceReferenceFontColor\nSequenceReferenceFontName\nSequenceReferenceFontSize\nSequenceReferenceFontStyle\nSequenceReferenceHeaderBackgroundColor\nSequenceStereotypeFontColor\nSequenceStereotypeFontName\nSequenceStereotypeFontSize\nSequenceStereotypeFontStyle\nSequenceTitleFontColor\nSequenceTitleFontName\nSequenceTitleFontSize\nSequenceTitleFontStyle\nShadowing\nStackBackgroundColor\nStackBorderColor\nStackFontColor\nStackFontName\nStackFontSize\nStackFontStyle\nStackStereotypeFontColor\nStackStereotypeFontName\nStackStereotypeFontSize\nStackStereotypeFontStyle\nStateAttributeFontColor\nStateAttributeFontName\nStateAttributeFontSize\nStateAttributeFontStyle\nStateBackgroundColor\nStateBorderColor\nStateEndColor\nStateFontColor\nStateFontName\nStateFontSize\nStateFontStyle\nStateStartColor\nStereotypeABackgroundColor\nStereotypeCBackgroundColor\nStereotypeEBackgroundColor\nStereotypeIBackgroundColor\nStereotypeNBackgroundColor\nStereotypePosition\nStorageBackgroundColor\nStorageBorderColor\nStorageFontColor\nStorageFontName\nStorageFontSize\nStorageFontStyle\nStorageStereotypeFontColor\nStorageStereotypeFontName\nStorageStereotypeFontSize\nStorageStereotypeFontStyle\nStyle\nSvglinkTarget\nSwimlaneBorderColor\nSwimlaneBorderThickness\nSwimlaneTitleFontColor\nSwimlaneTitleFontName\nSwimlaneTitleFontSize\nSwimlaneTitleFontStyle\nTabSize\nTitleBackgroundColor\nTitleBorderColor\nTitleBorderRoundCorner\nTitleBorderThickness\nTitleFontColor\nTitleFontName\nTitleFontSize\nTitleFontStyle\nUsecaseBackgroundColor\nUsecaseBorderColor\nUsecaseBorderThickness\nUsecaseFontColor\nUsecaseFontName\nUsecaseFontSize\nUsecaseFontStyle\nUsecaseStereotypeFontColor\nUsecaseStereotypeFontName\nUsecaseStereotypeFontSize\nUsecaseStereotypeFontStyle\n\n;color\n;154\nAPPLICATION\nAliceBlue\nAntiqueWhite\nAqua\nAquamarine\nAzure\nBUSINESS\nBeige\nBisque\nBlack\nBlanchedAlmond\nBlue\nBlueViolet\nBrown\nBurlyWood\nCadetBlue\nChartreuse\nChocolate\nCoral\nCornflowerBlue\nCornsilk\nCrimson\nCyan\nDarkBlue\nDarkCyan\nDarkGoldenRod\nDarkGray\nDarkGreen\nDarkGrey\nDarkKhaki\nDarkMagenta\nDarkOliveGreen\nDarkOrchid\nDarkRed\nDarkSalmon\nDarkSeaGreen\nDarkSlateBlue\nDarkSlateGray\nDarkSlateGrey\nDarkTurquoise\nDarkViolet\nDarkorange\nDeepPink\nDeepSkyBlue\nDimGray\nDimGrey\nDodgerBlue\nFireBrick\nFloralWhite\nForestGreen\nFuchsia\nGainsboro\nGhostWhite\nGold\nGoldenRod\nGray\nGreen\nGreenYellow\nGrey\nHoneyDew\nHotPink\nIMPLEMENTATION\nIndianRed\nIndigo\nIvory\nKhaki\nLavender\nLavenderBlush\nLawnGreen\nLemonChiffon\nLightBlue\nLightCoral\nLightCyan\nLightGoldenRodYellow\nLightGray\nLightGreen\nLightGrey\nLightPink\nLightSalmon\nLightSeaGreen\nLightSkyBlue\nLightSlateGray\nLightSlateGrey\nLightSteelBlue\nLightYellow\nLime\nLimeGreen\nLinen\nMOTIVATION\nMagenta\nMaroon\nMediumAquaMarine\nMediumBlue\nMediumOrchid\nMediumPurple\nMediumSeaGreen\nMediumSlateBlue\nMediumSpringGreen\nMediumTurquoise\nMediumVioletRed\nMidnightBlue\nMintCream\nMistyRose\nMoccasin\nNavajoWhite\nNavy\nOldLace\nOlive\nOliveDrab\nOrange\nOrangeRed\nOrchid\nPHYSICAL\nPaleGoldenRod\nPaleGreen\nPaleTurquoise\nPaleVioletRed\nPapayaWhip\nPeachPuff\nPeru\nPink\nPlum\nPowderBlue\nPurple\nRed\nRosyBrown\nRoyalBlue\nSTRATEGY\nSaddleBrown\nSalmon\nSandyBrown\nSeaGreen\nSeaShell\nSienna\nSilver\nSkyBlue\nSlateBlue\nSlateGray\nSlateGrey\nSnow\nSpringGreen\nSteelBlue\nTECHNOLOGY\nTan\nTeal\nThistle\nTomato\nTurquoise\nViolet\nWheat\nWhite\nWhiteSmoke\nYellow\nYellowGreen\n\n;EOF\n";function $ea(){return Zea.split(/\n/).filter(function(e){return e.length>1&&!e.startsWith(";")})}var _ea={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"'",blockComment:["/'","'/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"\"",close:"\"",notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}]},afa={tokenPostfix:".plantuml",defaultToken:"invalid",keywords:$ea(),operators:["as"],symbols:/[xo]?([\[\]\\\}\{\#=><!~?&|+\-*\^]|\/[^']|(\.){2,})+[xo]?/,tokenizer:{root:[[/:(.*)$/,"identifier"],[/@symbols/,{cases:{"@operators":"keyword.operator","@default":"operator"}}],[/@[a-zA-Z]+/,{cases:{"@keywords":"keyword"}}],[/[a-zA-Z_][a-zA-Z_0-9]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[;:,]/,"delimiter"],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}]],comment:[[/[^\/']+/,"comment"],[/'\//,"comment","@pop"],[/[\/']/,"comment"]],string:[[/[^\\"&]+/,"string"],[/\\"/,"string.escape"],[/&\w+;/,"string.escape"],[/[\\&]/,"string"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/'/,"comment","@comment"],[/'.*$/,"comment"],[/#.$/,"comment"]]}},bfa=function(e){e.languages.register({id:"plantuml",extensions:[".plantuml",".puml",".pu"],aliases:["plantuml"],mimetypes:["text/plantuml"]}),e.languages.onLanguage("plantuml",function(){e.languages.setLanguageConfiguration("plantuml",_ea),e.languages.setMonarchTokensProvider("plantuml",afa)})};var NI,cfa=function(e){return{language:"plantuml",theme:"vs-dark",value:e.puml,options:{minimap:{enabled:!1},automaticLayout:!0}}},dfa=function(e){return{editorWillMount:function(e){bfa(e)},onChange:function(o){e(Wea(o)),NI&&clearTimeout(NI),NI=setTimeout(function(){e(Xea(o))},1e3)}}},efa=sH(cfa,dfa)(Tt);var Qm={};var md={},Rm="persist:";md.KEY_PREFIX=Rm;var Au="persist/FLUSH";md.FLUSH=Au;var bj="persist/REHYDRATE";md.REHYDRATE=bj;var Bu="persist/PAUSE";md.PAUSE=Bu;var Cu="persist/PERSIST";md.PERSIST=Cu;var Du="persist/PURGE";md.PURGE=Du;var Eu="persist/REGISTER";md.REGISTER=Eu;var OI=-1;md.DEFAULT_VERSION=OI;var PI=Qm&&Qm.__assign||function(){return(PI=Object.assign||function(e){for(var r,$=1,t=arguments.length;$<t;$++)for(var a in r=arguments[$])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e}).apply(this,arguments)},QI={type:"svg",puml:"@startuml\n\n\n\n@enduml",encoded:"",url:"",loaded:!1};Qm.INITIAL_STATE=QI;var Fu=function(e,r,$,t){var a;return PI({},e,((a={})[t]=r.type===$?r[t]:e[t],a))},ffa=function(e,r){return Fu(e,r,KI,"puml")},gfa=function(e,r){return Fu(e,r,MI,"loaded")},hfa=function(e,r){return Fu(e,r,LI,"encoded")},ifa=function(e,r){if(r.type===bj){var $=window.location.pathname.split("/"),t=($[0],$[1]),a=$[2];t&&a&&("svg"!==t&&"png"!==t||(e.type=t),e.puml=tH.decode(a),e.encoded=a)}return e},RI=function(e,r){void 0===e&&(e=QI);var $=PI({},e);$=ffa($,r),$=hfa($,r),$=ifa($,r);var t=["",($=gfa($,r)).type,$.encoded].join("/");return e.url!==t&&($.url=t,$.loaded=!1),$.loaded&&window.history.replaceState(void 0,"",t),$};Qm.reducer=RI;var jfa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kfa=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t};function lfa(t,r,o,e){e.debug;var n=kfa({},o);return t&&"object"===(void 0===t?"undefined":jfa(t))&&Object.keys(t).forEach(function(e){"_persist"!==e&&r[e]===o[e]&&(n[e]=t[e])}),n}function mfa(e){var t=e.blacklist||null,r=e.whitelist||null,n=e.transforms||[],i=e.throttle||0,o=""+(void 0!==e.keyPrefix?e.keyPrefix:Rm)+e.key,s=e.storage,l=!1===e.serialize?function(e){return e}:nfa,u={},f={},a=[],c=null,$=null;function d(){if(0===a.length)return c&&clearInterval(c),void(c=null);var e=a.shift(),t=n.reduce(function(t,r){return r.in(t,e,u)},u[e]);if(void 0!==t)try{f[e]=l(t)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete f[e];0===a.length&&(Object.keys(f).forEach(function(e){void 0===u[e]&&delete f[e]}),$=s.setItem(o,l(f)).catch(h))}function h(e){0}return{update:function(e){Object.keys(e).forEach(function(n){(function(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||t&&-1!==t.indexOf(e))})(n)&&u[n]!==e[n]&&-1===a.indexOf(n)&&a.push(n)}),Object.keys(u).forEach(function(t){void 0===e[t]&&a.push(t)}),null===c&&(c=setInterval(d,i)),u=e},flush:function(){for(;0!==a.length;)d();return $||Promise.resolve()}}}function nfa(e){return JSON.stringify(e)}function ofa(e){var r=e.transforms||[],t=""+(void 0!==e.keyPrefix?e.keyPrefix:Rm)+e.key,n=e.storage,$=(e.debug,!1===e.serialize?function(e){return e}:pfa);return n.getItem(t).then(function(e){if(e)try{var t={},n=$(e);return Object.keys(n).forEach(function(e){t[e]=r.reduceRight(function(r,t){return t.out(r,e,n)},$(n[e]))}),t}catch(a){throw a}})}function pfa(e){return JSON.parse(e)}function qfa(r){var e=r.storage,$=""+(void 0!==r.keyPrefix?r.keyPrefix:Rm)+r.key;return e.removeItem($,rfa)}function rfa(r){0}var pf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};function sfa(e,r){var t={};for(var i in e)r.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var tfa=5e3;function ufa(e,r){var t=void 0!==e.version?e.version:OI,i=(e.debug,void 0===e.stateReconciler?lfa:e.stateReconciler),o=e.getStoredState||ofa,$=void 0!==e.timeout?e.timeout:tfa,n=null,a=!1,s=!0,u=function(e){return e._persist.rehydrated&&n&&!s&&n.update(e),e};return function(p,d){var c=p||{},f=c._persist,v=sfa(c,["_persist"]);if(d.type===Cu){var k=!1,l=function(r,t){k||(d.rehydrate(e.key,r,t),k=!0)};if($&&setTimeout(function(){!k&&l(void 0,new Error("redux-persist: persist timed out for persist key \""+e.key+"\""))},$),s=!1,n||(n=mfa(e)),f)return p;if("function"!=typeof d.rehydrate||"function"!=typeof d.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return d.register(e.key),o(e).then(function(r){(e.migrate||function(e,r){return Promise.resolve(e)})(r,t).then(function(e){l(e)},function(e){l(void 0,e)})},function(e){l(void 0,e)}),pf({},r(v,d),{_persist:{version:t,rehydrated:!1}})}if(d.type===Du)return a=!0,d.result(qfa(e)),pf({},r(v,d),{_persist:f});if(d.type===Au)return d.result(n&&n.flush()),pf({},r(v,d),{_persist:f});if(d.type===Bu)s=!0;else if(d.type===bj){if(a)return pf({},v,{_persist:pf({},f,{rehydrated:!0})});if(d.key===e.key){var H=r(v,d),Z=d.payload,y=!1!==i&&void 0!==Z?i(Z,p,H,e):H,h=pf({},y,{_persist:pf({},f,{rehydrated:!0})});return u(h)}}if(!f)return r(p,d);var _=r(v,d);return _===v?p:(_._persist=f,u(_))}}var Xia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yia=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n};var Gu=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var $ in e)Object.prototype.hasOwnProperty.call(e,$)&&(t[$]=e[$])}return t};function SI(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)}var TI={registry:[],bootstrapped:!1},vfa=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TI,r=arguments[1];switch(r.type){case Eu:return Gu({},t,{registry:[].concat(SI(t.registry),[r.key])});case bj:var e=t.registry.indexOf(r.key),$=[].concat(SI(t.registry));return $.splice(e,1),Gu({},t,{registry:$,bootstrapped:0===$.length});default:return t;}};function wfa(t,r,e){var $=e||!1,a=_t(vfa,TI,r?r.enhancer:void 0),i=function(t){a.dispatch({type:Eu,key:t})},n=function(r,e,i){var n={type:bj,payload:e,err:i,key:r};t.dispatch(n),a.dispatch(n),$&&y.getState().bootstrapped&&($(),$=!1)},y=Gu({},a,{purge:function(){var r=[];return t.dispatch({type:Du,result:function(t){r.push(t)}}),Promise.all(r)},flush:function(){var r=[];return t.dispatch({type:Au,result:function(t){r.push(t)}}),Promise.all(r)},pause:function(){t.dispatch({type:Bu})},persist:function(){t.dispatch({type:Cu,register:i,rehydrate:n})}});return y.persist(),y}KJ($VQ$exports,md);var Hu={},xfa=!0;Hu.__esModule=xfa;var yfa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zfa=Cfa;function Iu(){}Hu.default=zfa;var Afa={getItem:Iu,setItem:Iu,removeItem:Iu};function Bfa(e){if("object"!==("undefined"==typeof self?"undefined":yfa(self))||!(e in self))return!1;try{var t=self[e],o="redux-persist "+e+" test";t.setItem(o,"test"),t.getItem(o),t.removeItem(o)}catch($){return!1}return!0}function Cfa(e){var t=e+"Storage";return Bfa(t)?self[t]:Afa}var Ju={},Dfa=!0;Ju.__esModule=Dfa;var Efa=Hfa;Ju.default=Efa;var Ffa=Gfa(Hu);function Gfa(e){return e&&e.__esModule?e:{default:e}}function Hfa(e){var t=(0,Ffa.default)(e);return{getItem:function(e){return new Promise(function(r,$){r(t.getItem(e))})},setItem:function(e,r){return new Promise(function($,o){$(t.setItem(e,r))})},removeItem:function(e){return new Promise(function(r,$){r(t.removeItem(e))})}}}var Ifa=Jfa(Ju);function Jfa(e){return e&&e.__esModule?e:{default:e}}var Kfa=(0,Ifa.default)("local");var Lfa={key:"arkit",storage:Kfa,blacklist:["loaded"]},Mfa=ufa(Lfa,RI),UI=_t(Mfa,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var Nfa=wfa(UI);var Ku={};var cj={};var Lu,VI={};!function(e){"object"==typeof VI?VI=e(null):"function"==typeof Lu&&Lu.amd?Lu(e(null)):window.stylis=e(null)}(function e(a){var c=/^\0+/g,r=/[\0\r\f]/g,s=/: */g,t=/zoo|gra/,i=/([,: ])(transform)/g,n=/,+\s*(?![^(]*[)])/g,l=/ +\s*(?![^(]*[)])/g,f=/ *[\0] */g,o=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,u=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,b=/@(k\w+)\s*(\S*)\s*/,p=/::(place)/g,k=/:(read-only)/g,g=/\s+(?=[{\];=:>])/g,A=/([[}=:>])\s+/g,C=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,v=/([^\(])(:+) */g,$=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,m=/([\s\S]*?);/g,y=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,W=/stretch|:\s*\w+\-(?:conte|avail)/,j=/([^-])(image-set\()/,Y="-webkit-",z="-moz-",N="-ms-",S=59,F=125,q=123,B=40,D=41,E=91,G=93,H=10,I=13,J=9,K=64,L=32,M=38,P=45,Q=95,R=42,T=44,U=58,V=39,X=34,Z=47,_=62,ee=43,ae=126,ce=0,re=12,se=11,te=107,ie=109,ne=115,le=112,fe=111,oe=105,he=99,ue=100,de=112,be=1,pe=1,ke=0,ge=1,Ae=1,Ce=1,we=0,ve=0,$e=0,xe=[],me=[],ye=0,Oe=null,We=-2,je=-1,Ye=0,ze=1,Ne=2,Se=3,Fe=0,qe=1,Be="",De="",Ee="";function Ge(e,a,s,t,i){for(var n,l,o=0,h=0,u=0,d=0,g=0,A=0,C=0,w=0,$=0,m=0,y=0,O=0,W=0,j=0,Q=0,we=0,me=0,Oe=0,We=0,je=s.length,Ie=je-1,Qe="",Re="",Te="",Ue="",Ve="",Xe="";Q<je;){if(C=s.charCodeAt(Q),Q===Ie&&h+d+u+o!==0&&(0!==h&&(C=h===Z?H:Z),d=u=o=0,je++,Ie++),h+d+u+o===0){if(Q===Ie&&(we>0&&(Re=Re.replace(r,"")),Re.trim().length>0)){switch(C){case L:case J:case S:case I:case H:break;default:Re+=s.charAt(Q);}C=S}if(1===me)switch(C){case q:case F:case S:case X:case V:case B:case D:case T:me=0;case J:case I:case H:case L:break;default:for(me=0,We=Q,g=C,Q--,C=S;We<je;)switch(s.charCodeAt(We++)){case H:case I:case S:++Q,C=g,We=je;break;case U:we>0&&(++Q,C=g);case q:We=je;}}switch(C){case q:for(g=(Re=Re.trim()).charCodeAt(0),y=1,We=++Q;Q<je;){switch(C=s.charCodeAt(Q)){case q:y++;break;case F:y--;break;case Z:switch(A=s.charCodeAt(Q+1)){case R:case Z:Q=Pe(A,Q,Ie,s);}break;case E:C++;case B:C++;case X:case V:for(;Q++<Ie&&s.charCodeAt(Q)!==C;);}if(0===y)break;Q++}switch(Te=s.substring(We,Q),g===ce&&(g=(Re=Re.replace(c,"").trim()).charCodeAt(0)),g){case K:switch(we>0&&(Re=Re.replace(r,"")),A=Re.charCodeAt(1)){case ue:case ie:case ne:case P:n=a;break;default:n=xe;}if(We=(Te=Ge(a,n,Te,A,i+1)).length,$e>0&&0===We&&(We=Re.length),ye>0&&(n=He(xe,Re,Oe),l=Me(Se,Te,n,a,pe,be,We,A,i,t),Re=n.join(""),void 0!==l&&0===(We=(Te=l.trim()).length)&&(A=0,Te="")),We>0)switch(A){case ne:Re=Re.replace(x,Le);case ue:case ie:case P:Te=Re+"{"+Te+"}";break;case te:Te=(Re=Re.replace(b,"$1 $2"+(qe>0?Be:"")))+"{"+Te+"}",Te=1===Ae||2===Ae&&Ke("@"+Te,3)?"@"+Y+Te+"@"+Te:"@"+Te;break;default:Te=Re+Te,t===de&&(Ue+=Te,Te="");}else Te="";break;default:Te=Ge(a,He(a,Re,Oe),Te,t,i+1);}Ve+=Te,O=0,me=0,j=0,we=0,Oe=0,W=0,Re="",Te="",C=s.charCodeAt(++Q);break;case F:case S:if((We=(Re=(we>0?Re.replace(r,""):Re).trim()).length)>1)switch(0===j&&((g=Re.charCodeAt(0))===P||g>96&&g<123)&&(We=(Re=Re.replace(" ",":")).length),ye>0&&void 0!==(l=Me(ze,Re,a,e,pe,be,Ue.length,t,i,t))&&0===(We=(Re=l.trim()).length)&&(Re="\0\0"),g=Re.charCodeAt(0),A=Re.charCodeAt(1),g){case ce:break;case K:if(A===oe||A===he){Xe+=Re+s.charAt(Q);break}default:if(Re.charCodeAt(We-1)===U)break;Ue+=Je(Re,g,A,Re.charCodeAt(2));}O=0,me=0,j=0,we=0,Oe=0,Re="",C=s.charCodeAt(++Q);}}switch(C){case I:case H:if(h+d+u+o+ve===0)switch(m){case D:case V:case X:case K:case ae:case _:case R:case ee:case Z:case P:case U:case T:case S:case q:case F:break;default:j>0&&(me=1);}h===Z?h=0:ge+O===0&&t!==te&&Re.length>0&&(we=1,Re+="\0"),ye*Fe>0&&Me(Ye,Re,a,e,pe,be,Ue.length,t,i,t),be=1,pe++;break;case S:case F:if(h+d+u+o===0){be++;break}default:switch(be++,Qe=s.charAt(Q),C){case J:case L:if(d+o+h===0)switch(w){case T:case U:case J:case L:Qe="";break;default:C!==L&&(Qe=" ");}break;case ce:Qe="\\0";break;case re:Qe="\\f";break;case se:Qe="\\v";break;case M:d+h+o===0&&ge>0&&(Oe=1,we=1,Qe="\f"+Qe);break;case 108:if(d+h+o+ke===0&&j>0)switch(Q-j){case 2:w===le&&s.charCodeAt(Q-3)===U&&(ke=w);case 8:$===fe&&(ke=$);}break;case U:d+h+o===0&&(j=Q);break;case T:h+u+d+o===0&&(we=1,Qe+="\r");break;case X:case V:0===h&&(d=d===C?0:0===d?C:d);break;case E:d+h+u===0&&o++;break;case G:d+h+u===0&&o--;break;case D:d+h+o===0&&u--;break;case B:if(d+h+o===0){if(0===O)switch(2*w+3*$){case 533:break;default:y=0,O=1;}u++}break;case K:h+u+d+o+j+W===0&&(W=1);break;case R:case Z:if(d+o+u>0)break;switch(h){case 0:switch(2*C+3*s.charCodeAt(Q+1)){case 235:h=Z;break;case 220:We=Q,h=R;}break;case R:C===Z&&w===R&&We+2!==Q&&(33===s.charCodeAt(We+2)&&(Ue+=s.substring(We,Q+1)),Qe="",h=0);}}if(0===h){if(ge+d+o+W===0&&t!==te&&C!==S)switch(C){case T:case ae:case _:case ee:case D:case B:if(0===O){switch(w){case J:case L:case H:case I:Qe+="\0";break;default:Qe="\0"+Qe+(C===T?"":"\0");}we=1}else switch(C){case B:j+7===Q&&108===w&&(j=0),O=++y;break;case D:0==(O=--y)&&(we=1,Qe+="\0");}break;case J:case L:switch(w){case ce:case q:case F:case S:case T:case re:case J:case L:case H:case I:break;default:0===O&&(we=1,Qe+="\0");}}Re+=Qe,C!==L&&C!==J&&(m=C)}}$=w,w=C,Q++}if(We=Ue.length,$e>0&&0===We&&0===Ve.length&&0===a[0].length==0&&(t!==ie||1===a.length&&(ge>0?De:Ee)===a[0])&&(We=a.join(",").length+2),We>0){if(n=0===ge&&t!==te?function(e){for(var a,c,s=0,t=e.length,i=Array(t);s<t;++s){for(var n=e[s].split(f),l="",o=0,h=0,u=0,d=0,b=n.length;o<b;++o)if(!(0===(h=(c=n[o]).length)&&b>1)){if(u=l.charCodeAt(l.length-1),d=c.charCodeAt(0),a="",0!==o)switch(u){case R:case ae:case _:case ee:case L:case B:break;default:a=" ";}switch(d){case M:c=a+De;case ae:case _:case ee:case L:case D:case B:break;case E:c=a+c+De;break;case U:switch(2*c.charCodeAt(1)+3*c.charCodeAt(2)){case 530:if(Ce>0){c=a+c.substring(8,h-1);break}default:(o<1||n[o-1].length<1)&&(c=a+De+c);}break;case T:a="";default:c=h>1&&c.indexOf(":")>0?a+c.replace(v,"$1"+De+"$2"):a+c+De;}l+=c}i[s]=l.replace(r,"").trim()}return i}(a):a,ye>0&&void 0!==(l=Me(Ne,Ue,n,e,pe,be,We,t,i,t))&&0===(Ue=l).length)return Xe+Ue+Ve;if(Ue=n.join(",")+"{"+Ue+"}",Ae*ke!=0){switch(2!==Ae||Ke(Ue,2)||(ke=0),ke){case fe:Ue=Ue.replace(k,":"+z+"$1")+Ue;break;case le:Ue=Ue.replace(p,"::"+Y+"input-$1")+Ue.replace(p,"::"+z+"$1")+Ue.replace(p,":"+N+"input-$1")+Ue;}ke=0}}return Xe+Ue+Ve}function He(e,a,c){var r=a.trim().split(o),s=r,t=r.length,i=e.length;switch(i){case 0:case 1:for(var n=0,l=0===i?"":e[0]+" ";n<t;++n)s[n]=Ie(l,s[n],c,i).trim();break;default:n=0;var f=0;for(s=[];n<t;++n)for(var h=0;h<i;++h)s[f++]=Ie(e[h]+" ",r[n],c,i).trim();}return s}function Ie(e,a,c,r){var s=a,t=s.charCodeAt(0);switch(t<33&&(t=(s=s.trim()).charCodeAt(0)),t){case M:switch(ge+r){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(h,"$1"+e.trim());}break;case U:switch(s.charCodeAt(1)){case 103:if(Ce>0&&ge>0)return s.replace(u,"$1").replace(h,"$1"+Ee);break;default:return e.trim()+s.replace(h,"$1"+e.trim());}default:if(c*ge>0&&s.indexOf("\f")>0)return s.replace(h,(e.charCodeAt(0)===U?"":"$1")+e.trim());}return e+s}function Je(e,a,c,r){var f,o=0,h=e+";",u=2*a+3*c+4*r;if(944===u)return function(e){var a=e.length,c=e.indexOf(":",9)+1,r=e.substring(0,c).trim(),s=e.substring(c,a-1).trim();switch(e.charCodeAt(9)*qe){case 0:break;case P:if(110!==e.charCodeAt(10))break;default:var t=s.split((s="",n)),i=0;for(c=0,a=t.length;i<a;c=0,++i){for(var f=t[i],o=f.split(l);f=o[c];){var h=f.charCodeAt(0);if(1===qe&&(h>K&&h<90||h>96&&h<123||h===Q||h===P&&f.charCodeAt(1)!==P))switch(isNaN(parseFloat(f))+(-1!==f.indexOf("("))){case 1:switch(f){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:f+=Be;}}o[c++]=f}s+=(0===i?"":",")+o.join(" ")}}return s=r+s+";",1===Ae||2===Ae&&Ke(s,1)?Y+s+s:s}(h);if(0===Ae||2===Ae&&!Ke(h,1))return h;switch(u){case 1015:return 97===h.charCodeAt(10)?Y+h+h:h;case 951:return 116===h.charCodeAt(3)?Y+h+h:h;case 963:return 110===h.charCodeAt(5)?Y+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return Y+h+h;case 978:return Y+h+z+h+h;case 1019:case 983:return Y+h+z+h+N+h+h;case 883:return h.charCodeAt(8)===P?Y+h+h:h.indexOf("image-set(",11)>0?h.replace(j,"$1"+Y+"$2")+h:h;case 932:if(h.charCodeAt(4)===P)switch(h.charCodeAt(5)){case 103:return Y+"box-"+h.replace("-grow","")+Y+h+N+h.replace("grow","positive")+h;case 115:return Y+h+N+h.replace("shrink","negative")+h;case 98:return Y+h+N+h.replace("basis","preferred-size")+h;}return Y+h+N+h+h;case 964:return Y+h+N+"flex-"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return f=h.substring(h.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),Y+"box-pack"+f+Y+h+N+"flex-pack"+f+h;case 1005:return t.test(h)?h.replace(s,":"+Y)+h.replace(s,":"+z)+h:h;case 1e3:switch(o=(f=h.substring(13).trim()).indexOf("-")+1,f.charCodeAt(0)+f.charCodeAt(o)){case 226:f=h.replace($,"tb");break;case 232:f=h.replace($,"tb-rl");break;case 220:f=h.replace($,"lr");break;default:return h;}return Y+h+N+f+h;case 1017:if(-1===h.indexOf("sticky",9))return h;case 975:switch(o=(h=e).length-10,u=(f=(33===h.charCodeAt(o)?h.substring(0,o):h).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|f.charCodeAt(7))){case 203:if(f.charCodeAt(8)<111)break;case 115:h=h.replace(f,Y+f)+";"+h;break;case 207:case 102:h=h.replace(f,Y+(u>102?"inline-":"")+"box")+";"+h.replace(f,Y+f)+";"+h.replace(f,N+f+"box")+";"+h;}return h+";";case 938:if(h.charCodeAt(5)===P)switch(h.charCodeAt(6)){case 105:return f=h.replace("-items",""),Y+h+Y+"box-"+f+N+"flex-"+f+h;case 115:return Y+h+N+"flex-item-"+h.replace(y,"")+h;default:return Y+h+N+"flex-line-pack"+h.replace("align-content","").replace(y,"")+h;}break;case 973:case 989:if(h.charCodeAt(3)!==P||122===h.charCodeAt(4))break;case 931:case 953:if(!0===W.test(e))return 115===(f=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Je(e.replace("stretch","fill-available"),a,c,r).replace(":fill-available",":stretch"):h.replace(f,Y+f)+h.replace(f,z+f.replace("fill-",""))+h;break;case 962:if(h=Y+h+(102===h.charCodeAt(5)?N+h:"")+h,c+r===211&&105===h.charCodeAt(13)&&h.indexOf("transform",10)>0)return h.substring(0,h.indexOf(";",27)+1).replace(i,"$1"+Y+"$2")+h;}return h}function Ke(e,a){var c=e.indexOf(1===a?":":"{"),r=e.substring(0,3!==a?c:10),s=e.substring(c+1,e.length-1);return Oe(2!==a?r:r.replace(O,"$1"),s,a)}function Le(e,a){var c=Je(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return c!==a+";"?c.replace(m," or ($1)").substring(4):"("+a+")"}function Me(e,a,c,r,s,t,i,n,l,f){for(var o,h=0,u=a;h<ye;++h)switch(o=me[h].call(Re,e,u,c,r,s,t,i,n,l,f)){case void 0:case!1:case!0:case null:break;default:u=o;}if(u!==a)return u}function Pe(e,a,c,r){for(var s=a+1;s<c;++s)switch(r.charCodeAt(s)){case Z:if(e===R&&r.charCodeAt(s-1)===R&&a+2!==s)return s+1;break;case H:if(e===Z)return s+1;}return s}function Qe(e){for(var a in e){var c=e[a];switch(a){case"keyframe":qe=0|c;break;case"global":Ce=0|c;break;case"cascade":ge=0|c;break;case"compress":we=0|c;break;case"semicolon":ve=0|c;break;case"preserve":$e=0|c;break;case"prefix":Oe=null,c?"function"!=typeof c?Ae=1:(Ae=2,Oe=c):Ae=0;}}return Qe}function Re(a,c){if(void 0!==this&&this.constructor===Re)return e(a);var s=a,t=s.charCodeAt(0);t<33&&(t=(s=s.trim()).charCodeAt(0)),qe>0&&(Be=s.replace(d,t===E?"":"-")),t=1,1===ge?Ee=s:De=s;var i,n=[Ee];ye>0&&void 0!==(i=Me(je,c,n,n,pe,be,0,0,0,0))&&"string"==typeof i&&(c=i);var l=Ge(xe,n,c,0,0);return ye>0&&void 0!==(i=Me(We,l,n,n,pe,be,l.length,0,0,0))&&"string"!=typeof(l=i)&&(t=0),Be="",Ee="",De="",ke=0,pe=1,be=1,we*t==0?l:l.replace(r,"").replace(g,"").replace(A,"$1").replace(C,"$1").replace(w," ")}return Re.use=function e(a){switch(a){case void 0:case null:ye=me.length=0;break;default:if("function"==typeof a)me[ye++]=a;else if("object"==typeof a)for(var c=0,r=a.length;c<r;++c)e(a[c]);else Fe=0|!!a;}return e},Re.set=Qe,void 0!==a&&Qe(a),Re});var Ofa=function(){var t={exports:this};return"object"==typeof this&&void 0!==t?t.exports=function(t){function e(e){if(e)try{t(e+"}")}catch(r){}}return function(r,c,a,s,n,i,u,o,f,h){switch(r){case 1:if(0===f&&64===c.charCodeAt(0))return t(c+";"),"";break;case 2:if(0===o)return c+"/*|*/";break;case 3:switch(o){case 102:case 112:return t(a[0]+c),"";default:return c+(0===h?"/*|*/":"");}case-2:c.split("/*|*/}").forEach(e);}}}:window.stylisRuleSheet=function(t){function e(e){if(e)try{t(e+"}")}catch(r){}}return function(r,c,a,s,n,i,u,o,f,h){switch(r){case 1:if(0===f&&64===c.charCodeAt(0))return t(c+";"),"";break;case 2:if(0===o)return c+"/*|*/";break;case 3:switch(o){case 102:case 112:return t(a[0]+c),"";default:return c+(0===h?"/*|*/":"");}case-2:c.split("/*|*/}").forEach(e);}}},t.exports}.call({});var Pfa={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Qfa=function(r,t){return r===t};function WI(r,t){var e;void 0===t&&(t=Qfa);var n,$=[],a=!1,u=function(r,e){return t(r,$[e])};return function(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return a&&e===this&&l.length===$.length&&l.every(u)?n:(n=r.apply(this,l),a=!0,e=this,$=l,n)}}function Rfa(t){var u={};return function(r){return void 0===u[r]&&(u[r]=t(r)),u[r]}}var Sfa=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Tfa=Rfa(function(e){return Sfa.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});V(),Rg();var XI=function(t,e){for(var r=[t[0]],s=0,n=e.length;s<n;s+=1)r.push(e[s],t[s+1]);return r},YI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ufa=function(){function t(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}}(),Fb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},dj=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Vfa=function(t,e){var r={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s]);return r},bh=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Mu=function(t){return"object"===(void 0===t?"undefined":YI(t))&&t.constructor===Object},Sm=Object.freeze([]),ej=Object.freeze({});function ce(t){return"function"==typeof t}function Nu(t){return t.displayName||t.name||"Component"}function Tm(t){return t&&"string"==typeof t.styledComponentId}var fj="data-styled",Um="data-styled-version",Wfa="data-styled-streamed",qf="undefined"!=typeof window&&"HTMLElement"in window,ZI="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,Xfa={};var $I=nc(VI);var Yfa=nc(Ofa);var mc=function(t){function e(r){Ic(this,e);for(var s=arguments.length,n=Array(s>1?s-1:0),$=1;$<s;$++)n[$-1]=arguments[$];var a=bh(this,t.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+r+" for more information. "+(n?"Additional arguments: "+n.join(", "):"")));return bh(a)}return dj(e,t),e}(Error),Zfa=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,$fa=function(t){var e=""+(t||""),r=[];return e.replace(Zfa,function(t,e,s){return r.push({componentId:e,matchIndex:s}),t}),r.map(function(t,s){var n=t.componentId,$=t.matchIndex,a=r[s+1];return{componentId:n,cssFromDOM:a?e.slice($,a.matchIndex):e.slice($)}})},_fa=/^\s*\/\/.*$/gm,_I=new $I.d({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),aJ=new $I.d({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),bJ=[],cJ=function(t){if(-2===t){var e=bJ;return bJ=[],e}},dJ=Yfa.d(function(t){bJ.push(t)}),aga=void 0,gj=void 0,bga=void 0,cga=function(t,e,r){return e>0&&-1!==r.slice(0,e).indexOf(gj)&&r.slice(e-gj.length,e)!==gj?"."+aga:t},dga=function(t,e,r){2===t&&r.length&&r[0].lastIndexOf(gj)>0&&(r[0]=r[0].replace(bga,cga))};aJ.use([dga,dJ,cJ]),_I.use([dJ,cJ]);var ega=function(t){return _I("",t)};function eJ(t,e,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&",n=t.join("").replace(_fa,""),$=e&&r?r+" "+e+" { "+n+" }":n;return aga=s,gj=e,bga=new RegExp("\\"+gj+"\\b","g"),aJ(r||!e?"":e,$)}var Ou=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null},Pu=function(t,e,r){r&&((t[e]||(t[e]=Object.create(null)))[r]=!0)},Vm=function(t,e){t[e]=Object.create(null)},Qu=function(t){return function(e,r){return void 0!==t[e]&&t[e][r]}},fJ=function(t){var e="";for(var r in t)e+=Object.keys(t[r]).join(" ")+" ";return e.trim()},fga=function(t){var e=Object.create(null);for(var r in t)e[r]=Fb({},t[r]);return e},Ru=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets.length,r=0;r<e;r+=1){var s=document.styleSheets[r];if(s.ownerNode===t)return s}throw new mc(10)},gga=function(t,e,r){if(!e)return!1;var s=t.cssRules.length;try{t.insertRule(e,r<=s?r:s)}catch(n){return!1}return!0},hga=function(t,e,r){for(var s=e-r,n=e;n>s;n-=1)t.deleteRule(n)},Su=function(t){return"\n/* sc-component-id: "+t+" */\n"},Tu=function(t,e){for(var r=0,s=0;s<=e;s+=1)r+=t[s];return r},iga=function(t,e,r){var s=document.createElement("style");s.setAttribute(fj,""),s.setAttribute(Um,"4.1.3");var n=Ou();if(n&&s.setAttribute("nonce",n),s.appendChild(document.createTextNode("")),t&&!e)t.appendChild(s);else{if(!e||!t||!e.parentNode)throw new mc(6);e.parentNode.insertBefore(s,r?e:e.nextSibling)}return s},Uu=function(t,e){return function(r){var s=Ou();return"<style "+[s&&"nonce=\""+s+"\"",fj+"=\""+fJ(e)+"\"",Um+"=\"4.1.3\"",r].filter(Boolean).join(" ")+">"+t()+"</style>"}},Vu=function(t,e){return function(){var r,s=((r={})[fj]=fJ(e),r[Um]="4.1.3",r),n=Ou();return n&&(s.nonce=n),ua.d.createElement("style",Fb({},s,{dangerouslySetInnerHTML:{__html:t()}}))}},Wu=function(t){return function(){return Object.keys(t)}},jga=function(t,e){var r=Object.create(null),s=Object.create(null),n=[],$=void 0!==e,a=!1,o=function(t){var e=s[t];return void 0!==e?e:(s[t]=n.length,n.push(0),Vm(r,t),s[t])},i=function(){var e=Ru(t).cssRules,r="";for(var $ in s){r+=Su($);for(var a=s[$],o=Tu(n,a),i=o-n[a];i<o;i+=1){var S=e[i];void 0!==S&&(r+=S.cssText)}}return r};return{clone:function(){throw new mc(5)},css:i,getIds:Wu(s),hasNameForId:Qu(r),insertMarker:o,insertRules:function(s,i,S){for(var l=o(s),c=Ru(t),v=Tu(n,l),p=0,u=[],d=i.length,F=0;F<d;F+=1){var h=i[F],m=$;m&&-1!==h.indexOf("@import")?u.push(h):gga(c,h,v+p)&&(m=!1,p+=1)}$&&u.length>0&&(a=!0,e().insertRules(s+"-import",u)),n[l]+=p,Pu(r,s,S)},removeRules:function(o){var i=s[o];if(void 0!==i){var S=n[i],l=Ru(t),c=Tu(n,i)-1;hga(l,c,S),n[i]=0,Vm(r,o),$&&a&&e().removeRules(o+"-import")}},sealed:!1,styleTag:t,toElement:Vu(i,r),toHTML:Uu(i,r)}},gJ=function(t){return document.createTextNode(Su(t))},kga=function(t,e){var r=Object.create(null),s=Object.create(null),n=void 0!==e,$=!1,a=function(e){var n=s[e];return void 0!==n?n:(s[e]=gJ(e),t.appendChild(s[e]),r[e]=Object.create(null),s[e])},o=function(){var t="";for(var e in s)t+=s[e].data;return t};return{clone:function(){throw new mc(5)},css:o,getIds:Wu(s),hasNameForId:Qu(r),insertMarker:a,insertRules:function(t,s,o){for(var i=a(t),S=[],l=s.length,c=0;c<l;c+=1){var v=s[c],p=n;if(p&&-1!==v.indexOf("@import"))S.push(v);else{p=!1;var u=c===l-1?"":" ";i.appendData(""+v+u)}}Pu(r,t,o),n&&S.length>0&&($=!0,e().insertRules(t+"-import",S))},removeRules:function(a){var o=s[a];if(void 0!==o){var i=gJ(a);t.replaceChild(i,o),s[a]=i,Vm(r,a),n&&$&&e().removeRules(a+"-import")}},sealed:!1,styleTag:t,toElement:Vu(o,r),toHTML:Uu(o,r)}},lga=function t(e,r){var s=void 0===e?Object.create(null):e,n=void 0===r?Object.create(null):r,$=function(t){var e=n[t];return void 0!==e?e:n[t]=[""]},a=function(){var t="";for(var e in n){var r=n[e][0];r&&(t+=Su(e)+r)}return t};return{clone:function(){var e=fga(s),r=Object.create(null);for(var $ in n)r[$]=[n[$][0]];return t(e,r)},css:a,getIds:Wu(n),hasNameForId:Qu(s),insertMarker:$,insertRules:function(t,e,r){$(t)[0]+=e.join(" "),Pu(s,t,r)},removeRules:function(t){var e=n[t];void 0!==e&&(e[0]="",Vm(s,t))},sealed:!1,styleTag:null,toElement:Vu(a,s),toHTML:Uu(a,s)}},hJ=function(t,e,r,s,n){if(qf&&!r){var $=iga(t,e,s);return ZI?kga($,n):jga($,n)}return lga()},mga=function(t,e,r){for(var s=0,n=r.length;s<n;s+=1){var $=r[s],a=$.componentId,o=$.cssFromDOM,i=ega(o);t.insertRules(a,i)}for(var S=0,l=e.length;S<l;S+=1){var c=e[S];c.parentNode&&c.parentNode.removeChild(c)}},nga=/\s+/,iJ=void 0;iJ=qf?ZI?40:1e3:-1;var oga=0,pga=void 0,de=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qf?document.head:null,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ic(this,t),this.getImportRuleTag=function(){var t=e.importRuleTag;if(void 0!==t)return t;var r=e.tags[0];return e.importRuleTag=hJ(e.target,r?r.styleTag:null,e.forceServer,!0)},oga+=1,this.id=oga,this.forceServer=s,this.target=s?null:r,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}return t.prototype.rehydrate=function(){if(!qf||this.forceServer)return this;var t=[],e=[],r=!1,s=document.querySelectorAll("style["+fj+"]["+Um+"=\"4.1.3\"]"),n=s.length;if(!n)return this;for(var $=0;$<n;$+=1){var a=s[$];r||(r=!!a.getAttribute(Wfa));for(var o,i=(a.getAttribute(fj)||"").trim().split(nga),S=i.length,l=0;l<S;l+=1)o=i[l],this.rehydratedNames[o]=!0;e.push.apply(e,$fa(a.textContent)),t.push(a)}var c=e.length;if(!c)return this;var v=this.makeTag(null);mga(v,t,e),this.capacity=Math.max(1,iJ-c),this.tags.push(v);for(var p=0;p<c;p+=1)this.tagMap[e[p].componentId]=v;return this},t.reset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pga=new t(void 0,e).rehydrate()},t.prototype.clone=function(){var e=new t(this.target,this.forceServer);return this.clones.push(e),e.tags=this.tags.map(function(t){for(var r=t.getIds(),s=t.clone(),n=0;n<r.length;n+=1)e.tagMap[r[n]]=s;return s}),e.rehydratedNames=Fb({},this.rehydratedNames),e.deferred=Fb({},this.deferred),e},t.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(t){t.sealed=!0})},t.prototype.makeTag=function(t){var e=t?t.styleTag:null;return hJ(this.target,e,this.forceServer,!1,this.getImportRuleTag)},t.prototype.getTagForId=function(t){var e=this.tagMap[t];if(void 0!==e&&!e.sealed)return e;var r=this.tags[this.tags.length-1];return this.capacity-=1,0===this.capacity&&(this.capacity=iJ,r=this.makeTag(r),this.tags.push(r)),this.tagMap[t]=r},t.prototype.hasId=function(t){return void 0!==this.tagMap[t]},t.prototype.hasNameForId=function(t,e){if(void 0===this.ignoreRehydratedNames[t]&&this.rehydratedNames[e])return!0;var r=this.tagMap[t];return void 0!==r&&r.hasNameForId(t,e)},t.prototype.deferredInject=function(t,e){if(void 0===this.tagMap[t]){for(var r=this.clones,s=0;s<r.length;s+=1)r[s].deferredInject(t,e);this.getTagForId(t).insertMarker(t),this.deferred[t]=e}},t.prototype.inject=function(t,e,r){for(var s=this.clones,n=0;n<s.length;n+=1)s[n].inject(t,e,r);var $=this.getTagForId(t);if(void 0!==this.deferred[t]){var a=this.deferred[t].concat(e);$.insertRules(t,a,r),this.deferred[t]=void 0}else $.insertRules(t,e,r)},t.prototype.remove=function(t){var e=this.tagMap[t];if(void 0!==e){for(var r=this.clones,s=0;s<r.length;s+=1)r[s].remove(t);e.removeRules(t),this.ignoreRehydratedNames[t]=!0,this.deferred[t]=void 0}},t.prototype.toHTML=function(){return this.tags.map(function(t){return t.toHTML()}).join("")},t.prototype.toReactElements=function(){var t=this.id;return this.tags.map(function(e,r){var s="sc-"+t+"-"+r;return E.cloneElement(e.toElement(),{key:s})})},Ufa(t,null,[{key:"master",get:function(){return pga||(pga=new t().rehydrate())}},{key:"instance",get:function(){return t.master}}]),t}(),qga=function(){function t(e,r){var s=this;Ic(this,t),this.inject=function(t){t.hasNameForId(s.id,s.name)||t.inject(s.id,s.rules,s.name)},this.toString=function(){throw new mc(12,String(s.name))},this.name=e,this.rules=r,this.id="sc-keyframes-"+e}return t.prototype.getName=function(){return this.name},t}(),rga=/([A-Z])/g,sga=/^ms-/;function tga(t){return t.replace(rga,"-$1").toLowerCase().replace(sga,"-ms-")}function uga(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||t in Pfa?String(e).trim():e+"px"}var jJ=function(t){return null==t||!1===t||""===t},vga=function t(e,r){var s=Object.keys(e).filter(function(t){return!jJ(e[t])}).map(function(r){return Mu(e[r])?t(e[r],r):tga(r)+": "+uga(r,e[r])+";"}).join(" ");return r?r+" {\n  "+s+"\n}":s};function ch(t,e,r){if(Array.isArray(t)){for(var s,n=[],$=0,a=t.length;$<a;$+=1)null!==(s=ch(t[$],e,r))&&(Array.isArray(s)?n.push.apply(n,s):n.push(s));return n}if(jJ(t))return null;if(Tm(t))return"."+t.styledComponentId;if(ce(t)){if(e){var o=!1;try{Vg.isElement(new t(e))&&(o=!0)}catch(i){}if(o)throw new mc(13,Nu(t));return ch(t(e),e,r)}return t}return t instanceof qga?r?(t.inject(r),t.getName()):t:Mu(t)?vga(t):t.toString()}function Xu(t){for(var e=arguments.length,r=Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return ce(t)||Mu(t)?ch(XI(Sm,[t].concat(r))):ch(XI(t,r))}function Yu(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ej;if(!Vg.isValidElementType(e))throw new mc(1,String(e));var s=function(){return t(e,r,Xu.apply(void 0,arguments))};return s.withConfig=function(s){return Yu(t,e,Fb({},r,s))},s.attrs=function(s){return Yu(t,e,Fb({},r,{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},s}function kJ(t){for(var e,r=0|t.length,s=0|r,n=0;r>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(n)|(255&t.charCodeAt(++n))<<8|(255&t.charCodeAt(++n))<<16|(255&t.charCodeAt(++n))<<24))+((1540483477*(e>>>16)&65535)<<16),s=1540483477*(65535&s)+((1540483477*(s>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),r-=4,++n;switch(r){case 3:s^=(255&t.charCodeAt(n+2))<<16;case 2:s^=(255&t.charCodeAt(n+1))<<8;case 1:s=1540483477*(65535&(s^=255&t.charCodeAt(n)))+((1540483477*(s>>>16)&65535)<<16);}return((s=1540483477*(65535&(s^=s>>>13))+((1540483477*(s>>>16)&65535)<<16))^s>>>15)>>>0}var Wm=52,lJ=function(t){return String.fromCharCode(t+(t>25?39:97))};function wga(t){var e="",r=void 0;for(r=t;r>Wm;r=Math.floor(r/Wm))e=lJ(r%Wm)+e;return lJ(r%Wm)+e}function xga(t){for(var e in t)if(ce(t[e]))return!0;return!1}function Zu(t,e){for(var r=0;r<t.length;r+=1){var s=t[r];if(Array.isArray(s)&&!Zu(s,e))return!1;if(ce(s)&&!Tm(s))return!1}return!e.some(function(t){return ce(t)||xga(t)})}var yga,zga=!1,mJ=function(t){return wga(kJ(t))},nJ=function(){function t(e,r,s){Ic(this,t),this.rules=e,this.isStatic=!zga&&Zu(e,r),this.componentId=s,de.master.hasId(s)||de.master.deferredInject(s,[])}return t.prototype.generateAndInjectStyles=function(t,e){var r=this.isStatic,s=this.componentId,n=this.lastClassName;if(qf&&r&&"string"==typeof n&&e.hasNameForId(s,n))return n;var $=ch(this.rules,t,e),a=mJ(this.componentId+$.join(""));return e.hasNameForId(s,a)||e.inject(this.componentId,eJ($,"."+a,void 0,s),a),this.lastClassName=a,a},t.generateName=function(t){return mJ(t)},t}(),oJ=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ej,s=!!r&&t.theme===r.theme;return t.theme&&!s?t.theme:e||r.theme},Aga=/[[\].#*$><+~=|^:(),"'`-]+/g,Bga=/(^-|-$)/g;function $u(t){return t.replace(Aga,"-").replace(Bga,"")}function Xm(t){return"string"==typeof t&&!0}function Cga(t){return Xm(t)?"styled."+t:"Styled("+Nu(t)+")"}var pJ={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDerivedStateFromProps:!0,propTypes:!0,type:!0},Dga={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qJ=((yga={})[Vg.ForwardRef]={$$typeof:!0,render:!0},yga),Ega=Object.defineProperty,Fga=Object.getOwnPropertyNames,rJ=Object.getOwnPropertySymbols,Gga=void 0===rJ?function(){return[]}:rJ,Hga=Object.getOwnPropertyDescriptor,Iga=Object.getPrototypeOf,Jga=Object.prototype,Kga=Array.prototype;function sJ(t,e,r){if("string"!=typeof e){var s=Iga(e);s&&s!==Jga&&sJ(t,s,r);for(var n=Kga.concat(Fga(e),Gga(e)),$=qJ[t.$$typeof]||pJ,a=qJ[e.$$typeof]||pJ,o=n.length,i=void 0,S=void 0;o--;)if(S=n[o],!(Dga[S]||r&&r[S]||a&&a[S]||$&&$[S])&&(i=Hga(e,S)))try{Ega(t,S,i)}catch(l){}return t}return t}function Lga(t){return!!(t&&t.prototype&&t.prototype.isReactComponent)}var _u=E.createContext(),tJ=_u.Consumer,Zia=function(t){function e(r){Ic(this,e);var s=bh(this,t.call(this,r));return s.getContext=WI(s.getContext.bind(s)),s.renderInner=s.renderInner.bind(s),s}return dj(e,t),e.prototype.render=function(){return this.props.children?ua.d.createElement(_u.Consumer,null,this.renderInner):null},e.prototype.renderInner=function(t){var e=this.getContext(this.props.theme,t);return ua.d.createElement(_u.Provider,{value:e},ua.d.Children.only(this.props.children))},e.prototype.getTheme=function(t,e){if(ce(t)){var r=t(e);return r}if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":YI(t)))throw new mc(8);return Fb({},e,t)},e.prototype.getContext=function(t,e){return this.getTheme(t,e)},e}(E.Component),$ia=function(){function t(){Ic(this,t),this.masterSheet=de.master,this.instance=this.masterSheet.clone(),this.sealed=!1}return t.prototype.seal=function(){if(!this.sealed){var t=this.masterSheet.clones.indexOf(this.instance);this.masterSheet.clones.splice(t,1),this.sealed=!0}},t.prototype.collectStyles=function(t){if(this.sealed)throw new mc(2);return ua.d.createElement(Mga,{sheet:this.instance},t)},t.prototype.getStyleTags=function(){return this.seal(),this.instance.toHTML()},t.prototype.getStyleElement=function(){return this.seal(),this.instance.toReactElements()},t.prototype.interleaveWithNodeStream=function(t){throw new mc(3)},t}(),uJ=E.createContext(),vJ=uJ.Consumer,Mga=function(t){function e(r){Ic(this,e);var s=bh(this,t.call(this,r));return s.getContext=WI(s.getContext),s}return dj(e,t),e.prototype.getContext=function(t,e){if(t)return t;if(e)return new de(e);throw new mc(4)},e.prototype.render=function(){var t=this.props,e=t.children,r=t.sheet,s=t.target;return ua.d.createElement(uJ.Provider,{value:this.getContext(r,s)},e)},e}(E.Component),_ia=new Set,wJ={};function Nga(t,e,r){var s="string"!=typeof e?"sc":$u(e),n=(wJ[s]||0)+1;wJ[s]=n;var $=s+"-"+t.generateName(s+n);return r?r+"-"+$:$}var Oga=function(t){function e(){Ic(this,e);var r=bh(this,t.call(this));return r.attrs={},r.renderOuter=r.renderOuter.bind(r),r.renderInner=r.renderInner.bind(r),r}return dj(e,t),e.prototype.render=function(){return ua.d.createElement(vJ,null,this.renderOuter)},e.prototype.renderOuter=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.master;return this.styleSheet=t,this.props.forwardedComponent.componentStyle.isStatic?this.renderInner():ua.d.createElement(tJ,null,this.renderInner)},e.prototype.renderInner=function(t){var e=this.props.forwardedComponent,r=e.componentStyle,s=e.defaultProps,n=(e.displayName,e.foldedComponentIds),$=e.styledComponentId,a=e.target,o=void 0;o=r.isStatic?this.generateAndInjectStyles(ej,this.props):void 0!==t?this.generateAndInjectStyles(oJ(this.props,t,s),this.props):this.generateAndInjectStyles(this.props.theme||ej,this.props);var i=this.props.as||this.attrs.as||a,S=Xm(i),l={},c=Fb({},this.attrs,this.props),v=void 0;for(v in c)"forwardedComponent"!==v&&"as"!==v&&("forwardedRef"===v?l.ref=c[v]:S&&!Tfa(v)||(l[v]=c[v]));return this.props.style&&this.attrs.style&&(l.style=Fb({},this.attrs.style,this.props.style)),l.className=Array.prototype.concat(n,this.props.className,$,this.attrs.className,o).filter(Boolean).join(" "),E.createElement(i,l)},e.prototype.buildExecutionContext=function(t,e,r){var s=this,n=Fb({},e,{theme:t});return r.length?(this.attrs={},r.forEach(function(t){var e=t,r=!1,$=void 0,a=void 0;for(a in ce(e)&&(e=e(n),r=!0),e)$=e[a],r||!ce($)||Lga($)||Tm($)||($=$(n)),s.attrs[a]=$,n[a]=$}),n):n},e.prototype.generateAndInjectStyles=function(t,e){var r=e.forwardedComponent,s=r.attrs,n=r.componentStyle;r.warnTooManyClasses;if(n.isStatic&&!s.length)return n.generateAndInjectStyles(ej,this.styleSheet);var $=n.generateAndInjectStyles(this.buildExecutionContext(t,e,s),this.styleSheet);return $},e}(E.Component);function xJ(t,e,r){var s=Tm(t),n=!Xm(t),$=e.displayName,a=void 0===$?Cga(t):$,o=e.componentId,i=void 0===o?Nga(nJ,e.displayName,e.parentComponentId):o,S=e.ParentComponent,l=void 0===S?Oga:S,c=e.attrs,v=void 0===c?Sm:c,p=e.displayName&&e.componentId?$u(e.displayName)+"-"+e.componentId:e.componentId||i,u=s&&t.attrs?Array.prototype.concat(t.attrs,v).filter(Boolean):v,d=new nJ(s?t.componentStyle.rules.concat(r):r,u,p),F=ua.d.forwardRef(function(t,e){return ua.d.createElement(l,Fb({},t,{forwardedComponent:F,forwardedRef:e}))});return F.attrs=u,F.componentStyle=d,F.displayName=a,F.foldedComponentIds=s?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Sm,F.styledComponentId=p,F.target=s?t.target:t,F.withComponent=function(t){var s=e.componentId,n=Vfa(e,["componentId"]),$=s&&s+"-"+(Xm(t)?t:$u(Nu(t)));return xJ(t,Fb({},n,{attrs:u,componentId:$,ParentComponent:l}),r)},F.toString=function(){return"."+F.styledComponentId},n&&sJ(F,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,styledComponentId:!0,target:!0,withComponent:!0}),F}var Pga=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ee=function(t){return Yu(xJ,t)};Pga.forEach(function(t){ee[t]=ee(t)});var Qga=function(){function t(e,r){Ic(this,t),this.rules=e,this.componentId=r,this.isStatic=Zu(e,Sm),de.master.hasId(r)||de.master.deferredInject(r,[])}return t.prototype.createStyles=function(t,e){var r=eJ(ch(this.rules,t,e),"");e.inject(this.componentId,r)},t.prototype.removeStyles=function(t){var e=this.componentId;t.hasId(e)&&t.remove(e)},t.prototype.renderStyles=function(t,e){this.removeStyles(e),this.createStyles(t,e)},t}();function yJ(t){for(var e=arguments.length,r=Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];var n=Xu.apply(void 0,[t].concat(r)),$="sc-global-"+kJ(JSON.stringify(n)),a=new Qga(n,$),o=function(t){function e(){Ic(this,e);var r=bh(this,t.call(this)),s=r.constructor,n=s.globalStyle,$=s.styledComponentId;return qf&&(window.scCGSHMRCache[$]=(window.scCGSHMRCache[$]||0)+1),r.state={globalStyle:n,styledComponentId:$},r}return dj(e,t),e.prototype.componentWillUnmount=function(){window.scCGSHMRCache[this.state.styledComponentId]&&(window.scCGSHMRCache[this.state.styledComponentId]-=1),0===window.scCGSHMRCache[this.state.styledComponentId]&&this.state.globalStyle.removeStyles(this.styleSheet)},e.prototype.render=function(){var t=this;return ua.d.createElement(vJ,null,function(e){t.styleSheet=e||de.master;var r=t.state.globalStyle;return r.isStatic?(r.renderStyles(Xfa,t.styleSheet),null):ua.d.createElement(tJ,null,function(e){var s=t.constructor.defaultProps,n=Fb({},t.props);return void 0!==e&&(n.theme=oJ(t.props,e,s)),r.renderStyles(n,t.styleSheet),null})})},e}(ua.d.Component);return o.globalStyle=a,o.styledComponentId=$,o}qf&&(window.scCGSHMRCache={});var Rga={};var av,Ym={},aja=arguments[0];var bv,Zm,bja,Sga=false;function Tga(){if(Sga)return;Sga=true;Zm={};bja=arguments[0];!function(e,t){if("function"==typeof bv&&bv.amd)bv(["exports","react"],t);else if(void 0!==Zm)t(Zm,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Audio=a.exports}}(Zm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Audio=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.Audio=function(e){return r.default.createElement("svg",{height:e.height,width:e.width,fill:e.color,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("g",{transform:"matrix(1 0 0 -1 0 80)"},r.default.createElement("rect",{width:"10",height:"20",rx:"3"},r.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("rect",{x:"15",width:"10",height:"80",rx:"3"},r.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("rect",{x:"30",width:"10",height:"50",rx:"3"},r.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("rect",{x:"45",width:"10",height:"30",rx:"3"},r.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}))))}})}var cv,$m,cja,Uga=false;function Vga(){if(Uga)return;Uga=true;$m={};cja=arguments[0];!function(e,t){if("function"==typeof cv&&cv.amd)cv(["exports","react"],t);else if(void 0!==$m)t($m,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.BallTriangle=a.exports}}($m,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.BallTriangle=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.BallTriangle=function(e){return r.default.createElement("svg",{height:e.height,width:e.width,stroke:e.color,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("g",{fill:"none",fillRule:"evenodd"},r.default.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},r.default.createElement("circle",{cx:"5",cy:"50",r:"5"},r.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"27",cy:"5",r:"5"},r.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"49",cy:"50",r:"5"},r.default.createElement("animate",{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"})))))}})}var dv,_m,dja,Wga=false;function Xga(){if(Wga)return;Wga=true;_m={};dja=arguments[0];!function(e,t){if("function"==typeof dv&&dv.amd)dv(["exports","react"],t);else if(void 0!==_m)t(_m,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Bars=a.exports}}(_m,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Bars=void 0;var a,i=(a=t)&&a.__esModule?a:{default:a};e.Bars=function(e){return i.default.createElement("svg",{width:e.height,height:e.width,fill:e.color,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},i.default.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},i.default.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},i.default.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},i.default.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},i.default.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))}})}var ev,an,eja,Yga=false;function Zga(){if(Yga)return;Yga=true;an={};eja=arguments[0];!function(e,t){if("function"==typeof ev&&ev.amd)ev(["exports","react"],t);else if(void 0!==an)t(an,(V(),E));else{var r={exports:{}};t(r.exports,e.react),e.Circles=r.exports}}(an,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Circles=void 0;var r,a=(r=t)&&r.__esModule?r:{default:r};e.Circles=function(e){return a.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 135 135",xmlns:"http://www.w3.org/2000/svg",fill:e.color},a.default.createElement("path",{d:"M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"-360 67 67",dur:"2.5s",repeatCount:"indefinite"})),a.default.createElement("path",{d:"M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 67 67",to:"360 67 67",dur:"8s",repeatCount:"indefinite"})))}})}var fv,bn,fja,$ga=false;function _ga(){if($ga)return;$ga=true;bn={};fja=arguments[0];!function(e,t){if("function"==typeof fv&&fv.amd)fv(["exports","react"],t);else if(void 0!==bn)t(bn,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Grid=a.exports}}(bn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Grid=void 0;var a,i=(a=t)&&a.__esModule?a:{default:a};e.Grid=function(e){return i.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 105 105",fill:e.color},i.default.createElement("circle",{cx:"12.5",cy:"12.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"12.5",cy:"52.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"52.5",cy:"12.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"52.5",cy:"52.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"92.5",cy:"12.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"92.5",cy:"52.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"12.5",cy:"92.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"52.5",cy:"92.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"92.5",cy:"92.5",r:"12.5"},i.default.createElement("animate",{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"})))}})}var gv,cn,gja,aha=false;function bha(){if(aha)return;aha=true;cn={};gja=arguments[0];!function(e,t){if("function"==typeof gv&&gv.amd)gv(["exports","react"],t);else if(void 0!==cn)t(cn,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Hearts=a.exports}}(cn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Hearts=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.Hearts=function(e){return r.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg",fill:e.color},r.default.createElement("path",{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z",attributeName:"fill-opacity",from:"0",to:".5"},r.default.createElement("animate",{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("path",{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z",attributeName:"fill-opacity",from:"0",to:".5"},r.default.createElement("animate",{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("path",{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"}))}})}var hv,dn,hja,cha=false;function dha(){if(cha)return;cha=true;dn={};hja=arguments[0];!function(e,t){if("function"==typeof hv&&hv.amd)hv(["exports","react"],t);else if(void 0!==dn)t(dn,(V(),E));else{var r={exports:{}};t(r.exports,e.react),e.Oval=r.exports}}(dn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Oval=void 0;var r,a=(r=t)&&r.__esModule?r:{default:r};e.Oval=function(e){return a.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:e.color},a.default.createElement("g",{fill:"none",fillRule:"evenodd"},a.default.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},a.default.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),a.default.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))))}})}var iv,en,ija,eha=false;function fha(){if(eha)return;eha=true;en={};ija=arguments[0];!function(e,t){if("function"==typeof iv&&iv.amd)iv(["exports","react"],t);else if(void 0!==en)t(en,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Puff=a.exports}}(en,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Puff=void 0;var a,i=(a=t)&&a.__esModule?a:{default:a};e.Puff=function(e){return i.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg",stroke:e.color},i.default.createElement("g",{fill:"none",fillRule:"evenodd",strokeWidth:"2"},i.default.createElement("circle",{cx:"22",cy:"22",r:"1"},i.default.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"strokeOpacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"})),i.default.createElement("circle",{cx:"22",cy:"22",r:"1"},i.default.createElement("animate",{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}),i.default.createElement("animate",{attributeName:"strokeOpacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}))))}})}var jv,fn,jja,gha=false;function hha(){if(gha)return;gha=true;fn={};jja=arguments[0];!function(e,t){if("function"==typeof jv&&jv.amd)jv(["exports","react"],t);else if(void 0!==fn)t(fn,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.Rings=a.exports}}(fn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Rings=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.Rings=function(e){return r.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:e.color},r.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)",strokeWidth:"2"},r.default.createElement("circle",{cx:"22",cy:"22",r:"6",strokeOpacity:"0"},r.default.createElement("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"22",cy:"22",r:"6",strokeOpacity:"0"},r.default.createElement("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"strokeOpacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"strokeWidth",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"22",cy:"22",r:"8"},r.default.createElement("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"}))))}})}var kv,gn,kja,iha=false;function jha(){if(iha)return;iha=true;gn={};kja=arguments[0];!function(e,t){if("function"==typeof kv&&kv.amd)kv(["exports","react"],t);else if(void 0!==gn)t(gn,(V(),E));else{var r={exports:{}};t(r.exports,e.react),e.TailSpin=r.exports}}(gn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.TailSpin=void 0;var r,a=(r=t)&&r.__esModule?r:{default:r};e.TailSpin=function(e){return a.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("defs",null,a.default.createElement("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"},a.default.createElement("stop",{stopColor:e.color,stopOpacity:"0",offset:"0%"}),a.default.createElement("stop",{stopColor:e.color,stopOpacity:".631",offset:"63.146%"}),a.default.createElement("stop",{stopColor:e.color,offset:"100%"}))),a.default.createElement("g",{fill:"none",fillRule:"evenodd"},a.default.createElement("g",{transform:"translate(1 1)"},a.default.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:e.color,strokeWidth:"2"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})),a.default.createElement("circle",{fill:"#fff",cx:"36",cy:"18",r:"1"},a.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})))))}})}var lv,hn,lja,kha=false;function lha(){if(kha)return;kha=true;hn={};lja=arguments[0];!function(e,t){if("function"==typeof lv&&lv.amd)lv(["exports","react"],t);else if(void 0!==hn)t(hn,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.ThreeDots=a.exports}}(hn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.ThreeDots=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.ThreeDots=function(e){return r.default.createElement("svg",{width:e.width,height:e.height,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color},r.default.createElement("circle",{cx:"15",cy:"15",r:"15"},r.default.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"fillOpacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"60",cy:"15",r:"9",attributeName:"fillOpacity",from:"1",to:"0.3"},r.default.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"fillOpacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),r.default.createElement("circle",{cx:"105",cy:"15",r:"15"},r.default.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),r.default.createElement("animate",{attributeName:"fillOpacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}})}var mv,jn,mja,mha=false;function nha(){if(mha)return;mha=true;jn={};mja=arguments[0];!function(e,t){if("function"==typeof mv&&mv.amd)mv(["exports","react"],t);else if(void 0!==jn)t(jn,(V(),E));else{var r={exports:{}};t(r.exports,e.react),e.Watch=r.exports}}(jn,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;var r,o=(r=t)&&r.__esModule?r:{default:r};e.Watch=function(e){return o.default.createElement("svg",{width:e.width,height:e.height,version:"1.1",id:"L2",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve"},o.default.createElement("circle",{fill:"none",stroke:e.color,strokeWidth:"4",strokeMiterlimit:"10",cx:"50",cy:"50",r:"48"}),o.default.createElement("line",{fill:"none",strokeLinecap:"round",stroke:e.color,strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"85",y2:"50.5"},o.default.createElement("animateTransform",{attributeName:"transform",dur:"2s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})),o.default.createElement("line",{fill:"none",strokeLinecap:"round",stroke:e.color,strokeWidth:"4",strokeMiterlimit:"10",x1:"50",y1:"50",x2:"49.5",y2:"74"},o.default.createElement("animateTransform",{attributeName:"transform",dur:"15s",type:"rotate",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})))}})}var nv,kn,nja,oha=false;function pha(){if(oha)return;oha=true;kn={};nja=arguments[0];!function(e,r){if("function"==typeof nv&&nv.amd)nv(["exports","react"],r);else if(void 0!==kn)r(kn,(V(),E));else{var t={exports:{}};r(t.exports,e.react),e.RevolvingDot=t.exports}}(kn,function(e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.RevolvingDot=void 0;var t,o=(t=r)&&t.__esModule?t:{default:t};e.RevolvingDot=function(e){return o.default.createElement("svg",{version:"1.1",width:e.width,height:e.height,id:"L3",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve"},o.default.createElement("circle",{fill:"none",stroke:e.color,strokeWidth:"4",cx:"50",cy:"50",r:"44",style:{opacity:.5}}),o.default.createElement("circle",{fill:e.color,stroke:e.color,strokeWidth:"3",cx:"8",cy:"54",r:"6"},o.default.createElement("animateTransform",{attributeName:"transform",dur:"2s",type:"rotate",from:"0 50 48",to:"360 50 52",repeatCount:"indefinite"})))}})}var qha=false;function rha(){if(qha)return;qha=true}var ov,ln,oja,sha=false;function tha(){if(sha)return;sha=true;ln={};oja=arguments[0];!function(e,a){if("function"==typeof ov&&ov.amd)ov(["exports","react","./css/CradleLoader.css"],a);else if(void 0!==ln)a(ln,(V(),E),(rha(),{}));else{var l={exports:{}};a(l.exports,e.react,e.CradleLoader),e.CradleLoader=l.exports}}(ln,function(e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.CradleLoader=void 0;var l,r=(l=a)&&l.__esModule?l:{default:l};e.CradleLoader=function(){return r.default.createElement("div",{"aria-busy":"true","aria-label":"Loading",role:"progressbar",className:"container"},r.default.createElement("div",{className:"react-spinner-loader-swing"},r.default.createElement("div",{className:"react-spinner-loader-swing-l"}),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",{className:"react-spinner-loader-swing-r"})),r.default.createElement("div",{className:"react-spinner-loader-shadow"},r.default.createElement("div",{className:"react-spinner-loader-shadow-l"}),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",null),r.default.createElement("div",{className:"react-spinner-loader-shadow-r"})))}})}var uha=false;function vha(){if(uha)return;uha=true}var pv,mn,pja,wha=false;function xha(){if(wha)return;wha=true;mn={};pja=arguments[0];!function(e,r){if("function"==typeof pv&&pv.amd)pv(["exports","react","./css/Triangle.css"],r);else if(void 0!==mn)r(mn,(V(),E),(vha(),{}));else{var t={exports:{}};r(t.exports,e.react,e.Triangle),e.Triangle=t.exports}}(mn,function(e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Triangle=void 0;var t,a=(t=r)&&t.__esModule?t:{default:t};e.Triangle=function(e){return a.default.createElement("div",{className:"react-spinner-loader-svg"},a.default.createElement("svg",{id:"triangle",width:e.height,height:e.height,viewBox:"-3 -4 39 39"},a.default.createElement("polygon",{fill:"transparent",stroke:e.color,strokeWidth:"1",points:"16,0 32,32 0,32"})))}})}var yha=false;function zha(){if(yha)return;yha=true}var qv,nn,qja,Aha=false;function Bha(){if(Aha)return;Aha=true;nn={};qja=arguments[0];!function(e,r){if("function"==typeof qv&&qv.amd)qv(["exports","react","prop-types","./css/Plane.css"],r);else if(void 0!==nn)r(nn,(V(),E),(Rg(),Li),(zha(),{}));else{var a={exports:{}};r(a.exports,e.react,e.propTypes,e.Plane),e.Plane=a.exports}}(nn,function(e,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.Plane=void 0;var t=s(r),o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var l=e.Plane=function(e){return t.default.createElement("svg",{className:"react-spinner-loader-svg-calLoader",xmlns:"http://www.w3.org/2000/svg",width:"230",height:"230"},t.default.createElement("path",{className:"react-spinner-loader-cal-loader__path",style:{stroke:e.secondaryColor},d:"M86.429 40c63.616-20.04 101.511 25.08 107.265 61.93 6.487 41.54-18.593 76.99-50.6 87.643-59.46 19.791-101.262-23.577-107.142-62.616C29.398 83.441 59.945 48.343 86.43 40z",fill:"none",stroke:"#0099cc",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"10 10 10 10 10 10 10 432",strokeDashoffset:"77"}),t.default.createElement("path",{className:"cal-loader__plane",style:{fill:e.color},d:"M141.493 37.93c-1.087-.927-2.942-2.002-4.32-2.501-2.259-.824-3.252-.955-9.293-1.172-4.017-.146-5.197-.23-5.47-.37-.766-.407-1.526-1.448-7.114-9.773-4.8-7.145-5.344-7.914-6.327-8.976-1.214-1.306-1.396-1.378-3.79-1.473-1.036-.04-2-.043-2.153-.002-.353.1-.87.586-1 .952-.139.399-.076.71.431 2.22.241.72 1.029 3.386 1.742 5.918 1.644 5.844 2.378 8.343 2.863 9.705.206.601.33 1.1.275 1.125-.24.097-10.56 1.066-11.014 1.032a3.532 3.532 0 0 1-1.002-.276l-.487-.246-2.044-2.613c-2.234-2.87-2.228-2.864-3.35-3.309-.717-.287-2.82-.386-3.276-.163-.457.237-.727.644-.737 1.152-.018.39.167.805 1.916 4.373 1.06 2.166 1.964 4.083 1.998 4.27.04.179.004.521-.076.75-.093.228-1.109 2.064-2.269 4.088-1.921 3.34-2.11 3.711-2.123 4.107-.008.25.061.557.168.725.328.512.72.644 1.966.676 1.32.029 2.352-.236 3.05-.762.222-.171 1.275-1.313 2.412-2.611 1.918-2.185 2.048-2.32 2.45-2.505.241-.111.601-.232.82-.271.267-.058 2.213.201 5.912.8 3.036.48 5.525.894 5.518.914 0 .026-.121.306-.27.638-.54 1.198-1.515 3.842-3.35 9.021-1.029 2.913-2.107 5.897-2.4 6.62-.703 1.748-.725 1.833-.594 2.286.137.46.45.833.872 1.012.41.177 3.823.24 4.37.085.852-.25 1.44-.688 2.312-1.724 1.166-1.39 3.169-3.948 6.771-8.661 5.8-7.583 6.561-8.49 7.387-8.702.233-.065 2.828-.056 5.784.011 5.827.138 6.64.09 8.62-.5 2.24-.67 4.035-1.65 5.517-3.016 1.136-1.054 1.135-1.014.207-1.962-.357-.38-.767-.777-.902-.893z",fill:"#000033"}))};l.propTypes={secondaryColor:o.default.string,color:o.default.string},l.defaultProps={secondaryColor:"grey",color:"#FFA500"}})}var rv,on,rja,Cha=false;function Dha(){if(Cha)return;Cha=true;on={};rja=arguments[0];!function(e,t){if("function"==typeof rv&&rv.amd)rv(["exports","react"],t);else if(void 0!==on)t(on,(V(),E));else{var a={exports:{}};t(a.exports,e.react),e.MutatingDot=a.exports}}(on,function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.MutatingDot=void 0;var a,r=(a=t)&&a.__esModule?a:{default:a};e.MutatingDot=function(e){return r.default.createElement("svg",{id:"goo-loader",width:e.width,height:e.height},r.default.createElement("filter",{id:"fancy-goo"},r.default.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"6",result:"blur"}),r.default.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9",result:"goo"}),r.default.createElement("feComposite",{in:"SourceGraphic",in2:"goo",operator:"atop"})),r.default.createElement("g",{filter:"url(#fancy-goo)"},r.default.createElement("animateTransform",{id:"mainAnim",attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 50 50",to:"359 50 50",dur:"1.2s",repeatCount:"indefinite"}),r.default.createElement("circle",{cx:"50%",cy:"40",r:"11"},r.default.createElement("animate",{id:"cAnim1",attributeType:"XML",attributeName:"cy",dur:"0.6s",begin:"0;cAnim1.end+0.2s",calcMode:"spline",values:"40;20;40",keyTimes:"0;0.3;1",keySplines:"0.175, 0.885, 0.320, 1.5; 0.175, 0.885, 0.320, 1.5"})),r.default.createElement("circle",{cx:"50%",cy:"60",r:"11"},r.default.createElement("animate",{id:"cAnim2",attributeType:"XML",attributeName:"cy",dur:"0.6s",begin:"0.4s;cAnim2.end+0.2s",calcMode:"spline",values:"60;80;60",keyTimes:"0;0.3;1",keySplines:"0.175, 0.885, 0.320, 1.5;0.175, 0.885, 0.320, 1.5"}))))}})}!function(e,r){if("function"==typeof av&&av.amd)av(["exports","react","prop-types","./loader/Audio","./loader/BallTriangle","./loader/Bars","./loader/Circles","./loader/Grid","./loader/Hearts","./loader/Oval","./loader/Puff","./loader/Rings","./loader/TailSpin","./loader/ThreeDots","./loader/Watch","./loader/RevolvingDot","./loader/CradleLoader","./loader/Triangle","./loader/Plane","./loader/MutatingDot"],r);else if(void 0!==Ym)r(Ym,(V(),E),(Rg(),Li),(Tga(),Zm),(Vga(),$m),(Xga(),_m),(Zga(),an),(_ga(),bn),(bha(),cn),(dha(),dn),(fha(),en),(hha(),fn),(jha(),gn),(lha(),hn),(nha(),jn),(pha(),kn),(tha(),ln),(xha(),mn),(Bha(),nn),(Dha(),on));else{var t={exports:{}};r(t.exports,e.react,e.propTypes,e.Audio,e.BallTriangle,e.Bars,e.Circles,e.Grid,e.Hearts,e.Oval,e.Puff,e.Rings,e.TailSpin,e.ThreeDots,e.Watch,e.RevolvingDot,e.CradleLoader,e.Triangle,e.Plane,e.MutatingDot),e.index=t.exports}}(Ym,function(e,r,t,a,l,n,o,u,i,p,s,c,d,f,m,$,E,g,v,h){Object.defineProperty(e,"__esModule",{value:!0});var y=T(r),Z=T(t);function T(e){return e&&e.__esModule?e:{default:e}}var b=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(r,t,a){return t&&e(r.prototype,t),a&&e(r,a),r}}();function q(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}var O=function(e){function r(){var e,t,Z;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);for(var T=arguments.length,b=Array(T),O=0;O<T;O++)b[O]=arguments[O];return t=Z=q(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(b))),Z.svgRenderer=function(e){switch(e){case"Audio":return y.default.createElement(a.Audio,Z.props);case"Ball-Triangle":return y.default.createElement(l.BallTriangle,Z.props);case"Bars":return y.default.createElement(n.Bars,Z.props);case"Circles":return y.default.createElement(o.Circles,Z.props);case"Grid":return y.default.createElement(u.Grid,Z.props);case"Hearts":return y.default.createElement(i.Hearts,Z.props);case"Oval":return y.default.createElement(p.Oval,Z.props);case"Puff":return y.default.createElement(s.Puff,Z.props);case"Rings":return y.default.createElement(c.Rings,Z.props);case"TailSpin":return y.default.createElement(d.TailSpin,Z.props);case"ThreeDots":return y.default.createElement(f.ThreeDots,Z.props);case"Watch":return y.default.createElement(m.Watch,Z.props);case"RevolvingDot":return y.default.createElement($.RevolvingDot,Z.props);case"CradleLoader":return y.default.createElement(E.CradleLoader,Z.props);case"Triangle":return y.default.createElement(g.Triangle,Z.props);case"Plane":return y.default.createElement(v.Plane,Z.props);case"MutatingDot":return y.default.createElement(h.MutatingDot,Z.props);default:return y.default.createElement("div",null,y.default.createElement("span",{style:{color:"Green"}},"LOADING"),y.default.createElement("small",null,y.default.createElement("i",null,y.default.createElement("br",null),"Note:No specific svg type exist")));}},q(Z,t)}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,y.default.Component),b(r,[{key:"render",value:function(){var e=this.props.type;return y.default.createElement("div",{className:this.props.style},this.svgRenderer(e))}}]),r}();O.propTypes={color:Z.default.string,type:Z.default.string,height:Z.default.oneOfType([Z.default.number,Z.default.string]),width:Z.default.oneOfType([Z.default.number,Z.default.string]),style:Z.default.shape({})},O.defaultProps={color:"#71238",type:"Audio",height:80,width:80},e.default=O});Rga=Ym;var Eha=nc(Rga);var Fha,Gha=cj&&cj.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Hha=cj&&cj.__assign||function(){return(Hha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},zJ=ee(Eha.d).attrs(function(e){return Hha({},e,{type:"MutatingDot"})})(Fha||(Fha=Gha(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (max-width: 768px) {\n    height: auto;\n  }\n"],["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media screen and (max-width: 768px) {\n    height: auto;\n  }\n"])));cj.Spinner=zJ;var sv={};var Iha,Jha=sv&&sv.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},AJ=ee.img(Iha||(Iha=Jha(["\n  max-width: 100%;\n  max-height: 100%;\n  display: block;\n"],["\n  max-width: 100%;\n  max-height: 100%;\n  display: block;\n"])));sv.ResponsiveImage=AJ;V();var Kha=Ku&&Ku.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lha=function(e){function t(t){var r=e.call(this,t)||this;return r.imgRef=E.createRef(),r}return Kha(t,e),t.prototype.checkImgLoad=function(){this.imgRef.current.complete&&this.props.onLoad()},t.prototype.componentDidMount=function(){this.checkImgLoad()},t.prototype.componentDidUpdate=function(){this.checkImgLoad()},t.prototype.render=function(){return E.createElement(E.Fragment,null,E.createElement(AJ,{ref:this.imgRef,onLoad:this.checkImgLoad.bind(this),onError:function(e){return window.alert(e)},src:this.props.src,style:{visibility:this.props.loading?"hidden":"visible"},alt:"Diagram preview"}),this.props.loading&&E.createElement(zJ,null))},t}(E.Component),Mha=function(e){return{src:e.url+"?raw",loading:!e.loaded}},Nha=function(e){return{onLoad:function(){e(Yea())}}},BJ=sH(Mha,Nha)(Lha);Ku.Preview=BJ;V();var Oha=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}();function Pha(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Qha(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DJ=function(t){function e(){var t,r,o;Pha(this,e);for(var n=arguments.length,s=Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=o=CJ(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),o.state={bootstrapped:!1},o.handlePersistorState=function(){o.props.persistor.getState().bootstrapped&&(o.props.onBeforeLift?Promise.resolve(o.props.onBeforeLift()).then(function(){return o.setState({bootstrapped:!0})}).catch(function(){return o.setState({bootstrapped:!0})}):o.setState({bootstrapped:!0}),o._unsubscribe&&o._unsubscribe())},CJ(o,r)}return Qha(e,E.PureComponent),Oha(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}();DJ.defaultProps={loading:null};var tv={};var Rha,Sha=tv&&tv.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},EJ=ee.header(Rha||(Rha=Sha(["\n  position: fixed;\n  z-index: 100;\n  bottom: 10px;\n  right: 10px;\n"],["\n  position: fixed;\n  z-index: 100;\n  bottom: 10px;\n  right: 10px;\n"])));tv.Header=EJ;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});var FJ=(vv=void 0,HJ=rf.reset=vv,rf.Reset=HJ);rf.default=FJ;function Tha(){var e=GJ(["",""]);return Tha=function(){return e},e}function Uha(){var e=GJ(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v4.0 | 20180602\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"]);return Uha=function(){return e},e}function GJ(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var uv=(0,Xu)(Uha()),vv=uv;rf.reset=vv;var Vha=(0,yJ)(Tha(),uv),HJ=Vha;rf.Reset=HJ;var Wha=uv;FJ=Wha,rf.default=FJ;var wv={};var Xha,Yha=wv&&wv.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},IJ=ee.div(Xha||(Xha=Yha(["\n  display: flex;\n  height: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n  }\n"],["\n  display: flex;\n  height: 100%;\n\n  @media screen and (max-width: 768px) {\n    flex-direction: column;\n  }\n"])));wv.Container=IJ;var xv={};var Zha,$ha=xv&&xv.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},yv=ee.section(Zha||(Zha=$ha(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  flex-direction: column;\n\n  &:first-of-type {\n    flex: 0.45;\n    max-width: 480px;\n    background: black;\n\n    @media screen and (max-width: 768px) {\n      max-width: 100%;\n      min-height: 240px;\n    }\n  }\n\n  &:last-of-type {\n    position: relative;\n  }\n"],["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  flex-direction: column;\n\n  &:first-of-type {\n    flex: 0.45;\n    max-width: 480px;\n    background: black;\n\n    @media screen and (max-width: 768px) {\n      max-width: 100%;\n      min-height: 240px;\n    }\n  }\n\n  &:last-of-type {\n    position: relative;\n  }\n"])));xv.Section=yv;var hj={};var _ha={};_ha="/arkit.266087f6.svg";var aia=nc(_ha);var bia,cia=hj&&hj.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},dia=hj&&hj.__assign||function(){return(dia=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},JJ=ee.a.attrs(function(t){return dia({},t,{href:"https://www.npmjs.com/arkit",target:"_blank"})})(bia||(bia=cia(["\n  background: url(",") no-repeat bottom center;\n  background-size: contain;\n  opacity: 0.3;\n  display: block;\n  width: 33vw;\n  height: 60px;\n  max-width: 180px;\n  transition: 200ms all ease-in-out;\n\n  &:hover {\n    opacity: 1;\n  }\n"],["\n  background: url(",") no-repeat bottom center;\n  background-size: contain;\n  opacity: 0.3;\n  display: block;\n  width: 33vw;\n  height: 60px;\n  max-width: 180px;\n  transition: 200ms all ease-in-out;\n\n  &:hover {\n    opacity: 1;\n  }\n"])),aia.d);hj.Logo=JJ;V();var eia,fia=dh&&dh.__makeTemplateObject||function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e},gia=yJ(eia||(eia=fia(["\n  ","\n  \n  html,\n  body,\n  main {\n    overflow: hidden;\n    height: 100%;\n  }\n"],["\n  ","\n  \n  html,\n  body,\n  main {\n    overflow: hidden;\n    height: 100%;\n  }\n"])),vv);iK.render(E.createElement(fH,{store:UI},E.createElement(DJ,{persistor:Nfa},E.createElement(gia,null),E.createElement(IJ,null,E.createElement(EJ,null,E.createElement(JJ,null)),E.createElement(yv,null,E.createElement(efa,null)),E.createElement(yv,null,E.createElement(BJ,null))))),document.querySelector("main"));if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=dh}else if(typeof define==="function"&&define.amd){define(function(){return dh})}return{"kBwH":dh};});