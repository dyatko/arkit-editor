{"version":3,"sources":["../node_modules/monaco-editor/esm/vs/language/typescript/workerManager.js","../node_modules/monaco-editor/esm/vs/language/typescript/languageFeatures.js","../node_modules/monaco-editor/esm/vs/language/typescript/tsMode.js","../node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","WorkerManager","modeId","defaults","_this","_modeId","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","_updateExtraLibsToken","_extraLibsChangeListener","onDidExtraLibsChange","_updateExtraLibs","prototype","dispose","_client","clearInterval","myToken","proxy","_a","getProxy","updateExtraLibs","getExtraLibs","maxIdleTime","getWorkerMaxIdleTime","timePassedSinceLastUsed","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","createData","compilerOptions","getCompilerOptions","extraLibs","p","getEagerModelSync","worker","withSyncedResources","getModels","filter","model","getModeId","map","uri","getLanguageServiceWorker","resources","_i","arguments","client","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","hasOwnProperty","__","constructor","create","Uri","Range","IndentStyle","flattenDiagnosticMessageText","messageText","newLine","diagnosticChain","indent","i","displayPartsToString","displayParts","displayPart","text","join","Adapter","_positionToOffset","position","getModel","getOffsetAt","_offsetToPosition","offset","getPositionAt","_textSpanToRange","span","p1","start","p2","startLineNumber","lineNumber","startColumn","column","endLineNumber","endColumn","DiagnostcsAdapter","_super","_selector","_disposables","_listener","onModelAdd","handle","changeSubscription","onDidChangeContent","clearTimeout","setTimeout","_doValidate","toString","onModelRemoved","setModelMarkers","key","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","recomputeDiagostics","forEach","resource","promises","getDiagnosticsOptions","noSyntaxValidation","noSemanticValidation","getSyntacticDiagnostics","getSemanticDiagnostics","all","diagnostics","markers","reduce","c","concat","_convertDiagnostics","undefined","err","console","error","diag","_b","severity","MarkerSeverity","Error","message","SuggestAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","_context","token","wordInfo","getWordUntilPosition","wordRange","getCompletionsAtPosition","info","suggestions","entries","entry","range","replacementSpan","name","insertText","sortText","kind","convertKind","resolveCompletionItem","_model","_position","item","myItem","getCompletionEntryDetails","details","detail","documentation","Kind","primitiveType","keyword","languages","CompletionItemKind","Keyword","variable","localVariable","Variable","memberVariable","memberGetAccessor","memberSetAccessor","Field","function","memberFunction","constructSignature","callSignature","indexSignature","Function","enum","Enum","module","Module","class","Class","interface","Interface","warning","File","Property","SignatureHelpAdapter","signatureHelpTriggerCharacters","provideSignatureHelp","getSignatureHelpItems","ret","activeSignature","selectedItemIndex","activeParameter","argumentIndex","signatures","items","signature","parameters","prefixDisplayParts","a","parameter","separatorDisplayParts","suffixDisplayParts","QuickInfoAdapter","provideHover","getQuickInfoAtPosition","tags","tag","match","contents","textSpan","OccurrencesAdapter","provideDocumentHighlights","getOccurrencesAtPosition","isWriteAccess","DocumentHighlightKind","Write","Text","DefinitionAdapter","provideDefinition","getDefinitionAtPosition","entries_1","parse","fileName","ReferenceAdapter","provideReferences","context","getReferencesAtPosition","entries_2","OutlineAdapter","provideDocumentSymbols","getNavigationBarItems","convert","bucket","containerLabel","outlineTypeTable","SymbolKind","spans","selectionRange","containerName","childItems","child","unknown","script","type","localFunction","constructorImplementation","typeParameter","alias","const","let","Method","FormatHelper","_convertOptions","options","ConvertTabsToSpaces","insertSpaces","TabSize","tabSize","IndentSize","Smart","NewLineCharacter","InsertSpaceAfterCommaDelimiter","InsertSpaceAfterSemicolonInForStatements","InsertSpaceBeforeAndAfterBinaryOperators","InsertSpaceAfterKeywordsInControlFlowStatements","InsertSpaceAfterFunctionKeywordForAnonymousFunctions","InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis","InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets","InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces","PlaceOpenBraceOnNewLineForControlBlocks","PlaceOpenBraceOnNewLineForFunctions","_convertTextChanges","change","newText","FormatAdapter","provideDocumentRangeFormattingEdits","getFormattingEditsForRange","edits","edit","FormatOnTypeAdapter","provideOnTypeFormattingEdits","ch","getFormattingEditsAfterKeystroke","javaScriptWorker","typeScriptWorker","setupTypeScript","setupMode","setupJavaScript","getJavaScriptWorker","getTypeScriptWorker","first","more","registerCompletionItemProvider","languageFeatures","registerSignatureHelpProvider","registerHoverProvider","registerDocumentHighlightProvider","registerDefinitionProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerDocumentRangeFormattingEditProvider","registerOnTypeFormattingEditProvider","OVERLAY_ID","OldModule","bundle","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","window","reload","close","onclose","log","removeErrorOverlay","stack","overlay","createErrorOverlay","document","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","isArray","deps","cached","cache","some","cb"],"mappings":"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","file":"tsMode.18701e1c.js","sourceRoot":"../src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(modeId, defaults) {\n        var _this = this;\n        this._modeId = modeId;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n        this._updateExtraLibsToken = 0;\n        this._extraLibsChangeListener = this._defaults.onDidExtraLibsChange(function () { return _this._updateExtraLibs(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._extraLibsChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._updateExtraLibs = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var myToken, proxy;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._worker) {\n                            return [2 /*return*/];\n                        }\n                        myToken = ++this._updateExtraLibsToken;\n                        return [4 /*yield*/, this._worker.getProxy()];\n                    case 1:\n                        proxy = _a.sent();\n                        if (this._updateExtraLibsToken !== myToken) {\n                            // avoid multiple calls\n                            return [2 /*return*/];\n                        }\n                        proxy.updateExtraLibs(this._defaults.getExtraLibs());\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var maxIdleTime = this._defaults.getWorkerMaxIdleTime();\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (maxIdleTime > 0 && timePassedSinceLastUsed > maxIdleTime) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        var _this = this;\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = monaco.editor.createWebWorker({\n                // module that exports the create() method and returns a `TypeScriptWorker` instance\n                moduleId: 'vs/language/typescript/tsWorker',\n                label: this._modeId,\n                // passed in to the create() method\n                createData: {\n                    compilerOptions: this._defaults.getCompilerOptions(),\n                    extraLibs: this._defaults.getExtraLibs()\n                }\n            });\n            var p = this._worker.getProxy();\n            if (this._defaults.getEagerModelSync()) {\n                p = p.then(function (worker) {\n                    return _this._worker.withSyncedResources(monaco.editor.getModels()\n                        .filter(function (model) { return model.getModeId() === _this._modeId; })\n                        .map(function (model) { return model.uri; }));\n                });\n            }\n            this._client = p;\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient().then(function (client) {\n            _client = client;\n        }).then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        }).then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar Uri = monaco.Uri;\nvar Range = monaco.Range;\n//#region utils copied from typescript to prevent loading the entire typescriptServices ---\nvar IndentStyle;\n(function (IndentStyle) {\n    IndentStyle[IndentStyle[\"None\"] = 0] = \"None\";\n    IndentStyle[IndentStyle[\"Block\"] = 1] = \"Block\";\n    IndentStyle[IndentStyle[\"Smart\"] = 2] = \"Smart\";\n})(IndentStyle || (IndentStyle = {}));\nfunction flattenDiagnosticMessageText(messageText, newLine) {\n    if (typeof messageText === \"string\") {\n        return messageText;\n    }\n    else {\n        var diagnosticChain = messageText;\n        var result = \"\";\n        var indent = 0;\n        while (diagnosticChain) {\n            if (indent) {\n                result += newLine;\n                for (var i = 0; i < indent; i++) {\n                    result += \"  \";\n                }\n            }\n            result += diagnosticChain.messageText;\n            indent++;\n            diagnosticChain = diagnosticChain.next;\n        }\n        return result;\n    }\n}\nfunction displayPartsToString(displayParts) {\n    if (displayParts) {\n        return displayParts.map(function (displayPart) { return displayPart.text; }).join(\"\");\n    }\n    return \"\";\n}\n//#endregion\nvar Adapter = /** @class */ (function () {\n    function Adapter(_worker) {\n        this._worker = _worker;\n    }\n    Adapter.prototype._positionToOffset = function (uri, position) {\n        var model = monaco.editor.getModel(uri);\n        return model.getOffsetAt(position);\n    };\n    Adapter.prototype._offsetToPosition = function (uri, offset) {\n        var model = monaco.editor.getModel(uri);\n        return model.getPositionAt(offset);\n    };\n    Adapter.prototype._textSpanToRange = function (uri, span) {\n        var p1 = this._offsetToPosition(uri, span.start);\n        var p2 = this._offsetToPosition(uri, span.start + span.length);\n        var startLineNumber = p1.lineNumber, startColumn = p1.column;\n        var endLineNumber = p2.lineNumber, endColumn = p2.column;\n        return { startLineNumber: startLineNumber, startColumn: startColumn, endLineNumber: endLineNumber, endColumn: endColumn };\n    };\n    return Adapter;\n}());\nexport { Adapter };\n// --- diagnostics --- ---\nvar DiagnostcsAdapter = /** @class */ (function (_super) {\n    __extends(DiagnostcsAdapter, _super);\n    function DiagnostcsAdapter(_defaults, _selector, worker) {\n        var _this = _super.call(this, worker) || this;\n        _this._defaults = _defaults;\n        _this._selector = _selector;\n        _this._disposables = [];\n        _this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            if (model.getModeId() !== _selector) {\n                return;\n            }\n            var handle;\n            var changeSubscription = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = setTimeout(function () { return _this._doValidate(model.uri); }, 500);\n            });\n            _this._listener[model.uri.toString()] = {\n                dispose: function () {\n                    changeSubscription.dispose();\n                    clearTimeout(handle);\n                }\n            };\n            _this._doValidate(model.uri);\n        };\n        var onModelRemoved = function (model) {\n            monaco.editor.setModelMarkers(model, _this._selector, []);\n            var key = model.uri.toString();\n            if (_this._listener[key]) {\n                _this._listener[key].dispose();\n                delete _this._listener[key];\n            }\n        };\n        _this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\n        _this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\n        _this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        _this._disposables.push({\n            dispose: function () {\n                for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                    var model = _a[_i];\n                    onModelRemoved(model);\n                }\n            }\n        });\n        var recomputeDiagostics = function () {\n            // redo diagnostics when options change\n            for (var _i = 0, _a = monaco.editor.getModels(); _i < _a.length; _i++) {\n                var model = _a[_i];\n                onModelRemoved(model);\n                onModelAdd(model);\n            }\n        };\n        _this._disposables.push(_this._defaults.onDidChange(recomputeDiagostics));\n        _this._disposables.push(_this._defaults.onDidExtraLibsChange(recomputeDiagostics));\n        monaco.editor.getModels().forEach(onModelAdd);\n        return _this;\n    }\n    DiagnostcsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnostcsAdapter.prototype._doValidate = function (resource) {\n        var _this = this;\n        this._worker(resource).then(function (worker) {\n            if (!monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var promises = [];\n            var _a = _this._defaults.getDiagnosticsOptions(), noSyntaxValidation = _a.noSyntaxValidation, noSemanticValidation = _a.noSemanticValidation;\n            if (!noSyntaxValidation) {\n                promises.push(worker.getSyntacticDiagnostics(resource.toString()));\n            }\n            if (!noSemanticValidation) {\n                promises.push(worker.getSemanticDiagnostics(resource.toString()));\n            }\n            return Promise.all(promises);\n        }).then(function (diagnostics) {\n            if (!diagnostics || !monaco.editor.getModel(resource)) {\n                // model was disposed in the meantime\n                return null;\n            }\n            var markers = diagnostics\n                .reduce(function (p, c) { return c.concat(p); }, [])\n                .map(function (d) { return _this._convertDiagnostics(resource, d); });\n            monaco.editor.setModelMarkers(monaco.editor.getModel(resource), _this._selector, markers);\n        }).then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    DiagnostcsAdapter.prototype._convertDiagnostics = function (resource, diag) {\n        var _a = this._offsetToPosition(resource, diag.start), startLineNumber = _a.lineNumber, startColumn = _a.column;\n        var _b = this._offsetToPosition(resource, diag.start + diag.length), endLineNumber = _b.lineNumber, endColumn = _b.column;\n        return {\n            severity: monaco.MarkerSeverity.Error,\n            startLineNumber: startLineNumber,\n            startColumn: startColumn,\n            endLineNumber: endLineNumber,\n            endColumn: endColumn,\n            message: flattenDiagnosticMessageText(diag.messageText, '\\n')\n        };\n    };\n    return DiagnostcsAdapter;\n}(Adapter));\nexport { DiagnostcsAdapter };\nvar SuggestAdapter = /** @class */ (function (_super) {\n    __extends(SuggestAdapter, _super);\n    function SuggestAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(SuggestAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['.'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SuggestAdapter.prototype.provideCompletionItems = function (model, position, _context, token) {\n        var wordInfo = model.getWordUntilPosition(position);\n        var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n        var resource = model.uri;\n        var offset = this._positionToOffset(resource, position);\n        return this._worker(resource).then(function (worker) {\n            return worker.getCompletionsAtPosition(resource.toString(), offset);\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var suggestions = info.entries.map(function (entry) {\n                var range = wordRange;\n                if (entry.replacementSpan) {\n                    var p1 = model.getPositionAt(entry.replacementSpan.start);\n                    var p2 = model.getPositionAt(entry.replacementSpan.start + entry.replacementSpan.length);\n                    range = new Range(p1.lineNumber, p1.column, p2.lineNumber, p2.column);\n                }\n                return {\n                    uri: resource,\n                    position: position,\n                    range: range,\n                    label: entry.name,\n                    insertText: entry.name,\n                    sortText: entry.sortText,\n                    kind: SuggestAdapter.convertKind(entry.kind)\n                };\n            });\n            return {\n                suggestions: suggestions\n            };\n        });\n    };\n    SuggestAdapter.prototype.resolveCompletionItem = function (_model, _position, item, token) {\n        var _this = this;\n        var myItem = item;\n        var resource = myItem.uri;\n        var position = myItem.position;\n        return this._worker(resource).then(function (worker) {\n            return worker.getCompletionEntryDetails(resource.toString(), _this._positionToOffset(resource, position), myItem.label);\n        }).then(function (details) {\n            if (!details) {\n                return myItem;\n            }\n            return {\n                uri: resource,\n                position: position,\n                label: details.name,\n                kind: SuggestAdapter.convertKind(details.kind),\n                detail: displayPartsToString(details.displayParts),\n                documentation: {\n                    value: displayPartsToString(details.documentation)\n                }\n            };\n        });\n    };\n    SuggestAdapter.convertKind = function (kind) {\n        switch (kind) {\n            case Kind.primitiveType:\n            case Kind.keyword:\n                return monaco.languages.CompletionItemKind.Keyword;\n            case Kind.variable:\n            case Kind.localVariable:\n                return monaco.languages.CompletionItemKind.Variable;\n            case Kind.memberVariable:\n            case Kind.memberGetAccessor:\n            case Kind.memberSetAccessor:\n                return monaco.languages.CompletionItemKind.Field;\n            case Kind.function:\n            case Kind.memberFunction:\n            case Kind.constructSignature:\n            case Kind.callSignature:\n            case Kind.indexSignature:\n                return monaco.languages.CompletionItemKind.Function;\n            case Kind.enum:\n                return monaco.languages.CompletionItemKind.Enum;\n            case Kind.module:\n                return monaco.languages.CompletionItemKind.Module;\n            case Kind.class:\n                return monaco.languages.CompletionItemKind.Class;\n            case Kind.interface:\n                return monaco.languages.CompletionItemKind.Interface;\n            case Kind.warning:\n                return monaco.languages.CompletionItemKind.File;\n        }\n        return monaco.languages.CompletionItemKind.Property;\n    };\n    return SuggestAdapter;\n}(Adapter));\nexport { SuggestAdapter };\nvar SignatureHelpAdapter = /** @class */ (function (_super) {\n    __extends(SignatureHelpAdapter, _super);\n    function SignatureHelpAdapter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.signatureHelpTriggerCharacters = ['(', ','];\n        return _this;\n    }\n    SignatureHelpAdapter.prototype.provideSignatureHelp = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) { return worker.getSignatureHelpItems(resource.toString(), _this._positionToOffset(resource, position)); }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var ret = {\n                activeSignature: info.selectedItemIndex,\n                activeParameter: info.argumentIndex,\n                signatures: []\n            };\n            info.items.forEach(function (item) {\n                var signature = {\n                    label: '',\n                    documentation: null,\n                    parameters: []\n                };\n                signature.label += displayPartsToString(item.prefixDisplayParts);\n                item.parameters.forEach(function (p, i, a) {\n                    var label = displayPartsToString(p.displayParts);\n                    var parameter = {\n                        label: label,\n                        documentation: displayPartsToString(p.documentation)\n                    };\n                    signature.label += label;\n                    signature.parameters.push(parameter);\n                    if (i < a.length - 1) {\n                        signature.label += displayPartsToString(item.separatorDisplayParts);\n                    }\n                });\n                signature.label += displayPartsToString(item.suffixDisplayParts);\n                ret.signatures.push(signature);\n            });\n            return ret;\n        });\n    };\n    return SignatureHelpAdapter;\n}(Adapter));\nexport { SignatureHelpAdapter };\n// --- hover ------\nvar QuickInfoAdapter = /** @class */ (function (_super) {\n    __extends(QuickInfoAdapter, _super);\n    function QuickInfoAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    QuickInfoAdapter.prototype.provideHover = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getQuickInfoAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (info) {\n            if (!info) {\n                return;\n            }\n            var documentation = displayPartsToString(info.documentation);\n            var tags = info.tags ? info.tags.map(function (tag) {\n                var label = \"*@\" + tag.name + \"*\";\n                if (!tag.text) {\n                    return label;\n                }\n                return label + (tag.text.match(/\\r\\n|\\n/g) ? ' \\n' + tag.text : \" - \" + tag.text);\n            })\n                .join('  \\n\\n') : '';\n            var contents = displayPartsToString(info.displayParts);\n            return {\n                range: _this._textSpanToRange(resource, info.textSpan),\n                contents: [{\n                        value: '```js\\n' + contents + '\\n```\\n'\n                    }, {\n                        value: documentation + (tags ? '\\n\\n' + tags : '')\n                    }]\n            };\n        });\n    };\n    return QuickInfoAdapter;\n}(Adapter));\nexport { QuickInfoAdapter };\n// --- occurrences ------\nvar OccurrencesAdapter = /** @class */ (function (_super) {\n    __extends(OccurrencesAdapter, _super);\n    function OccurrencesAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OccurrencesAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getOccurrencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: _this._textSpanToRange(resource, entry.textSpan),\n                    kind: entry.isWriteAccess ? monaco.languages.DocumentHighlightKind.Write : monaco.languages.DocumentHighlightKind.Text\n                };\n            });\n        });\n    };\n    return OccurrencesAdapter;\n}(Adapter));\nexport { OccurrencesAdapter };\n// --- definition ------\nvar DefinitionAdapter = /** @class */ (function (_super) {\n    __extends(DefinitionAdapter, _super);\n    function DefinitionAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getDefinitionAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        });\n    };\n    return DefinitionAdapter;\n}(Adapter));\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function (_super) {\n    __extends(ReferenceAdapter, _super);\n    function ReferenceAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getReferencesAtPosition(resource.toString(), _this._positionToOffset(resource, position));\n        }).then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            var result = [];\n            for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n                var entry = entries_2[_i];\n                var uri = Uri.parse(entry.fileName);\n                if (monaco.editor.getModel(uri)) {\n                    result.push({\n                        uri: uri,\n                        range: _this._textSpanToRange(uri, entry.textSpan)\n                    });\n                }\n            }\n            return result;\n        });\n    };\n    return ReferenceAdapter;\n}(Adapter));\nexport { ReferenceAdapter };\n// --- outline ------\nvar OutlineAdapter = /** @class */ (function (_super) {\n    __extends(OutlineAdapter, _super);\n    function OutlineAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OutlineAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) { return worker.getNavigationBarItems(resource.toString()); }).then(function (items) {\n            if (!items) {\n                return;\n            }\n            var convert = function (bucket, item, containerLabel) {\n                var result = {\n                    name: item.text,\n                    detail: '',\n                    kind: (outlineTypeTable[item.kind] || monaco.languages.SymbolKind.Variable),\n                    range: _this._textSpanToRange(resource, item.spans[0]),\n                    selectionRange: _this._textSpanToRange(resource, item.spans[0]),\n                    containerName: containerLabel\n                };\n                if (item.childItems && item.childItems.length > 0) {\n                    for (var _i = 0, _a = item.childItems; _i < _a.length; _i++) {\n                        var child = _a[_i];\n                        convert(bucket, child, result.name);\n                    }\n                }\n                bucket.push(result);\n            };\n            var result = [];\n            items.forEach(function (item) { return convert(result, item); });\n            return result;\n        });\n    };\n    return OutlineAdapter;\n}(Adapter));\nexport { OutlineAdapter };\nvar Kind = /** @class */ (function () {\n    function Kind() {\n    }\n    Kind.unknown = '';\n    Kind.keyword = 'keyword';\n    Kind.script = 'script';\n    Kind.module = 'module';\n    Kind.class = 'class';\n    Kind.interface = 'interface';\n    Kind.type = 'type';\n    Kind.enum = 'enum';\n    Kind.variable = 'var';\n    Kind.localVariable = 'local var';\n    Kind.function = 'function';\n    Kind.localFunction = 'local function';\n    Kind.memberFunction = 'method';\n    Kind.memberGetAccessor = 'getter';\n    Kind.memberSetAccessor = 'setter';\n    Kind.memberVariable = 'property';\n    Kind.constructorImplementation = 'constructor';\n    Kind.callSignature = 'call';\n    Kind.indexSignature = 'index';\n    Kind.constructSignature = 'construct';\n    Kind.parameter = 'parameter';\n    Kind.typeParameter = 'type parameter';\n    Kind.primitiveType = 'primitive type';\n    Kind.label = 'label';\n    Kind.alias = 'alias';\n    Kind.const = 'const';\n    Kind.let = 'let';\n    Kind.warning = 'warning';\n    return Kind;\n}());\nexport { Kind };\nvar outlineTypeTable = Object.create(null);\noutlineTypeTable[Kind.module] = monaco.languages.SymbolKind.Module;\noutlineTypeTable[Kind.class] = monaco.languages.SymbolKind.Class;\noutlineTypeTable[Kind.enum] = monaco.languages.SymbolKind.Enum;\noutlineTypeTable[Kind.interface] = monaco.languages.SymbolKind.Interface;\noutlineTypeTable[Kind.memberFunction] = monaco.languages.SymbolKind.Method;\noutlineTypeTable[Kind.memberVariable] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberGetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.memberSetAccessor] = monaco.languages.SymbolKind.Property;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.const] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.localVariable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.variable] = monaco.languages.SymbolKind.Variable;\noutlineTypeTable[Kind.function] = monaco.languages.SymbolKind.Function;\noutlineTypeTable[Kind.localFunction] = monaco.languages.SymbolKind.Function;\n// --- formatting ----\nvar FormatHelper = /** @class */ (function (_super) {\n    __extends(FormatHelper, _super);\n    function FormatHelper() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatHelper._convertOptions = function (options) {\n        return {\n            ConvertTabsToSpaces: options.insertSpaces,\n            TabSize: options.tabSize,\n            IndentSize: options.tabSize,\n            IndentStyle: IndentStyle.Smart,\n            NewLineCharacter: '\\n',\n            InsertSpaceAfterCommaDelimiter: true,\n            InsertSpaceAfterSemicolonInForStatements: true,\n            InsertSpaceBeforeAndAfterBinaryOperators: true,\n            InsertSpaceAfterKeywordsInControlFlowStatements: true,\n            InsertSpaceAfterFunctionKeywordForAnonymousFunctions: true,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis: false,\n            InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets: false,\n            InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces: false,\n            PlaceOpenBraceOnNewLineForControlBlocks: false,\n            PlaceOpenBraceOnNewLineForFunctions: false\n        };\n    };\n    FormatHelper.prototype._convertTextChanges = function (uri, change) {\n        return {\n            text: change.newText,\n            range: this._textSpanToRange(uri, change.span)\n        };\n    };\n    return FormatHelper;\n}(Adapter));\nexport { FormatHelper };\nvar FormatAdapter = /** @class */ (function (_super) {\n    __extends(FormatAdapter, _super);\n    function FormatAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FormatAdapter.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsForRange(resource.toString(), _this._positionToOffset(resource, { lineNumber: range.startLineNumber, column: range.startColumn }), _this._positionToOffset(resource, { lineNumber: range.endLineNumber, column: range.endColumn }), FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        });\n    };\n    return FormatAdapter;\n}(FormatHelper));\nexport { FormatAdapter };\nvar FormatOnTypeAdapter = /** @class */ (function (_super) {\n    __extends(FormatOnTypeAdapter, _super);\n    function FormatOnTypeAdapter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(FormatOnTypeAdapter.prototype, \"autoFormatTriggerCharacters\", {\n        get: function () {\n            return [';', '}', '\\n'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FormatOnTypeAdapter.prototype.provideOnTypeFormattingEdits = function (model, position, ch, options, token) {\n        var _this = this;\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker.getFormattingEditsAfterKeystroke(resource.toString(), _this._positionToOffset(resource, position), ch, FormatHelper._convertOptions(options));\n        }).then(function (edits) {\n            if (edits) {\n                return edits.map(function (edit) { return _this._convertTextChanges(resource, edit); });\n            }\n        });\n    };\n    return FormatOnTypeAdapter;\n}(FormatHelper));\nexport { FormatOnTypeAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nvar javaScriptWorker;\nvar typeScriptWorker;\nexport function setupTypeScript(defaults) {\n    typeScriptWorker = setupMode(defaults, 'typescript');\n}\nexport function setupJavaScript(defaults) {\n    javaScriptWorker = setupMode(defaults, 'javascript');\n}\nexport function getJavaScriptWorker() {\n    return new Promise(function (resolve, reject) {\n        if (!javaScriptWorker) {\n            return reject(\"JavaScript not registered!\");\n        }\n        resolve(javaScriptWorker);\n    });\n}\nexport function getTypeScriptWorker() {\n    return new Promise(function (resolve, reject) {\n        if (!typeScriptWorker) {\n            return reject(\"TypeScript not registered!\");\n        }\n        resolve(typeScriptWorker);\n    });\n}\nfunction setupMode(defaults, modeId) {\n    var client = new WorkerManager(modeId, defaults);\n    var worker = function (first) {\n        var more = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            more[_i - 1] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\n    };\n    monaco.languages.registerCompletionItemProvider(modeId, new languageFeatures.SuggestAdapter(worker));\n    monaco.languages.registerSignatureHelpProvider(modeId, new languageFeatures.SignatureHelpAdapter(worker));\n    monaco.languages.registerHoverProvider(modeId, new languageFeatures.QuickInfoAdapter(worker));\n    monaco.languages.registerDocumentHighlightProvider(modeId, new languageFeatures.OccurrencesAdapter(worker));\n    monaco.languages.registerDefinitionProvider(modeId, new languageFeatures.DefinitionAdapter(worker));\n    monaco.languages.registerReferenceProvider(modeId, new languageFeatures.ReferenceAdapter(worker));\n    monaco.languages.registerDocumentSymbolProvider(modeId, new languageFeatures.OutlineAdapter(worker));\n    monaco.languages.registerDocumentRangeFormattingEditProvider(modeId, new languageFeatures.FormatAdapter(worker));\n    monaco.languages.registerOnTypeFormattingEditProvider(modeId, new languageFeatures.FormatOnTypeAdapter(worker));\n    new languageFeatures.DiagnostcsAdapter(defaults, modeId, worker);\n    return worker;\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}